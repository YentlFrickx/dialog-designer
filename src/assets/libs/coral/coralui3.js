!function(t){if(void 0!==t){const e=t.HTTP.getContextPath()+"/libs/clientlibs/granite/coralui3/resources/";document.currentScript.dataset.coralIcons=e,document.currentScript.dataset.coralIconsExternal="on",document.currentScript.dataset.coralLogging="off"}}(window.Granite);var Class,Exception,Coral=function(t){"use strict";Element.prototype.matches||(Element.prototype.matches=Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector),Element.prototype.closest||(Element.prototype.closest=function(t){var e=this;if(!document.documentElement.contains(e))return null;do{if(e.matches(t))return e;e=e.parentElement||e.parentNode}while(null!==e&&1==e.nodeType);return null}),Element.prototype.matches||(Element.prototype.matches=Element.prototype.msMatchesSelector),[Element.prototype,CharacterData.prototype,DocumentType.prototype].forEach((function(t){t.hasOwnProperty("remove")||Object.defineProperty(t,"remove",{configurable:!0,enumerable:!0,writable:!0,value:function(){this.parentNode&&this.parentNode.removeChild(this)}})})),function(){var t=document.createElement("_");if(t.classList.add("c1","c2"),!t.classList.contains("c2")){var e=function(t){var e=DOMTokenList.prototype[t];DOMTokenList.prototype[t]=function(t){var i,n=arguments.length;for(i=0;i<n;i++)t=arguments[i],e.call(this,t)}};e("add"),e("remove")}if(t.classList.toggle("c3",!1),t.classList.contains("c3")){var i=DOMTokenList.prototype.toggle;DOMTokenList.prototype.toggle=function(t,e){return 1 in arguments&&!this.contains(t)==!e?e:i.call(this,t)}}if(!("classList"in document.createElementNS("http://www.w3.org/2000/svg","g"))){var n=Object.getOwnPropertyDescriptor(HTMLElement.prototype,"classList");Object.defineProperty(SVGElement.prototype,"classList",n)}t=null}(),function(){if("function"==typeof window.CustomEvent)return!1;function t(t,e){e=e||{bubbles:!1,cancelable:!1,detail:void 0};var i=document.createEvent("CustomEvent");return i.initCustomEvent(t,e.bubbles,e.cancelable,e.detail),i}t.prototype=window.Event.prototype,window.CustomEvent=t}();var e=!1;try{var i=document.createElement("div");i.addEventListener("focus",(function(t){t.preventDefault(),t.stopPropagation()}),!0),i.focus(Object.defineProperty({},"preventScroll",{get:function(){e=!0}}))}catch(t){}if(void 0===HTMLElement.prototype.nativeFocus&&!e){HTMLElement.prototype.nativeFocus=HTMLElement.prototype.focus;HTMLElement.prototype.focus=function(t){var e=function t(e){var i=e instanceof HTMLElement&&window.getComputedStyle(e).overflowY;return e?"visible"!==i&&"hidden"!==i&&e.scrollHeight>=e.clientHeight?e:t(e.parentNode)||document.body:null}(this),i=e.scrollTop;this.nativeFocus(),t&&t.preventScroll&&setTimeout((function(){e.scrollTop=i}),0)}}function n(t){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function a(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function r(t,e,i){return e&&o(t.prototype,e),i&&o(t,i),t}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&c(t,e)}function l(t){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function c(t,e){return(c=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function u(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function h(t,e){return!e||"object"!=typeof e&&"function"!=typeof e?u(t):e}function d(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var i,n=l(t);if(e){var a=l(this).constructor;i=Reflect.construct(n,arguments,a)}else i=n.apply(this,arguments);return h(this,i)}}function p(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=l(t)););return t}function m(t,e,i){return(m="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,i){var n=p(t,e);if(n){var a=Object.getOwnPropertyDescriptor(n,e);return a.get?a.get.call(i):a.value}})(t,e,i||t)}function f(t,e,i,n){return(f="undefined"!=typeof Reflect&&Reflect.set?Reflect.set:function(t,e,i,n){var a,o=p(t,e);if(o){if((a=Object.getOwnPropertyDescriptor(o,e)).set)return a.set.call(n,i),!0;if(!a.writable)return!1}if(a=Object.getOwnPropertyDescriptor(n,e)){if(!a.writable)return!1;a.value=i,Object.defineProperty(n,e,a)}else!function(t,e,i){e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i}(n,e,i);return!0})(t,e,i,n)}function g(t,e,i,n,a){if(!f(t,e,i,n||t)&&a)throw new Error("failed to set property");return i}function v(t){return function(t){if(Array.isArray(t))return _(t)}(t)||function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"==typeof t)return _(t,e);var i=Object.prototype.toString.call(t).slice(8,-1);"Object"===i&&t.constructor&&(i=t.constructor.name);if("Map"===i||"Set"===i)return Array.from(t);if("Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return _(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _(t,e){(null==e||e>t.length)&&(e=t.length);for(var i=0,n=new Array(e);i<e;i++)n[i]=t[i];return n}var b="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function y(t,e){return t(e={exports:{}},e.exports),e.exports}var C=function(t){return t&&t.Math==Math&&t},A=C("object"==("undefined"==typeof globalThis?"undefined":n(globalThis))&&globalThis)||C("object"==("undefined"==typeof window?"undefined":n(window))&&window)||C("object"==("undefined"==typeof self?"undefined":n(self))&&self)||C("object"==n(b)&&b)||Function("return this")(),k=function(t){try{return!!t()}catch(t){return!0}},w=!k((function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]})),x={}.propertyIsEnumerable,T=Object.getOwnPropertyDescriptor,S={f:T&&!x.call({1:2},1)?function(t){var e=T(this,t);return!!e&&e.enumerable}:x},E=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}},I={}.toString,L=function(t){return I.call(t).slice(8,-1)},N="".split,M=k((function(){return!Object("z").propertyIsEnumerable(0)}))?function(t){return"String"==L(t)?N.call(t,""):Object(t)}:Object,O=function(t){if(null==t)throw TypeError("Can't call method on "+t);return t},D=function(t){return M(O(t))},F=function(t){return"object"===n(t)?null!==t:"function"==typeof t},P=function(t,e){if(!F(t))return t;var i,n;if(e&&"function"==typeof(i=t.toString)&&!F(n=i.call(t)))return n;if("function"==typeof(i=t.valueOf)&&!F(n=i.call(t)))return n;if(!e&&"function"==typeof(i=t.toString)&&!F(n=i.call(t)))return n;throw TypeError("Can't convert object to primitive value")},R={}.hasOwnProperty,H=function(t,e){return R.call(t,e)},U=A.document,B=F(U)&&F(U.createElement),z=function(t){return B?U.createElement(t):{}},q=!w&&!k((function(){return 7!=Object.defineProperty(z("div"),"a",{get:function(){return 7}}).a})),V=Object.getOwnPropertyDescriptor,$={f:w?V:function(t,e){if(t=D(t),e=P(e,!0),q)try{return V(t,e)}catch(t){}if(H(t,e))return E(!S.f.call(t,e),t[e])}},j=function(t){if(!F(t))throw TypeError(String(t)+" is not an object");return t},W=Object.defineProperty,K={f:w?W:function(t,e,i){if(j(t),e=P(e,!0),j(i),q)try{return W(t,e,i)}catch(t){}if("get"in i||"set"in i)throw TypeError("Accessors not supported");return"value"in i&&(t[e]=i.value),t}},G=w?function(t,e,i){return K.f(t,e,E(1,i))}:function(t,e,i){return t[e]=i,t},Z=function(t,e){try{G(A,t,e)}catch(i){A[t]=e}return e},X=A["__core-js_shared__"]||Z("__core-js_shared__",{}),Q=Function.toString;"function"!=typeof X.inspectSource&&(X.inspectSource=function(t){return Q.call(t)});var Y,J,tt,et=X.inspectSource,it=A.WeakMap,nt="function"==typeof it&&/native code/.test(et(it)),at=y((function(t){(t.exports=function(t,e){return X[t]||(X[t]=void 0!==e?e:{})})("versions",[]).push({version:"3.6.4",mode:"global",copyright:"Â© 2020 Denis Pushkarev (zloirock.ru)"})})),ot=0,rt=Math.random(),st=function(t){return"Symbol("+String(void 0===t?"":t)+")_"+(++ot+rt).toString(36)},lt=at("keys"),ct=function(t){return lt[t]||(lt[t]=st(t))},ut={},ht=A.WeakMap;if(nt){var dt=new ht,pt=dt.get,mt=dt.has,ft=dt.set;Y=function(t,e){return ft.call(dt,t,e),e},J=function(t){return pt.call(dt,t)||{}},tt=function(t){return mt.call(dt,t)}}else{var gt=ct("state");ut[gt]=!0,Y=function(t,e){return G(t,gt,e),e},J=function(t){return H(t,gt)?t[gt]:{}},tt=function(t){return H(t,gt)}}var vt={set:Y,get:J,has:tt,enforce:function(t){return tt(t)?J(t):Y(t,{})},getterFor:function(t){return function(e){var i;if(!F(e)||(i=J(e)).type!==t)throw TypeError("Incompatible receiver, "+t+" required");return i}}},_t=y((function(t){var e=vt.get,i=vt.enforce,n=String(String).split("String");(t.exports=function(t,e,a,o){var r=!!o&&!!o.unsafe,s=!!o&&!!o.enumerable,l=!!o&&!!o.noTargetGet;"function"==typeof a&&("string"!=typeof e||H(a,"name")||G(a,"name",e),i(a).source=n.join("string"==typeof e?e:"")),t!==A?(r?!l&&t[e]&&(s=!0):delete t[e],s?t[e]=a:G(t,e,a)):s?t[e]=a:Z(e,a)})(Function.prototype,"toString",(function(){return"function"==typeof this&&e(this).source||et(this)}))})),bt=A,yt=function(t){return"function"==typeof t?t:void 0},Ct=function(t,e){return arguments.length<2?yt(bt[t])||yt(A[t]):bt[t]&&bt[t][e]||A[t]&&A[t][e]},At=Math.ceil,kt=Math.floor,wt=function(t){return isNaN(t=+t)?0:(t>0?kt:At)(t)},xt=Math.min,Tt=function(t){return t>0?xt(wt(t),9007199254740991):0},St=Math.max,Et=Math.min,It=function(t){return function(e,i,n){var a,o=D(e),r=Tt(o.length),s=function(t,e){var i=wt(t);return i<0?St(i+e,0):Et(i,e)}(n,r);if(t&&i!=i){for(;r>s;)if((a=o[s++])!=a)return!0}else for(;r>s;s++)if((t||s in o)&&o[s]===i)return t||s||0;return!t&&-1}},Lt={includes:It(!0),indexOf:It(!1)}.indexOf,Nt=function(t,e){var i,n=D(t),a=0,o=[];for(i in n)!H(ut,i)&&H(n,i)&&o.push(i);for(;e.length>a;)H(n,i=e[a++])&&(~Lt(o,i)||o.push(i));return o},Mt=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"],Ot=Mt.concat("length","prototype"),Dt={f:Object.getOwnPropertyNames||function(t){return Nt(t,Ot)}},Ft={f:Object.getOwnPropertySymbols},Pt=Ct("Reflect","ownKeys")||function(t){var e=Dt.f(j(t)),i=Ft.f;return i?e.concat(i(t)):e},Rt=function(t,e){for(var i=Pt(e),n=K.f,a=$.f,o=0;o<i.length;o++){var r=i[o];H(t,r)||n(t,r,a(e,r))}},Ht=/#|\.prototype\./,Ut=function(t,e){var i=zt[Bt(t)];return i==Vt||i!=qt&&("function"==typeof e?k(e):!!e)},Bt=Ut.normalize=function(t){return String(t).replace(Ht,".").toLowerCase()},zt=Ut.data={},qt=Ut.NATIVE="N",Vt=Ut.POLYFILL="P",$t=Ut,jt=$.f,Wt=function(t,e){var i,a,o,r,s,l=t.target,c=t.global,u=t.stat;if(i=c?A:u?A[l]||Z(l,{}):(A[l]||{}).prototype)for(a in e){if(r=e[a],o=t.noTargetGet?(s=jt(i,a))&&s.value:i[a],!$t(c?a:l+(u?".":"#")+a,t.forced)&&void 0!==o){if(n(r)===n(o))continue;Rt(r,o)}(t.sham||o&&o.sham)&&G(r,"sham",!0),_t(i,a,r,t)}},Kt=function(t){if("function"!=typeof t)throw TypeError(String(t)+" is not a function");return t},Gt=Ct("Reflect","apply"),Zt=Function.apply,Xt=!k((function(){Gt((function(){}))}));Wt({target:"Reflect",stat:!0,forced:Xt},{apply:function(t,e,i){return Kt(t),j(i),Gt?Gt(t,e,i):Zt.call(t,e,i)}});var Qt,Yt=Object.keys||function(t){return Nt(t,Mt)},Jt=w?Object.defineProperties:function(t,e){j(t);for(var i,n=Yt(e),a=n.length,o=0;a>o;)K.f(t,i=n[o++],e[i]);return t},te=Ct("document","documentElement"),ee=ct("IE_PROTO"),ie=function(){},ne=function(t){return"<script>"+t+"<\/script>"},ae=function(){try{Qt=document.domain&&new ActiveXObject("htmlfile")}catch(t){}var t,e;ae=Qt?function(t){t.write(ne("")),t.close();var e=t.parentWindow.Object;return t=null,e}(Qt):((e=z("iframe")).style.display="none",te.appendChild(e),e.src=String("javascript:"),(t=e.contentWindow.document).open(),t.write(ne("document.F=Object")),t.close(),t.F);for(var i=Mt.length;i--;)delete ae.prototype[Mt[i]];return ae()};ut[ee]=!0;var oe=Object.create||function(t,e){var i;return null!==t?(ie.prototype=j(t),i=new ie,ie.prototype=null,i[ee]=t):i=ae(),void 0===e?i:Jt(i,e)},re=[].slice,se={},le=function(t,e,i){if(!(e in se)){for(var n=[],a=0;a<e;a++)n[a]="a["+a+"]";se[e]=Function("C,a","return new C("+n.join(",")+")")}return se[e](t,i)},ce=Function.bind||function(t){var e=Kt(this),i=re.call(arguments,1),n=function(){var a=i.concat(re.call(arguments));return this instanceof n?le(e,a.length,a):e.apply(t,a)};return F(e.prototype)&&(n.prototype=e.prototype),n},ue=Ct("Reflect","construct"),he=k((function(){function t(){}return!(ue((function(){}),[],t)instanceof t)})),de=!k((function(){ue((function(){}))})),pe=he||de;Wt({target:"Reflect",stat:!0,forced:pe,sham:pe},{construct:function(t,e){Kt(t),j(e);var i=arguments.length<3?t:Kt(arguments[2]);if(de&&!he)return ue(t,e,i);if(t==i){switch(e.length){case 0:return new t;case 1:return new t(e[0]);case 2:return new t(e[0],e[1]);case 3:return new t(e[0],e[1],e[2]);case 4:return new t(e[0],e[1],e[2],e[3])}var n=[null];return n.push.apply(n,e),new(ce.apply(t,n))}var a=i.prototype,o=oe(F(a)?a:Object.prototype),r=Function.apply.call(t,o,e);return F(r)?r:o}});var me=k((function(){Reflect.defineProperty(K.f({},1,{value:1}),1,{value:2})}));Wt({target:"Reflect",stat:!0,forced:me,sham:!w},{defineProperty:function(t,e,i){j(t);var n=P(e,!0);j(i);try{return K.f(t,n,i),!0}catch(t){return!1}}});var fe=$.f;Wt({target:"Reflect",stat:!0},{deleteProperty:function(t,e){var i=fe(j(t),e);return!(i&&!i.configurable)&&delete t[e]}});var ge=!k((function(){function t(){}return t.prototype.constructor=null,Object.getPrototypeOf(new t)!==t.prototype})),ve=ct("IE_PROTO"),_e=Object.prototype,be=ge?Object.getPrototypeOf:function(t){return t=Object(O(t)),H(t,ve)?t[ve]:"function"==typeof t.constructor&&t instanceof t.constructor?t.constructor.prototype:t instanceof Object?_e:null};Wt({target:"Reflect",stat:!0},{get:function t(e,i){var n,a,o=arguments.length<3?e:arguments[2];return j(e)===o?e[i]:(n=$.f(e,i))?H(n,"value")?n.value:void 0===n.get?void 0:n.get.call(o):F(a=be(e))?t(a,i,o):void 0}}),Wt({target:"Reflect",stat:!0,sham:!w},{getOwnPropertyDescriptor:function(t,e){return $.f(j(t),e)}}),Wt({target:"Reflect",stat:!0,sham:!ge},{getPrototypeOf:function(t){return be(j(t))}}),Wt({target:"Reflect",stat:!0},{has:function(t,e){return e in t}});var ye=Object.isExtensible;Wt({target:"Reflect",stat:!0},{isExtensible:function(t){return j(t),!ye||ye(t)}}),Wt({target:"Reflect",stat:!0},{ownKeys:Pt});var Ce=!k((function(){return Object.isExtensible(Object.preventExtensions({}))}));Wt({target:"Reflect",stat:!0,sham:!Ce},{preventExtensions:function(t){j(t);try{var e=Ct("Object","preventExtensions");return e&&e(t),!0}catch(t){return!1}}});var Ae=k((function(){var t=K.f({},"a",{configurable:!0});return!1!==Reflect.set(be(t),"a",1,t)}));Wt({target:"Reflect",stat:!0,forced:Ae},{set:function t(e,i,n){var a,o,r=arguments.length<4?e:arguments[3],s=$.f(j(e),i);if(!s){if(F(o=be(e)))return t(o,i,n,r);s=E(0)}if(H(s,"value")){if(!1===s.writable||!F(r))return!1;if(a=$.f(r,i)){if(a.get||a.set||!1===a.writable)return!1;a.value=n,K.f(r,i,a)}else K.f(r,i,E(0,n));return!0}return void 0!==s.set&&(s.set.call(r,n),!0)}});var ke=function(t){if(!F(t)&&null!==t)throw TypeError("Can't set "+String(t)+" as a prototype");return t},we=Object.setPrototypeOf||("__proto__"in{}?function(){var t,e=!1,i={};try{(t=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set).call(i,[]),e=i instanceof Array}catch(t){}return function(i,n){return j(i),ke(n),e?t.call(i,n):i.__proto__=n,i}}():void 0);we&&Wt({target:"Reflect",stat:!0},{setPrototypeOf:function(t,e){j(t),ke(e);try{return we(t,e),!0}catch(t){return!1}}});bt.Reflect;var xe=!!Object.getOwnPropertySymbols&&!k((function(){return!String(Symbol())})),Te=xe&&!Symbol.sham&&"symbol"==n(Symbol.iterator),Se=at("wks"),Ee=A.Symbol,Ie=Te?Ee:Ee&&Ee.withoutSetter||st,Le=function(t){return H(Se,t)||(xe&&H(Ee,t)?Se[t]=Ee[t]:Se[t]=Ie("Symbol."+t)),Se[t]},Ne={};Ne[Le("toStringTag")]="z";var Me="[object z]"===String(Ne),Oe=Le("toStringTag"),De="Arguments"==L(function(){return arguments}()),Fe=Me?L:function(t){var e,i,n;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(i=function(t,e){try{return t[e]}catch(t){}}(e=Object(t),Oe))?i:De?L(e):"Object"==(n=L(e))&&"function"==typeof e.callee?"Arguments":n},Pe=Me?{}.toString:function(){return"[object "+Fe(this)+"]"};Me||_t(Object.prototype,"toString",Pe,{unsafe:!0});var Re,He,Ue,Be=function(t){return function(e,i){var n,a,o=String(O(e)),r=wt(i),s=o.length;return r<0||r>=s?t?"":void 0:(n=o.charCodeAt(r))<55296||n>56319||r+1===s||(a=o.charCodeAt(r+1))<56320||a>57343?t?o.charAt(r):n:t?o.slice(r,r+2):a-56320+(n-55296<<10)+65536}},ze={codeAt:Be(!1),charAt:Be(!0)},qe=Le("iterator"),Ve=!1;[].keys&&("next"in(Ue=[].keys())?(He=be(be(Ue)))!==Object.prototype&&(Re=He):Ve=!0),null==Re&&(Re={}),H(Re,qe)||G(Re,qe,(function(){return this}));var $e={IteratorPrototype:Re,BUGGY_SAFARI_ITERATORS:Ve},je=K.f,We=Le("toStringTag"),Ke=function(t,e,i){t&&!H(t=i?t:t.prototype,We)&&je(t,We,{configurable:!0,value:e})},Ge={},Ze=$e.IteratorPrototype,Xe=function(){return this},Qe=$e.IteratorPrototype,Ye=$e.BUGGY_SAFARI_ITERATORS,Je=Le("iterator"),ti=function(){return this},ei=function(t,e,i,n,a,o,r){!function(t,e,i){var n=e+" Iterator";t.prototype=oe(Ze,{next:E(1,i)}),Ke(t,n,!1),Ge[n]=Xe}(i,e,n);var s,l,c,u=function(t){if(t===a&&f)return f;if(!Ye&&t in p)return p[t];switch(t){case"keys":case"values":case"entries":return function(){return new i(this,t)}}return function(){return new i(this)}},h=e+" Iterator",d=!1,p=t.prototype,m=p[Je]||p["@@iterator"]||a&&p[a],f=!Ye&&m||u(a),g="Array"==e&&p.entries||m;if(g&&(s=be(g.call(new t)),Qe!==Object.prototype&&s.next&&(be(s)!==Qe&&(we?we(s,Qe):"function"!=typeof s[Je]&&G(s,Je,ti)),Ke(s,h,!0))),"values"==a&&m&&"values"!==m.name&&(d=!0,f=function(){return m.call(this)}),p[Je]!==f&&G(p,Je,f),Ge[e]=f,a)if(l={values:u("values"),keys:o?f:u("keys"),entries:u("entries")},r)for(c in l)(Ye||d||!(c in p))&&_t(p,c,l[c]);else Wt({target:e,proto:!0,forced:Ye||d},l);return l},ii=ze.charAt,ni=vt.set,ai=vt.getterFor("String Iterator");ei(String,"String",(function(t){ni(this,{type:"String Iterator",string:String(t),index:0})}),(function(){var t,e=ai(this),i=e.string,n=e.index;return n>=i.length?{value:void 0,done:!0}:(t=ii(i,n),e.index+=t.length,{value:t,done:!1})}));var oi={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0},ri=Le("unscopables"),si=Array.prototype;null==si[ri]&&K.f(si,ri,{configurable:!0,value:oe(null)});var li=function(t){si[ri][t]=!0},ci=vt.set,ui=vt.getterFor("Array Iterator"),hi=ei(Array,"Array",(function(t,e){ci(this,{type:"Array Iterator",target:D(t),index:0,kind:e})}),(function(){var t=ui(this),e=t.target,i=t.kind,n=t.index++;return!e||n>=e.length?(t.target=void 0,{value:void 0,done:!0}):"keys"==i?{value:n,done:!1}:"values"==i?{value:e[n],done:!1}:{value:[n,e[n]],done:!1}}),"values");Ge.Arguments=Ge.Array,li("keys"),li("values"),li("entries");var di=Le("iterator"),pi=Le("toStringTag"),mi=hi.values;for(var fi in oi){var gi=A[fi],vi=gi&&gi.prototype;if(vi){if(vi[di]!==mi)try{G(vi,di,mi)}catch(t){vi[di]=mi}if(vi[pi]||G(vi,pi,fi),oi[fi])for(var _i in hi)if(vi[_i]!==hi[_i])try{G(vi,_i,hi[_i])}catch(t){vi[_i]=hi[_i]}}}var bi=A.Promise,yi=Le("species"),Ci=Le("iterator"),Ai=Array.prototype,ki=function(t,e,i){if(Kt(t),void 0===e)return t;switch(i){case 0:return function(){return t.call(e)};case 1:return function(i){return t.call(e,i)};case 2:return function(i,n){return t.call(e,i,n)};case 3:return function(i,n,a){return t.call(e,i,n,a)}}return function(){return t.apply(e,arguments)}},wi=Le("iterator"),xi=function(t,e,i,n){try{return n?e(j(i)[0],i[1]):e(i)}catch(e){var a=t.return;throw void 0!==a&&j(a.call(t)),e}},Ti=y((function(t){var e=function(t,e){this.stopped=t,this.result=e};(t.exports=function(t,i,a,o,r){var s,l,c,u,h,d,p,m,f=ki(i,a,o?2:1);if(r)s=t;else{if("function"!=typeof(l=function(t){if(null!=t)return t[wi]||t["@@iterator"]||Ge[Fe(t)]}(t)))throw TypeError("Target is not iterable");if(void 0!==(m=l)&&(Ge.Array===m||Ai[Ci]===m)){for(c=0,u=Tt(t.length);u>c;c++)if((h=o?f(j(p=t[c])[0],p[1]):f(t[c]))&&h instanceof e)return h;return new e(!1)}s=l.call(t)}for(d=s.next;!(p=d.call(s)).done;)if("object"==n(h=xi(s,f,p.value,o))&&h&&h instanceof e)return h;return new e(!1)}).stop=function(t){return new e(!0,t)}})),Si=Le("iterator"),Ei=!1;try{var Ii=0,Li={next:function(){return{done:!!Ii++}},return:function(){Ei=!0}};Li[Si]=function(){return this},Array.from(Li,(function(){throw 2}))}catch(t){}var Ni,Mi,Oi,Di=Le("species"),Fi=function(t,e){var i,n=j(t).constructor;return void 0===n||null==(i=j(n)[Di])?e:Kt(i)},Pi=Ct("navigator","userAgent")||"",Ri=/(iphone|ipod|ipad).*applewebkit/i.test(Pi),Hi=A.location,Ui=A.setImmediate,Bi=A.clearImmediate,zi=A.process,qi=A.MessageChannel,Vi=A.Dispatch,$i=0,ji={},Wi=function(t){if(ji.hasOwnProperty(t)){var e=ji[t];delete ji[t],e()}},Ki=function(t){return function(){Wi(t)}},Gi=function(t){Wi(t.data)},Zi=function(t){A.postMessage(t+"",Hi.protocol+"//"+Hi.host)};Ui&&Bi||(Ui=function(t){for(var e=[],i=1;arguments.length>i;)e.push(arguments[i++]);return ji[++$i]=function(){("function"==typeof t?t:Function(t)).apply(void 0,e)},Ni($i),$i},Bi=function(t){delete ji[t]},"process"==L(zi)?Ni=function(t){zi.nextTick(Ki(t))}:Vi&&Vi.now?Ni=function(t){Vi.now(Ki(t))}:qi&&!Ri?(Oi=(Mi=new qi).port2,Mi.port1.onmessage=Gi,Ni=ki(Oi.postMessage,Oi,1)):!A.addEventListener||"function"!=typeof postMessage||A.importScripts||k(Zi)?Ni="onreadystatechange"in z("script")?function(t){te.appendChild(z("script")).onreadystatechange=function(){te.removeChild(this),Wi(t)}}:function(t){setTimeout(Ki(t),0)}:(Ni=Zi,A.addEventListener("message",Gi,!1)));var Xi,Qi,Yi,Ji,tn,en,nn,an,on={set:Ui,clear:Bi},rn=$.f,sn=on.set,ln=A.MutationObserver||A.WebKitMutationObserver,cn=A.process,un=A.Promise,hn="process"==L(cn),dn=rn(A,"queueMicrotask"),pn=dn&&dn.value;pn||(Xi=function(){var t,e;for(hn&&(t=cn.domain)&&t.exit();Qi;){e=Qi.fn,Qi=Qi.next;try{e()}catch(t){throw Qi?Ji():Yi=void 0,t}}Yi=void 0,t&&t.enter()},hn?Ji=function(){cn.nextTick(Xi)}:ln&&!Ri?(tn=!0,en=document.createTextNode(""),new ln(Xi).observe(en,{characterData:!0}),Ji=function(){en.data=tn=!tn}):un&&un.resolve?(nn=un.resolve(void 0),an=nn.then,Ji=function(){an.call(nn,Xi)}):Ji=function(){sn.call(A,Xi)});var mn,fn,gn=pn||function(t){var e={fn:t,next:void 0};Yi&&(Yi.next=e),Qi||(Qi=e,Ji()),Yi=e},vn=function(t){var e,i;this.promise=new t((function(t,n){if(void 0!==e||void 0!==i)throw TypeError("Bad Promise constructor");e=t,i=n})),this.resolve=Kt(e),this.reject=Kt(i)},_n={f:function(t){return new vn(t)}},bn=function(t,e){if(j(t),F(e)&&e.constructor===t)return e;var i=_n.f(t);return(0,i.resolve)(e),i.promise},yn=function(t){try{return{error:!1,value:t()}}catch(t){return{error:!0,value:t}}},Cn=A.process,An=Cn&&Cn.versions,kn=An&&An.v8;kn?fn=(mn=kn.split("."))[0]+mn[1]:Pi&&(!(mn=Pi.match(/Edge\/(\d+)/))||mn[1]>=74)&&(mn=Pi.match(/Chrome\/(\d+)/))&&(fn=mn[1]);var wn,xn,Tn,Sn,En=fn&&+fn,In=on.set,Ln=Le("species"),Nn="Promise",Mn=vt.get,On=vt.set,Dn=vt.getterFor(Nn),Fn=bi,Pn=A.TypeError,Rn=A.document,Hn=A.process,Un=Ct("fetch"),Bn=_n.f,zn=Bn,qn="process"==L(Hn),Vn=!!(Rn&&Rn.createEvent&&A.dispatchEvent),$n=$t(Nn,(function(){if(!(et(Fn)!==String(Fn))){if(66===En)return!0;if(!qn&&"function"!=typeof PromiseRejectionEvent)return!0}if(En>=51&&/native code/.test(Fn))return!1;var t=Fn.resolve(1),e=function(t){t((function(){}),(function(){}))};return(t.constructor={})[Ln]=e,!(t.then((function(){}))instanceof e)})),jn=$n||!function(t,e){if(!e&&!Ei)return!1;var i=!1;try{var n={};n[Si]=function(){return{next:function(){return{done:i=!0}}}},t(n)}catch(t){}return i}((function(t){Fn.all(t).catch((function(){}))})),Wn=function(t){var e;return!(!F(t)||"function"!=typeof(e=t.then))&&e},Kn=function(t,e,i){if(!e.notified){e.notified=!0;var n=e.reactions;gn((function(){for(var a=e.value,o=1==e.state,r=0;n.length>r;){var s,l,c,u=n[r++],h=o?u.ok:u.fail,d=u.resolve,p=u.reject,m=u.domain;try{h?(o||(2===e.rejection&&Qn(t,e),e.rejection=1),!0===h?s=a:(m&&m.enter(),s=h(a),m&&(m.exit(),c=!0)),s===u.promise?p(Pn("Promise-chain cycle")):(l=Wn(s))?l.call(s,d,p):d(s)):p(a)}catch(t){m&&!c&&m.exit(),p(t)}}e.reactions=[],e.notified=!1,i&&!e.rejection&&Zn(t,e)}))}},Gn=function(t,e,i){var n,a;Vn?((n=Rn.createEvent("Event")).promise=e,n.reason=i,n.initEvent(t,!1,!0),A.dispatchEvent(n)):n={promise:e,reason:i},(a=A["on"+t])?a(n):"unhandledrejection"===t&&function(t,e){var i=A.console;i&&i.error&&(1===arguments.length?i.error(t):i.error(t,e))}("Unhandled promise rejection",i)},Zn=function(t,e){In.call(A,(function(){var i,n=e.value;if(Xn(e)&&(i=yn((function(){qn?Hn.emit("unhandledRejection",n,t):Gn("unhandledrejection",t,n)})),e.rejection=qn||Xn(e)?2:1,i.error))throw i.value}))},Xn=function(t){return 1!==t.rejection&&!t.parent},Qn=function(t,e){In.call(A,(function(){qn?Hn.emit("rejectionHandled",t):Gn("rejectionhandled",t,e.value)}))},Yn=function(t,e,i,n){return function(a){t(e,i,a,n)}},Jn=function(t,e,i,n){e.done||(e.done=!0,n&&(e=n),e.value=i,e.state=2,Kn(t,e,!0))},ta=function t(e,i,n,a){if(!i.done){i.done=!0,a&&(i=a);try{if(e===n)throw Pn("Promise can't be resolved itself");var o=Wn(n);o?gn((function(){var a={done:!1};try{o.call(n,Yn(t,e,a,i),Yn(Jn,e,a,i))}catch(t){Jn(e,a,t,i)}})):(i.value=n,i.state=1,Kn(e,i,!1))}catch(t){Jn(e,{done:!1},t,i)}}};$n&&(Fn=function(t){!function(t,e,i){if(!(t instanceof e))throw TypeError("Incorrect "+(i?i+" ":"")+"invocation")}(this,Fn,Nn),Kt(t),wn.call(this);var e=Mn(this);try{t(Yn(ta,this,e),Yn(Jn,this,e))}catch(t){Jn(this,e,t)}},(wn=function(t){On(this,{type:Nn,done:!1,notified:!1,parent:!1,reactions:[],rejection:!1,state:0,value:void 0})}).prototype=function(t,e,i){for(var n in e)_t(t,n,e[n],i);return t}(Fn.prototype,{then:function(t,e){var i=Dn(this),n=Bn(Fi(this,Fn));return n.ok="function"!=typeof t||t,n.fail="function"==typeof e&&e,n.domain=qn?Hn.domain:void 0,i.parent=!0,i.reactions.push(n),0!=i.state&&Kn(this,i,!1),n.promise},catch:function(t){return this.then(void 0,t)}}),xn=function(){var t=new wn,e=Mn(t);this.promise=t,this.resolve=Yn(ta,t,e),this.reject=Yn(Jn,t,e)},_n.f=Bn=function(t){return t===Fn||t===Tn?new xn(t):zn(t)},"function"==typeof bi&&(Sn=bi.prototype.then,_t(bi.prototype,"then",(function(t,e){var i=this;return new Fn((function(t,e){Sn.call(i,t,e)})).then(t,e)}),{unsafe:!0}),"function"==typeof Un&&Wt({global:!0,enumerable:!0,forced:!0},{fetch:function(t){return bn(Fn,Un.apply(A,arguments))}}))),Wt({global:!0,wrap:!0,forced:$n},{Promise:Fn}),Ke(Fn,Nn,!1),function(t){var e=Ct(t),i=K.f;w&&e&&!e[yi]&&i(e,yi,{configurable:!0,get:function(){return this}})}(Nn),Tn=Ct(Nn),Wt({target:Nn,stat:!0,forced:$n},{reject:function(t){var e=Bn(this);return e.reject.call(void 0,t),e.promise}}),Wt({target:Nn,stat:!0,forced:$n},{resolve:function(t){return bn(this,t)}}),Wt({target:Nn,stat:!0,forced:jn},{all:function(t){var e=this,i=Bn(e),n=i.resolve,a=i.reject,o=yn((function(){var i=Kt(e.resolve),o=[],r=0,s=1;Ti(t,(function(t){var l=r++,c=!1;o.push(void 0),s++,i.call(e,t).then((function(t){c||(c=!0,o[l]=t,--s||n(o))}),a)})),--s||n(o)}));return o.error&&a(o.value),i.promise},race:function(t){var e=this,i=Bn(e),n=i.reject,a=yn((function(){var a=Kt(e.resolve);Ti(t,(function(t){a.call(e,t).then(i.resolve,n)}))}));return a.error&&n(a.value),i.promise}}),Wt({target:"Promise",stat:!0},{allSettled:function(t){var e=this,i=_n.f(e),n=i.resolve,a=i.reject,o=yn((function(){var i=Kt(e.resolve),a=[],o=0,r=1;Ti(t,(function(t){var s=o++,l=!1;a.push(void 0),r++,i.call(e,t).then((function(t){l||(l=!0,a[s]={status:"fulfilled",value:t},--r||n(a))}),(function(t){l||(l=!0,a[s]={status:"rejected",reason:t},--r||n(a))}))})),--r||n(a)}));return o.error&&a(o.value),i.promise}});var ea=!!bi&&k((function(){bi.prototype.finally.call({then:function(){}},(function(){}))}));Wt({target:"Promise",proto:!0,real:!0,forced:ea},{finally:function(t){var e=Fi(this,Ct("Promise")),i="function"==typeof t;return this.then(i?function(i){return bn(e,t()).then((function(){return i}))}:t,i?function(i){return bn(e,t()).then((function(){throw i}))}:t)}}),"function"!=typeof bi||bi.prototype.finally||_t(bi.prototype,"finally",Ct("Promise").prototype.finally);bt.Promise;!function(t){if(t){var e=["Tab","ArrowUp","ArrowRight","ArrowDown","ArrowLeft","Home","End","PageUp","PageDown","Enter"," ","Escape","Up","Right","Down","Left","Esc"],i=["text","date","datetime-local","email","month","number","password","search","tel","time","url","week"],n=!1,a=t.getElementsByClassName("focus-ring");t.addEventListener("keydown",(function(a){a.ctrlKey||a.altKey||a.metaKey||-1===e.indexOf(a.key)||(n=!0,!t.activeElement||t.activeElement===t.body||"TEXTAREA"===t.activeElement.tagName||"INPUT"===t.activeElement.tagName&&-1!==i.indexOf(t.activeElement.type)||t.activeElement.classList.add("focus-ring"))}),!0),t.addEventListener("mousedown",(function(){n=!1;for(var t=0;t<a.length;t++)a[t].classList.remove("focus-ring")}),!0),t.addEventListener("focus",(function(t){var e=t.target.classList;e&&n&&e.add("focus-ring")}),!0),t.addEventListener("blur",(function(t){var e=t.target.classList;e&&e.remove("focus-ring")}),!0)}}("undefined"==typeof window?void 0:document),window.customElements&&(window.customElements.forcePolyfill=!0),function(){var t=new function(){},e=new Set("annotation-xml color-profile font-face font-face-src font-face-uri font-face-format font-face-name missing-glyph".split(" "));function i(t){var i=e.has(t);return t=/^[a-z][.0-9_a-z]*-[\-.0-9_a-z]*$/.test(t),!i&&t}function n(t){var e=t.isConnected;if(void 0!==e)return e;for(;t&&!(t.__CE_isImportDocument||t instanceof Document);)t=t.parentNode||(window.ShadowRoot&&t instanceof ShadowRoot?t.host:void 0);return!(!t||!(t.__CE_isImportDocument||t instanceof Document))}function a(t,e){for(;e&&e!==t&&!e.nextSibling;)e=e.parentNode;return e&&e!==t?e.nextSibling:null}function o(t,e,i){i=i||new Set;for(var n=t;n;){if(n.nodeType===Node.ELEMENT_NODE){var r=n;e(r);var s=r.localName;if("link"===s&&"import"===r.getAttribute("rel")){if((n=r.import)instanceof Node&&!i.has(n))for(i.add(n),n=n.firstChild;n;n=n.nextSibling)o(n,e,i);n=a(t,r);continue}if("template"===s){n=a(t,r);continue}if(r=r.__CE_shadowRoot)for(r=r.firstChild;r;r=r.nextSibling)o(r,e,i)}n=n.firstChild?n.firstChild:a(t,n)}}function r(t,e,i){t[e]=i}function s(){this.a=new Map,this.f=new Map,this.m=[],this.b=!1}function l(t,e){t.b=!0,t.m.push(e)}function c(t,e){t.b&&o(e,(function(e){return u(t,e)}))}function u(t,e){if(t.b&&!e.__CE_patched){e.__CE_patched=!0;for(var i=0;i<t.m.length;i++)t.m[i](e)}}function h(t,e){var i=[];for(o(e,(function(t){return i.push(t)})),e=0;e<i.length;e++){var n=i[e];1===n.__CE_state?t.connectedCallback(n):m(t,n)}}function d(t,e){var i=[];for(o(e,(function(t){return i.push(t)})),e=0;e<i.length;e++){var n=i[e];1===n.__CE_state&&t.disconnectedCallback(n)}}function p(t,e,i){i=i||new Set;var n=[];if(o(e,(function(e){var a;"link"===e.localName&&"import"===e.getAttribute("rel")?(a=e.import)instanceof Node&&"complete"===a.readyState?(a.__CE_isImportDocument=!0,a.__CE_hasRegistry=!0):e.addEventListener("load",(function(){var n=e.import;n.__CE_documentLoadHandled||(n.__CE_documentLoadHandled=!0,n.__CE_isImportDocument=!0,n.__CE_hasRegistry=!0,i.delete(n),p(t,n,i))})):((a=e.getAttribute("is"))&&(e.__CE_is=a),n.push(e))}),i),t.b)for(e=0;e<n.length;e++)u(t,n[e]);for(e=0;e<n.length;e++)m(t,n[e])}function m(t,e){if(void 0===e.__CE_state){var i=t.a.get(e.__CE_is||e.localName);if(i=i&&i.localName===e.localName?i:null){i.constructionStack.push(e);var a=i.constructor;try{try{if(new a!==e)throw Error("The custom element constructor did not produce the element being upgraded.")}finally{i.constructionStack.pop()}}catch(t){throw e.__CE_state=2,t}if(e.__CE_state=1,e.__CE_definition=i,i.attributeChangedCallback)for(i=i.observedAttributes,a=0;a<i.length;a++){var o=i[a],r=e.getAttribute(o);null!==r&&t.attributeChangedCallback(e,o,null,r,null)}n(e)&&t.connectedCallback(e)}}}function f(t,e){this.c=t,this.a=e,this.b=void 0,p(this.c,this.a),"loading"===this.a.readyState&&(this.b=new MutationObserver(this.f.bind(this)),this.b.observe(this.a,{childList:!0,subtree:!0}))}function g(t){t.b&&t.b.disconnect()}function v(){var t=this;this.b=this.a=void 0,this.f=new Promise((function(e){t.b=e,t.a&&e(t.a)}))}function _(t){if(t.a)throw Error("Already resolved.");t.a=void 0,t.b&&t.b(void 0)}function b(t){this.i=!1,this.c=t,this.l=new Map,this.j=function(t){return t()},this.g=!1,this.h=[],this.s=new f(t,document)}s.prototype.connectedCallback=function(t){var e=t.__CE_definition;e.connectedCallback&&e.connectedCallback.call(t)},s.prototype.disconnectedCallback=function(t){var e=t.__CE_definition;e.disconnectedCallback&&e.disconnectedCallback.call(t)},s.prototype.attributeChangedCallback=function(t,e,i,n,a){var o=t.__CE_definition;o.attributeChangedCallback&&-1<o.observedAttributes.indexOf(e)&&o.attributeChangedCallback.call(t,e,i,n,a)},f.prototype.f=function(t){var e=this.a.readyState;for("interactive"!==e&&"complete"!==e||g(this),e=0;e<t.length;e++)for(var i=t[e].addedNodes,n=0;n<i.length;n++)p(this.c,i[n])},b.prototype.define=function(t,e,n){var a=this;if(!(e instanceof Function))throw new TypeError("Custom element constructors must be functions.");if(!i(t))throw new SyntaxError("The element name '"+t+"' is not valid.");if(this.c.a.get(t))throw Error("A custom element with name '"+t+"' has already been defined.");var o,r,s,l,c,u=t;if(n&&n.extends){if(!this.enableCustomizedBuiltins)throw Error("Customized builtin elements are disabled by default. Set customElements.enableCustomizedBuiltins = true.");if(i(n.extends))throw Error("A customized builtin element may not extend a custom element.");if(document.createElement(n.extends)instanceof window.HTMLUnknownElement)throw Error("Cannot extend '"+n.extends+"': is not a real HTML element");u=n.extends}if(this.i)throw Error("A custom element is already being defined.");this.i=!0;try{n=function(t){var e=h[t];if(void 0!==e&&!(e instanceof Function))throw Error("The '"+t+"' callback must be a function.");return e};var h=e.prototype;if(!(h instanceof Object))throw new TypeError("The custom element constructor's prototype is not an object.");o=n("connectedCallback"),r=n("disconnectedCallback"),s=n("adoptedCallback"),l=n("attributeChangedCallback"),c=e.observedAttributes||[]}catch(t){return}finally{this.i=!1}!function(t,e,i){t.a.set(e,i),t.f.set(i.constructor,i)}(this.c,t,{name:t,localName:u,constructor:e,connectedCallback:o,disconnectedCallback:r,adoptedCallback:s,attributeChangedCallback:l,observedAttributes:c,constructionStack:[]}),this.h.push(t),this.g||(this.g=!0,this.j((function(){if(!1!==a.g)for(a.g=!1,p(a.c,document);0<a.h.length;){var t=a.h.shift();(t=a.l.get(t))&&_(t)}})))},b.prototype.get=function(t){if(t=this.c.a.get(t))return t.constructor},b.prototype.upgradeElement=function(t){m(this.c,t)},b.prototype.whenDefined=function(t){if(!i(t))return Promise.reject(new SyntaxError("'"+t+"' is not a valid custom element name."));var e=this.l.get(t);return e||(e=new v,this.l.set(t,e),this.c.a.get(t)&&-1===this.h.indexOf(t)&&_(e)),e.f},b.prototype.u=function(t){g(this.s);var e=this.j;this.j=function(i){return t((function(){return e(i)}))}},window.CustomElementRegistry=b,b.prototype.define=b.prototype.define,b.prototype.get=b.prototype.get,b.prototype.whenDefined=b.prototype.whenDefined,b.prototype.upgrade=b.prototype.upgradeElement,b.prototype.polyfillWrapFlushCallback=b.prototype.u;var y=window.Document.prototype.createElement,C=window.Document.prototype.createElementNS,A=window.Document.prototype.importNode,k=window.Document.prototype.prepend,w=window.Document.prototype.append,x=window.Node.prototype.cloneNode,T=window.Node.prototype.appendChild,S=window.Node.prototype.insertBefore,E=window.Node.prototype.removeChild,I=window.Node.prototype.replaceChild,L=Object.getOwnPropertyDescriptor(window.Node.prototype,"textContent"),N=window.Element.prototype.attachShadow,M=Object.getOwnPropertyDescriptor(window.Element.prototype,"innerHTML"),O=window.Element.prototype.getAttribute,D=window.Element.prototype.setAttribute,F=window.Element.prototype.removeAttribute,P=window.Element.prototype.getAttributeNS,R=window.Element.prototype.setAttributeNS,H=window.Element.prototype.removeAttributeNS,U=window.Element.prototype.insertAdjacentElement,B=window.Element.prototype.prepend,z=window.Element.prototype.append,q=window.Element.prototype.before,V=window.Element.prototype.after,$=window.Element.prototype.replaceWith,j=window.Element.prototype.remove,W=window.HTMLElement,K=Object.getOwnPropertyDescriptor(window.HTMLElement.prototype,"innerHTML"),G=window.HTMLElement.prototype.insertAdjacentElement,Z={Button:window.HTMLButtonElement,Canvas:window.HTMLCanvasElement,Data:window.HTMLDataElement,Head:window.HTMLHeadElement,Mod:window.HTMLModElement,TableCell:window.HTMLTableCellElement,TableCol:window.HTMLTableColElement,Anchor:window.HTMLAnchorElement,Area:window.HTMLAreaElement,Base:window.HTMLBaseElement,Body:window.HTMLBodyElement,BR:window.HTMLBRElement,DataList:window.HTMLDataListElement,Details:window.HTMLDetailsElement,Dialog:window.HTMLDialogElement,Div:window.HTMLDivElement,DList:window.HTMLDListElement,Embed:window.HTMLEmbedElement,FieldSet:window.HTMLFieldSetElement,Form:window.HTMLFormElement,Heading:window.HTMLHeadingElement,HR:window.HTMLHRElement,Html:window.HTMLHtmlElement,IFrame:window.HTMLIFrameElement,Image:window.HTMLImageElement,Input:window.HTMLInputElement,Keygen:window.HTMLKeygenElement,Label:window.HTMLLabelElement,Legend:window.HTMLLegendElement,LI:window.HTMLLIElement,Link:window.HTMLLinkElement,Map:window.HTMLMapElement,Media:window.HTMLMediaElement,Menu:window.HTMLMenuElement,MenuItem:window.HTMLMenuItemElement,Meta:window.HTMLMetaElement,Meter:window.HTMLMeterElement,Object:window.HTMLObjectElement,OList:window.HTMLOListElement,OptGroup:window.HTMLOptGroupElement,Option:window.HTMLOptionElement,Output:window.HTMLOutputElement,Paragraph:window.HTMLParagraphElement,Param:window.HTMLParamElement,Picture:window.HTMLPictureElement,Pre:window.HTMLPreElement,Progress:window.HTMLProgressElement,Quote:window.HTMLQuoteElement,Script:window.HTMLScriptElement,Select:window.HTMLSelectElement,Slot:window.HTMLSlotElement,Source:window.HTMLSourceElement,Span:window.HTMLSpanElement,Style:window.HTMLStyleElement,TableCaption:window.HTMLTableCaptionElement,Table:window.HTMLTableElement,TableRow:window.HTMLTableRowElement,TableSection:window.HTMLTableSectionElement,Template:window.HTMLTemplateElement,TextArea:window.HTMLTextAreaElement,Time:window.HTMLTimeElement,Title:window.HTMLTitleElement,Track:window.HTMLTrackElement,UList:window.HTMLUListElement,Unknown:window.HTMLUnknownElement};function X(t,e,i){e.prepend=function(e){for(var a=[],o=0;o<arguments.length;++o)a[o-0]=arguments[o];o=a.filter((function(t){return t instanceof Node&&n(t)})),i.o.apply(this,a);for(var r=0;r<o.length;r++)d(t,o[r]);if(n(this))for(o=0;o<a.length;o++)(r=a[o])instanceof Element&&h(t,r)},e.append=function(e){for(var a=[],o=0;o<arguments.length;++o)a[o-0]=arguments[o];o=a.filter((function(t){return t instanceof Node&&n(t)})),i.append.apply(this,a);for(var r=0;r<o.length;r++)d(t,o[r]);if(n(this))for(o=0;o<a.length;o++)(r=a[o])instanceof Element&&h(t,r)}}var Q,Y=window.customElements;if(!Y||Y.forcePolyfill||"function"!=typeof Y.define||"function"!=typeof Y.get){var J=new s;Q=J,window.HTMLElement=function(){function e(){var e=this.constructor;if(!(n=Q.f.get(e)))throw Error("The custom element being constructed was not registered with `customElements`.");var i=n.constructionStack;if(!i.length)return i=y.call(document,n.localName),Object.setPrototypeOf(i,e.prototype),i.__CE_state=1,i.__CE_definition=n,u(Q,i),i;var n,a=i[n=i.length-1];if(a===t)throw Error("The HTMLElement constructor was either called reentrantly for this constructor or called multiple times.");return i[n]=t,Object.setPrototypeOf(a,e.prototype),u(Q,a),a}return e.prototype=W.prototype,e}(),function(){var e=J;function i(i,n){n&&(window[i]=function(){function a(){var n=this.constructor;if(!(o=e.f.get(n)))throw Error("The custom element being constructed was not registered with `customElements`.");var a=o.constructionStack;if(!a.length)return(a=y.call(document,o.localName)).setAttribute("is",o.name),Object.setPrototypeOf(a,n.prototype),a.__CE_state=1,a.__CE_definition=o,u(e,a),a;var o,r=a[o=a.length-1];if(r===t)throw Error("The "+i+" constructor was either called reentrantly for this constructor or called multiple times.");return a[o]=t,Object.setPrototypeOf(r,n.prototype),u(e,r),r}return a.prototype=n.prototype,a}())}for(var n in Z)i("HTML"+n+"Element",Z[n])}(),function(){var t=J;r(Document.prototype,"createElement",(function(e,i){if(this.__CE_hasRegistry){var n=t.a.get(i&&i.is?i.is:e);if(n)return new n.constructor}return e=y.call(this,e),i&&i.is&&(e.__CE_is=i.is,e.setAttribute("is",i.is)),u(t,e),e})),r(Document.prototype,"importNode",(function(e,i){return e=A.call(this,e,i),this.__CE_hasRegistry?p(t,e):c(t,e),e})),r(Document.prototype,"createElementNS",(function(e,i,n){if(this.__CE_hasRegistry&&(null===e||"http://www.w3.org/1999/xhtml"===e)){var a=t.a.get(n&&n.is?n.is:i);if(a)return new a.constructor}return e=C.call(this,e,i),n&&n.is&&(e.__CE_is=n.is,e.setAttribute("is",n.is)),u(t,e),e})),X(t,Document.prototype,{o:k,append:w})}(),function(){var t=J;function e(e,i){Object.defineProperty(e,"textContent",{enumerable:i.enumerable,configurable:!0,get:i.get,set:function(e){if(this.nodeType===Node.TEXT_NODE)i.set.call(this,e);else{var a=void 0;if(this.firstChild){var o=this.childNodes,r=o.length;if(0<r&&n(this)){a=Array(r);for(var s=0;s<r;s++)a[s]=o[s]}}if(i.set.call(this,e),a)for(e=0;e<a.length;e++)d(t,a[e])}}})}r(Node.prototype,"insertBefore",(function(e,i){if(e instanceof DocumentFragment){var a=Array.prototype.slice.apply(e.childNodes);if(e=S.call(this,e,i),n(this))for(i=0;i<a.length;i++)h(t,a[i]);return e}return a=n(e),i=S.call(this,e,i),a&&d(t,e),n(this)&&h(t,e),i})),r(Node.prototype,"appendChild",(function(e){if(e instanceof DocumentFragment){var i=Array.prototype.slice.apply(e.childNodes);if(e=T.call(this,e),n(this))for(var a=0;a<i.length;a++)h(t,i[a]);return e}return i=n(e),a=T.call(this,e),i&&d(t,e),n(this)&&h(t,e),a})),r(Node.prototype,"cloneNode",(function(e){return e=x.call(this,e),this.ownerDocument.__CE_hasRegistry?p(t,e):c(t,e),e})),r(Node.prototype,"removeChild",(function(e){var i=n(e),a=E.call(this,e);return i&&d(t,e),a})),r(Node.prototype,"replaceChild",(function(e,i){if(e instanceof DocumentFragment){var a=Array.prototype.slice.apply(e.childNodes);if(e=I.call(this,e,i),n(this))for(d(t,i),i=0;i<a.length;i++)h(t,a[i]);return e}a=n(e);var o=I.call(this,e,i),r=n(this);return r&&d(t,i),a&&d(t,e),r&&h(t,e),o})),L&&L.get?e(Node.prototype,L):l(t,(function(t){e(t,{enumerable:!0,configurable:!0,get:function(){for(var t=[],e=0;e<this.childNodes.length;e++)t.push(this.childNodes[e].textContent);return t.join("")},set:function(t){for(;this.firstChild;)E.call(this,this.firstChild);T.call(this,document.createTextNode(t))}})}))}(),function(){var t=J;function e(e,i){Object.defineProperty(e,"innerHTML",{enumerable:i.enumerable,configurable:!0,get:i.get,set:function(e){var a=this,r=void 0;if(n(this)&&(r=[],o(this,(function(t){t!==a&&r.push(t)}))),i.set.call(this,e),r)for(var s=0;s<r.length;s++){var l=r[s];1===l.__CE_state&&t.disconnectedCallback(l)}return this.ownerDocument.__CE_hasRegistry?p(t,this):c(t,this),e}})}function i(e,i){r(e,"insertAdjacentElement",(function(e,a){var o=n(a);return e=i.call(this,e,a),o&&d(t,a),n(e)&&h(t,a),e}))}if(N?r(Element.prototype,"attachShadow",(function(t){return this.__CE_shadowRoot=N.call(this,t)})):console.warn("Custom Elements: `Element#attachShadow` was not patched."),M&&M.get)e(Element.prototype,M);else if(K&&K.get)e(HTMLElement.prototype,K);else{var a=y.call(document,"div");l(t,(function(t){e(t,{enumerable:!0,configurable:!0,get:function(){return x.call(this,!0).innerHTML},set:function(t){var e="template"===this.localName?this.content:this;for(a.innerHTML=t;0<e.childNodes.length;)E.call(e,e.childNodes[0]);for(;0<a.childNodes.length;)T.call(e,a.childNodes[0])}})}))}r(Element.prototype,"setAttribute",(function(e,i){if(1!==this.__CE_state)return D.call(this,e,i);var n=O.call(this,e);D.call(this,e,i),i=O.call(this,e),t.attributeChangedCallback(this,e.toLowerCase(),n,i,null)})),r(Element.prototype,"setAttributeNS",(function(e,i,n){if(1!==this.__CE_state)return R.call(this,e,i,n);var a=P.call(this,e,i);R.call(this,e,i,n),n=P.call(this,e,i),t.attributeChangedCallback(this,i,a,n,e)})),r(Element.prototype,"removeAttribute",(function(e){if(1!==this.__CE_state)return F.call(this,e);var i=O.call(this,e);F.call(this,e),null!==i&&t.attributeChangedCallback(this,e.toLowerCase(),i,null,null)})),r(Element.prototype,"removeAttributeNS",(function(e,i){if(1!==this.__CE_state)return H.call(this,e,i);var n=P.call(this,e,i);H.call(this,e,i);var a=P.call(this,e,i);n!==a&&t.attributeChangedCallback(this,i,n,a,e)})),G?i(HTMLElement.prototype,G):U?i(Element.prototype,U):console.warn("Custom Elements: `Element#insertAdjacentElement` was not patched."),X(t,Element.prototype,{o:B,append:z}),function(t){var e=Element.prototype;e.before=function(e){for(var i=[],a=0;a<arguments.length;++a)i[a-0]=arguments[a];a=i.filter((function(t){return t instanceof Node&&n(t)})),q.apply(this,i);for(var o=0;o<a.length;o++)d(t,a[o]);if(n(this))for(a=0;a<i.length;a++)(o=i[a])instanceof Element&&h(t,o)},e.after=function(e){for(var i=[],a=0;a<arguments.length;++a)i[a-0]=arguments[a];a=i.filter((function(t){return t instanceof Node&&n(t)})),V.apply(this,i);for(var o=0;o<a.length;o++)d(t,a[o]);if(n(this))for(a=0;a<i.length;a++)(o=i[a])instanceof Element&&h(t,o)},e.replaceWith=function(e){for(var i=[],a=0;a<arguments.length;++a)i[a-0]=arguments[a];a=i.filter((function(t){return t instanceof Node&&n(t)}));var o=n(this);$.apply(this,i);for(var r=0;r<a.length;r++)d(t,a[r]);if(o)for(d(t,this),a=0;a<i.length;a++)(o=i[a])instanceof Element&&h(t,o)},e.remove=function(){var e=n(this);j.call(this),e&&d(t,this)}}(t)}(),document.__CE_hasRegistry=!0;var tt=new b(J);tt.enableCustomizedBuiltins=!0,Object.defineProperty(window,"customElements",{configurable:!0,enumerable:!0,value:tt})}}.call(self);var ia=y((function(t,e){t.exports=function(){var t=0,e=/^\s*(>|:scope\s*>)/;function i(t,e){for(var i=0;i<e.length;i++)if(-1===t.indexOf(e[i]))return!1;return!0}function n(){this._ventPropagationStopped=!0,Event.prototype.stopPropagation.call(this)}function a(){this._ventImmediatePropagationStopped=!0,Event.prototype.stopImmediatePropagation.call(this)}var o=function(){var t=Element.prototype,e=t.matches||t.matchesSelector||t.webkitMatchesSelector||t.mozMatchesSelector||t.msMatchesSelector||t.oMatchesSelector;if(!e)throw new Error("Vent: Browser does not support matchesSelector");return e}();function r(e){if(this===i)throw new Error("Vent must be invoked with the new keyword");var i;i="string"==typeof e?document.querySelector(e):e,this.root=i,this._listenersByType=Object.create(null),this._allListeners=[],this._executeCaptureListeners=this._executeCaptureListeners.bind(this),this._executeBubbleListeners=this._executeBubbleListeners.bind(this),this._id=this._id||t++}return r.prototype._listenerMatchesRootTarget=function(t,e){return null===t.selector&&e===this.root},r.prototype._listenerMatchesDelegateTarget=function(t,e){return e!==document&&e!==this.root&&null!==t.selector&&(t.isScoped?o.call(e,'[__vent-id__="'+this._id+'"] '+t.selector):o.call(e,t.selector))},r.prototype._listenerMatchesEventPhase=function(t,e){return t.useCapture===e},r.prototype._executeListenersAtElement=function(t,e,i,n){for(var a,o=0;o<e.length&&(a=e[o],"click"===i.type&&!0===t.disabled||!this._listenerMatchesRootTarget(a,t)&&!this._listenerMatchesDelegateTarget(a,t)||!this._listenerMatchesEventPhase(a,n)||(i.matchedTarget=t,!1===a.handler.call(t,i)&&(i.preventDefault(),i.stopPropagation()),!i._ventImmediatePropagationStopped));o++);},r.prototype._executeCaptureListeners=function(t){var e=this._listenersByType[t.type];if(!e)throw new Error("Vent: _executeListeners called in response to "+t.type+", but we are not listening to it");if(e.length){e=e.slice(),this._decorateEvent(t);var i=this._getPath(t);t:for(var n=i.length-1;n>=0&&e.length;n--){var a=i[n];if(this._executeListenersAtElement(a,e,t,!0),t._ventImmediatePropagationStopped||t._ventPropagationStopped)break t}}this._undecorateEvent(t)},r.prototype._executeBubbleListeners=function(t){var e=this._listenersByType[t.type];if(!e)throw new Error("Vent: _executeListeners called in response to "+t.type+", but we are not listening to it");if(e.length){e=e.slice(),this._decorateEvent(t);var i="focus"!==t.type&&"blur"!==t.type,n=this._getPath(t);t:for(var a=0;a<n.length&&e.length;a++){var o=n[a];if(this._executeListenersAtElement(o,e,t,!1),t._ventImmediatePropagationStopped||t._ventPropagationStopped)break t;if(!i)break t}}this._undecorateEvent(t),t["_ventPath"+this._id]=null},r.prototype._decorateEvent=function(t){t.stopPropagation=n,t.stopImmediatePropagation=a},r.prototype._undecorateEvent=function(t){t.stopPropagation=Event.prototype.stopPropagation,t.stopImmediatePropagation=Event.prototype.stopImmediatePropagation},r.prototype._getPath=function(t){if(t["_ventPath"+this._id])return t["_ventPath"+this._id];var e=t.target;e.nodeType===Node.TEXT_NODE&&(e=e.parentNode);for(var i=e,n=[];i&&i!==this.root;)n.push(i),i=i.parentNode;return n.push(this.root),t["_ventPath"+this._id]=n,n},r.prototype.on=function(t,i,n,a){if("function"==typeof i&&(a=n,n=i,i=null),"function"!=typeof n)throw new Error("Vent: Cannot add listener with non-function handler");i||(i=null),void 0===a&&(a="focus"===t||"blur"===t);var o=null,r=t.indexOf(".");-1!==r&&(o=t.slice(r+1).split("."),t=t.slice(0,r));var s=this._listenersByType[t];s||(s=this._listenersByType[t]=[],this.root.addEventListener(t,this._executeCaptureListeners,!0),this.root.addEventListener(t,this._executeBubbleListeners,!1));var l=function(t){return t&&e.test(t)}(i);l&&(i=i.replace(e,">"),this.root.setAttribute("__vent-id__",this._id));var c={eventName:t,handler:n,namespaces:o,selector:i,useCapture:a,isScoped:l};s.push(c),this._allListeners.push(c)},r.prototype.off=function(t,e,n,a){"function"==typeof e&&(a=n,n=e,e=null),void 0===t&&(t=null),void 0===e&&(e=null),void 0===n&&(n=null),void 0===a&&(a=null);var o,r,s=null;if(t){var l=t.indexOf(".");-1!==l&&(s=t.slice(l+1).split("."),t=t.slice(0,l))}""===t&&(t=null);for(var c=this._allListeners,u=0;u<c.length;u++)if(o=c[u],(null===t||o.eventName===t)&&(null===e||o.selector===e)&&(null===n||o.handler===n)&&(null===a||o.useCapture===a)&&(null===s||o.namespaces&&i(o.namespaces,s))){if(this._allListeners.splice(u,1),u--,!this._listenersByType[o.eventName])throw new Error("Vent: Missing listenersByType for "+o.eventName);if(-1===(r=this._listenersByType[o.eventName].indexOf(o)))throw new Error("Vent: Event existed in allEvents, but did not exist in listenersByType");var h=this._listenersByType[o.eventName];h.splice(r,1),0===h.length&&(this.root.removeEventListener(o.eventName,this._executeCaptureListeners,!0),this.root.removeEventListener(o.eventName,this._executeBubbleListeners,!1),this._listenersByType[o.eventName]=null)}return this},"function"==typeof CustomEvent?r.prototype.dispatch=function(t,e){void 0===(e=e||{}).bubbles&&(e.bubbles=!0),void 0===e.cancelable&&(e.cancelable=!0);var i=new CustomEvent(t,e);return this.root.dispatchEvent(i),i}:r.prototype.dispatch=function(t,e){void 0===(e=e||{}).bubbles&&(e.bubbles=!0),void 0===e.cancelable&&(e.cancelable=!0);var i=document.createEvent("CustomEvent");i.initCustomEvent(t,e.bubbles,e.cancelable,e.detail);var n=!this.root.dispatchEvent(i);if(n!==i.defaultPrevented){var a=Object.create(i);return Object.defineProperty(a,"defaultPrevented",{value:n}),a}return i},r.prototype.destroy=function(){this.destroyed||(this.off(),this._listenersByType=null,this._allListeners=null,this.root=null,this.destroyed=!0)},r}()})),na=document.createElement;document.createElement=function(){return"string"==typeof arguments[1]&&(arguments[1]={is:arguments[1]}),na.apply(this,arguments)},function(t,e){function i(){var t=T.splice(0,T.length);for(Yt=0;t.length;)t.shift().call(null,t.shift())}function a(t,e){for(var i=0,n=t.length;i<n;i++)f(t[i],e)}function o(t){return function(e){Rt(e)&&(f(e,t),rt.length&&a(e.querySelectorAll(rt),t))}}function r(t){var e=Vt.call(t,"is"),i=t.nodeName.toUpperCase(),n=lt.call(at,e?et+e.toUpperCase():tt+i);return e&&-1<n&&!s(i,e)?-1:n}function s(t,e){return-1<rt.indexOf(t+'[is="'+e+'"]')}function l(t){var e=t.currentTarget,i=t.attrChange,n=t.attrName,a=t.target,o=t[Z]||2,r=t[X]||3;!ae||a&&a!==e||!e[V]||"style"===n||t.prevValue===t.newValue&&(""!==t.newValue||i!==o&&i!==r)||e[V](n,i===o?null:t.prevValue,i===r?null:t.newValue)}function c(t){var e=o(t);return function(t){T.push(e,t.target),Yt&&clearTimeout(Yt),Yt=setTimeout(i,1)}}function u(t){ne&&(ne=!1,t.currentTarget.removeEventListener(Y,u)),rt.length&&a((t.target||k).querySelectorAll(rt),t.detail===z?z:U),Ft&&function(){for(var t,e=0,i=Ht.length;e<i;e++)t=Ht[e],st.contains(t)||(i--,Ht.splice(e--,1),f(t,z))}()}function h(t,e){var i=this;Wt.call(i,t,e),S.call(i,{target:i})}function d(t,e,i){var n=e.apply(t,i),a=r(n);return-1<a&&O(n,ot[a]),i.pop()&&rt.length&&function(t){for(var e,i=0,n=t.length;i<n;i++)e=t[i],O(e,ot[r(e)])}(n.querySelectorAll(rt)),n}function p(t,e){Nt(t,e),L?L.observe(t,Xt):(ie&&(t.setAttribute=h,t[R]=I(t),t[H](J,S)),t[H](Q,l)),t[K]&&ae&&(t.created=!0,t[K](),t.created=!1)}function m(t){throw new Error("A "+t+" type is already registered")}function f(t,e){var i,n,a=r(t);-1<a&&!zt.call(t,"TEMPLATE")&&(M(t,ot[a]),a=0,e!==U||t[U]?e!==z||t[z]||(t[U]=!1,t[z]=!0,n="disconnected",a=1):(t[z]=!1,t[U]=!0,n="connected",a=1,Ft&&lt.call(Ht,t)<0&&Ht.push(t)),a&&(i=t[e+B]||t[n+B])&&i.call(t))}function g(){}function v(t,e,i){var n=i&&i[q]||"",a=e.prototype,o=Lt(a),r=e.observedAttributes||pt,s={prototype:o};Pt(o,K,{value:function(){if(xt)xt=!1;else if(!this[bt]){this[bt]=!0,new e(this),a[K]&&a[K].call(this);var t=Tt[Et.get(e)];(!Ct||t.create.length>1)&&y(this)}}}),Pt(o,V,{value:function(t){-1<lt.call(r,t)&&a[V]&&a[V].apply(this,arguments)}}),a[j]&&Pt(o,$,{value:a[j]}),a[W]&&Pt(o,G,{value:a[W]}),n&&(s[q]=n),t=t.toUpperCase(),Tt[t]={constructor:e,create:n?[n,It(t)]:[t]},Et.set(e,t),k[F](t.toLowerCase(),s),C(t),St[t].r()}function _(t){var e=Tt[t.toUpperCase()];return e&&e.constructor}function b(t){return"string"==typeof t?t:t&&t.is||""}function y(t){for(var e,i=t[V],n=i?t.attributes:pt,a=n.length;a--;)e=n[a],i.call(t,e.name||e.nodeName,null,e.value||e.nodeValue)}function C(t){return(t=t.toUpperCase())in St||(St[t]={},St[t].p=new wt((function(e){St[t].r=e}))),St[t].p}function A(){yt&&delete t.customElements,dt(t,"customElements",{configurable:!0,value:new g}),dt(t,"CustomElementRegistry",{configurable:!0,value:g});for(var e=x.get(/^HTML[A-Z]*[a-z]/),i=e.length;i--;function(e){var i=t[e];if(i){t[e]=function(t){var e,n;return t||(t=this),t[bt]||(xt=!0,e=Tt[Et.get(t.constructor)],(t=(n=Ct&&1===e.create.length)?Reflect.construct(i,pt,e.constructor):k.createElement.apply(k,e.create))[bt]=!0,xt=!1,n||y(t)),t},t[e].prototype=i.prototype;try{i.prototype.constructor=t[e]}catch(n){dt(i,bt,{value:t[e]})}}}(e[i]));k.createElement=function(t,e){var i=b(e);return i?Zt.call(this,t,It(i)):Zt.call(this,t)},Jt||(ee=!0,k[F](""))}var k=t.document,w=t.Object,x=function(t){var e,i,n,a,o=/^[A-Z]+[a-z]/,r=function(t,e){(e=e.toLowerCase())in s||(s[t]=(s[t]||[]).concat(e),s[e]=s[e.toUpperCase()]=t)},s=(w.create||w)(null),l={};for(i in t)for(a in t[i])for(n=t[i][a],s[a]=n,e=0;e<n.length;e++)s[n[e].toLowerCase()]=s[n[e].toUpperCase()]=a;return l.get=function(t){return"string"==typeof t?s[t]||(o.test(t)?[]:""):function(t){var e,i=[];for(e in s)t.test(e)&&i.push(e);return i}(t)},l.set=function(t,e){return o.test(t)?r(t,e):r(e,t),l},l}({collections:{HTMLAllCollection:["all"],HTMLCollection:["forms"],HTMLFormControlsCollection:["elements"],HTMLOptionsCollection:["options"]},elements:{Element:["element"],HTMLAnchorElement:["a"],HTMLAppletElement:["applet"],HTMLAreaElement:["area"],HTMLAttachmentElement:["attachment"],HTMLAudioElement:["audio"],HTMLBRElement:["br"],HTMLBaseElement:["base"],HTMLBodyElement:["body"],HTMLButtonElement:["button"],HTMLCanvasElement:["canvas"],HTMLContentElement:["content"],HTMLDListElement:["dl"],HTMLDataElement:["data"],HTMLDataListElement:["datalist"],HTMLDetailsElement:["details"],HTMLDialogElement:["dialog"],HTMLDirectoryElement:["dir"],HTMLDivElement:["div"],HTMLDocument:["document"],HTMLElement:["element","abbr","address","article","aside","b","bdi","bdo","cite","code","command","dd","dfn","dt","em","figcaption","figure","footer","header","i","kbd","mark","nav","noscript","rp","rt","ruby","s","samp","section","small","strong","sub","summary","sup","u","var","wbr"],HTMLEmbedElement:["embed"],HTMLFieldSetElement:["fieldset"],HTMLFontElement:["font"],HTMLFormElement:["form"],HTMLFrameElement:["frame"],HTMLFrameSetElement:["frameset"],HTMLHRElement:["hr"],HTMLHeadElement:["head"],HTMLHeadingElement:["h1","h2","h3","h4","h5","h6"],HTMLHtmlElement:["html"],HTMLIFrameElement:["iframe"],HTMLImageElement:["img"],HTMLInputElement:["input"],HTMLKeygenElement:["keygen"],HTMLLIElement:["li"],HTMLLabelElement:["label"],HTMLLegendElement:["legend"],HTMLLinkElement:["link"],HTMLMapElement:["map"],HTMLMarqueeElement:["marquee"],HTMLMediaElement:["media"],HTMLMenuElement:["menu"],HTMLMenuItemElement:["menuitem"],HTMLMetaElement:["meta"],HTMLMeterElement:["meter"],HTMLModElement:["del","ins"],HTMLOListElement:["ol"],HTMLObjectElement:["object"],HTMLOptGroupElement:["optgroup"],HTMLOptionElement:["option"],HTMLOutputElement:["output"],HTMLParagraphElement:["p"],HTMLParamElement:["param"],HTMLPictureElement:["picture"],HTMLPreElement:["pre"],HTMLProgressElement:["progress"],HTMLQuoteElement:["blockquote","q","quote"],HTMLScriptElement:["script"],HTMLSelectElement:["select"],HTMLShadowElement:["shadow"],HTMLSlotElement:["slot"],HTMLSourceElement:["source"],HTMLSpanElement:["span"],HTMLStyleElement:["style"],HTMLTableCaptionElement:["caption"],HTMLTableCellElement:["td","th"],HTMLTableColElement:["col","colgroup"],HTMLTableElement:["table"],HTMLTableRowElement:["tr"],HTMLTableSectionElement:["thead","tbody","tfoot"],HTMLTemplateElement:["template"],HTMLTextAreaElement:["textarea"],HTMLTimeElement:["time"],HTMLTitleElement:["title"],HTMLTrackElement:["track"],HTMLUListElement:["ul"],HTMLUnknownElement:["unknown","vhgroupv","vkeygen"],HTMLVideoElement:["video"]},nodes:{Attr:["node"],Audio:["audio"],CDATASection:["node"],CharacterData:["node"],Comment:["#comment"],Document:["#document"],DocumentFragment:["#document-fragment"],DocumentType:["node"],HTMLDocument:["#document"],Image:["img"],Option:["option"],ProcessingInstruction:["node"],ShadowRoot:["#shadow-root"],Text:["#text"],XMLDocument:["xml"]}});"object"!=n(e)&&(e={type:e||"auto"});var T,S,E,I,L,N,M,O,D,F="registerElement",P=1e5*t.Math.random()>>0,R="__"+F+P,H="addEventListener",U="attached",B="Callback",z="detached",q="extends",V="attributeChanged"+B,$=U+B,j="connected"+B,W="disconnected"+B,K="created"+B,G=z+B,Z="ADDITION",X="REMOVAL",Q="DOMAttrModified",Y="DOMContentLoaded",J="DOMSubtreeModified",tt="<",et="=",it=/^[A-Z][._A-Z0-9]*-[-._A-Z0-9]*$/,nt=["ANNOTATION-XML","COLOR-PROFILE","FONT-FACE","FONT-FACE-SRC","FONT-FACE-URI","FONT-FACE-FORMAT","FONT-FACE-NAME","MISSING-GLYPH"],at=[],ot=[],rt="",st=k.documentElement,lt=at.indexOf||function(t){for(var e=this.length;e--&&this[e]!==t;);return e},ct=w.prototype,ut=ct.hasOwnProperty,ht=ct.isPrototypeOf,dt=w.defineProperty,pt=[],mt=w.getOwnPropertyDescriptor,ft=w.getOwnPropertyNames,gt=w.getPrototypeOf,vt=w.setPrototypeOf,_t=!!w.__proto__,bt="__dreCEv1",yt=t.customElements,Ct=!/^force/.test(e.type)&&!!(yt&&yt.define&&yt.get&&yt.whenDefined),At=w.create||w,kt=t.Map||function(){var t,e=[],i=[];return{get:function(t){return i[lt.call(e,t)]},set:function(n,a){(t=lt.call(e,n))<0?i[e.push(n)-1]=a:i[t]=a}}},wt=t.Promise||function(t){function e(t){for(n=!0;i.length;)i.shift()(t)}var i=[],n=!1,a={catch:function(){return a},then:function(t){return i.push(t),n&&setTimeout(e,1),a}};return t(e),a},xt=!1,Tt=At(null),St=At(null),Et=new kt,It=function(t){return t.toLowerCase()},Lt=w.create||function t(e){return e?(t.prototype=e,new t):this},Nt=vt||(_t?function(t,e){return t.__proto__=e,t}:ft&&mt?function(){function t(t,e){for(var i,n=ft(e),a=0,o=n.length;a<o;a++)i=n[a],ut.call(t,i)||dt(t,i,mt(e,i))}return function(e,i){do{t(e,i)}while((i=gt(i))&&!ht.call(i,e));return e}}():function(t,e){for(var i in e)t[i]=e[i];return t}),Mt=t.MutationObserver||t.WebKitMutationObserver,Ot=t.HTMLAnchorElement,Dt=(t.HTMLElement||t.Element||t.Node).prototype,Ft=!ht.call(Dt,st),Pt=Ft?function(t,e,i){return t[e]=i.value,t}:dt,Rt=Ft?function(t){return 1===t.nodeType}:function(t){return ht.call(Dt,t)},Ht=Ft&&[],Ut=Dt.attachShadow,Bt=Dt.cloneNode,zt=Dt.closest||function(t){for(var e=this;e&&e.nodeName!==t;)e=e.parentNode;return e},qt=Dt.dispatchEvent,Vt=Dt.getAttribute,$t=Dt.hasAttribute,jt=Dt.removeAttribute,Wt=Dt.setAttribute,Kt=k.createElement,Gt=k.importNode,Zt=Kt,Xt=Mt&&{attributes:!0,characterData:!0,attributeOldValue:!0},Qt=Mt||function(t){ie=!1,st.removeEventListener(Q,Qt)},Yt=0,Jt=F in k&&!/^force-all/.test(e.type),te=!0,ee=!1,ie=!0,ne=!0,ae=!0;if(Mt&&((D=k.createElement("div")).innerHTML="<div><div></div></div>",new Mt((function(t,e){if(t[0]&&"childList"==t[0].type&&!t[0].removedNodes[0].childNodes.length){var i=(D=mt(Dt,"innerHTML"))&&D.set;i&&dt(Dt,"innerHTML",{set:function(t){for(;this.lastChild;)this.removeChild(this.lastChild);i.call(this,t)}})}e.disconnect(),D=null})).observe(D,{childList:!0,subtree:!0}),D.innerHTML=""),Jt||(vt||_t?(M=function(t,e){ht.call(e,t)||p(t,e)},O=p):O=M=function(t,e){t[R]||(t[R]=w(!0),p(t,e))},Ft?(ie=!1,function(){var t=mt(Dt,H),e=t.value,i=function(t){var e=new CustomEvent(Q,{bubbles:!0});e.attrName=t,e.prevValue=Vt.call(this,t),e.newValue=null,e[X]=e.attrChange=2,jt.call(this,t),qt.call(this,e)},n=function(t,e){var i=$t.call(this,t),n=i&&Vt.call(this,t),a=new CustomEvent(Q,{bubbles:!0});Wt.call(this,t,e),a.attrName=t,a.prevValue=i?n:null,a.newValue=e,i?a.MODIFICATION=a.attrChange=1:a[Z]=a.attrChange=0,qt.call(this,a)},a=function(t){var e,i=t.currentTarget,n=i[R],a=t.propertyName;n.hasOwnProperty(a)&&(n=n[a],(e=new CustomEvent(Q,{bubbles:!0})).attrName=n.name,e.prevValue=n.value||null,e.newValue=n.value=i[a]||null,null==e.prevValue?e[Z]=e.attrChange=0:e.MODIFICATION=e.attrChange=1,qt.call(i,e))};t.value=function(t,o,r){t===Q&&this[V]&&this.setAttribute!==n&&(this[R]={className:{name:"class",value:this.className}},this.setAttribute=n,this.removeAttribute=i,e.call(this,"propertychange",a)),e.call(this,t,o,r)},dt(Dt,H,t)}()):Mt||(st[H](Q,Qt),st.setAttribute(R,1),st.removeAttribute(R),ie&&(S=function(t){var e,i,n,a=this;if(a===t.target){for(n in e=a[R],a[R]=i=I(a),i){if(!(n in e))return E(0,a,n,e[n],i[n],Z);if(i[n]!==e[n])return E(1,a,n,e[n],i[n],"MODIFICATION")}for(n in e)if(!(n in i))return E(2,a,n,e[n],i[n],X)}},E=function(t,e,i,n,a,o){var r={attrChange:t,currentTarget:e,attrName:i,prevValue:n,newValue:a};r[o]=t,l(r)},I=function(t){for(var e,i,n={},a=t.attributes,o=0,r=a.length;o<r;o++)"setAttribute"!==(i=(e=a[o]).name)&&(n[i]=e.value);return n})),k[F]=function(t,e){if(i=t.toUpperCase(),te&&(te=!1,Mt?(L=function(t,e){function i(t,e){for(var i=0,n=t.length;i<n;e(t[i++]));}return new Mt((function(n){for(var a,o,r,s=0,l=n.length;s<l;s++)"childList"===(a=n[s]).type?(i(a.addedNodes,t),i(a.removedNodes,e)):(o=a.target,ae&&o[V]&&"style"!==a.attributeName&&(r=Vt.call(o,a.attributeName))!==a.oldValue&&o[V](a.attributeName,a.oldValue,r))}))}(o(U),o(z)),(N=function(t){return L.observe(t,{childList:!0,subtree:!0}),t})(k),Ut&&(Dt.attachShadow=function(){return N(Ut.apply(this,arguments))})):(T=[],k[H]("DOMNodeInserted",c(U)),k[H]("DOMNodeRemoved",c(z))),k[H](Y,u),k[H]("readystatechange",u),k.importNode=function(t,e){switch(t.nodeType){case 1:return d(k,Gt,[t,!!e]);case 11:for(var i=k.createDocumentFragment(),n=t.childNodes,a=n.length,o=0;o<a;o++)i.appendChild(k.importNode(n[o],!!e));return i;default:return Bt.call(t,!!e)}},Dt.cloneNode=function(t){return d(this,Bt,[!!t])}),ee)return ee=!1;if(-2<lt.call(at,et+i)+lt.call(at,tt+i)&&m(t),!it.test(i)||-1<lt.call(nt,i))throw new Error("The type "+t+" is invalid");var i,n,r=function(){return l?k.createElement(h,i):k.createElement(h)},s=e||ct,l=ut.call(s,q),h=l?e[q].toUpperCase():i;return l&&-1<lt.call(at,tt+h)&&m(h),n=at.push((l?et:tt)+i)-1,rt=rt.concat(rt.length?",":"",l?h+'[is="'+t.toLowerCase()+'"]':h),r.prototype=ot[n]=ut.call(s,"prototype")?s.prototype:Lt(Dt),rt.length&&a(k.querySelectorAll(rt),U),r},k.createElement=Zt=function(t,e){var i=b(e),n=i?Kt.call(k,t,It(i)):Kt.call(k,t),a=""+t,o=lt.call(at,(i?et:tt)+(i||a).toUpperCase()),r=-1<o;return i&&(n.setAttribute("is",i=i.toLowerCase()),r&&(r=s(a.toUpperCase(),i))),ae=!k.createElement.innerHTMLHelper,r&&O(n,ot[o]),n}),addEventListener("beforeunload",(function(){delete k.createElement,delete k.importNode,delete k[F]}),!1),g.prototype={constructor:g,define:Ct?function(t,e,i){if(i)v(t,e,i);else{var n=t.toUpperCase();Tt[n]={constructor:e,create:[n]},Et.set(e,n),yt.define(t,e)}}:v,get:Ct?function(t){return yt.get(t)||_(t)}:_,whenDefined:Ct?function(t){return wt.race([yt.whenDefined(t),C(t)])}:C},!yt||/^force/.test(e.type))A();else if(!e.noBuiltIn)try{!function(e,i,n){var a=new RegExp("^<a\\s+is=('|\")"+n+"\\1></a>$");if(i[q]="a",(e.prototype=Lt(Ot.prototype)).constructor=e,t.customElements.define(n,e,i),!a.test(k.createElement("a",{is:n}).outerHTML)||!a.test((new e).outerHTML))throw i}((function t(){return Reflect.construct(Ot,[],t)}),{},"document-register-element-a"+P)}catch(t){A()}if(!e.noBuiltIn)try{if(Kt.call(k,"a","a").outerHTML.indexOf("is")<0)throw{}}catch(t){It=function(t){return{is:t.toLowerCase()}}}}(window);
/*! (C) Andrea Giammarchi - @WebReflection - ISC Style License */
!function(t){var e,i,n=t.registerElement,a=t.createElement("div"),o="document-register-element",r=n.innerHTML;if(r)return r;try{if(n.call(t,o,{prototype:Object.create(HTMLElement.prototype,{createdCallback:{value:Object}})}),a.innerHTML="<"+o+"></"+o+">","createdCallback"in a.querySelector(o))return n.innerHTML=function(t,e){return t.innerHTML=e,t}}catch(t){}i=[],e=function(e){if(!("createdCallback"in e||"attachedCallback"in e||"detachedCallback"in e||"attributeChangedCallback"in e)){t.createElement.innerHTMLHelper=!0;for(var i,n,a=e.parentNode,o=e.getAttribute("is"),r=e.nodeName,s=t.createElement.apply(t,o?[r,o]:[r]),l=e.attributes,c=0,u=l.length;c<u;c++)i=l[c],s.setAttribute(i.name,i.value);for(;n=e.firstChild;)s.appendChild(n);t.createElement.innerHTMLHelper=!1,a&&a.replaceChild(s,e),s.createdCallback&&(s.created=!0,s.createdCallback(),s.created=!1)}},(t.registerElement=function(e,a){var o=(a.extends?a.extends+'[is="'+e+'"]':e).toLowerCase();return i.indexOf(o)<0&&i.push(o),n.apply(t,arguments)}).innerHTML=function(t,n){t.innerHTML=n;for(var a=i.length?t.querySelectorAll(i.join(",")):[],o=a.length;o--;e(a[o]));return t}}(document);var aa=function(){};window.CustomElements||(window.CustomElements={flags:{}},window.CustomElements.upgrade=aa,window.CustomElements.upgradeAll=aa,window.CustomElements.instanceof=function(t,e){return t instanceof e},window.CustomElements.upgradeDocumentTree=aa,window.CustomElements.upgradeSubtree=aa,window.CustomElements.addModule=aa,window.CustomElements.initializeModules=aa,window.CustomElements.takeRecords=aa,window.CustomElements.takeRecords=aa,window.CustomElements.watchShadow=aa);var oa=y((function(t,e){t.exports=function(){var t=function(){if("undefined"!=typeof Map)return Map;function t(t,e){var i=-1;return t.some((function(t,n){return t[0]===e&&(i=n,!0)})),i}return function(){function e(){this.__entries__=[]}return Object.defineProperty(e.prototype,"size",{get:function(){return this.__entries__.length},enumerable:!0,configurable:!0}),e.prototype.get=function(e){var i=t(this.__entries__,e),n=this.__entries__[i];return n&&n[1]},e.prototype.set=function(e,i){var n=t(this.__entries__,e);~n?this.__entries__[n][1]=i:this.__entries__.push([e,i])},e.prototype.delete=function(e){var i=this.__entries__,n=t(i,e);~n&&i.splice(n,1)},e.prototype.has=function(e){return!!~t(this.__entries__,e)},e.prototype.clear=function(){this.__entries__.splice(0)},e.prototype.forEach=function(t,e){void 0===e&&(e=null);for(var i=0,n=this.__entries__;i<n.length;i++){var a=n[i];t.call(e,a[1],a[0])}},e}()}(),e="undefined"!=typeof window&&"undefined"!=typeof document&&window.document===document,i=void 0!==b&&b.Math===Math?b:"undefined"!=typeof self&&self.Math===Math?self:"undefined"!=typeof window&&window.Math===Math?window:Function("return this")(),n="function"==typeof requestAnimationFrame?requestAnimationFrame.bind(i):function(t){return setTimeout((function(){return t(Date.now())}),1e3/60)},a=["top","right","bottom","left","width","height","size","weight"],o="undefined"!=typeof MutationObserver,r=function(){function t(){this.connected_=!1,this.mutationEventsAdded_=!1,this.mutationsObserver_=null,this.observers_=[],this.onTransitionEnd_=this.onTransitionEnd_.bind(this),this.refresh=function(t,e){var i=!1,a=!1,o=0;function r(){i&&(i=!1,t()),a&&l()}function s(){n(r)}function l(){var t=Date.now();if(i){if(t-o<2)return;a=!0}else i=!0,a=!1,setTimeout(s,e);o=t}return l}(this.refresh.bind(this),20)}return t.prototype.addObserver=function(t){~this.observers_.indexOf(t)||this.observers_.push(t),this.connected_||this.connect_()},t.prototype.removeObserver=function(t){var e=this.observers_,i=e.indexOf(t);~i&&e.splice(i,1),!e.length&&this.connected_&&this.disconnect_()},t.prototype.refresh=function(){this.updateObservers_()&&this.refresh()},t.prototype.updateObservers_=function(){var t=this.observers_.filter((function(t){return t.gatherActive(),t.hasActive()}));return t.forEach((function(t){return t.broadcastActive()})),t.length>0},t.prototype.connect_=function(){e&&!this.connected_&&(document.addEventListener("transitionend",this.onTransitionEnd_),window.addEventListener("resize",this.refresh),o?(this.mutationsObserver_=new MutationObserver(this.refresh),this.mutationsObserver_.observe(document,{attributes:!0,childList:!0,characterData:!0,subtree:!0})):(document.addEventListener("DOMSubtreeModified",this.refresh),this.mutationEventsAdded_=!0),this.connected_=!0)},t.prototype.disconnect_=function(){e&&this.connected_&&(document.removeEventListener("transitionend",this.onTransitionEnd_),window.removeEventListener("resize",this.refresh),this.mutationsObserver_&&this.mutationsObserver_.disconnect(),this.mutationEventsAdded_&&document.removeEventListener("DOMSubtreeModified",this.refresh),this.mutationsObserver_=null,this.mutationEventsAdded_=!1,this.connected_=!1)},t.prototype.onTransitionEnd_=function(t){var e=t.propertyName,i=void 0===e?"":e;a.some((function(t){return!!~i.indexOf(t)}))&&this.refresh()},t.getInstance=function(){return this.instance_||(this.instance_=new t),this.instance_},t.instance_=null,t}(),s=function(t,e){for(var i=0,n=Object.keys(e);i<n.length;i++){var a=n[i];Object.defineProperty(t,a,{value:e[a],enumerable:!1,writable:!1,configurable:!0})}return t},l=function(t){return t&&t.ownerDocument&&t.ownerDocument.defaultView||i},c=f(0,0,0,0);function u(t){return parseFloat(t)||0}function h(t){for(var e=[],i=1;i<arguments.length;i++)e[i-1]=arguments[i];return e.reduce((function(e,i){return e+u(t["border-"+i+"-width"])}),0)}function d(t){var e=t.clientWidth,i=t.clientHeight;if(!e&&!i)return c;var n=l(t).getComputedStyle(t),a=function(t){for(var e={},i=0,n=["top","right","bottom","left"];i<n.length;i++){var a=n[i],o=t["padding-"+a];e[a]=u(o)}return e}(n),o=a.left+a.right,r=a.top+a.bottom,s=u(n.width),d=u(n.height);if("border-box"===n.boxSizing&&(Math.round(s+o)!==e&&(s-=h(n,"left","right")+o),Math.round(d+r)!==i&&(d-=h(n,"top","bottom")+r)),!function(t){return t===l(t).document.documentElement}(t)){var p=Math.round(s+o)-e,m=Math.round(d+r)-i;1!==Math.abs(p)&&(s-=p),1!==Math.abs(m)&&(d-=m)}return f(a.left,a.top,s,d)}var p="undefined"!=typeof SVGGraphicsElement?function(t){return t instanceof l(t).SVGGraphicsElement}:function(t){return t instanceof l(t).SVGElement&&"function"==typeof t.getBBox};function m(t){return e?p(t)?function(t){var e=t.getBBox();return f(0,0,e.width,e.height)}(t):d(t):c}function f(t,e,i,n){return{x:t,y:e,width:i,height:n}}var g=function(){function t(t){this.broadcastWidth=0,this.broadcastHeight=0,this.contentRect_=f(0,0,0,0),this.target=t}return t.prototype.isActive=function(){var t=m(this.target);return this.contentRect_=t,t.width!==this.broadcastWidth||t.height!==this.broadcastHeight},t.prototype.broadcastRect=function(){var t=this.contentRect_;return this.broadcastWidth=t.width,this.broadcastHeight=t.height,t},t}(),v=function(t,e){var i,n,a,o,r,l,c,u=(n=(i=e).x,a=i.y,o=i.width,r=i.height,l="undefined"!=typeof DOMRectReadOnly?DOMRectReadOnly:Object,c=Object.create(l.prototype),s(c,{x:n,y:a,width:o,height:r,top:a,right:n+o,bottom:r+a,left:n}),c);s(this,{target:t,contentRect:u})},_=function(){function e(e,i,n){if(this.activeObservations_=[],this.observations_=new t,"function"!=typeof e)throw new TypeError("The callback provided as parameter 1 is not a function.");this.callback_=e,this.controller_=i,this.callbackCtx_=n}return e.prototype.observe=function(t){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if("undefined"!=typeof Element&&Element instanceof Object){if(!(t instanceof l(t).Element))throw new TypeError('parameter 1 is not of type "Element".');var e=this.observations_;e.has(t)||(e.set(t,new g(t)),this.controller_.addObserver(this),this.controller_.refresh())}},e.prototype.unobserve=function(t){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if("undefined"!=typeof Element&&Element instanceof Object){if(!(t instanceof l(t).Element))throw new TypeError('parameter 1 is not of type "Element".');var e=this.observations_;e.has(t)&&(e.delete(t),e.size||this.controller_.removeObserver(this))}},e.prototype.disconnect=function(){this.clearActive(),this.observations_.clear(),this.controller_.removeObserver(this)},e.prototype.gatherActive=function(){var t=this;this.clearActive(),this.observations_.forEach((function(e){e.isActive()&&t.activeObservations_.push(e)}))},e.prototype.broadcastActive=function(){if(this.hasActive()){var t=this.callbackCtx_,e=this.activeObservations_.map((function(t){return new v(t.target,t.broadcastRect())}));this.callback_.call(t,e,t),this.clearActive()}},e.prototype.clearActive=function(){this.activeObservations_.splice(0)},e.prototype.hasActive=function(){return this.activeObservations_.length>0},e}(),y="undefined"!=typeof WeakMap?new WeakMap:new t,C=function t(e){if(!(this instanceof t))throw new TypeError("Cannot call a class as a function.");if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");var i=r.getInstance(),n=new _(e,i,this);y.set(this,n)};return["observe","unobserve","disconnect"].forEach((function(t){C.prototype[t]=function(){var e;return(e=y.get(this))[t].apply(e,arguments)}})),void 0!==i.ResizeObserver?i.ResizeObserver:C}()})),ra=0,sa=function(t){return(t=t.replace("coral","")).charAt(0).toLowerCase()+t.slice(1)},la=["input:not([disabled])","select:not([disabled])","textarea:not([disabled])","button:not([disabled])","a[href]","area[href]","summary","iframe","object","embed","audio[controls]","video[controls]","[contenteditable]","[tabindex]"],ca=[];function ua(t,e){return function(){for(var i=arguments.length,n=new Array(i),a=0;a<i;a++)n[a]=arguments[a];var o=t.apply(this,n);return e.apply(this,n),o}}function ha(t){return"function"==typeof t}var da=new(function(){function t(){var e=this;a(this,t),this._resizeObserverMap=new Map,this._resizeObserver=new oa((function(t){for(var i=0;i<t.length;i++){var n=t[i].target,a=e._resizeObserverMap.get(n);if(a)for(var o=0;o<a.length;o++)a[o].call(n)}}));var i=la.slice();if(this._focusableElementsSelector=i.join(","),i[i.length-1]+=':not([tabindex="-1"])',this._tabbableElementsSelector=i.join(':not([tabindex="-1"]),'),this._coralSelector="",document.currentScript)this._script=document.currentScript;else{var n=document.getElementsByTagName("script");this._script=n[n.length-1]}}return r(t,[{key:"_log",value:function(t){if(console[t]&&"off"!==this.options.logging){for(var e=arguments.length,i=new Array(e>1?e-1:0),n=1;n<e;n++)i[n-1]=arguments[n];console[t].apply(null,i)}}},{key:"extend",value:function(){for(var t=arguments.length<=0?void 0:arguments[0],e=1,i=arguments.length;e<i;e++){var n=e<0||arguments.length<=e?void 0:arguments[e];for(var a in n)t[a]=n[a]}return t}},{key:"augment",value:function(){var t,e=arguments.length<=0?void 0:arguments[0],i=arguments.length,n=i-1<0||arguments.length<=i-1?void 0:arguments[i-1];"function"==typeof n&&(t=n,i--);for(var a=1;a<i;a++){var o=a<0||arguments.length<=a?void 0:arguments[a];for(var r in o)if(void 0!==e[r]){if("function"==typeof t){var s=t(e[r],o[r],r,e,o);void 0!==s&&(e[r]=s)}}else e[r]=o[r]}return e}},{key:"swapKeysAndValues",value:function(t){var e={};for(var i in t)e[t[i]]=i;return e}},{key:"nextFrame",value:function(t){return window.requestAnimationFrame((function(){"function"==typeof t&&t()}))}},{key:"transitionEnd",value:function(t,e){var i,n,a,o,r=!1,s=null,l={transition:"transitionend",WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",MSTransition:"msTransitionEnd"},c=null,u=function i(n){var a=void 0===n;r||(r=!0,clearTimeout(c),t.removeEventListener(s,i),e({target:t,cssTransitionSupported:!0,transitionStoppedByTimeout:a}))};for(i in l)if(void 0!==t.style[i]){s=l[i];break}if(null!==s){var h=0,d=(n=window.getComputedStyle(t).transitionDuration,a=parseFloat(n,10),(o=n.match(/m?s/))&&(o=o[0]),"s"===o?1e3*a:"ms"===o?a:0);0!==d&&(t.addEventListener(s,u),h=d+100),c=window.setTimeout(u,h)}}},{key:"_define",value:function(t,e,i){window.customElements.define(t,e,i),ca.push(t)}},{key:"ready",value:function(t,e){var i=t;if("function"==typeof t&&(e=t,i=document.body),i||(i=document.body),i instanceof HTMLElement){this._coralSelector=this._coralSelector||ca.join(",");var n=i.querySelectorAll(this._coralSelector),a=[];if(i!==document.body&&!i._componentReady&&i.matches(this._coralSelector)){var o=(i.getAttribute("is")||i.tagName).toLowerCase();a.push(window.customElements.whenDefined(o))}for(var r=0;r<n.length;r++){var s=n[r];if(!s._componentReady){var l=(s.getAttribute("is")||s.tagName).toLowerCase();a.push(window.customElements.whenDefined(l))}}a.length?Promise.all(a).then((function(){e(t instanceof HTMLElement&&t||window)})).catch((function(t){console.error(t)})):e(t instanceof HTMLElement&&t||window)}else e(i)}},{key:"setSubProperty",value:function(t,e,i){var n=e.split("."),a=t;if(1!==n.length){for(;n.length>1;){var o=n.shift();if(!a[o])throw new Error("Coral.commons.setSubProperty: could not set ".concat(e,", part ").concat(o," not found"));a=a[o]}a[n.shift()]=i}else a[e]=i}},{key:"getSubProperty",value:function(t,e){var i=e.split("."),n=t;if(1===i.length)return n[e];for(;i.length;){var a=i.shift();if(0!==i.length&&void 0===n[a])throw new Error("Coral.commons.getSubProperty: could not get ".concat(e,", part ").concat(a," not found"));n=n[a]}return n}},{key:"_applyMixin",value:function(t,e,i){var a=n(e);if("function"===a)e(t,i);else{if("object"!==a||null===e)throw new Error("Coral.commons.mixin: Cannot mix in ".concat(a," to ").concat(t.toString()));this.extend(t,e)}}},{key:"mixin",value:function(t,e,i){if(Array.isArray(e))for(var n=0;n<e.length;n++)this._applyMixin(t,e[n],i);else this._applyMixin(t,e,i)}},{key:"getUID",value:function(){return"coral-id-".concat(ra++)}},{key:"callAll",value:function(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];var n=e[e.length-1];"number"!=typeof n&&(n=0);var a=e[n],o=Array.prototype.filter.call(e,ha);return 2===o.length&&0===n?ua(o[0],o[1]):1===o.length?o[0]:0===o.length?function(){}:("function"!=typeof a&&(a=o[0]),function(){for(var t,i,n,r=0;r<o.length;r++)i=(n=o[r]).apply(this,e),n===a&&(t=i);return t})}},{key:"addResizeListener",value:function(t,e){this._resizeObserverMap.has(t)||this._resizeObserverMap.set(t,[]),this._resizeObserverMap.get(t).push(e),this._resizeObserver.observe(t)}},{key:"removeResizeListener",value:function(t,e){this._resizeObserver.unobserve(t),this._resizeObserver.disconnect(t);var i=this._resizeObserverMap.get(t);if(i){var n=i.indexOf(e);-1!==n&&i.splice(n,1)}}},{key:"options",get:function(){var t={},e=this._script.dataset;for(var i in e)0===i.indexOf("coral")&&(t[sa(i)]=e[i]);return t}},{key:"FOCUSABLE_ELEMENT_SELECTOR",get:function(){return this._focusableElementsSelector}},{key:"TABBABLE_ELEMENT_SELECTOR",get:function(){return this._tabbableElementsSelector}}]),t}()),pa=new(function(){function t(e){a(this,t),this._vent=new ia(e)}return r(t,[{key:"on",value:function(t,e,i,n){return this._vent.on(t,e,i,n),this}},{key:"off",value:function(t,e,i,n){return this._vent.off(t,e,i,n),this}},{key:"dispatch",value:function(t,e){return this._vent.dispatch(t,e)}},{key:"destroy",value:function(){this._vent.destroy()}}]),t}())(window),ma=da&&da.options.typekit;ma||(ma=null===document.querySelector('[lang]:not([lang^="en"])')?"mge7bvf":"rok6rmo");var fa={kitId:ma,scriptTimeout:3e3,active:function(){pa.dispatch("coral-commons:_webfontactive")}};if(window.Typekit){var ga=document.documentElement;if(-1!==ga.className.indexOf("wf-inactive")||-1!==ga.className.indexOf("wf-loading")){var va=new MutationObserver((function(){-1!==ga.className.indexOf("wf-active")&&(va.disconnect(),pa.dispatch("coral-commons:_webfontactive"))}));va.observe(ga,{attributes:!0,attributeFilter:["class"]})}}else{var _a=document.getElementsByTagName("html")[0];_a.classList.add("wf-loading");var ba=window.setTimeout((function(){_a.classList.remove("wf-loading"),_a.classList.add("wf-inactive")}),fa.scriptTimeout),ya=document.createElement("script"),Ca=!1;ya.src="https://use.typekit.net/".concat(fa.kitId,".js"),ya.type="text/javascript",ya.async="true",ya.onload=ya.onreadystatechange=function(){var t=this.readyState;if(!(Ca||t&&"complete"!==t&&"loaded"!==t)){Ca=!0,clearTimeout(ba);try{window.Typekit.load(fa)}catch(t){}}};var Aa=document.getElementsByTagName("script")[0];Aa.parentNode.insertBefore(ya,Aa)}var ka={generic:{}},wa=new(function(){function t(e){a(this,t),e=e||{},this._locale="en-US",e.locale&&(this._locale=e.locale),this._evaluate=/(\{.+?\})/g}return r(t,[{key:"set",value:function(){var t,e,i;ka.generic[this._locale]=ka.generic[this._locale]||{};for(var a=arguments.length,o=new Array(a),r=0;r<a;r++)o[r]=arguments[r];if(0===o.length)return"";if(1===o.length){if(!o[0])throw new Error("Coral.i18n.set: Single argument must be an array of arrays of key/value/(translation hint).");if("object"!==n(o[0])||"object"!==n(o[0][0]))throw new Error("Coral.i18n.set: Single argument must be an array of key-value pairs.");for(var s=0;s<o[0].length;s++)t=o[0][s][0],e=o[0][s][1],(i=o[0][s][2])&&(t="".concat(t,"/[translation hint:").concat(i.replace(/&period;/g,"."),"]")),ka.generic[this._locale][t]=e}else if(2===o.length){if("string"!=typeof o[0]||!o[0]||"string"!=typeof o[1]||!o[1])throw new Error("Coral.i18n.set: Both arguments must be non-empty string values.");t=o[0],e=o[1],ka.generic[this._locale][t]=e}else{if(3!==o.length)throw new Error("Coral.i18n.set: Too many arguments provided.");if("string"!=typeof o[0]||"string"!=typeof o[1]||"string"!=typeof o[2])throw new Error("Coral.i18n.set: All arguments must be of string type.");t=o[0],e=o[1],"null"!==(i=o[2])&&(t="".concat(t,"/[translation hint:").concat(i.replace(/&period;/g,"."),"]")),ka.generic[this._locale][t]=e}return this}},{key:"get",value:function(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];if(0===e.length)return"";var a,o=e[0].replace(".","&period;"),r=o.match(this._evaluate),s=r?r.length:0,l="",c={},u=0;if(null!==e[1]&&"object"===n(e[1])){c=e[1];var h="";for(a=0;a<r.length;a++)if(h=r[a].slice(1).slice(0,-1),null===c[h]||void 0===c[h])throw new Error('Coral.i18n.get: Named key "'.concat(h,'" not present in provided object.'));"string"==typeof e[2]&&(l=e[2])}else{if((u=e.length-1)===s+1)l=e[e.length-1];else if(u!==s)throw new Error("Coral.i18n.get: Number of variable placeholders (".concat(s,") does not match number of variables (").concat(u,")."));for(a=0;a<u;a++)c[a]=e[a+1]}l&&(o="".concat(o,"/[translation hint:").concat(l,"]"));var d=o;for(var p in ka)void 0!==ka[p]&&void 0!==ka[p][this._locale]&&(d=ka[p][this._locale][o]||d);return 0===s?d:d.replace(this._evaluate,(function(t){return t=t.slice(1).slice(0,-1),c[t]}))}},{key:"locale",get:function(){return this._locale},set:function(t){this._locale=t}}]),t}())({locale:{en:"en-US","en-us":"en-US",cs:"cs-CZ","cs-cz":"cs-CZ",da:"da-DK","da-dk":"da-DK",de:"de-DE","de-de":"de-DE",es:"es-ES","es-es":"es-ES",fi:"fi-FI","fi-fi":"fi-FI",fr:"fr-FR","fr-fr":"fr-FR",it:"it-IT","it-it":"it-IT",ja:"ja-JP","ja-jp":"ja-JP",ko:"ko-KR","ko-kr":"ko-KR",nb:"nb-NO","nb-no":"nb-NO",nl:"nl-NL",pl:"pl-PL","pl-pl":"pl-PL","nl-nl":"nl-NL",pt:"pt-BR","pt-br":"pt-BR",ru:"ru-RU","ru-ru":"ru-RU",sv:"sv-SE","sv-se":"sv-SE",tr:"tr-TR","tr-tr":"tr-TR","zh-cn":"zh-CN","zh-hans-cn":"zh-CN","zh-hans":"zh-CN","zh-tw":"zh-TW","zh-hant-tw":"zh-TW","zh-hant":"zh-TW"}[document.documentElement.lang.toLowerCase()]||"en-US"}),xa={"â§":16,shift:16,"â¥":18,alt:18,option:18,"â":17,ctrl:17,control:17,"â":91,cmd:91,command:91,meta:91},Ta={16:!0,17:!0,18:!0,91:!0,224:!0},Sa=["shiftKey","ctrlKey","altKey","metaKey"],Ea={96:48,97:49,98:50,99:51,100:52,101:53,102:54,103:55,104:56,105:57},Ia={backspace:8,tab:9,return:13,pause:19,capslock:20,esc:27,escape:27,space:32,pageup:33,pagedown:34,end:35,home:36,left:37,up:38,right:39,down:40,insert:45,del:46,delete:46,period:190,plus:107,minus:189,f1:112,f2:113,f3:114,f4:115,f5:116,f6:117,f7:118,f8:119,f9:120,f10:121,f11:122,f12:123,f13:124,f14:125,f15:126,f16:127,f17:128,f18:129,f19:130,numlock:144,scroll:145},La=/(.*?)(\..+)$/,Na=/^[\x20\t\r\n\f]*[>+~]/,Ma={INPUT:!0,SELECT:!0,TEXTAREA:!0,"CORAL-SELECTLIST-ITEM":!0};function Oa(t){return Ea[t]||t}function Da(t){switch(t){case"enter":return"return";case" ":return"space";case"arrowup":return"up";case"arrowdown":return"down";case"arrowleft":return"left";case"arrowright":return"right";default:return t}}function Fa(t){t=Da(t.toLowerCase());var e=Ia[t]||xa[t];if(!e&&t.length>1)throw new Error("Coral.Keys: Key ".concat(t," not recognized"));return e||t.toUpperCase().charCodeAt(0)}function Pa(t,e,i){var n=[];if(!e||!i.key||t.indexOf("+")>0)return e;for(var a=Da(i.key.toLowerCase()),o=0;o<e.length;o++)0!==e[o].originalString.indexOf(a)&&0!==a.indexOf(e[o].originalString)||n.push(e[o]);return n}var Ra=function(){function t(e,i){if(a(this,t),i=i||{},void 0===e)throw new Error("Coral.Keys: Cannot create a combo handler for ".concat(e));this._el="string"==typeof e?document.querySelector(e):e,this._context=i.context,this._filter=i.filter||this.constructor.filterInputs,this._preventDefault=i.preventDefault||!1,this._stopPropagation=i.stopPropagation||!1,this._keyListeners=[],this._keySequences=[],this._currentKeys=[],this._currentKeyCombo=[],this._sequenceTimeout=null,this._handleKeyDown=this._handleKeyDown.bind(this),this._handleKeyUp=this._handleKeyUp.bind(this),this._resetSequence=this._resetSequence.bind(this),this.reset=this.reset.bind(this),this.init()}return r(t,[{key:"_resetSequence",value:function(){window.clearTimeout(this._sequenceTimeout),this._keySequences.forEach((function(t){t.currentPart=0}))}},{key:"_setCurrentKeyCombo",value:function(t){for(var e=[],i=0;i<Sa.length;i++){var n=Sa[i];t[n]&&e.push(xa[n.slice(0,-3)])}this._currentKeyCombo=this._currentKeys.concat(e).sort().join("+")}},{key:"reset",value:function(){return this._currentKeys=[],this._currentKeyCombo="",this}},{key:"_processSequences",value:function(){var t=this,e=[];return this._keySequences.forEach((function(i){i.parts[i.currentPart]===t._currentKeyCombo?i.currentPart++:i.currentPart=0,i.currentPart===i.parts.length&&(e.push(i),i.currentPart=0)})),e}},{key:"_executeListeners",value:function(t,e){if(this._currentKeyCombo&&this._filter(t)){var i,n=t.target||t.srcElement,a="[object Window]"===Object.prototype.toString.call(t.currentTarget)?t.currentTarget.document:t.currentTarget,o=[],r=this._keyListeners[this._currentKeyCombo];if(r=Pa(this._currentKeyCombo,r,t),e||r||t.key&&(r=this._keyListeners[t.key.charCodeAt(0)],r=Pa(this._currentKeyCombo,r,t)),e||(i=this._processSequences()),r&&r.length&&(o=o.concat(r)),i&&i.length&&(o=o.concat(i)),o&&o.length){for(var s=0;s<o.length;s++){var l=o[s];if(l.selector){var c="";if(l.needsContext&&(a.id=a.id||da.getUID(),c="#".concat(a.id," ")),!(Array.prototype.indexOf.call(a.querySelectorAll(c+l.selector),n)>=0))continue}void 0!==l.data&&(t.data=l.data),t.matchedTarget=n,t.keys=l.originalString,l.listener.call(this._context||a,t)}this._preventDefault&&t.preventDefault(),this._stopPropagation&&t.stopPropagation()}}}},{key:"_handleKeyDown",value:function(t){window.clearTimeout(this._sequenceTimeout),this._sequenceTimeout=window.setTimeout(this._resetSequence,this.constructor.sequenceTime);var e=Oa(t.keyCode);Ta[e]||(-1===this._currentKeys.indexOf(e)&&(this._currentKeys.push(e),this._setCurrentKeyCombo(t)),this._executeListeners(t),t.metaKey&&this.reset(),t.target.parentNode||this.reset())}},{key:"_handleKeyUp",value:function(t){var e=Oa(t.keyCode);if(Ta[e])this.reset();else{var i=this._currentKeys.indexOf(e);-1!==i&&(this._currentKeys.splice(i,1),this._setCurrentKeyCombo(t),this._executeListeners(t,!0))}}},{key:"_keySequenceStringToArray",value:function(t){return t.toString().split("-").map(this._keyComboToCodeString)}},{key:"on",value:function(t,e,i,a){if("object"===n(t)){for(var o in"string"!=typeof e&&(i=i||e,e=void 0),t)this.on(o,e,i,t[o]);return this}if(void 0===i&&void 0===a?(a=e,i=e=void 0):void 0===a&&("string"==typeof e?(a=i,i=void 0):(a=i,i=e,e=void 0)),"function"!=typeof a)throw new Error("Coral.Keys: Cannot add listener of type ".concat(n(a)));var r,s=La.exec(t);s&&(t=s[1],r=s[2]);var l=!!e&&Na.test(e);if(-1!==t.toString().indexOf("-")&&t.toString().length>1){var c=this._keySequenceStringToArray(t);this._keySequences.push({originalString:t,currentPart:0,parts:c,needsContext:l,selector:e,listener:a,data:i,namespace:r})}else{var u=t.toString();t=this._keyComboToCodeString(t),(this._keyListeners[t]=this._keyListeners[t]||[]).push({originalString:u,needsContext:!!e&&Na.test(e),selector:e,listener:a,data:i,namespace:r})}return this}},{key:"_offByKeyComboString",value:function(t,e,i,n){var a,o=this._keyListeners[t];if(o&&o.length)if(void 0===i&&void 0===n&&void 0===e)o.length=0;else if(void 0===n)for(a=0;a<o.length;a++)o[a].selector===i&&o[a].namespace===e&&(o.splice(a,1),a--);else for(a=0;a<o.length;a++)o[a].listener===n&&o[a].selector===i&&o[a].namespace===e&&(o.splice(a,1),a--)}},{key:"off",value:function(t,e,i){var n,a;void 0===i&&(i=e,e=void 0);var o=La.exec(t);if(o&&(t=o[1],a=o[2]),""===t&&void 0!==a){for(t in this._keyListeners)this._offByKeyComboString(t,a,e,i);for(n=0;n<this._keySequences.length;n++)this._keySequences[n].namespace===a&&(this._keySequences.splice(n,1),n--);return this}if(-1!==t.indexOf("-"))for(n=0;n<this._keySequences.length;n++)void 0!==t&&this._keySequences[n].originalString!==t||void 0!==i&&this._keySequences[n].listener!==i||void 0!==e&&this._keySequences[n].selector!==e||void 0!==a&&this._keySequences[n].namespace!==a||(this._keySequences.splice(n,1),n--);else t=this._keyComboToCodeString(t),this._offByKeyComboString(t,a,e,i);return this}},{key:"destroy",value:function(t){return t||(this._keyListeners=null,this._currentKeys=null,this._currentKeyCombo=null,this._el.removeEventListener("keydown",this._handleKeyDown)),window.removeEventListener("keyup",this._handleKeyUp,!0),window.removeEventListener("focus",this.reset),this}},{key:"init",value:function(t){return t||(this._currentKeys=[],this._currentKeyCombo="",this._keyListeners={},this._keySequences=[],this._el.addEventListener("keydown",this._handleKeyDown)),this.destroy(!0),window.addEventListener("keyup",this._handleKeyUp,!0),window.addEventListener("focus",this.reset),this}},{key:"_keyComboToCodeString",value:function(t){return"+"===t?Fa(t):t.toString().split("+").map(Fa).sort().join("+")}}],[{key:"filterInputs",value:function(t){if(t.keyCode===Ia.escape)return!0;var e=t.target,i=e.tagName;return!e.isContentEditable&&!Ma[i]}},{key:"keyToCode",value:function(t){return Fa(t)}},{key:"sequenceTime",get:function(){return 1500}}]),t}(),Ha=new Ra(document.documentElement,{stopPropagation:!0,preventDefault:!0}),Ua=new(function(){function t(){a(this,t)}return r(t,[{key:"boolean",value:function(t){return!!t}},{key:"booleanAttr",value:function(t){return"boolean"==typeof t?t:!(null==t)}},{key:"number",value:function(t){return t=parseFloat(t),isNaN(t)?null:t}},{key:"float",value:function(t){return/^(-|\+)?([0-9]+(\.[0-9]+)?|Infinity)$/.test(t)?Number(t):null}},{key:"string",value:function(t){return null==t?"":"string"==typeof t?t:String(t)}}]),t}()),Ba=new(function(){function t(){a(this,t)}return r(t,[{key:"valueMustChange",value:function(t,e){return t!==e}},{key:"enumeration",value:function(t){var e=da.swapKeysAndValues(t);return function(t){return void 0!==e[t]}}}]),t}()),za=new(function(){function t(){a(this,t),this._trackers=[]}return r(t,[{key:"_isTrackingDisabledForComponent",value:function(t){return t&&void 0!==t.tracking&&t.tracking===t.constructor.tracking.OFF}},{key:"_getTrackingDataFromComponentAttr",value:function(t){return this._isTrackingDisabledForComponent(t)?{trackingElement:"",trackingFeature:""}:{trackingFeature:t.trackingFeature||"",trackingElement:t.trackingElement||""}}},{key:"_createTrackingData",value:function(t,e,i,n,a){var o=(n.getAttribute("is")||n.tagName).toLowerCase(),r=this._getTrackingDataFromComponentAttr(n);return{targetType:e||o||"",targetElement:a&&a.trackingElement?a.trackingElement:n.trackingElement,eventType:t||i.type,rootElement:r.trackingElement,rootFeature:r.trackingFeature,rootType:o}}},{key:"addListener",value:function(t){if("function"!=typeof t)throw new Error("Coral.Tracking: Tracker must be a function callback.");if(-1!==this._trackers.indexOf(t))throw new Error("Coral.Tracking: Tracker callback cannot be added twice.");this._trackers.push(t)}},{key:"removeListener",value:function(t){this._trackers=this._trackers.filter((function(e){return e!==t}))}},{key:"track",value:function(t,e,i,n,a){if(0===this._trackers.length||this._isTrackingDisabledForComponent(n)||this._isTrackingDisabledForComponent(a))return!1;var o=Array.prototype.slice.call(arguments,[2]),r=this._createTrackingData(t,e,i,n,a);return this._trackers.forEach((function(t){t.apply(null,[r].concat(o))})),!0}}]),t}()),qa=/^(\S+)\s*(.*)$/,Va=Node.ELEMENT_NODE;function $a(t,e,i){if("function"==typeof i)return i;if("string"==typeof i){if(!t[i])throw new Error("Coral.Component: Unable to add "+e+" listener for "+t.toString()+", method "+i+" not found");var a=t[i];if("function"!=typeof a)throw new Error("Coral.Component: Unable to add "+e+" listener for "+t.toString()+", listener is a "+n(a)+" but should be a function");return a}if(i)throw new Error("Coral.Component: Unable to add "+e+" listener for "+t.toString()+", "+i+" is neither a method name or a function");return null}var ja=function(){throw new Error("Coral.Component is not meant to be invoked directly. Inherit from its prototype instead.")};for(var Wa in(ja.prototype=Object.create(HTMLElement.prototype))._properties={},ja.prototype.toString=function(){return this._namespace===window.Coral?"Coral.".concat(this._componentName):this._componentName},ja.prototype._events={},ja.prototype.createdCallback=function(){var t,e,i,n,a;this.toString!==ja.prototype.toString&&(this.toString=ja.prototype.toString),this._setProps={},this._syncQueue=[],this._syncDOM=this._syncDOM.bind(this),this._vent=new Vent(this),this._className&&this.classList.add.apply(this.classList,this._className.split(" ")),this._elements={},"function"==typeof this._render&&this._render(),this._contentZones={};var o={};for(t in this._properties)(n=this._properties[t]).contentZone&&(this._contentZones[n.tagName]&&da._log("warn",'Coral.Component: content zone for "%s" is already defined',n.tagName),this._contentZones[n.tagName]=t),e=n.attribute||t,o[t]=this.getAttribute(e);for(t in this._properties){if(a=(n=this._properties[t])._methods,null!==(i=o[t])&&(a.attributeTransform&&(i=a.attributeTransform.call(this,i,n.default)),n.transform&&(i=a.transform.call(this,i,n.default)),a.validate))for(var r=0;r<a.validate.length;r++)if(!a.validate[r].call(this,i)){i=null;break}if(null===i){if(this._setProps[t])continue;if(void 0===(i="function"==typeof n.default?n.default.call(this):n.default))continue}this.set(t,i,!0)}this._delegateEvents(),"function"==typeof this._initialize&&this._initialize(),Object.keys(this._contentZones).length&&(this._observer=new MutationObserver(this._handleContentZones.bind(this)),this._observer.observe(this,{childList:!0,subtree:!1})),this._componentReady=!0},ja.prototype._handleContentZones=function(t){for(var e,i,n,a,o,r,s=0,l=t.length;s<l;s++){i=(e=t[s]).addedNodes;for(var c=0,u=(n=e.removedNodes).length;c<u;c++)(a=n[c]).nodeType===Va&&(o=a.tagName.toLowerCase(),(r=this._contentZones[o])&&this[r]===a&&null===a.parentNode&&(this[r]=void 0));for(var h=0,d=i.length;h<d;h++)(a=i[h]).nodeType===Va&&(o=a.tagName.toLowerCase(),(r=this._contentZones[o])&&this[r]!==a&&(this[r]=a))}},ja.prototype._filterKeys=function(){return!0},ja.prototype.attachedCallback=function(){this.trigger("coral-component:attached"),this._delegateGlobalEvents()},ja.prototype.detachedCallback=function(){this.trigger("coral-component:detached"),this._undelegateGlobalEvents()},ja.prototype.attributeChangedCallback=function(t,e,i){var n=this._attributes[t]||t,a=this._properties[n];if(void 0!==a){if(null===a.attribute)return;["attributeTransform","transform"].forEach((function(t){var e=a._methods[t];e&&(i=e.call(this,i,a.default))}),this),i!==this[n]&&(this[n]=i)}this._properties["_"+n]&&this._properties["_"+n].set.call(this,i)},ja.prototype._queueSync=function(){for(var t=0,e=arguments.length;t<e;t++){var i=arguments[t],n=this._syncQueue.indexOf(i);-1!==n&&this._syncQueue.splice(n,1),this._syncQueue.push(i)}this._syncPending||(window.requestAnimationFrame(this._syncDOM),this._syncPending=!0)},ja.prototype._syncProp=function(t,e){var i=this._properties[t].sync;if(i?i.call(this):da._log("warn","Coral.Component: sync method for %s is not defined",t),!e){var n=this._syncQueue.indexOf(t);-1!==n&&this._syncQueue.splice(n,1)}},ja.prototype._syncDOM=function(){for(var t;t=this._syncQueue.shift();)this._syncProp(t,!0);this._syncPending=!1},ja.prototype._delegateEvents=function(){var t,e,i,n,a,o,r,s,l,c;for(i in this._events)if(n=this._events[i],e=(t=i.match(qa))[1]+".CoralComponent",""===(a=t[2])&&(a=void 0),n=$a(this,e,n)){if(n=n.bind(this),(r=0===e.indexOf("global:"))&&(e=e.substr(7)),(c=0===e.indexOf("capture:"))&&(e=e.substr(8)),s=0===e.indexOf("key:")){if(c)throw new Error("Coral.Keys does not currently support listening to key events with capture");e=e.substr(4)}if((l=0===e.indexOf("resize"))&&c)throw new Error("Coral.commons.addResizeListener does not currently support listening to resize event with capture");if(r)s?(this._globalKeys=this._globalKeys||[],this._globalKeys.push({keyCombo:e,selector:a,listener:n})):(this._globalEvents=this._globalEvents||[],this._globalEvents.push({eventName:e,selector:a,listener:n,isCapture:c}));else if(s)this._keys=this._keys||new Ra(this,{filter:this._filterKeys,context:this}),this._keys.on(e,a,n);else if(l)if(a){o=document.querySelectorAll(a);for(var u=0;u<o.length;++u)da.addResizeListener(o[u],n)}else da.addResizeListener(this,n);else this._vent.on(e,a,n,c)}},ja.prototype._undelegateGlobalEvents=function(){var t;if(this._globalEvents)for(t=0;t<this._globalEvents.length;t++){var e=this._globalEvents[t];pa.off(e.eventName,e.selector,e.listener,e.isCapture)}if(this._globalKeys)for(t=0;t<this._globalKeys.length;t++){var i=this._globalKeys[t];Ha.off(i.keyCombo,i.selector,i.listener)}return this._keys&&this._keys.destroy(!0),this},ja.prototype._delegateGlobalEvents=function(){var t;if(this._globalEvents)for(t=0;t<this._globalEvents.length;t++){var e=this._globalEvents[t];pa.on(e.eventName,e.selector,e.listener,e.isCapture)}if(this._globalKeys)for(t=0;t<this._globalKeys.length;t++){var i=this._globalKeys[t];Ha.on(i.keyCombo,i.selector,i.listener)}return this._keys&&this._keys.init(!0),this},ja.prototype.on=function(t,e,i,n){return this._vent.on(t,e,i,n),this},ja.prototype.off=function(t,e,i,n){return this._vent.off(t,e,i,n),this},ja.prototype.trigger=function(t,e,i,n){i=i||void 0===i,n=n||void 0===n;var a=new CustomEvent(t,{bubbles:i,cancelable:n,detail:e}),o=!1;try{o=!this.dispatchEvent(a)}catch(t){}if(o!==a.defaultPrevented){var r=Object.create(a);return Object.defineProperty(r,"defaultPrevented",{value:o}),r}return a},ja.prototype.remove=function(){this.parentNode&&this.parentNode.removeChild(this)},ja.prototype._doSet=function(t,e,i){var a=this._properties&&this._properties[t];a?!a.contentZone||e instanceof HTMLElement||!this[t].set?a.contentZone&&!(e instanceof HTMLElement)&&"object"===n(e)&&this[t]instanceof HTMLElement?Object.keys(e).forEach((function(t){this[t]=e[t]}),this[t]):a._methods&&a._methods.set?a._methods.set.call(this,e,!!i):this[t]=e:this[t].set(e):this[t]=e},ja.prototype.set=function(t,e,i){var n,a,o;if("string"==typeof t)n=t,o=e,this._doSet(n,o,i);else for(n in i=e,a=t)o=a[n],this._doSet(n,o,i);return this},ja.prototype.get=function(t){return this[t]},ja.prototype.show=function(){return this.hidden?(this.hidden=!1,this):this},ja.prototype.hide=function(){return this.hidden||(this.hidden=!0),this},ja.prototype._methods={},ja.prototype)ja.prototype.hasOwnProperty(Wa)&&(ja.prototype._methods[Wa]=ja.prototype[Wa]);var Ka={extend:!0,properties:!0,events:!0,_elements:!0,name:!0,namespace:!0,tagName:!0,baseTagName:!0,className:!0};function Ga(){}function Za(t){return t}function Xa(t){if(!t)return Ga;if("function"==typeof t)return t;var e=t;return function(t,i){return this.trigger(e,{oldValue:i,value:t})}}function Qa(t,e,i){var n;if("function"==typeof i.triggerBefore||"string"==typeof i.triggerBefore)n=i.triggerBefore;else if(!0===i.triggerBefore){if("string"!=typeof i.trigger||-1===i.trigger.indexOf(":"))throw new Error('Coral.register: Cannot automatically set "before" event name unless descriptor.trigger is a string that conatins a colon');n=i.trigger.replace(":",":before")}i.set=i.set||function(t){var e="_"+t;return function(t){this[e]=t}}(e),i.get=i.get||function(t){var e="_"+t;return function(){return this[e]}}(e);var a=i._methods;if(i._methods={},a)for(var o in a)i._methods[o]=a[o];i._methods.triggerBefore=Xa(n),i._methods.trigger=Xa(i.trigger),i._methods.transform=i.transform||Za,i._methods.attributeTransform=i.attributeTransform||Za,i._methods.reflectAttribute=function(t,e){if(!e.reflectAttribute)return Ga;var i=e.attribute||t;return function(t,e){!1===t||null===t?this.removeAttribute(i):(!0===t&&(t=""),this.getAttribute(i)!==t&&this.setAttribute(i,t))}}(e,i),i._methods.queueSync=function(t,e){var i=e.alsoSync;return e.sync||i?i?(Array.isArray(i)?i.unshift(t):i=[t,i],function(t){this._queueSync.apply(this,i)}):function(e){this._queueSync(t)}:Ga}(e,i),i._methods.validate=function(t){return t.validate?Array.isArray(t.validate)?t.validate:[t.validate]:[Ba.valueMustChange]}(i),i.attribute?t._attributes[i.attribute]=e:t._attributes[i.attribute]=null,t._properties[e]=i}function Ya(t,e){for(var i in e)e[i]&&Ja(t,i,e[i])}function Ja(t,e,i){if("function"==typeof i&&!(i=i(t,e)))throw new Error("Coral.register.defineProperty: Property function did not return a descriptor for "+e);Qa(t,e,i);var n=i._methods.set=function(t){return function(e,i){var n=this._properties[t],a=n._methods,o=a.transform.call(this,e,this._properties[t].default),r=this[t],s=this;if(!a.validate.some((function(t){return!t.call(s,o,r)}))){if(!i){var l=a.triggerBefore.call(this,o,r);if(l&&l.defaultPrevented)return}n.set.call(this,o,i),a.reflectAttribute.call(this,o),a.queueSync.call(this),i||a.trigger.call(this,o,r),this._setProps[t]=!0}}}(e),a=i._methods.get=function(t){return function(){return this._properties[t].get.call(this)}}(e);Object.defineProperty(t,e,{enumerable:!0,configurable:!1,set:n,get:a})}var to={};var eo=function(t){t.extend&&!t.extend.prototype._methods&&(t.extend=ja);var e,i=(t.extend||ja).prototype,n=i,a=t.properties?da.extend({},t.properties):{};t.baseTagName&&(e=t.baseTagName,to[e]=to[e]||Object.getPrototypeOf(document.createElement(e)),n=to[e]);var o=Object.create(n);if(o._proto=i,t.baseTagName){for(var r=[],s=i;s&&s._methods;)r.unshift(s),s=s._proto;for(;s=r.shift();)for(var l in s._methods)o[l]=s[l]}o._attributes=da.extend({},i._attributes),o._properties={},o._events=da.extend({},i._events,t.events),o._elements=da.extend({},i._elements,t._elements),o._componentName=t.name,o._namespace=t.namespace||window.Coral,o._className=t.className;var c=o._methods={};for(var u in t)Ka[u]||(o[u]=c[u]=t[u]);for(var h in t.mixins&&da.mixin(o,t.mixins,{properties:a}),da.augment(o._properties,i._properties,a,(function(t,e,i){if(!e)return null;if(!0===e.override)return e;var n=da.augment({},e,t,io);return Qa(o,i,n),a[i]=void 0,n})),o._properties)o._properties[h]||delete o._properties[h];t.baseTagName?Ya(o,o._properties):Ya(o,a);var d={prototype:o};t.baseTagName&&(d.extends=t.baseTagName);var p=document.registerElement(t.tagName,d);return da.setSubProperty(t.namespace||window.Coral||window,t.name,p),p};function io(t,e,i){switch(i){case"sync":case"set":return n=e,a=t,function(){n.apply(this,arguments),a.apply(this,arguments)};default:return t}var n,a}eo.defineProperties=Ya,eo.defineProperty=Ja,eo.augmentProperties=function(t,e,i){da.augment(t,e,(function(t,e,n){return!0===t.override?t:da.augment({},t,e,i||io)}))};var no={proxy:function(t){var e=t.path;function i(t,i){da.setSubProperty(this,e,t)}function n(){return da.getSubProperty(this,e)}var a=function(a,o){var r="_"+o;return t.needsDOMSync?(t.sync=function(){da.setSubProperty(this,e,this[r]),this[r]=void 0},t.set=function(t,e){this[r]=t},t.get=function(){return void 0===this[r]?da.getSubProperty(this,e):this[r]}):(t.set=i,t.get=n,t.sync=null),t};return a.override=void 0===t.override||t.override,a},proxyAttr:function(t){var e=t.attribute,i=t.handle,n=function(n,a){return da.extend({attribute:e,set:function(t){this._elements[i][!1===t||null===t?"removeAttribute":"setAttribute"](e,t)},get:function(){return this._elements[i].getAttribute(e)}},t)};return n.override=void 0===t.override||t.override,n},contentZone:function(t){var e=t.handle,i=t.tagName,n=t.set,a=t.get,o=t.insert;return function(r,s){return t.defaultContentZone&&Object.defineProperty(r,"defaultContentZone",{set:function(t){this[s]=t},get:function(){return this[s]}}),da.extend({},t,{contentZone:!0,set:function(t){var a;if(t){if(!(t instanceof HTMLElement))throw new Error('DOMException: Failed to set the "'+s+'" property on "'+this.toString()+'": The provided value is not of type "HTMLElement".');if(i&&t.tagName.toLowerCase()!==i)throw new Error('DOMException: Failed to set the "'+s+'" property on "'+this.toString()+'": The new '+s+' element is of type "'+t.tagName+'". It must be a "'+i.toUpperCase()+'" element.');a=this._elements[e],o?(a&&a.parentNode&&a.parentNode.removeChild(a),o.call(this,t)):a&&a.parentNode?(da._log("warn",this._componentName+" does not define an insert method for content zone "+e+", falling back to replace."),this._elements[e].parentNode.replaceChild(t,this._elements[e])):(da._log("error",this._componentName+" does not define an insert method for content zone "+e+", falling back to append."),this.appendChild(t))}else(a=this._elements[e])&&a.parentNode&&a.parentNode.removeChild(a);this._elements[e]=t,"function"==typeof n&&n.call(this,t)},get:a||function(){return this._elements[e]}})}}};window.Vent=window.Vent||ia;var ao=/^(\S+)\s*(.*)$/,oo={ON:"on",OFF:"off"},ro=function(t,e,i){if("function"==typeof i)return i;if("string"==typeof i){if(!t[i])throw new Error("Coral.Component: Unable to add ".concat(e," listener for ").concat(t.toString(),", method\n      ").concat(i," not found"));var a=t[i];if("function"!=typeof a)throw new Error("Coral.Component: Unable to add ".concat(e," listener for ").concat(t.toString(),", listener is a\n      ").concat(n(a)," but should be a function"));return a}if(i)throw new Error("Coral.Component: Unable to add ".concat(e," listener for ").concat(t.toString(),", ").concat(i,"\n    is neither a method name or a function"));return null},so=function(){var t,e,i,n,a,o,r,s,l,c;for(i in this._events)if(n=this._events[i],t=i.match(ao),e="".concat(t[1],".CoralComponent"),""===(a=t[2])&&(a=void 0),n=ro(this,e,n)){if(n=n.bind(this),(r=0===e.indexOf("global:"))&&(e=e.substr(7)),(c=0===e.indexOf("capture:"))&&(e=e.substr(8)),s=0===e.indexOf("key:")){if(c)throw new Error("Coral.Keys does not currently support listening to key events with capture");e=e.substr(4)}if((l=0===e.indexOf("resize"))&&c)throw new Error("Coral.commons.addResizeListener does not currently support listening to resize event with capture");if(r)s?(this._globalKeys=this._globalKeys||[],this._globalKeys.push({keyCombo:e,selector:a,listener:n})):(this._globalEvents=this._globalEvents||[],this._globalEvents.push({eventName:e,selector:a,listener:n,isCapture:c}));else if(s)this._keys=this._keys||new Ra(this,{filter:this._filterKeys,context:this}),this._keys.on(e,a,n);else if(l)if(a){o=document.querySelectorAll(a);for(var u=0;u<o.length;++u)da.addResizeListener(o[u],n)}else da.addResizeListener(this,n);else this._vent.on(e,a,n,c)}},lo=function(){var t;if(this._globalEvents)for(t=0;t<this._globalEvents.length;t++){var e=this._globalEvents[t];pa.on(e.eventName,e.selector,e.listener,e.isCapture)}if(this._globalKeys)for(t=0;t<this._globalKeys.length;t++){var i=this._globalKeys[t];Ha.on(i.keyCombo,i.selector,i.listener)}this._keys&&this._keys.init(!0)},co=function(){var t;if(this._globalEvents)for(t=0;t<this._globalEvents.length;t++){var e=this._globalEvents[t];pa.off(e.eventName,e.selector,e.listener,e.isCapture)}if(this._globalKeys)for(t=0;t<this._globalKeys.length;t++){var i=this._globalKeys[t];Ha.off(i.keyCombo,i.selector,i.listener)}this._keys&&this._keys.destroy(!0)},uo=/[A-Z]/g,ho=function(t){return function(t){s(i,t);var e=d(i);function i(){var t;return a(this,i),(t=e.call(this))._vent=new ia(u(t)),t._events={},t._contentZones&&(t._contentZoneObserver=new MutationObserver((function(e){e.forEach((function(e){for(var i=0;i<e.addedNodes.length;i++){var n=e.addedNodes[i];for(var a in t._contentZones){var o=t._contentZones[a];n.nodeName.toLowerCase()!==a||n._contentZoned||(t[o]=n)}}}))})),t._contentZoneObserver.observe(u(t),{childList:!0,subtree:!0})),t}return r(i,[{key:"_filterKeys",value:function(){return!0}},{key:"_delegateEvents",value:function(t){this._events=da.extend(this._events,t),so.call(this),lo.call(this),this._events={}}},{key:"_getContentZone",value:function(t){return document.documentElement.contains(this)?this.contains(t)&&t||null:t}},{key:"_setContentZone",value:function(t,e,i){var n,a=i.handle,o=i.tagName,r=i.set,s=i.insert;if(e){if(!(e instanceof HTMLElement))throw new Error('DOMException: Failed to set the "'.concat(t,'" property on "').concat(this.toString(),'":\n        The provided value is not of type "HTMLElement".'));if(o&&e.tagName.toLowerCase()!==o)throw new Error('DOMException: Failed to set the "'.concat(t,'" property on "').concat(this.toString(),'": The new\n        ').concat(t,' element is of type "').concat(e.tagName,'". It must be a "').concat(o.toUpperCase(),'" element.'));n=this._elements[a],e._contentZoned=!0,s?(n&&n.parentNode&&n.parentNode.removeChild(n),s.call(this,e)):n&&n.parentNode?(da._log("warn","".concat(this._componentName," does not define an insert method for content zone ").concat(a,", falling back to replace.")),this._elements[a].parentNode.replaceChild(e,this._elements[a])):(da._log("error","".concat(this._componentName," does not define an insert method for content zone ").concat(a,", falling back to append.")),this.appendChild(e))}else(n=this._elements[a])&&n.parentNode&&n.parentNode.removeChild(n);this._elements[a]=e,"function"==typeof r&&r.call(this,e)}},{key:"_reflectAttribute",value:function(t,e){"boolean"==typeof e?e&&!this.hasAttribute(t)?(this._reflectedAttribute=!0,this.setAttribute(t,""),this._reflectedAttribute=!1):!e&&this.hasAttribute(t)&&(this._reflectedAttribute=!0,this.removeAttribute(t),this._reflectedAttribute=!1):this.getAttribute(t)!==String(e)&&(this._reflectedAttribute=!0,this.setAttribute(t,e),this._reflectedAttribute=!1)}},{key:"_trackEvent",value:function(t,e,i,n){return this.tracking===this.constructor.tracking.ON&&za.track(t,e,i,this,n),this}},{key:"toString",value:function(){return"Coral.".concat(this._componentName)}},{key:"on",value:function(t,e,i,n){return this._vent.on(t,e,i,n),this}},{key:"off",value:function(t,e,i,n){return this._vent.off(t,e,i,n),this}},{key:"trigger",value:function(t,e,i,n){i=i||void 0===i,n=n||void 0===n;var a=new CustomEvent(t,{bubbles:i,cancelable:n,detail:e});if(this._silenced)return a;var o=!1;try{o=!this.dispatchEvent(a)}catch(t){}if(o!==a.defaultPrevented){var r=Object.create(a);return Object.defineProperty(r,"defaultPrevented",{value:o}),r}return a}},{key:"set",value:function(t,e,i){var n,a,o=this,r=function(t,e){!function(t){return o._contentZones&&da.swapKeysAndValues(o._contentZones)[t]}(t)?(o._silenced=i,o[t]=e,o._silenced=!1):function(t,e){if(o[t]instanceof HTMLElement&&!(e instanceof HTMLElement))for(var i in e)o[t][i]=e[i];else o[t]=e}(t,e)};if("string"==typeof t)r(n=t,e);else for(n in i=e,a=t)r(n,a[n]);return this}},{key:"get",value:function(t){return this[t]}},{key:"show",value:function(){return this.hidden?(this.hidden=!1,this):this}},{key:"hide",value:function(){return this.hidden||(this.hidden=!0),this}},{key:"attributeChangedCallback",value:function(t,e,i){this._reflectedAttribute||(this[this.constructor._attributePropertyMap[t]||t]=i)}},{key:"connectedCallback",value:function(){this._disconnected&&(lo.call(this),this._disconnected=!1),this._rendered||this.render()}},{key:"render",value:function(){this._rendered=!0}},{key:"disconnectedCallback",value:function(){this._disconnected=!0,co.call(this)}},{key:"tracking",get:function(){return this._tracking||this.getAttribute("tracking")||oo.ON},set:function(t){t=Ua.string(t).toLowerCase(),this._tracking=Ba.enumeration(oo)(t)&&t||oo.ON}},{key:"trackingFeature",get:function(){return this._trackingFeature||this.getAttribute("trackingFeature")||""},set:function(t){this._trackingFeature=Ua.string(t)}},{key:"trackingElement",get:function(){return this._trackingElement||this.getAttribute("trackingElement")||""},set:function(t){this._trackingElement=Ua.string(t)}},{key:"_componentName",get:function(){return this.constructor._componentName||function(t){var e=[],i=t;if(!t._namespace){!function t(e,i){var a=!1,o=n(e);if(e&&"object"===o||"function"===o)for(var r=Object.keys(e),s=0;s<r.length;s++){var l=r[s];if(null!==l[0].match(uo)){if(e[l]._namespace={parent:e,value:l},a=e[l]===i)break;a=t(e[l],i)}}return a}(window.Coral,t)}for(;t;)t._namespace?(e.push(t._namespace.value),t=t._namespace.parent):t=!1;return i._componentName=e.reverse().join("."),i._componentName}(this.constructor)}}],[{key:"tracking",get:function(){return oo}},{key:"_attributePropertyMap",get:function(){return{trackingelement:"trackingElement",trackingfeature:"trackingFeature"}}},{key:"observedAttributes",get:function(){return["tracking","trackingelement","trackingfeature","trackingFeature"]}}]),i}(t)},po="button,input:not([type=hidden]),keygen,meter,output,progress,select,textarea";(-1!==navigator.userAgent.indexOf("MSIE")||navigator.appVersion.indexOf("Trident/")>0)&&(po="button,keygen,meter,output,progress,select,textarea,",["text","password","submit","reset","radio","checkbox","button","color","date","datetime-local","email","month","number","range","search","tel","time","url","week"].forEach((function(t){po+="input[type=".concat(t,"],")})),po=po.slice(0,-1));var mo=function(t){return function(t){s(i,t);var e=d(i);function i(){var t;return a(this,i),(t=e.call(this))._events={"capture:change input":"_onTargetInputChange","global:reset":"_onFormReset"},t}return r(i,[{key:"_getLabellableElement",value:function(){return this._labellableElement||this.querySelector(po)||this}},{key:"_getTargetChangeInput",value:function(){return this._targetChangeInput||(this._targetChangeInput=this._getLabellableElement().matches("input:not([type=hidden])")?this._getLabellableElement():null)}},{key:"_onInputChange",value:function(t){t.stopPropagation(),this[this._componentTargetProperty]=t.target[this._eventTargetProperty],this._triggerChangeEvent&&this.trigger("change")}},{key:"_onFormReset",value:function(t){t.target.contains(this)&&this.reset()}},{key:"_onTargetInputChange",value:function(t){var e=this._getTargetChangeInput();e!==t.target&&null!==e||this._onInputChange(t)}},{key:"_updateForAttributes",value:function(t,e,i){t.split(/\s+/).forEach((function(t){var n=document.getElementById(t);if(n&&"LABEL"===n.tagName){var a=n.getAttribute("for");i?a===e&&n.removeAttribute("for"):n.setAttribute("for",e)}}))}},{key:"clear",value:function(){this.value=""}},{key:"reset",value:function(){this.value=Ua.string(this.getAttribute("value"))}},{key:"invalid",get:function(){return this._invalid||!1},set:function(t){this._invalid=Ua.booleanAttr(t),this._reflectAttribute("invalid",this._invalid),this.setAttribute("aria-invalid",this._invalid),this.classList.toggle("is-invalid",this._invalid)}},{key:"labelled",get:function(){return this._getLabellableElement().getAttribute("aria-label")},set:function(t){t=Ua.string(t),this._getLabellableElement()[t?"setAttribute":"removeAttribute"]("aria-label",t)}},{key:"labelledBy",get:function(){return this._getLabellableElement().getAttribute("aria-labelledby")},set:function(t){t=Ua.string(t);var e=this._getLabellableElement(),i=e.id=e.id||da.getUID(),n=e.getAttribute("aria-labelledby");n&&n!==t&&this._updateForAttributes(n,i,!0),t?(e.setAttribute("aria-labelledby",t),e.matches(po)&&this._updateForAttributes(t,i)):e.removeAttribute("aria-labelledby")}},{key:"_componentTargetProperty",get:function(){return"value"}},{key:"_eventTargetProperty",get:function(){return"value"}},{key:"_triggerChangeEvent",get:function(){return!0}}],[{key:"_attributePropertyMap",get:function(){return da.extend(m(l(i),"_attributePropertyMap",this),{labelledby:"labelledBy",readonly:"readOnly"})}},{key:"_nativeObservedAttributes",get:function(){return m(l(i),"observedAttributes",this).concat(["labelled","labelledby","invalid"])}},{key:"observedAttributes",get:function(){return m(l(i),"observedAttributes",this).concat(["labelled","labelledby","invalid","readonly","name","value","disabled","required"])}}]),i}(t)},fo={DEFAULT:"default",QUIET:"quiet"},go=[];for(var vo in fo)go.push("".concat("_coral-Textfield","--").concat(fo[vo]));var _o=function(t){s(i,t);var e=d(i);function i(){var t;return a(this,i),(t=e.call(this))._delegateEvents(t._events),t}return r(i,[{key:"render",value:function(){m(l(i.prototype),"render",this).call(this),this.classList.add("_coral-Textfield"),this._variant||(this.variant=fo.DEFAULT)}},{key:"variant",get:function(){return this._variant||fo.DEFAULT},set:function(t){var e;t=Ua.string(t).toLowerCase(),this._variant=Ba.enumeration(fo)(t)&&t||fo.DEFAULT,this._reflectAttribute("variant",this._variant),(e=this.classList).remove.apply(e,go),this._variant!==fo.DEFAULT&&this.classList.add("".concat("_coral-Textfield","--").concat(this._variant))}}],[{key:"variant",get:function(){return fo}},{key:"observedAttributes",get:function(){return m(l(i),"_nativeObservedAttributes",this).concat(["variant"])}}]),i}(mo(ho(HTMLInputElement)));da._define("coral-textfield",_o,{extends:"input"});var bo=function(t){return function(t){s(i,t);var e=d(i);function i(){return a(this,i),e.apply(this,arguments)}return r(i,[{key:"_observeLabel",value:function(){this._observableLabel=this._observableLabel||this._elements.label||this._elements.content,this._observer=new MutationObserver(this._toggleIconAriaHidden.bind(this)),this._observer.observe(this._observableLabel,{childList:!0,characterData:!0,subtree:!0})}},{key:"_toggleIconAriaHidden",value:function(){if(this._renderedLabel=this._renderedLabel||this.label||this.content,this._elements.icon){var t=this._renderedLabel&&this._renderedLabel.textContent.trim().length||null!==this.getAttribute("aria-label")||null!==this.getAttribute("aria-labelledby");this._elements.icon[t?"setAttribute":"removeAttribute"]("aria-hidden","true")}}},{key:"attributeChangedCallback",value:function(t,e,n){"aria-label"===t||"aria-labelledby"===t?this._toggleIconAriaHidden():m(l(i.prototype),"attributeChangedCallback",this).call(this,t,e,n)}}],[{key:"observedAttributes",get:function(){return m(l(i),"observedAttributes",this).concat(["aria-label","aria-labelledby"])}}]),i}(t)},yo={aBC:{deprecated:!0,spectrumIcon:"ABC"},abc:{spectrumIcon:"ABC"},accordionDown:{spectrumIcon:"ChevronDown"},accordionLeft:{spectrumIcon:"ChevronDoubleLeft"},accordionRight:{spectrumIcon:"ChevronDoubleRight"},accordionUp:{spectrumIcon:"ChevronUp"},adjust:{spectrumIcon:"Exposure"},adobe:{spectrumIcon:"AdobeLogo"},adobeAdvertisingCloudColor:{spectrumIconDark:"AdobeAdvertisingCloudColor_Dark",spectrumIconLight:"AdobeAdvertisingCloudColor_Light"},adobeAnalyticsColor:{spectrumIconDark:"AdobeAnalyticsColor_Dark",spectrumIconLight:"AdobeAnalyticsColor_Light"},adobeAnalyticsColorLight:{spectrumIcon:"AdobeAnalyticsColor_Light"},adobeAnalyticsColorDark:{spectrumIcon:"AdobeAnalyticsColor_Dark"},adobeAudienceManagerColor:{spectrumIconDark:"AdobeAudienceManagerColor_Dark",spectrumIconLight:"AdobeAudienceManagerColor_Light"},adobeAudienceManagerColorLight:{spectrumIcon:"AdobeAudienceManagerColor_Light"},adobeAudienceManagerColorDark:{spectrumIcon:"AdobeAudienceManagerColor_Dark"},adobeCampaignColor:{spectrumIconDark:"AdobeCampaignColor_Dark",spectrumIconLight:"AdobeCampaignColor_Light"},adobeCampaignColorLight:{spectrumIcon:"AdobeCampaignColor_Light"},adobeCampaignColorDark:{spectrumIcon:"AdobeCampaignColor_Dark"},adobeExperienceCloudColor:{spectrumIcon:"AdobeExperienceCloudColor"},adobeExperienceManagerColor:{spectrumIconDark:"AdobeExperienceManagerColor_Dark",spectrumIconLight:"AdobeExperienceManagerColor_Light"},adobeExperienceManagerColorLight:{spectrumIcon:"AdobeExperienceManagerColor_Light"},adobeExperienceManagerColorDark:{spectrumIcon:"AdobeExperienceManagerColor_Dark"},adobeExperiencePlatformColor:{spectrumIcon:"AdobeExperiencePlatformColor"},adobeMediaOptimizerColor:{spectrumIconDark:"AdobeMediaOptimizerColor_Dark",spectrumIconLight:"AdobeMediaOptimizerColor_Light"},adobeMediaOptimizerColorLight:{spectrumIcon:"AdobeMediaOptimizerColor_Light"},adobeMediaOptimizerColorDark:{spectrumIcon:"AdobeMediaOptimizerColor_Dark"},adobePrimetimeColor:{spectrumIconDark:"AdobePrimetimeColor_Dark",spectrumIconLight:"AdobePrimetimeColor_Light"},adobePrimetimeColorLight:{spectrumIcon:"AdobePrimetimeColor_Light"},adobePrimetimeColorDark:{spectrumIcon:"AdobePrimetimeColor_Dark"},adobeSocialColor:{spectrumIconDark:"AdobeSocialColor_Dark",spectrumIconLight:"AdobeSocialColor_Light"},adobeSocialColorLight:{spectrumIcon:"AdobeSocialColor_Light"},adobeSocialColorDark:{spectrumIcon:"AdobeSocialColor_Dark"},adobeTargetColor:{spectrumIconDark:"AdobeTargetColor_Dark",spectrumIconLight:"AdobeTargetColor_Light"},adobeTargetColorLight:{spectrumIcon:"AdobeTargetColor_Light"},adobeTargetColorDark:{spectrumIcon:"AdobeTargetColor_Dark"},annotate:{spectrumIcon:"AnnotatePen"},automate:{spectrumIcon:"Gears"},breadcrumb:{spectrumIcon:"Menu"},calendarCheckColor:{spectrumIcon:"CalendarCheckColor_Light"},campaignRemove:{spectrumIcon:"CampaignClose"},check:{spectrumIcon:"Checkmark"},checkCircle:{spectrumIcon:"CheckmarkCircle"},closedCaptions:{spectrumIcon:"CloseCaptions"},coverImage:{spectrumIcon:"FacebookCoverImage"},deviceMobile:{spectrumIcon:"DevicePhone"},deviceTv:{deprecated:!0,spectrumIcon:"DeviceTV"},downloaded:{spectrumIcon:"Download"},downloadFromCloud:{deprecated:!0,spectrumIcon:"Download"},dPS:{deprecated:!0,spectrumIcon:"DPS"},dps:{spectrumIcon:"DPS"},draw:{spectrumIcon:"AnnotatePen"},emailAlert:{spectrumIcon:"Alert"},emotionAdmirationColor:{spectrumIcon:"EmotionAdmirationColor_Light"},emotionAngerColor:{spectrumIcon:"EmotionAngerColor_Light"},emotionAnticipationColor:{spectrumIcon:"EmotionAnticipationColor_Light"},emotionDisgustColor:{spectrumIcon:"EmotionDisgustColor_Light"},emotionFearColor:{spectrumIcon:"EmotionFearColor_Light"},emotionJoyColor:{spectrumIcon:"EmotionJoyColor_Light"},emotionSadnessColor:{spectrumIcon:"EmotionSadnessColor_Light"},emotionSurpriseColor:{spectrumIcon:"EmotionSurpriseColor_Light"},exclude:{spectrumIcon:"Cancel"},eyedropper:{spectrumIcon:"Sampler"},facebookCircleColor:{spectrumIcon:"FacebookCircleColor_Light"},facebookColor:{spectrumIcon:"FacebookColor_Light"},file:{spectrumIcon:"Document"},fileGlobe2:{spectrumIcon:"FileGlobe"},film:{spectrumIcon:"Filmroll"},flickrColor:{spectrumIcon:"FlickrColor_Light"},folderDefault:{spectrumIcon:"FolderAdobe"},folderLockedDefault:{spectrumIcon:"FolderLockedAdobe"},gear:{spectrumIcon:"Settings"},googleAnalyticsColor:{spectrumIcon:"GoogleAnalyticsColor_Light"},googlePlusCircleColor:{spectrumIcon:"GooglePlusCircleColor_Light"},googlePlusColor:{spectrumIcon:"GooglePlusColor_Light"},graphBarStackedHorizontal:{spectrumIcon:"GraphBarHorizontalStacked"},graphBarStackedVertical:{spectrumIcon:"GraphBarVertical"},graphTrendRounded:{spectrumIcon:"GraphTrend"},helpCircle:{spectrumIcon:"Help"},hTML5:{deprecated:!0,spectrumIcon:"HTML5"},html5:{spectrumIcon:"HTML5"},imageCheckColor:{spectrumIcon:"ImageCheckColor_Light"},imageMap:{spectrumIcon:"ImageMapRectangle"},infoCircle:{spectrumIcon:"Info"},instagramCircleColor:{spectrumIcon:"InstagramCircleColor_Light"},instagramColor:{spectrumIcon:"InstagramColor_Light"},linkCheckColor:{spectrumIcon:"LinkCheckColor_Light"},linkedInCircleColor:{spectrumIcon:"LinkedInCircleColor_Light"},linkedInColor:{spectrumIcon:"LinkedInColor_Light"},lockOff:{spectrumIcon:"LockOpen"},lockOn:{spectrumIcon:"LockClosed"},magentoCommerceColor:{spectrumIconDark:"MagentoCommerceColor_Dark",spectrumIconLight:"MagentoCommerceColor_Light"},minus:{spectrumIcon:"Remove"},minusCircle:{spectrumIcon:"RemoveCircle"},navigation:{spectrumIcon:"Rail"},newsgatorColor:{spectrumIcon:"NewsgatorColor_Light"},open:{spectrumIcon:"FolderOpen"},os:{spectrumIcon:"OS"},oS:{deprecated:!0,spectrumIcon:"OS"},page:{spectrumIcon:"WebPage"},pages:{spectrumIcon:"WebPages"},paintBucket:{spectrumIcon:"ColorFill"},pausePlay:{spectrumIcon:"StepForward"},pausePlayCircle:{spectrumIcon:"StepForwardCircle"},popOut:{spectrumIcon:"ArrowUpRight"},projectCameraColor:{spectrumIcon:"ProjectCameraColor_Light"},projectColor:{spectrumIcon:"ProjectColor_Light"},projectPlayColor:{spectrumIcon:"ProjectPlayColor_Light"},projectRefreshColor:{spectrumIcon:"ProjectRefreshColor_Light"},publish:{spectrumIcon:"Send"},reflectHorizontal:{spectrumIcon:"FlipHorizontal"},reflectVertical:{spectrumIcon:"FlipVertical"},rSS:{deprecated:!0,spectrumIcon:"RSS"},rss:{spectrumIcon:"RSS"},save:{spectrumIcon:"SaveFloppy"},saveAs:{spectrumIcon:"SaveAsFloppy"},select:{spectrumIcon:"SelectBox"},selectAll:{spectrumIcon:"SelectBoxAll"},sinaWeiboCircleColor:{spectrumIcon:"SinaWeiboCircleColor_Light"},sinaWeiboColor:{spectrumIcon:"SinaWeiboColor_Light"},sms:{spectrumIcon:"SMS"},sMS:{deprecated:!0,spectrumIcon:"SMS"},sMSLightning:{deprecated:!0,spectrumIcon:"SMSLightning"},smsLightning:{spectrumIcon:"SMSLightning"},sMSRefresh:{deprecated:!0,spectrumIcon:"SMSRefresh"},smsRefresh:{spectrumIcon:"SMSRefresh"},star:{spectrumIcon:"Star"},starFill:{spectrumIcon:"Star"},starStroke:{spectrumIcon:"StarOutline"},stop:{spectrumIcon:"StopCircle"},tableCellMergeColor:{spectrumIconActive:"TableCellMergeColor_Active",spectrumIconDark:"TableCellMergeColor_Dark",spectrumIconLight:"TableCellMergeColor_Light"},tableColumnAddLeftColor:{spectrumIconActive:"TableColumnAddLeftColor_Active",spectrumIconDark:"TableColumnAddLeftColor_Dark",spectrumIconLight:"TableColumnAddLeftColor_Light"},tableColumnAddRightColor:{spectrumIconActive:"TableColumnAddRightColor_Active",spectrumIconDark:"TableColumnAddRightColor_Dark",spectrumIconLight:"TableColumnAddLeftColor_Light"},tableColumnMergeColor:{spectrumIconActive:"TableColumnMergeColor_Active",spectrumIconDark:"TableColumnMergeColor_Dark",spectrumIconLight:"TableColumnMergeColor_Light"},tableColumnRemoveCenterColor:{spectrumIconActive:"TableColumnRemoveCenterColor_Active",spectrumIconDark:"TableColumnRemoveCenterColor_Dark",spectrumIconLight:"TableColumnRemoveCenterColor_Light"},tableColumnSplitColor:{spectrumIconActive:"TableColumnSplitColor_Active",spectrumIconDark:"TableColumnSplitColor_Dark",spectrumIconLight:"TableColumnSplitColor_Light"},tableRowAddBottomColor:{spectrumIconActive:"TableRowAddBottomColor_Active",spectrumIconDark:"TableRowAddBottomColor_Dark",spectrumIconLight:"TableRowAddBottomColor_Light"},tableRowAddTopColor:{spectrumIconActive:"TableRowAddTopColor_Active",spectrumIconDark:"TableRowAddTopColor_Dark",spectrumIconLight:"TableRowAddTopColor_Light"},tableRowMergeColor:{spectrumIconActive:"TableRowMergeColor_Active",spectrumIconDark:"TableRowMergeColor_Dark",spectrumIconLight:"TableRowMergeColor_Light"},tableRowRemoveCenterColor:{spectrumIconActive:"TableRowRemoveCenterColor_Active",spectrumIconDark:"TableRowRemoveCenterColor_Dark",spectrumIconLight:"TableRowRemoveCenterColor_Light"},tableRowSplitColor:{spectrumIconActive:"TableRowSplitColor_Active",spectrumIconDark:"TableRowSplitColor_Dark",spectrumIconLight:"TableRowSplitColor_Light"},tableSelectColumnColor:{spectrumIconActive:"TableSelectColumnColor_Active",spectrumIconDark:"TableSelectColumnColor_Dark",spectrumIconLight:"TableSelectColumnColor_Light"},tableSelectRowColor:{spectrumIconActive:"TableSelectRowColor_Active",spectrumIconDark:"TableSelectRowColor_Dark",spectrumIconLight:"TableSelectRowColor_Light"},tag:{spectrumIcon:"Label"},tagExclude:{spectrumIcon:"LabelExclude"},tags:{spectrumIcon:"Labels"},targetCheckColor:{spectrumIcon:"TargetCheckColor_Light"},textCenter:{spectrumIcon:"TextAlignCenter"},textJustified:{spectrumIcon:"TextAlignJustify"},textLeft:{spectrumIcon:"TextAlignLeft"},textLetteredLowercase:{spectrumIcon:"TextLetteredLowerCase"},textLetteredUppercase:{spectrumIcon:"TextLetteredUpperCase"},textRight:{spectrumIcon:"TextAlignRight"},triangleDown:{spectrumIcon:"ChevronDown"},triangleRight:{spectrumIcon:"ChevronRight"},twitterCircleColor:{spectrumIcon:"TwitterCircleColor_Light"},twitterColor:{spectrumIcon:"TwitterColor_Light"},unflag:{spectrumIcon:"FlagExclude"},unpublish:{spectrumIcon:"GlobeRemove"},upload:{spectrumIcon:"UploadToCloud"},usa:{spectrumIcon:"USA"},uSA:{deprecated:!0,spectrumIcon:"USA"},userCircleColor:{spectrumIconDark:"UserCircleColor_Dark",spectrumIconLight:"UserCircleColor_Light"},userGroupCircleColor:{spectrumIconDark:"UserGroupCircleColor_Dark",spectrumIconLight:"UserGroupCircleColor_Light"},users:{spectrumIcon:"UserGroup"},viewOff:{spectrumIcon:"VisibilityOff"},viewOn:{spectrumIcon:"Visibility"},vk:{spectrumIcon:"VK"},vK:{deprecated:!0,spectrumIcon:"VK"},wand:{spectrumIcon:"MagicWand"},windowsColor:{spectrumIcon:"WindowsColor_Light"},wordpressColor:{spectrumIcon:"WordpressColor_Light"},write:{spectrumIcon:"AnnotatePen"},youTubeCircleColor:{spectrumIcon:"YouTubeCircleColor_Light"},youTubeColor:{spectrumIcon:"YouTubeColor_Light"}};function Co(t){t="Coral.Icon#load: ".concat(t);var e=new Error(t);console.error(e.toString())}function Ao(t){if(200===this.status||0===this.status){var e=new DOMParser;try{var i=e.parseFromString(this.responseText,"image/svg+xml").firstChild;i&&"svg"===i.tagName?-1!==t.indexOf("spectrum-icons-color")?document.body?document.body.appendChild(i):document.addEventListener("DOMContentLoaded",(function(){document.body.appendChild(i)})):document.head.appendChild(i):Co("parsed SVG document contained something other than an SVG")}catch(t){Co("error parsing SVG: ".concat(t))}}else Co("failed to fetch icons, server returned ".concat(this.status))}function ko(t){if(".js"===t.slice(-3)){var e=document.createElement("script");e.async=!0,e.type="text/javascript",e.src=t,document.head.appendChild(e)}else{var i=new XMLHttpRequest;i.open("GET",t,!0),i.addEventListener("load",Ao.bind(i,t)),i.addEventListener("error",(function(){Co("Request failed")})),i.send()}}var wo=["ColorLight","Color_Light","ColorDark","Color_Dark","ColorActive","Color_Active","AdobeExperienceCloudColor","AdobeExperiencePlatformColor"],xo=(da.options.icons||"").trim();xo.length&&"/"!==xo[xo.length-1]&&(xo+="/");var To=!window.ActiveXObject&&"ActiveXObject"in window,So=da.options.iconsExternal||"on";To&&(So="off");var Eo=function(t){var e=da._script.src;return"".concat(e.split("/").slice(0,-t.split("/").length).join("/"),"/").concat(t)},Io=/\/|:|\./g,Lo=/.*\{\{.+\}\}.*/g,No=/([a-z])([A-Z0-9])/g,Mo=/^spectrum(?:-css)?-icon(?:-\d{1,3})?-/gi,Oo=/(Outline)?(Filled)?(Small|Medium|Large)?(Color)?_?(Active|Dark|Light)?$/,Do={EXTRA_EXTRA_SMALL:"XXS",EXTRA_SMALL:"XS",SMALL:"S",MEDIUM:"M",LARGE:"L",EXTRA_LARGE:"XL",EXTRA_EXTRA_LARGE:"XXL"},Fo={ON:"on",OFF:"off"},Po=[];for(var Ro in Do)Po.push("".concat("_coral-Icon","--size").concat(Do[Ro]));var Ho={XXS:18,XS:24,S:18,M:24,L:18,XL:24,XXL:24},Uo=function(t){s(i,t);var e=d(i);function i(){var t;return a(this,i),(t=e.call(this))._elements={},t}return r(i,[{key:"_updateIcon",value:function(){var t=this.icon;if(0!==t.indexOf("spectrum-")){var e,i=yo[t];if(this.removeAttribute("_context"),i){if(i.spectrumIcon)e=i.spectrumIcon;else{var n=this.closest(".coral--light, .coral--dark, .coral--lightest, .coral--darkest");e=n?n.classList.contains("coral--light")||n.classList.contains("coral--lightest")?i.spectrumIconLight:i.spectrumIconDark:i.spectrumIconLight,this.setAttribute("_context","")}e?da._log("warn","Coral.Icon: the icon ".concat(t," has been deprecated. Please use ").concat(e," instead.")):da._log("warn","Coral.Icon: the icon ".concat(t," has been removed. Please contact Icons@Adobe."))}else e=function(t){return t.charAt(0).toUpperCase()+t.slice(1)}(t);if(wo.some((function(t){return-1!==e.indexOf(t)})))t="spectrum-icon-24-".concat(e);else{var a=this.getAttribute("size"),o=Ho[a&&a.toUpperCase()||Do.SMALL];t="spectrum-icon-".concat(o,"-").concat(e)}}this.insertAdjacentHTML("beforeend",this.constructor._renderSVG(t)),this._elements.svg=this.lastElementChild}},{key:"_updateAltText",value:function(t){var e=this.autoAriaLabel===Fo.ON,i=this._elements.image,n=this.contains(i),a="string"==typeof this.alt?this.alt:this.title;if("string"==typeof t)a=this.alt||t;else if(n)a=a||i.getAttribute("alt")||i.getAttribute("title")||"";else if(e){var o=this.icon.replace(Mo,"");o=o.replace(Oo,""),a=wa.get(o.replace(No,"$1 $2").toLowerCase(),"default icon alt text")}var r=this.getAttribute("role"),s=r&&"presentation"!==r&&"img"!==r;s||this.setAttribute("role",n?"presentation":"img"),n?(e&&this.removeAttribute("aria-label"),i.setAttribute("alt",a)):""===a?(this.removeAttribute("aria-label"),s||this.removeAttribute("role")):a&&this.setAttribute("aria-label",a)}},{key:"attributeChangedCallback",value:function(t,e,n){"alt"===t||"title"===t?this._updateAltText(n):m(l(i.prototype),"attributeChangedCallback",this).call(this,t,e,n)}},{key:"connectedCallback",value:function(){m(l(i.prototype),"connectedCallback",this).call(this),this.hasAttribute("_context")&&(this.icon=this.icon)}},{key:"render",value:function(){m(l(i.prototype),"render",this).call(this),this.classList.add("_coral-Icon"),this._size||(this.size=Do.SMALL);var t=this.querySelector("img:not(.".concat("_coral-Icon","--image)"));t&&(this._elements.image=t,this._hasRawImage=!0,this.icon=t.getAttribute("src"),this._hasRawImage=!1)}},{key:"autoAriaLabel",get:function(){return this._autoAriaLabel||Fo.OFF},set:function(t){t=Ua.string(t).toLowerCase(),this._autoAriaLabel=Ba.enumeration(Fo)(t)&&t||Fo.OFF,this._updateAltText()}},{key:"icon",get:function(){return this._icon||""},set:function(t){var e=this,i=Ua.string(t).trim();if(i!==this._icon||this.hasAttribute("_context")){if(this._icon=i,this._reflectAttribute("icon",this._icon),this._icon.match(Lo))return;if(this._hasRawImage)return this._elements.image.classList.add("_coral-Icon","".concat("_coral-Icon","--image")),void this._updateAltText();["image","svg"].forEach((function(t){var i=e._elements[t]||e.querySelector(".".concat("_coral-Icon","--").concat(t));i&&i.remove()})),this._icon&&(this._icon.match(Io)?(this._elements.image=this._elements.image||document.createElement("img"),this._elements.image.className="".concat("_coral-Icon"," ").concat("_coral-Icon","--image"),this._elements.image.src=this.icon,this.appendChild(this._elements.image)):this._updateIcon()),this._updateAltText()}}},{key:"size",get:function(){return this._size||Do.SMALL},set:function(t){var e,i=this._size;t=Ua.string(t).toUpperCase(),this._size=Ba.enumeration(Do)(t)&&t||Do.SMALL,this._reflectAttribute("size",this._size),(e=this.classList).remove.apply(e,Po),this.classList.add("".concat("_coral-Icon","--size").concat(this._size)),i&&i!==this._size&&this.contains(this._elements.svg)&&(this._elements.svg.remove(),this._updateIcon()),this._updateAltText()}},{key:"title",get:function(){return this.getAttribute("title")},set:function(t){this.setAttribute("title",t)}},{key:"alt",get:function(){return this.getAttribute("alt")},set:function(t){this.setAttribute("alt",t)}}],[{key:"_iconsExternal",value:function(){return So}},{key:"_renderSVG",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];e.unshift("_coral-Icon"),e.unshift("".concat("_coral-Icon","--svg"));var i="#".concat(t);return"on"!==this._iconsExternal()||wo.some((function(e){return-1!==t.indexOf(e)}))||(i=0===t.indexOf("spectrum-css")?xo?"".concat(xo).concat("spectrum-css-icons",".svg#").concat(t):"".concat(Eo("dist/resources/spectrum-css-icons.svg"),"#").concat(t):xo?"".concat(xo).concat("spectrum-icons",".svg#").concat(t):"".concat(Eo("dist/resources/spectrum-icons.svg"),"#").concat(t)),'\n      <svg focusable="false" aria-hidden="true" class="'.concat(e.join(" "),'">\n        <use xlink:href="').concat(i,'"></use>\n      </svg>\n    ')}},{key:"load",value:function(t){var e=function(t){var e=da._script.src;return"js"===So&&(t=t.replace(".svg",".js")),"".concat(e.split("/").slice(0,-t.split("/").length).join("/"),"/").concat(t)};"spectrum-icons"===t?t=e("dist/resources/spectrum-icons.svg"):"spectrum-icons-color"===t?t=e("dist/resources/spectrum-icons-color.svg"):"spectrum-css-icons"===t&&(t=e("dist/resources/spectrum-css-icons.svg")),ko(t)}},{key:"size",get:function(){return Do}},{key:"autoAriaLabel",get:function(){return Fo}},{key:"_attributePropertyMap",get:function(){return da.extend(m(l(i),"_attributePropertyMap",this),{autoarialabel:"autoAriaLabel"})}},{key:"observedAttributes",get:function(){return m(l(i),"observedAttributes",this).concat(["autoarialabel","icon","size","alt","title"])}}]),i}(ho(HTMLElement)),Bo=["spectrum-icons-color"],zo=".svg";"off"!==Uo._iconsExternal()&&"js"!==Uo._iconsExternal()||(Bo.push("spectrum-css-icons"),Bo.push("spectrum-icons"),"js"===Uo._iconsExternal()&&(zo=".js")),Bo.forEach((function(t){return Uo.load(xo?"".concat(xo).concat(t).concat(zo):t)}));da.extend(ka,{"coral-component-icon":{"en-US":{"123/[translation hint:default icon alt text]":"123","alert/[translation hint:default icon alt text]":"Alert","arrow down/[translation hint:default icon alt text]":"Arrow Down","arrow left/[translation hint:default icon alt text]":"Arrow Left","arrow up/[translation hint:default icon alt text]":"Arrow Up","asterisk/[translation hint:default icon alt text]":"Asterisk","checkmark/[translation hint:default icon alt text]":"Checkmark","chevron down/[translation hint:default icon alt text]":"Expand","chevron left/[translation hint:default icon alt text]":"Back","chevron right/[translation hint:default icon alt text]":"Expand","chevron up/[translation hint:default icon alt text]":"Collapse","corner triangle/[translation hint:default icon alt text]":"Expand","cross/[translation hint:default icon alt text]":"Close","dash/[translation hint:default icon alt text]":"Dash","double gripper/[translation hint:default icon alt text]":"Double Gripper","help/[translation hint:default icon alt text]":"Help","info/[translation hint:default icon alt text]":"Info","magnifier/[translation hint:default icon alt text]":"Magnifier","skip left/[translation hint:default icon alt text]":"Skip Left","skip right/[translation hint:default icon alt text]":"Skip Right","star/[translation hint:default icon alt text]":"Star","success/[translation hint:default icon alt text]":"Success","triple gripper/[translation hint:default icon alt text]":"Triple Gripper","3dmaterials/[translation hint:default icon alt text]":"3D Materials","abc/[translation hint:default icon alt text]":"ABC","actions/[translation hint:default icon alt text]":"Actions","ad display/[translation hint:default icon alt text]":"Ad Display","ad print/[translation hint:default icon alt text]":"Ad Print","add/[translation hint:default icon alt text]":"Add","add circle/[translation hint:default icon alt text]":"Add","add to/[translation hint:default icon alt text]":"Add To","add to selection/[translation hint:default icon alt text]":"Add To Selection","adobe advertising cloud/[translation hint:default icon alt text]":"Adobe Advertising Cloud","adobe analytics/[translation hint:default icon alt text]":"Adobe Analytics","adobe analytics cloud/[translation hint:default icon alt text]":"Adobe Analytics Cloud","adobe audience manager/[translation hint:default icon alt text]":"Adobe Audience Manager","adobe campaign/[translation hint:default icon alt text]":"Adobe Campaign","adobe connect/[translation hint:default icon alt text]":"Adobe Connect","adobe document cloud/[translation hint:default icon alt text]":"Adobe Document Cloud","adobe experience cloud/[translation hint:default icon alt text]":"Adobe Experience Cloud","adobe experience manager/[translation hint:default icon alt text]":"Adobe Experience Manager","adobe logo/[translation hint:default icon alt text]":"Adobe Logo","adobe marketing cloud/[translation hint:default icon alt text]":"Adobe Marketing Cloud","adobe media optimizer/[translation hint:default icon alt text]":"Adobe Media Optimizer","adobe primetime/[translation hint:default icon alt text]":"Adobe Primetime","adobe send now/[translation hint:default icon alt text]":"Adobe Send Now","adobe sign/[translation hint:default icon alt text]":"Adobe Sign","adobe social/[translation hint:default icon alt text]":"Adobe Social","adobe target/[translation hint:default icon alt text]":"Adobe Target","after effects/[translation hint:default icon alt text]":"After Effects","alert add/[translation hint:default icon alt text]":"Alert Add","alert check/[translation hint:default icon alt text]":"Alert Check","alert circle/[translation hint:default icon alt text]":"Alert","alias/[translation hint:default icon alt text]":"Alias","align bottom/[translation hint:default icon alt text]":"Align Bottom","align center/[translation hint:default icon alt text]":"Align Center","align left/[translation hint:default icon alt text]":"Align Left","align middle/[translation hint:default icon alt text]":"Align Middle","align right/[translation hint:default icon alt text]":"Align Right","align top/[translation hint:default icon alt text]":"Align Top","amazon web services/[translation hint:default icon alt text]":"Amazon Web Services","anchor/[translation hint:default icon alt text]":"Anchor","anchor select/[translation hint:default icon alt text]":"Select Anchor","android/[translation hint:default icon alt text]":"Android","annotate/[translation hint:default icon alt text]":"Annotate","annotate pen/[translation hint:default icon alt text]":"Annotate Pen","answer/[translation hint:default icon alt text]":"Answer","answer favorite/[translation hint:default icon alt text]":"Favorite Answer","app/[translation hint:default icon alt text]":"App","app refresh/[translation hint:default icon alt text]":"App Refresh","apple/[translation hint:default icon alt text]":"Apple","apple files/[translation hint:default icon alt text]":"Apple Files","approve reject/[translation hint:default icon alt text]":"Approve Reject","apps/[translation hint:default icon alt text]":"Apps","archive/[translation hint:default icon alt text]":"Archive","archive remove/[translation hint:default icon alt text]":"Remove Archive","arrow right/[translation hint:default icon alt text]":"Arrow Right","arrow up right/[translation hint:default icon alt text]":"Arrow Up Right","artboard/[translation hint:default icon alt text]":"Artboard","article/[translation hint:default icon alt text]":"Article","asset/[translation hint:default icon alt text]":"Asset","asset check/[translation hint:default icon alt text]":"Asset Check","assets added/[translation hint:default icon alt text]":"Assets Added","assets downloaded/[translation hint:default icon alt text]":"Assets Downloaded","assets expired/[translation hint:default icon alt text]":"Assets Expired","assets linked published/[translation hint:default icon alt text]":"Assets Linked Published","assets modified/[translation hint:default icon alt text]":"Assets Modified","assets published/[translation hint:default icon alt text]":"Assets Published","at/[translation hint:default icon alt text]":"At","attach/[translation hint:default icon alt text]":"Attach","attachment exclude/[translation hint:default icon alt text]":"Attachment Exclude","attributes/[translation hint:default icon alt text]":"Attributes","audio/[translation hint:default icon alt text]":"Audio","automated segment/[translation hint:default icon alt text]":"Automated Segment","back/[translation hint:default icon alt text]":"Back","back 30seconds/[translation hint:default icon alt text]":"Back 30 Seconds","back android/[translation hint:default icon alt text]":"Back Android","beaker/[translation hint:default icon alt text]":"Beaker","beaker check/[translation hint:default icon alt text]":"Beaker Check","beaker share/[translation hint:default icon alt text]":"Beaker Share","behance/[translation hint:default icon alt text]":"Behance","bell/[translation hint:default icon alt text]":"Bell","bid rule/[translation hint:default icon alt text]":"Bid Rule","bid rule add/[translation hint:default icon alt text]":"Bid Rule Add","bitly/[translation hint:default icon alt text]":"Bitly","blackberry/[translation hint:default icon alt text]":"Blackberry","blog/[translation hint:default icon alt text]":"Blog","blower/[translation hint:default icon alt text]":"Blower","blur/[translation hint:default icon alt text]":"Blur","book/[translation hint:default icon alt text]":"Book","bookmark/[translation hint:default icon alt text]":"Bookmark","boolean/[translation hint:default icon alt text]":"Boolean","border/[translation hint:default icon alt text]":"Border","box/[translation hint:default icon alt text]":"Box","box add/[translation hint:default icon alt text]":"Box Add","box export/[translation hint:default icon alt text]":"Box Export","box import/[translation hint:default icon alt text]":"Box Import","brackets/[translation hint:default icon alt text]":"Brackets","brackets square/[translation hint:default icon alt text]":"Brackets Square","branch 1/[translation hint:default icon alt text]":"Branch 1","branch 2/[translation hint:default icon alt text]":"Branch 2","branch 3/[translation hint:default icon alt text]":"Branch 3","branch circle/[translation hint:default icon alt text]":"Branch","breadcrumb navigation/[translation hint:default icon alt text]":"Breadcrumb Navigation","breakdown/[translation hint:default icon alt text]":"Breakdown","breakdown add/[translation hint:default icon alt text]":"Breakdown Add","briefcase/[translation hint:default icon alt text]":"Briefcase","browse/[translation hint:default icon alt text]":"Browse","brush/[translation hint:default icon alt text]":"Brush","bug/[translation hint:default icon alt text]":"Bug","building/[translation hint:default icon alt text]":"Building","bulk edit users/[translation hint:default icon alt text]":"Bulk Edit Users","button/[translation hint:default icon alt text]":"Button","cclibrary/[translation hint:default icon alt text]":"CC Library","calculator/[translation hint:default icon alt text]":"Calculator","calendar/[translation hint:default icon alt text]":"Calendar","calendar add/[translation hint:default icon alt text]":"Calendar Add","calendar locked/[translation hint:default icon alt text]":"Calendar Locked","calendar unlocked/[translation hint:default icon alt text]":"Calendar Unlocked","call center/[translation hint:default icon alt text]":"Call Center","camera/[translation hint:default icon alt text]":"Camera","camera flip/[translation hint:default icon alt text]":"Camera Flip","camera refresh/[translation hint:default icon alt text]":"Camera Refresh","campaign/[translation hint:default icon alt text]":"Campaign","campaign add/[translation hint:default icon alt text]":"Campaign Add","campaign close/[translation hint:default icon alt text]":"Campaign Close","campaign delete/[translation hint:default icon alt text]":"Campaign Delete","campaign edit/[translation hint:default icon alt text]":"Campaign Edit","cancel/[translation hint:default icon alt text]":"Cancel","capitals/[translation hint:default icon alt text]":"Capitals","captcha/[translation hint:default icon alt text]":"Captcha","card/[translation hint:default icon alt text]":"Card","channel/[translation hint:default icon alt text]":"Channel","chat/[translation hint:default icon alt text]":"Chat","chat add/[translation hint:default icon alt text]":"Chat Add","check pause/[translation hint:default icon alt text]":"Check Pause","checkmark circle/[translation hint:default icon alt text]":"Checkmark","chevron double left/[translation hint:default icon alt text]":"Back","chevron double right/[translation hint:default icon alt text]":"Forward","chevron up down/[translation hint:default icon alt text]":"Sortable","chrome/[translation hint:default icon alt text]":"Chrome","circle/[translation hint:default icon alt text]":"Circle","classic grid view/[translation hint:default icon alt text]":"Classic Grid View","clock/[translation hint:default icon alt text]":"Clock","clock check/[translation hint:default icon alt text]":"Clock Check","clone stamp/[translation hint:default icon alt text]":"Clone Stamp","close/[translation hint:default icon alt text]":"Close","close captions/[translation hint:default icon alt text]":"Close Captions","close circle/[translation hint:default icon alt text]":"Close","cloud/[translation hint:default icon alt text]":"Cloud","cloud disconnected/[translation hint:default icon alt text]":"Cloud Disconnected","cloud error/[translation hint:default icon alt text]":"Cloud Error","code/[translation hint:default icon alt text]":"Code","collection/[translation hint:default icon alt text]":"Collection","collection add/[translation hint:default icon alt text]":"Collection Add","collection add to/[translation hint:default icon alt text]":"Collection Add To","collection check/[translation hint:default icon alt text]":"Collection Check","collection edit/[translation hint:default icon alt text]":"Collection Edit","collection exclude/[translation hint:default icon alt text]":"Collection Exclude","collection link/[translation hint:default icon alt text]":"Collection Link","color fill/[translation hint:default icon alt text]":"Color Fill","color palette/[translation hint:default icon alt text]":"Color Palette","color wheel/[translation hint:default icon alt text]":"Color Wheel","column settings/[translation hint:default icon alt text]":"Column Settings","column two a/[translation hint:default icon alt text]":"Column Two A","column two b/[translation hint:default icon alt text]":"Column Two B","column two c/[translation hint:default icon alt text]":"Column Two C","comment/[translation hint:default icon alt text]":"Comment","compare/[translation hint:default icon alt text]":"Compare","compass/[translation hint:default icon alt text]":"Compass","condition/[translation hint:default icon alt text]":"Condition","confidence four/[translation hint:default icon alt text]":"Confidence Four","confidence one/[translation hint:default icon alt text]":"Confidence One","confidence three/[translation hint:default icon alt text]":"Confidence Three","confidence two/[translation hint:default icon alt text]":"Confidence Two","contrast/[translation hint:default icon alt text]":"Contrast","conversion funnel/[translation hint:default icon alt text]":"Conversion Funnel","copy/[translation hint:default icon alt text]":"Copy","cover image/[translation hint:default icon alt text]":"Cover Image","creative cloud/[translation hint:default icon alt text]":"Creative Cloud","credit card/[translation hint:default icon alt text]":"Credit Card","crop/[translation hint:default icon alt text]":"Crop","crop lightning/[translation hint:default icon alt text]":"Crop Lightning","crop rotate/[translation hint:default icon alt text]":"Crop Rotate","crosshairs/[translation hint:default icon alt text]":"Crosshairs","curate/[translation hint:default icon alt text]":"Curate","cut/[translation hint:default icon alt text]":"Cut","dps/[translation hint:default icon alt text]":"DPS","dashboard/[translation hint:default icon alt text]":"Dashboard","data/[translation hint:default icon alt text]":"Data","data add/[translation hint:default icon alt text]":"Data Add","data adobe/[translation hint:default icon alt text]":"Data Adobe","data book/[translation hint:default icon alt text]":"Data Book","data check/[translation hint:default icon alt text]":"Data Check","data correlated/[translation hint:default icon alt text]":"Data Correlated","data download/[translation hint:default icon alt text]":"Data Download","data edit/[translation hint:default icon alt text]":"Data Edit","data mapping/[translation hint:default icon alt text]":"Data Mapping","data refresh/[translation hint:default icon alt text]":"Data Refresh","data remove/[translation hint:default icon alt text]":"Data Remove","data settings/[translation hint:default icon alt text]":"Data Settings","data unavailable/[translation hint:default icon alt text]":"Data Unavailable","data upload/[translation hint:default icon alt text]":"Data Upload","data user/[translation hint:default icon alt text]":"Data User","date/[translation hint:default icon alt text]":"Date","date input/[translation hint:default icon alt text]":"Date Input","deduplication/[translation hint:default icon alt text]":"Deduplication","delegate/[translation hint:default icon alt text]":"Delegate","delete/[translation hint:default icon alt text]":"Delete","delivery fusion/[translation hint:default icon alt text]":"Delivery Fusion","demographic/[translation hint:default icon alt text]":"Demographic","deselect/[translation hint:default icon alt text]":"Deselect","deselect circular/[translation hint:default icon alt text]":"Deselect","desktop and mobile/[translation hint:default icon alt text]":"Desktop And Mobile","device desktop/[translation hint:default icon alt text]":"Device Desktop","device laptop/[translation hint:default icon alt text]":"Device Laptop","device phone/[translation hint:default icon alt text]":"Device Phone","device phone refresh/[translation hint:default icon alt text]":"Device Phone Refresh","device preview/[translation hint:default icon alt text]":"Device Preview","device rotate landscape/[translation hint:default icon alt text]":"Device Rotate Landscape","device rotate portrait/[translation hint:default icon alt text]":"Device Rotate Portrait","device tv/[translation hint:default icon alt text]":"Device TV","device tablet/[translation hint:default icon alt text]":"Device Tablet","devices/[translation hint:default icon alt text]":"Devices","dimension/[translation hint:default icon alt text]":"Dimension","disqus/[translation hint:default icon alt text]":"Disqus","distribute bottom edge/[translation hint:default icon alt text]":"Distribute Bottom Edge","distribute horizontal center/[translation hint:default icon alt text]":"Distribute Horizontal Center","distribute horizontally/[translation hint:default icon alt text]":"Distribute Horizontally","distribute left edge/[translation hint:default icon alt text]":"Distribute Left Edge","distribute right edge/[translation hint:default icon alt text]":"Distribute Right Edge","distribute space horiz/[translation hint:default icon alt text]":"Distribute Space Horizontally","distribute space vert/[translation hint:default icon alt text]":"Distribute Space Vertically","distribute top edge/[translation hint:default icon alt text]":"Distribute Top Edge","distribute vertical center/[translation hint:default icon alt text]":"Distribute Vertical Center","distribute vertically/[translation hint:default icon alt text]":"Distribute Vertically","divide/[translation hint:default icon alt text]":"Divide","divide path/[translation hint:default icon alt text]":"Divide Path","document/[translation hint:default icon alt text]":"Document","document fragment/[translation hint:default icon alt text]":"Document Fragment","document fragment group/[translation hint:default icon alt text]":"Document Fragment Group","document refresh/[translation hint:default icon alt text]":"Document Refresh","dolly/[translation hint:default icon alt text]":"Dolly","download/[translation hint:default icon alt text]":"Download","download from cloud/[translation hint:default icon alt text]":"Download From Cloud","draft/[translation hint:default icon alt text]":"Draft","drag handle/[translation hint:default icon alt text]":"Drag Handle","draw/[translation hint:default icon alt text]":"Draw","dropdown/[translation hint:default icon alt text]":"Dropdown","duplicate/[translation hint:default icon alt text]":"Duplicate","edit/[translation hint:default icon alt text]":"Edit","edit circle/[translation hint:default icon alt text]":"Edit","edit exclude/[translation hint:default icon alt text]":"Edit Exclude","edit in/[translation hint:default icon alt text]":"Edit In","education/[translation hint:default icon alt text]":"Education","effects/[translation hint:default icon alt text]":"Effects","efficient/[translation hint:default icon alt text]":"Efficient","ellipse/[translation hint:default icon alt text]":"Ellipse","email/[translation hint:default icon alt text]":"Email","email cancel/[translation hint:default icon alt text]":"Email Cancel","email check/[translation hint:default icon alt text]":"Email Check","email exclude/[translation hint:default icon alt text]":"Email Exclude","email gear/[translation hint:default icon alt text]":"Email Gear","email key/[translation hint:default icon alt text]":"Email Key","email lightning/[translation hint:default icon alt text]":"Email Lightning","email notification/[translation hint:default icon alt text]":"Email Notification","email refresh/[translation hint:default icon alt text]":"Email Refresh","email schedule/[translation hint:default icon alt text]":"Email Schedule","engagement/[translation hint:default icon alt text]":"Engagement","erase/[translation hint:default icon alt text]":"Erase","event/[translation hint:default icon alt text]":"Event","event exclude/[translation hint:default icon alt text]":"Event Exclude","event share/[translation hint:default icon alt text]":"Event Share","events/[translation hint:default icon alt text]":"Events","exclude overlap/[translation hint:default icon alt text]":"Exclude Overlap","experience/[translation hint:default icon alt text]":"Experience","experience add/[translation hint:default icon alt text]":"Experience Add","experience add to/[translation hint:default icon alt text]":"Experience Add To","experience export/[translation hint:default icon alt text]":"Experience Export","experience import/[translation hint:default icon alt text]":"Experience Import","export/[translation hint:default icon alt text]":"Export","export original/[translation hint:default icon alt text]":"Export Original","exposure/[translation hint:default icon alt text]":"Exposure","extension/[translation hint:default icon alt text]":"Extension","facebook/[translation hint:default icon alt text]":"Facebook","facebook cover image/[translation hint:default icon alt text]":"Facebook Cover Image","fast/[translation hint:default icon alt text]":"Fast","fast forward/[translation hint:default icon alt text]":"Fast Forward","fast forward circle/[translation hint:default icon alt text]":"Fast Forward","feed/[translation hint:default icon alt text]":"Feed","feed add/[translation hint:default icon alt text]":"Feed Add","feed management/[translation hint:default icon alt text]":"Feed Management","feedback/[translation hint:default icon alt text]":"Feedback","file add/[translation hint:default icon alt text]":"File Add","file csv/[translation hint:default icon alt text]":"File CSV","file campaign/[translation hint:default icon alt text]":"File Campaign","file chart/[translation hint:default icon alt text]":"File Chart","file checked out/[translation hint:default icon alt text]":"File Checked Out","file code/[translation hint:default icon alt text]":"File Code","file data/[translation hint:default icon alt text]":"File Data","file email/[translation hint:default icon alt text]":"File Email","file excel/[translation hint:default icon alt text]":"File Excel","file folder/[translation hint:default icon alt text]":"File Folder","file gear/[translation hint:default icon alt text]":"File Gear","file globe/[translation hint:default icon alt text]":"File Globe","file html/[translation hint:default icon alt text]":"File HTML","file important/[translation hint:default icon alt text]":"File Important","file json/[translation hint:default icon alt text]":"File JSON","file key/[translation hint:default icon alt text]":"File Key","file mobile/[translation hint:default icon alt text]":"File Mobile","file pdf/[translation hint:default icon alt text]":"File PDF","file share/[translation hint:default icon alt text]":"File Share","file single web page/[translation hint:default icon alt text]":"File Single Web Page","file space/[translation hint:default icon alt text]":"File Space","file template/[translation hint:default icon alt text]":"File Template","file txt/[translation hint:default icon alt text]":"File Txt","file user/[translation hint:default icon alt text]":"File User","file word/[translation hint:default icon alt text]":"File Word","file workflow/[translation hint:default icon alt text]":"File Workflow","file xml/[translation hint:default icon alt text]":"File XML","file zip/[translation hint:default icon alt text]":"File Zip","filing cabinet/[translation hint:default icon alt text]":"Filing Cabinet","fill sign/[translation hint:default icon alt text]":"Fill Sign","filmroll/[translation hint:default icon alt text]":"Filmroll","filmroll auto add/[translation hint:default icon alt text]":"Filmroll Auto Add","filter/[translation hint:default icon alt text]":"Filter","filter add/[translation hint:default icon alt text]":"Filter Add","filter check/[translation hint:default icon alt text]":"Filter Check","filter delete/[translation hint:default icon alt text]":"Filter Delete","filter edit/[translation hint:default icon alt text]":"Filter Edit","filter heart/[translation hint:default icon alt text]":"Filter Heart","filter remove/[translation hint:default icon alt text]":"Filter Remove","filter star/[translation hint:default icon alt text]":"Filter Star","find and replace/[translation hint:default icon alt text]":"Find And Replace","firefox/[translation hint:default icon alt text]":"Firefox","flag/[translation hint:default icon alt text]":"Flag","flag exclude/[translation hint:default icon alt text]":"Flag Exclude","flash/[translation hint:default icon alt text]":"Flash","flash auto/[translation hint:default icon alt text]":"Flash Auto","flash off/[translation hint:default icon alt text]":"Flash Off","flash on/[translation hint:default icon alt text]":"Flash On","flashlight off/[translation hint:default icon alt text]":"Flashlight Off","flashlight on/[translation hint:default icon alt text]":"Flashlight On","flickr/[translation hint:default icon alt text]":"Flickr","flip horizontal/[translation hint:default icon alt text]":"Flip Horizontal","flip vertical/[translation hint:default icon alt text]":"Flip Vertical","folder/[translation hint:default icon alt text]":"Folder","folder 2/[translation hint:default icon alt text]":"Folder","folder add/[translation hint:default icon alt text]":"Folder Add","folder add to/[translation hint:default icon alt text]":"Folder Add To","folder adobe/[translation hint:default icon alt text]":"Folder Adobe","folder archive/[translation hint:default icon alt text]":"Folder Archive","folder delete/[translation hint:default icon alt text]":"Folder Delete","folder gear/[translation hint:default icon alt text]":"Folder Gear","folder locked/[translation hint:default icon alt text]":"Folder Locked","folder locked adobe/[translation hint:default icon alt text]":"Folder Locked Adobe","folder open/[translation hint:default icon alt text]":"Folder Open","folder remove/[translation hint:default icon alt text]":"Folder Remove","folder search/[translation hint:default icon alt text]":"Folder Search","folder user/[translation hint:default icon alt text]":"Folder User","follow/[translation hint:default icon alt text]":"Follow","follow off/[translation hint:default icon alt text]":"Follow Off","for placement only/[translation hint:default icon alt text]":"For Placement Only","forecast/[translation hint:default icon alt text]":"Forecast","form/[translation hint:default icon alt text]":"Form","forward/[translation hint:default icon alt text]":"Forward","full screen/[translation hint:default icon alt text]":"Full Screen","full screen exit/[translation hint:default icon alt text]":"Full Screen Exit","function/[translation hint:default icon alt text]":"Function","game/[translation hint:default icon alt text]":"Game","gauge 1/[translation hint:default icon alt text]":"Gauge 1","gauge 2/[translation hint:default icon alt text]":"Gauge 2","gauge 3/[translation hint:default icon alt text]":"Gauge 3","gauge 4/[translation hint:default icon alt text]":"Gauge 4","gauge 5/[translation hint:default icon alt text]":"Gauge 5","gears/[translation hint:default icon alt text]":"Gears","gears add/[translation hint:default icon alt text]":"Gears Add","gears delete/[translation hint:default icon alt text]":"Gears Delete","gears edit/[translation hint:default icon alt text]":"Gears Edit","gender female/[translation hint:default icon alt text]":"Gender Female","gender male/[translation hint:default icon alt text]":"Gender Male","gift/[translation hint:default icon alt text]":"Gift","git hub/[translation hint:default icon alt text]":"Git Hub","globe/[translation hint:default icon alt text]":"Globe","globe check/[translation hint:default icon alt text]":"Globe Check","globe clock/[translation hint:default icon alt text]":"Globe Clock","globe enter/[translation hint:default icon alt text]":"Globe Enter","globe exit/[translation hint:default icon alt text]":"Globe Exit","globe grid/[translation hint:default icon alt text]":"Globe Grid","globe remove/[translation hint:default icon alt text]":"Globe Remove","globe search/[translation hint:default icon alt text]":"Globe Search","globe strike/[translation hint:default icon alt text]":"Globe Strike","globe strike clock/[translation hint:default icon alt text]":"Globe Strike Clock","google/[translation hint:default icon alt text]":"Google","google analytics/[translation hint:default icon alt text]":"Google Analytics","google play store/[translation hint:default icon alt text]":"Google Play Store","google plus/[translation hint:default icon alt text]":"Google Plus","google plus 1/[translation hint:default icon alt text]":"Google Plus","gradient/[translation hint:default icon alt text]":"Gradient","graph area/[translation hint:default icon alt text]":"Graph Area","graph area stacked/[translation hint:default icon alt text]":"Graph Area Stacked","graph bar horizontal/[translation hint:default icon alt text]":"Graph Bar Horizontal","graph bar horizontal add/[translation hint:default icon alt text]":"Graph Bar Horizontal Add","graph bar horizontal stacked/[translation hint:default icon alt text]":"Graph Bar Horizontal Stacked","graph bar vertical/[translation hint:default icon alt text]":"Graph Bar Vertical","graph bar vertical add/[translation hint:default icon alt text]":"Graph Bar Vertical Add","graph bar vertical stacked/[translation hint:default icon alt text]":"Graph Bar Vertical Stacked","graph bubble/[translation hint:default icon alt text]":"Graph Bubble","graph bullet/[translation hint:default icon alt text]":"Graph Bullet","graph confidence bands/[translation hint:default icon alt text]":"Graph Confidence Bands","graph donut/[translation hint:default icon alt text]":"Graph Donut","graph donut add/[translation hint:default icon alt text]":"Graph Donut Add","graph gantt/[translation hint:default icon alt text]":"Graph Gantt","graph histogram/[translation hint:default icon alt text]":"Graph Histogram","graph pathing/[translation hint:default icon alt text]":"Graph Pathing","graph pie/[translation hint:default icon alt text]":"Graph Pie","graph profit curve/[translation hint:default icon alt text]":"Graph Profit Curve","graph scatter/[translation hint:default icon alt text]":"Graph Scatter","graph stream/[translation hint:default icon alt text]":"Graph Stream","graph stream ranked/[translation hint:default icon alt text]":"Graph Stream Ranked","graph stream ranked add/[translation hint:default icon alt text]":"Graph Stream Ranked Add","graph sunburst/[translation hint:default icon alt text]":"Graph Sunburst","graph tree/[translation hint:default icon alt text]":"Graph Tree","graph trend/[translation hint:default icon alt text]":"Graph Trend","graph trend add/[translation hint:default icon alt text]":"Graph Trend Add","graph trend alert/[translation hint:default icon alt text]":"Graph Trend Alert","graphic/[translation hint:default icon alt text]":"Graphic","group/[translation hint:default icon alt text]":"Group","html5/[translation hint:default icon alt text]":"HTML5","hammer/[translation hint:default icon alt text]":"Hammer","hand/[translation hint:default icon alt text]":"Hand","hand 0/[translation hint:default icon alt text]":"Hand 0","hand 1/[translation hint:default icon alt text]":"Hand 1","hand 2/[translation hint:default icon alt text]":"Hand 2","hand 3/[translation hint:default icon alt text]":"Hand 3","hand 4/[translation hint:default icon alt text]":"Hand 4","heal/[translation hint:default icon alt text]":"Heal","heart/[translation hint:default icon alt text]":"Heart","histogram/[translation hint:default icon alt text]":"Histogram","history/[translation hint:default icon alt text]":"History","home/[translation hint:default icon alt text]":"Home","homepage/[translation hint:default icon alt text]":"Homepage","illustrator/[translation hint:default icon alt text]":"Illustrator","image/[translation hint:default icon alt text]":"Image","image add/[translation hint:default icon alt text]":"Image Add","image album/[translation hint:default icon alt text]":"Image Album","image auto mode/[translation hint:default icon alt text]":"Image Auto Mode","image carousel/[translation hint:default icon alt text]":"Image Carousel","image check/[translation hint:default icon alt text]":"Image Check","image checked out/[translation hint:default icon alt text]":"Image Checked Out","image map circle/[translation hint:default icon alt text]":"Image Map Circle","image map polygon/[translation hint:default icon alt text]":"Image Map Polygon","image map rectangle/[translation hint:default icon alt text]":"Image Map Rectangle","image next/[translation hint:default icon alt text]":"Image Next","image profile/[translation hint:default icon alt text]":"Image Profile","image search/[translation hint:default icon alt text]":"Image Search","image text/[translation hint:default icon alt text]":"Image Text","images/[translation hint:default icon alt text]":"Images","import/[translation hint:default icon alt text]":"Import","in design/[translation hint:default icon alt text]":"In Design","inbox/[translation hint:default icon alt text]":"Inbox","individual/[translation hint:default icon alt text]":"Individual","instagram/[translation hint:default icon alt text]":"Instagram","internet explorer/[translation hint:default icon alt text]":"Internet Explorer","intersect overlap/[translation hint:default icon alt text]":"Intersect Overlap","invert adj/[translation hint:default icon alt text]":"Invert Adj","journey/[translation hint:default icon alt text]":"Journey","journey action/[translation hint:default icon alt text]":"Journey Action","journey data/[translation hint:default icon alt text]":"Journey Data","journey event/[translation hint:default icon alt text]":"Journey Event","journey event 2/[translation hint:default icon alt text]":"Journey Event","journey reports/[translation hint:default icon alt text]":"Journey Reports","journey voyager/[translation hint:default icon alt text]":"Journey Voyager","jump to top/[translation hint:default icon alt text]":"Jump To Top","key/[translation hint:default icon alt text]":"Key","key clock/[translation hint:default icon alt text]":"Key Clock","key exclude/[translation hint:default icon alt text]":"Key Exclude","keyboard/[translation hint:default icon alt text]":"Keyboard","label/[translation hint:default icon alt text]":"Label","label exclude/[translation hint:default icon alt text]":"Label Exclude","labels/[translation hint:default icon alt text]":"Labels","landscape/[translation hint:default icon alt text]":"Landscape","launch/[translation hint:default icon alt text]":"Launch","layers/[translation hint:default icon alt text]":"Layers","layers backward/[translation hint:default icon alt text]":"Layers Backward","layers bring to front/[translation hint:default icon alt text]":"Layers Bring To Front","layers forward/[translation hint:default icon alt text]":"Layers Forward","layers send to back/[translation hint:default icon alt text]":"Layers Send To Back","lightroom/[translation hint:default icon alt text]":"Lightroom","line/[translation hint:default icon alt text]":"Line","line height/[translation hint:default icon alt text]":"Line Height","linear gradient/[translation hint:default icon alt text]":"Linear Gradient","link/[translation hint:default icon alt text]":"Link","link check/[translation hint:default icon alt text]":"Link Check","link facebook/[translation hint:default icon alt text]":"Link Facebook","link globe/[translation hint:default icon alt text]":"Link Globe","link nav/[translation hint:default icon alt text]":"Link Nav","link off/[translation hint:default icon alt text]":"Link Off","link out/[translation hint:default icon alt text]":"Link Out","link page/[translation hint:default icon alt text]":"Link Page","link user/[translation hint:default icon alt text]":"Link User","linked in/[translation hint:default icon alt text]":"LinkedIn","linux/[translation hint:default icon alt text]":"Linux","location/[translation hint:default icon alt text]":"Location","location based date/[translation hint:default icon alt text]":"Location Based Date","location based event/[translation hint:default icon alt text]":"Location Based Event","location contribution/[translation hint:default icon alt text]":"Location Contribution","lock closed/[translation hint:default icon alt text]":"Lock Closed","lock open/[translation hint:default icon alt text]":"Lock Open","log out/[translation hint:default icon alt text]":"Log Out","login/[translation hint:default icon alt text]":"Login","looks/[translation hint:default icon alt text]":"Looks","loupe view/[translation hint:default icon alt text]":"Loupe View","mbox/[translation hint:default icon alt text]":"MBox","magento commerce/[translation hint:default icon alt text]":"Magento Commerce","magic wand/[translation hint:default icon alt text]":"Magic Wand","magnify/[translation hint:default icon alt text]":"Magnify","mailbox/[translation hint:default icon alt text]":"Mailbox","map view/[translation hint:default icon alt text]":"Map View","margin bottom/[translation hint:default icon alt text]":"Margin Bottom","margin left/[translation hint:default icon alt text]":"Margin Left","margin right/[translation hint:default icon alt text]":"Margin Right","margin top/[translation hint:default icon alt text]":"Margin Top","marketing activities/[translation hint:default icon alt text]":"Marketing Activities","maximize/[translation hint:default icon alt text]":"Maximize","measure/[translation hint:default icon alt text]":"Measure","menu/[translation hint:default icon alt text]":"Menu","merge/[translation hint:default icon alt text]":"Merge","merge layers/[translation hint:default icon alt text]":"Merge Layers","messenger/[translation hint:default icon alt text]":"Messenger","minimize/[translation hint:default icon alt text]":"Minimize","mobile services/[translation hint:default icon alt text]":"Mobile Services","modern grid view/[translation hint:default icon alt text]":"Modern Grid View","money/[translation hint:default icon alt text]":"Money","moon/[translation hint:default icon alt text]":"Moon","more/[translation hint:default icon alt text]":"More","more circle/[translation hint:default icon alt text]":"More","more small list/[translation hint:default icon alt text]":"More Small List","more small list vert/[translation hint:default icon alt text]":"More Small List Vert","more vertical/[translation hint:default icon alt text]":"More Vertical","move/[translation hint:default icon alt text]":"Move","move left right/[translation hint:default icon alt text]":"Move Left or Right","move to/[translation hint:default icon alt text]":"Move To","move up down/[translation hint:default icon alt text]":"Move Up or Down","movie camera/[translation hint:default icon alt text]":"Movie Camera","multiple/[translation hint:default icon alt text]":"Multiple","multiple add/[translation hint:default icon alt text]":"Multiple Add","multiple check/[translation hint:default icon alt text]":"Multiple Check","multiple exclude/[translation hint:default icon alt text]":"Multiple Exclude","muse/[translation hint:default icon alt text]":"Muse","naming order/[translation hint:default icon alt text]":"Naming Order","new item/[translation hint:default icon alt text]":"New Item","news/[translation hint:default icon alt text]":"News","news add/[translation hint:default icon alt text]":"News Add","newsgator/[translation hint:default icon alt text]":"Newsgator","nielsen/[translation hint:default icon alt text]":"Nielsen","no edit/[translation hint:default icon alt text]":"No Edit","note/[translation hint:default icon alt text]":"Note","note add/[translation hint:default icon alt text]":"Note Add","os/[translation hint:default icon alt text]":"OS","offer/[translation hint:default icon alt text]":"Offer","offer delete/[translation hint:default icon alt text]":"Delete Offer","on air/[translation hint:default icon alt text]":"On Air","one drive/[translation hint:default icon alt text]":"One Drive","open in/[translation hint:default icon alt text]":"Open In","open recent/[translation hint:default icon alt text]":"Open Recent","opera/[translation hint:default icon alt text]":"Opera","orbit/[translation hint:default icon alt text]":"Orbit","organisations/[translation hint:default icon alt text]":"Organisations","organize/[translation hint:default icon alt text]":"Organize","outline path/[translation hint:default icon alt text]":"Outline Path","pdfchecked out/[translation hint:default icon alt text]":"PDF Checked Out","padding bottom/[translation hint:default icon alt text]":"Padding Bottom","padding left/[translation hint:default icon alt text]":"Padding Left","padding right/[translation hint:default icon alt text]":"Padding Right","padding top/[translation hint:default icon alt text]":"Padding Top","page break/[translation hint:default icon alt text]":"Page Break","page exclude/[translation hint:default icon alt text]":"Page Exclude","page gear/[translation hint:default icon alt text]":"Page Gear","page rule/[translation hint:default icon alt text]":"Page Rule","page share/[translation hint:default icon alt text]":"Page Share","page tag/[translation hint:default icon alt text]":"Page Tag","pages exclude/[translation hint:default icon alt text]":"Pages Exclude","pan/[translation hint:default icon alt text]":"Pan","panel/[translation hint:default icon alt text]":"Panel","paste/[translation hint:default icon alt text]":"Paste","paste html/[translation hint:default icon alt text]":"Paste HTML","paste list/[translation hint:default icon alt text]":"Paste List","paste text/[translation hint:default icon alt text]":"Paste Text","pattern/[translation hint:default icon alt text]":"Pattern","pause/[translation hint:default icon alt text]":"Pause","pause circle/[translation hint:default icon alt text]":"Pause","pawn/[translation hint:default icon alt text]":"Pawn","pending/[translation hint:default icon alt text]":"Pending","people group/[translation hint:default icon alt text]":"People Group","personalization field/[translation hint:default icon alt text]":"Personalization Field","perspective/[translation hint:default icon alt text]":"Perspective","phone gap/[translation hint:default icon alt text]":"PhoneGap","phone gap builder/[translation hint:default icon alt text]":"PhoneGap Builder","photoshop/[translation hint:default icon alt text]":"Photoshop","pin off/[translation hint:default icon alt text]":"Pin Off","pin on/[translation hint:default icon alt text]":"Pin On","pinterest/[translation hint:default icon alt text]":"Pinterest","pivot/[translation hint:default icon alt text]":"Pivot","platform data mapping/[translation hint:default icon alt text]":"Platform Data Mapping","play/[translation hint:default icon alt text]":"Play","play circle/[translation hint:default icon alt text]":"Play","plug/[translation hint:default icon alt text]":"Plug","polygon/[translation hint:default icon alt text]":"Polygon","polygon select/[translation hint:default icon alt text]":"Polygon Select","pop in/[translation hint:default icon alt text]":"Pop In","portrait/[translation hint:default icon alt text]":"Portrait","premiere pro/[translation hint:default icon alt text]":"Premiere Pro","preset/[translation hint:default icon alt text]":"Preset","preview/[translation hint:default icon alt text]":"Preview","print/[translation hint:default icon alt text]":"Print","print preview/[translation hint:default icon alt text]":"Print Preview","project/[translation hint:default icon alt text]":"Project","project add/[translation hint:default icon alt text]":"Project Add","project edit/[translation hint:default icon alt text]":"Project Edit","project name edit/[translation hint:default icon alt text]":"Project Name Edit","promote/[translation hint:default icon alt text]":"Promote","properties/[translation hint:default icon alt text]":"Properties","properties copy/[translation hint:default icon alt text]":"Properties Copy","public/[translation hint:default icon alt text]":"Public","publish check/[translation hint:default icon alt text]":"Publish Check","publish pending/[translation hint:default icon alt text]":"Publish Pending","publish reject/[translation hint:default icon alt text]":"Publish Reject","publish remove/[translation hint:default icon alt text]":"Publish Remove","publish schedule/[translation hint:default icon alt text]":"Publish Schedule","push notification/[translation hint:default icon alt text]":"Push Notification","question/[translation hint:default icon alt text]":"Question","quick select/[translation hint:default icon alt text]":"Quick Select","rss/[translation hint:default icon alt text]":"RSS","radial gradient/[translation hint:default icon alt text]":"Radial Gradient","rail/[translation hint:default icon alt text]":"Rail","rail bottom/[translation hint:default icon alt text]":"Rail Bottom","rail left/[translation hint:default icon alt text]":"Rail Left","rail right/[translation hint:default icon alt text]":"Rail Right","rail right close/[translation hint:default icon alt text]":"Close Rail Right","rail right open/[translation hint:default icon alt text]":"Open Rail Right","rail top/[translation hint:default icon alt text]":"Rail Top","range mask/[translation hint:default icon alt text]":"Range Mask","rect select/[translation hint:default icon alt text]":"Rect Select","rectangle/[translation hint:default icon alt text]":"Rectangle","redo/[translation hint:default icon alt text]":"Redo","refresh/[translation hint:default icon alt text]":"Refresh","region select/[translation hint:default icon alt text]":"Region Select","relevance/[translation hint:default icon alt text]":"Relevance","remove/[translation hint:default icon alt text]":"Remove","remove circle/[translation hint:default icon alt text]":"Remove","rename/[translation hint:default icon alt text]":"Rename","reorder/[translation hint:default icon alt text]":"Reorder","replay/[translation hint:default icon alt text]":"Replay","replies/[translation hint:default icon alt text]":"Replies","reply/[translation hint:default icon alt text]":"Reply","reply all/[translation hint:default icon alt text]":"Reply All","report/[translation hint:default icon alt text]":"Report","report add/[translation hint:default icon alt text]":"Report Add","resize/[translation hint:default icon alt text]":"Resize","retweet/[translation hint:default icon alt text]":"Retweet","reuse/[translation hint:default icon alt text]":"Reuse","revenue/[translation hint:default icon alt text]":"Revenue","revert/[translation hint:default icon alt text]":"Revert","rewind/[translation hint:default icon alt text]":"Rewind","rewind circle/[translation hint:default icon alt text]":"Rewind","ribbon/[translation hint:default icon alt text]":"Ribbon","rotate ccw/[translation hint:default icon alt text]":"Rotate CCW","rotate ccwbold/[translation hint:default icon alt text]":"Rotate CCW","rotate cw/[translation hint:default icon alt text]":"Rotate CW","rotate cwbold/[translation hint:default icon alt text]":"Rotate CW","rotate left/[translation hint:default icon alt text]":"Rotate Left","rotate right/[translation hint:default icon alt text]":"Rotate Right","sms/[translation hint:default icon alt text]":"SMS","smskey/[translation hint:default icon alt text]":"SMS Key","smslightning/[translation hint:default icon alt text]":"SMS Lightning","smsrefresh/[translation hint:default icon alt text]":"SMS Refresh","sqlquery/[translation hint:default icon alt text]":"SQL Query","safari/[translation hint:default icon alt text]":"Safari","sampler/[translation hint:default icon alt text]":"Sampler","save as floppy/[translation hint:default icon alt text]":"Save As Floppy","save floppy/[translation hint:default icon alt text]":"Save Floppy","save to/[translation hint:default icon alt text]":"Save To","scribble/[translation hint:default icon alt text]":"Scribble","search/[translation hint:default icon alt text]":"Search","seat/[translation hint:default icon alt text]":"Seat","seat add/[translation hint:default icon alt text]":"Seat Add","segments/[translation hint:default icon alt text]":"Segments","select/[translation hint:default icon alt text]":"Select","select add/[translation hint:default icon alt text]":"Select Add","select box/[translation hint:default icon alt text]":"Select Box","select box all/[translation hint:default icon alt text]":"Select Box All","select circular/[translation hint:default icon alt text]":"Select Circular","select container/[translation hint:default icon alt text]":"Select Container","select gear/[translation hint:default icon alt text]":"Select Gear","select intersect/[translation hint:default icon alt text]":"Select Intersect","select substract/[translation hint:default icon alt text]":"Select Substract","selection/[translation hint:default icon alt text]":"Selection","selection checked/[translation hint:default icon alt text]":"Selection Checked","selection move/[translation hint:default icon alt text]":"Selection Move","send/[translation hint:default icon alt text]":"Send","send for signature/[translation hint:default icon alt text]":"Send For Signature","sentiment negative/[translation hint:default icon alt text]":"Sentiment Negative","sentiment neutral/[translation hint:default icon alt text]":"Sentiment Neutral","sentiment positive/[translation hint:default icon alt text]":"Sentiment Positive","separator/[translation hint:default icon alt text]":"Separator","servers/[translation hint:default icon alt text]":"Servers","settings/[translation hint:default icon alt text]":"Settings","shapes/[translation hint:default icon alt text]":"Shapes","share/[translation hint:default icon alt text]":"Share","share android/[translation hint:default icon alt text]":"Share","share check/[translation hint:default icon alt text]":"Share Check","share windows/[translation hint:default icon alt text]":"Share","sharpen/[translation hint:default icon alt text]":"Sharpen","shield/[translation hint:default icon alt text]":"Shield","shopping cart/[translation hint:default icon alt text]":"Shopping Cart","show all layers/[translation hint:default icon alt text]":"Show All Layers","show menu/[translation hint:default icon alt text]":"Show Menu","show one layer/[translation hint:default icon alt text]":"Show One Layer","shuffle/[translation hint:default icon alt text]":"Shuffle","sina weibo/[translation hint:default icon alt text]":"Sina Weibo","slice/[translation hint:default icon alt text]":"Slice","slow/[translation hint:default icon alt text]":"Slow","small caps/[translation hint:default icon alt text]":"Small Caps","snapshot/[translation hint:default icon alt text]":"Snapshot","social network/[translation hint:default icon alt text]":"Social Network","sort order down/[translation hint:default icon alt text]":"Sort Order Down","sort order up/[translation hint:default icon alt text]":"Sort Order Up","spam/[translation hint:default icon alt text]":"Spam","spellcheck/[translation hint:default icon alt text]":"Spellcheck","spin/[translation hint:default icon alt text]":"Spin","split view/[translation hint:default icon alt text]":"Split View","spot heal/[translation hint:default icon alt text]":"Spot Heal","stage/[translation hint:default icon alt text]":"Stage","stamp/[translation hint:default icon alt text]":"Stamp","starburst/[translation hint:default icon alt text]":"Starburst","step backward/[translation hint:default icon alt text]":"Step Backward","step backward circle/[translation hint:default icon alt text]":"Step Backward","step forward/[translation hint:default icon alt text]":"Step Forward","step forward circle/[translation hint:default icon alt text]":"Step Forward","stock/[translation hint:default icon alt text]":"Stock","stop/[translation hint:default icon alt text]":"Stop","stop circle/[translation hint:default icon alt text]":"Stop","stopwatch/[translation hint:default icon alt text]":"Stopwatch","straighten/[translation hint:default icon alt text]":"Straighten","stroke width/[translation hint:default icon alt text]":"Stroke Width","subscribe/[translation hint:default icon alt text]":"Subscribe","substract back path/[translation hint:default icon alt text]":"Substract Back Path","substract from selection/[translation hint:default icon alt text]":"Substract From Selection","subtract front path/[translation hint:default icon alt text]":"Subtract Front Path","success metric/[translation hint:default icon alt text]":"Success Metric","summarize/[translation hint:default icon alt text]":"Summarize","survey/[translation hint:default icon alt text]":"Survey","switch/[translation hint:default icon alt text]":"Switch","sync/[translation hint:default icon alt text]":"Sync","sync remove/[translation hint:default icon alt text]":"Sync Remove","table/[translation hint:default icon alt text]":"Table","table add/[translation hint:default icon alt text]":"Table Add","table and chart/[translation hint:default icon alt text]":"Table And Chart","table column add left/[translation hint:default icon alt text]":"Table Column Add Left","table column add right/[translation hint:default icon alt text]":"Table Column Add Right","table column merge/[translation hint:default icon alt text]":"Table Column Merge","table column remove center/[translation hint:default icon alt text]":"Table Column Remove Center","table column split/[translation hint:default icon alt text]":"Table Column Split","table edit/[translation hint:default icon alt text]":"Table Edit","table histogram/[translation hint:default icon alt text]":"Table Histogram","table merge cells/[translation hint:default icon alt text]":"Table Merge Cells","table row add bottom/[translation hint:default icon alt text]":"Table Row Add Bottom","table row add top/[translation hint:default icon alt text]":"Table Row Add Top","table row merge/[translation hint:default icon alt text]":"Table Row Merge","table row remove center/[translation hint:default icon alt text]":"Table Row Remove Center","table row split/[translation hint:default icon alt text]":"Table Row Split","table select column/[translation hint:default icon alt text]":"Table Select Column","table select row/[translation hint:default icon alt text]":"Table Select Row","tableau/[translation hint:default icon alt text]":"Tableau","tag bold/[translation hint:default icon alt text]":"Tag Bold","tag italic/[translation hint:default icon alt text]":"Tag Italic","tag underline/[translation hint:default icon alt text]":"Tag Underline","target/[translation hint:default icon alt text]":"Target","targeted/[translation hint:default icon alt text]":"Targeted","task list/[translation hint:default icon alt text]":"Task List","teapot/[translation hint:default icon alt text]":"Teapot","temperature/[translation hint:default icon alt text]":"Temperature","test ab/[translation hint:default icon alt text]":"Test AB","test abedit/[translation hint:default icon alt text]":"Test AB Edit","test abgear/[translation hint:default icon alt text]":"Test AB Gear","test abremove/[translation hint:default icon alt text]":"Test AB Remove","test profile/[translation hint:default icon alt text]":"Test Profile","text/[translation hint:default icon alt text]":"Text","text add/[translation hint:default icon alt text]":"Text Add","text align center/[translation hint:default icon alt text]":"Text Align Center","text align justify/[translation hint:default icon alt text]":"Text Align Justify","text align left/[translation hint:default icon alt text]":"Text Align Left","text align right/[translation hint:default icon alt text]":"Text Align Right","text baseline shift/[translation hint:default icon alt text]":"Text Baseline Shift","text bold/[translation hint:default icon alt text]":"Text Bold","text bulleted/[translation hint:default icon alt text]":"Text Bulleted","text bulleted attach/[translation hint:default icon alt text]":"Text Bulleted Attach","text bulleted hierarchy/[translation hint:default icon alt text]":"Text Bulleted Hierarchy","text bulleted hierarchy exclude/[translation hint:default icon alt text]":"Text Bulleted Hierarchy Exclude","text decrease/[translation hint:default icon alt text]":"Text Decrease","text edit/[translation hint:default icon alt text]":"Text Edit","text exclude/[translation hint:default icon alt text]":"Text Exclude","text increase/[translation hint:default icon alt text]":"Text Increase","text indent decrease/[translation hint:default icon alt text]":"Text Indent Decrease","text indent increase/[translation hint:default icon alt text]":"Text Indent Increase","text italic/[translation hint:default icon alt text]":"Text Italic","text kerning/[translation hint:default icon alt text]":"Text Kerning","text lettered lower case/[translation hint:default icon alt text]":"Text Lettered Lower Case","text lettered upper case/[translation hint:default icon alt text]":"Text Lettered Upper Case","text numbered/[translation hint:default icon alt text]":"Text Numbered","text paragraph/[translation hint:default icon alt text]":"Text Paragraph","text roman lowercase/[translation hint:default icon alt text]":"Text Roman Lowercase","text roman uppercase/[translation hint:default icon alt text]":"Text Roman Uppercase","text size/[translation hint:default icon alt text]":"Text Size","text size add/[translation hint:default icon alt text]":"Text Size Add","text space after/[translation hint:default icon alt text]":"Text Space After","text space before/[translation hint:default icon alt text]":"Text Space Before","text strikethrough/[translation hint:default icon alt text]":"Text Strikethrough","text stroke/[translation hint:default icon alt text]":"Text Stroke","text style/[translation hint:default icon alt text]":"Text Style","text subscript/[translation hint:default icon alt text]":"Text Subscript","text superscript/[translation hint:default icon alt text]":"Text Superscript","text tracking/[translation hint:default icon alt text]":"Text Tracking","text underline/[translation hint:default icon alt text]":"Text Underline","thumb down/[translation hint:default icon alt text]":"Thumb Down","thumb up/[translation hint:default icon alt text]":"Thumb Up","tips/[translation hint:default icon alt text]":"Tips","transfer to platform/[translation hint:default icon alt text]":"Transfer To Platform","transparency/[translation hint:default icon alt text]":"Transparency","trap/[translation hint:default icon alt text]":"Trap","tree collapse/[translation hint:default icon alt text]":"Tree Collapse","tree collapse all/[translation hint:default icon alt text]":"Tree Collapse All","tree expand/[translation hint:default icon alt text]":"Tree Expand","tree expand all/[translation hint:default icon alt text]":"Tree Expand All","trend inspect/[translation hint:default icon alt text]":"Trend Inspect","trim path/[translation hint:default icon alt text]":"Trim Path","trophy/[translation hint:default icon alt text]":"Trophy","tumblr/[translation hint:default icon alt text]":"Tumblr","twitter/[translation hint:default icon alt text]":"Twitter","type/[translation hint:default icon alt text]":"Type","usa/[translation hint:default icon alt text]":"USA","underline/[translation hint:default icon alt text]":"Underline","undo/[translation hint:default icon alt text]":"Undo","ungroup/[translation hint:default icon alt text]":"Ungroup","unlink/[translation hint:default icon alt text]":"Unlink","unmerge/[translation hint:default icon alt text]":"Unmerge","upload to cloud/[translation hint:default icon alt text]":"Upload To Cloud","user/[translation hint:default icon alt text]":"User","user activity/[translation hint:default icon alt text]":"User Activity","user add/[translation hint:default icon alt text]":"User Add","user admin/[translation hint:default icon alt text]":"User Admin","user arrow/[translation hint:default icon alt text]":"User Arrow","user checked out/[translation hint:default icon alt text]":"User Checked Out","user edit/[translation hint:default icon alt text]":"User Edit","user exclude/[translation hint:default icon alt text]":"User Exclude","user group/[translation hint:default icon alt text]":"User Group","user lock/[translation hint:default icon alt text]":"User Lock","user share/[translation hint:default icon alt text]":"User Share","users add/[translation hint:default icon alt text]":"Users Add","users exclude/[translation hint:default icon alt text]":"Users Exclude","users lock/[translation hint:default icon alt text]":"Users Lock","users share/[translation hint:default icon alt text]":"Users Share","vk/[translation hint:default icon alt text]":"VK","variable/[translation hint:default icon alt text]":"Variable","vector draw/[translation hint:default icon alt text]":"Vector Draw","video checked out/[translation hint:default icon alt text]":"Video Checked Out","video/[translation hint:default icon alt text]":"Video","view all tags/[translation hint:default icon alt text]":"View All Tags","view bi week/[translation hint:default icon alt text]":"View Bi-Week","view card/[translation hint:default icon alt text]":"View Card","view column/[translation hint:default icon alt text]":"View Column","view day/[translation hint:default icon alt text]":"View Day","view detail/[translation hint:default icon alt text]":"View Detail","view grid/[translation hint:default icon alt text]":"View Grid","view list/[translation hint:default icon alt text]":"View List","view row/[translation hint:default icon alt text]":"View Row","view single/[translation hint:default icon alt text]":"View Single","view stack/[translation hint:default icon alt text]":"View Stack","view week/[translation hint:default icon alt text]":"View Week","viewed mark as/[translation hint:default icon alt text]":"Viewed Mark As","vignette/[translation hint:default icon alt text]":"Vignette","visibility/[translation hint:default icon alt text]":"Visibility","visibility off/[translation hint:default icon alt text]":"Visibility Off","visit/[translation hint:default icon alt text]":"Visit","visit share/[translation hint:default icon alt text]":"Visit Share","voice over/[translation hint:default icon alt text]":"Voice Over","volume mute/[translation hint:default icon alt text]":"Volume Mute","volume one/[translation hint:default icon alt text]":"Volume One","volume three/[translation hint:default icon alt text]":"Volume Three","volume two/[translation hint:default icon alt text]":"Volume Two","watch/[translation hint:default icon alt text]":"Watch","web page/[translation hint:default icon alt text]":"Web Page","web pages/[translation hint:default icon alt text]":"Web Pages","whats app/[translation hint:default icon alt text]":"Whats App","windows 7/[translation hint:default icon alt text]":"Windows 7","windows 8/[translation hint:default icon alt text]":"Windows 8","wordpress/[translation hint:default icon alt text]":"Wordpress","workflow/[translation hint:default icon alt text]":"Workflow","workflow add/[translation hint:default icon alt text]":"Workflow Add","wrench/[translation hint:default icon alt text]":"Wrench","xd/[translation hint:default icon alt text]":"XD","you tube/[translation hint:default icon alt text]":"YouTube","zoom in/[translation hint:default icon alt text]":"Zoom In","zoom out/[translation hint:default icon alt text]":"Zoom Out","adobe experience platform/[translation hint:default icon alt text]":"Adobe Experience Platform","calendar check/[translation hint:default icon alt text]":"Calendar Check","emotion admiration/[translation hint:default icon alt text]":"Emotion: Admiration","emotion anger/[translation hint:default icon alt text]":"Emotion: Anger","emotion anticipation/[translation hint:default icon alt text]":"Emotion: Anticipation","emotion disgust/[translation hint:default icon alt text]":"Emotion: Disgust","emotion fear/[translation hint:default icon alt text]":"Emotion: Fear","emotion joy/[translation hint:default icon alt text]":"Emotion: Joy","emotion sadness/[translation hint:default icon alt text]":"Emotion: Sadness","emotion surprise/[translation hint:default icon alt text]":"Emotion: Surprise","facebook circle/[translation hint:default icon alt text]":"Facebook","google plus circle/[translation hint:default icon alt text]":"Google Plus","instagram circle/[translation hint:default icon alt text]":"Instagram","linked in circle/[translation hint:default icon alt text]":"LinkedIn","mc marketo engage/[translation hint:default icon alt text]":"Marketo Engage","project camera/[translation hint:default icon alt text]":"Project Camera","project play/[translation hint:default icon alt text]":"Project Play","project refresh/[translation hint:default icon alt text]":"Project Refresh","sina weibo circle/[translation hint:default icon alt text]":"Sina Weibo","table cell merge/[translation hint:default icon alt text]":"Table Cell Merge","target check/[translation hint:default icon alt text]":"Target Check","twitter circle/[translation hint:default icon alt text]":"Twitter","user circle/[translation hint:default icon alt text]":"User","user group circle/[translation hint:default icon alt text]":"User Group","windows/[translation hint:default icon alt text]":"Windows","you tube circle/[translation hint:default icon alt text]":"YouTube"}}}),da._define("coral-icon",Uo);var qo={},Vo=[Uo.size.LARGE,Uo.size.EXTRA_LARGE,Uo.size.EXTRA_EXTRA_LARGE];for(var $o in Uo.size)-1===Vo.indexOf(Uo.size[$o])&&(qo[$o]=Uo.size[$o]);var jo={CTA:"cta",PRIMARY:"primary",SECONDARY:"secondary",QUIET:"quiet",MINIMAL:"minimal",WARNING:"warning",ACTION:"action",QUIET_ACTION:"quietaction",QUIET_SECONDARY:"quietsecondary",QUIET_WARNING:"quietwarning",OVER_BACKGROUND:"overbackground",DEFAULT:"default",_CUSTOM:"_custom"},Wo="_coral-Button",Ko=["".concat(Wo,"--cta"),"".concat(Wo,"--primary"),"".concat(Wo,"--secondary"),"".concat(Wo,"--warning"),"".concat(Wo,"--quiet"),"".concat("_coral-ActionButton","--quiet"),"".concat(Wo,"--overBackground")],Go={cta:[Wo,Ko[0]],primary:[Wo,Ko[0]],secondary:[Wo,Ko[2]],warning:[Wo,Ko[3]],quiet:[Wo,Ko[1],Ko[4]],minimal:[Wo,Ko[2],Ko[4]],default:[Wo,Ko[1]],action:["_coral-ActionButton"],quietaction:["_coral-ActionButton",Ko[5]],quietsecondary:[Wo,Ko[2],Ko[4]],quietwarning:[Wo,Ko[3],Ko[4]],overbackground:[Wo,Ko[6]]},Zo={MEDIUM:"M",LARGE:"L"},Xo={RIGHT:"right",LEFT:"left"},Qo=function(t){return function(t){s(i,t);var e=d(i);function i(){var t,n;return a(this,i),(n=e.call(this))._elements={label:n.querySelector(n._contentZoneTagName)||document.createElement(n._contentZoneTagName),icon:n.querySelector("coral-icon")},n._events={mousedown:"_onMouseDown",click:"_onClick"},m((t=u(n),l(i.prototype)),"_observeLabel",t).call(t),n}return r(i,[{key:"_onClick",value:function(t){this.disabled||this._trackEvent("click",this.getAttribute("is"),t)}},{key:"_updateIcon",value:function(t){if(this._updatedIcon||!this._elements.icon){this._updatedIcon=!0;var e=this.iconSize,n=this.iconAutoAriaLabel,a=this._getIconElement();a.icon=t,a.size=e,a.autoAriaLabel=n,""===this.icon?a.remove():a.parentNode&&!this._iconPosition||this.contains(this.label)&&this.insertBefore(a,this.iconPosition===Xo.LEFT?this.label:this.label.nextElementSibling),m(l(i.prototype),"_toggleIconAriaHidden",this).call(this)}}},{key:"_getIconElement",value:function(){return this._elements.icon||(this._elements.icon=new Uo,this._elements.icon.size=this.iconSize),this._elements.icon}},{key:"_onMouseDown",value:function(t){var e=t.matchedTarget;window.requestAnimationFrame((function(){e!==document.activeElement&&e.focus()}))}},{key:"_updateLabel",value:function(t){(t=t||this._elements.label).classList.remove("".concat(Wo,"-label"),"".concat("_coral-ActionButton","-label")),this._variant!==jo._CUSTOM&&(this._variant===jo.ACTION||this._variant===jo.QUIET_ACTION?t.classList.add("".concat("_coral-ActionButton","-label")):t.classList.add("".concat(Wo,"-label")))}},{key:"render",value:function(){m(l(i.prototype),"render",this).call(this),this._variant||(this.variant=jo.DEFAULT),this._size||(this.size=Zo.MEDIUM);var t=document.createDocumentFragment(),e=this._elements.label,n=e.parentNode;n&&this.removeChild(e);for(var a=!1;this.firstChild;){var o=this.firstChild;"CORAL-ICON"===o.nodeName?a?this.removeChild(o):(this._elements.icon=o,t.appendChild(o),a=!0):n?t.appendChild(o):e.appendChild(o)}this.appendChild(t),this.label=e,this._updatedIcon=!0,this._updateIcon(this.icon)}},{key:"label",get:function(){return this._getContentZone(this._elements.label)},set:function(t){this._setContentZone("label",t,{handle:"label",tagName:this._contentZoneTagName,insert:function(t){this._updateLabel(t),""===t.innerHTML.trim()&&(t.textContent=""),this.iconPosition===Xo.LEFT?this.appendChild(t):this.insertBefore(t,this.firstChild)}})}},{key:"iconPosition",get:function(){return this._iconPosition||Xo.LEFT},set:function(t){t=Ua.string(t).toLowerCase(),this._iconPosition=Ba.enumeration(Xo)(t)&&t||Xo.LEFT,this._reflectAttribute("iconposition",this._iconPosition),this._updateIcon(this.icon)}},{key:"icon",get:function(){return this._elements.icon?this._elements.icon.getAttribute("icon")||"":this._icon||""},set:function(t){this._icon=Ua.string(t),this._updateIcon(t)}},{key:"iconSize",get:function(){return this._elements.icon?this._elements.icon.getAttribute("size")||Uo.size.SMALL:this._iconSize||Uo.size.SMALL},set:function(t){t=Ua.string(t).toUpperCase(),this._iconSize=Ba.enumeration(Uo.size)(t)&&t||Uo.size.SMALL,this._updatedIcon&&this._getIconElement().setAttribute("size",t)}},{key:"iconAutoAriaLabel",get:function(){return this._elements.icon?this._elements.icon.getAttribute("autoarialabel")||Uo.autoAriaLabel.OFF:this._iconAutoAriaLabel||Uo.autoAriaLabel.OFF},set:function(t){t=Ua.string(t).toLowerCase(),this._iconAutoAriaLabel=Ba.enumeration(Uo.autoAriaLabel)(t)&&t||Uo.autoAriaLabel.OFF,this._updatedIcon&&this._getIconElement().setAttribute("autoarialabel",t)}},{key:"size",get:function(){return this._size||Zo.MEDIUM},set:function(t){t=Ua.string(t).toUpperCase(),this._size=Ba.enumeration(Zo)(t)&&t||Zo.MEDIUM,this._reflectAttribute("size",this._size)}},{key:"selected",get:function(){return this._selected||!1},set:function(t){this._selected=Ua.booleanAttr(t),this._reflectAttribute("selected",this._selected),this.classList.toggle("is-selected",this._selected),this.trigger("coral-button:_selectedchanged")}},{key:"value",get:function(){return this.getAttribute("value")},set:function(t){this._reflectAttribute("value",t),this.trigger("coral-button:_valuechanged")}},{key:"block",get:function(){return this._block||!1},set:function(t){this._block=Ua.booleanAttr(t),this._reflectAttribute("block",this._block),this.classList.toggle("".concat(Wo,"--block"),this._block)}},{key:"variant",get:function(){return this._variant||jo.DEFAULT},set:function(t){var e,i;(t=Ua.string(t).toLowerCase(),this._variant=Ba.enumeration(jo)(t)&&t||jo.DEFAULT,this._reflectAttribute("variant",this._variant),this.classList.remove(Wo,"_coral-ActionButton"),(e=this.classList).remove.apply(e,Ko),this._variant===jo._CUSTOM)?this.classList.remove(Wo):((i=this.classList).add.apply(i,v(Go[this._variant])),this._variant!==jo.ACTION&&this._variant!==jo.QUIET_ACTION||this.classList.remove(Wo));this._updateLabel()}},{key:"trackingElement",get:function(){return void 0===this._trackingElement?(this.label||this).textContent.replace(/\s{2,}/g," ").trim()||this.icon:this._trackingElement},set:function(t){g(l(i.prototype),"trackingElement",t,this,!0)}},{key:"_contentZoneTagName",get:function(){return Object.keys(this._contentZones)[0]}},{key:"_contentZones",get:function(){return{"coral-button-label":"label"}}}],[{key:"size",get:function(){return Zo}},{key:"variant",get:function(){return jo}},{key:"iconPosition",get:function(){return Xo}},{key:"iconSize",get:function(){return qo}},{key:"_attributePropertyMap",get:function(){return da.extend(m(l(i),"_attributePropertyMap",this),{iconposition:"iconPosition",iconsize:"iconSize",iconautoarialabel:"iconAutoAriaLabel"})}},{key:"observedAttributes",get:function(){return m(l(i),"observedAttributes",this).concat(["iconposition","iconsize","icon","iconautoarialabel","size","selected","block","variant","value"])}}]),i}(bo(t))},Yo=function(t){s(i,t);var e=d(i);function i(){var t;return a(this,i),(t=e.call(this))._delegateEvents(t._events),t}return i}(Qo(ho(HTMLButtonElement)));da._define("coral-button",Yo,{extends:"button"}),Yo.Label=function(){return document.createElement("coral-button-label")};var Jo={DEFAULT:"default",QUIET:"quiet"},tr=[];for(var er in Jo)tr.push("".concat("_coral-Textfield","--").concat(Jo[er]));var ir=function(t){s(i,t);var e=d(i);function i(){var t;return a(this,i),(t=e.call(this))._delegateEvents(da.extend(t._events,{input:"_onInput"})),t}return r(i,[{key:"reset",value:function(){this.value=this.textContent,this._onInput()}},{key:"_onInput",value:function(){var t=this;this.variant===Jo.QUIET&&requestAnimationFrame((function(){t.style.height="auto",t.style.height="".concat(t.scrollHeight,"px")}))}},{key:"render",value:function(){m(l(i.prototype),"render",this).call(this),this.classList.add("_coral-Textfield","".concat("_coral-Textfield","--multiline")),this._variant||(this.variant=Jo.DEFAULT)}},{key:"variant",get:function(){return this._variant||Jo.DEFAULT},set:function(t){var e;t=Ua.string(t).toLowerCase(),this._variant=Ba.enumeration(Jo)(t)&&t||Jo.DEFAULT,this._reflectAttribute("variant",this._variant),(e=this.classList).remove.apply(e,tr),this._variant!==Jo.DEFAULT&&this.classList.add("".concat("_coral-Textfield","--").concat(this._variant)),this._variant===Jo.QUIET?this._defaultHeight=this._defaultHeight||this.style.height:(this.style.height=this._defaultHeight,this._defaultHeight=void 0),this._onInput()}}],[{key:"variant",get:function(){return Jo}},{key:"observedAttributes",get:function(){return m(l(i),"_nativeObservedAttributes",this).concat(["variant"])}}]),i}(mo(ho(HTMLTextAreaElement)));da._define("coral-textarea",ir,{extends:"textarea"});function nr(t){for(var e=[],i=0,n=e.length=t.length;i<n;i++)e[i]=t[i];return e}var ar=0;function or(t,e){return"function"!=typeof e||e(t)}var rr=function(){function t(e){var i,n;a(this,t),e=e||{},this._id=ar++,this._host=e.host,this._itemTagName=e.itemTagName,this._itemBaseTagName=e.itemBaseTagName,this._itemSelector=e.itemSelector||(i=this._itemTagName,(n=this._itemBaseTagName)?"".concat(n,'[is="').concat(i,'"]'):i),this._container=e.container||this._host,this._filter=e.filter,this._handleItems=!1,this._itemSelector&&0===this._itemSelector.indexOf(":scope > ")?(this._container.id=this._container.id||"coral-collection-id-"+this._id,this._allItemsSelector=this._itemSelector.replace(":scope > ","#".concat(this._container.id," > ")),this._itemSelector=this._itemSelector.replace(":scope > ",""),this._itemSelector===this._itemTagName&&(this._useItemTagName=this._itemSelector.toUpperCase())):(this._allItemsSelector=this._itemSelector,this._container&&this._allItemsSelector===this._itemTagName&&(this._liveCollection=!0,this._useItemTagName=this._allItemsSelector.toUpperCase())),this._onItemAdded=e.onItemAdded,this._onItemRemoved=e.onItemRemoved,this._onCollectionChange=e.onCollectionChange}return r(t,[{key:"add",value:function(t,e){if(this._container&&this._itemTagName)return t instanceof HTMLElement||(t=this._itemBaseTagName?document.createElement(this._itemBaseTagName,{is:this._itemTagName}).set(t,!0):document.createElement(this._itemTagName).set(t,!0)),this._container.insertBefore(t,e||null),!this._handleItems&&"function"==typeof this._onItemAdded&&this._host&&or(t,this._filter)&&this._onItemAdded.call(this._host,t),t;throw new Error("Please provide host and itemTagName or override add() to provide your own implementation.")}},{key:"clear",value:function(){for(var t=this.getAll(),e=[],i=t.length-1;i>-1;i--)e.push(this.remove(t[i]));return e}},{key:"getAll",value:function(){if(this._container&&this._allItemsSelector){var t=this._liveCollection?nr(this._container.getElementsByTagName(this._allItemsSelector)):nr(this._container.querySelectorAll(this._allItemsSelector));return this._filter&&(t=t.filter(this._filter)),t}throw new Error("Please provide host and itemTagName or override getAll() to provide your own implementation.")}},{key:"remove",value:function(t){return t.parentNode&&(t.parentNode.removeChild(t),!this._handleItems&&"function"==typeof this._onItemRemoved&&this._host&&or(t,this._filter)&&this._onItemRemoved.call(this._host,t)),t}},{key:"first",value:function(){return this.getAll()[0]||null}},{key:"last",value:function(){var t=this.getAll();return t[t.length-1]||null}},{key:"_isPartOfCollection",value:function(t){return t.nodeType===Node.ELEMENT_NODE&&or(t,this._filter)&&(this._useItemTagName?this._useItemTagName===t.tagName:t.matches(this._itemSelector))}},{key:"_onItemAttached",value:function(t){"function"==typeof this._onItemAdded&&this._onItemAdded.call(this._host,t),this._host.trigger("coral-collection:add",{item:t})}},{key:"_onItemDetached",value:function(t){"function"==typeof this._onItemRemoved&&this._onItemRemoved.call(this._host,t),this._host.trigger("coral-collection:remove",{item:t})}},{key:"_startHandlingItems",value:function(t){if(!this._host||!this._container)throw new Error("Please provide options.host and/or options.container to enable handling the items.");if(this._observer=this._observer||new MutationObserver(this._handleMutation.bind(this)),this._handleItems=!0,this._observer.observe(this._container,{childList:!0,subtree:!0}),!0!==t){var e,i=0;if("function"!=typeof this._onItemAdded&&"function"!=typeof this._onCollectionChange||(i=(e=this.getAll()).length),"function"==typeof this._onItemAdded)for(var n=0;n<i;n++)this._onItemAdded.call(this._host,e[n]);i>0&&"function"==typeof this._onCollectionChange&&this._onCollectionChange.call(this._host,e,[])}}},{key:"_stopHandlingItems",value:function(){this._observer&&this._observer.disconnect()}},{key:"_handleMutation",value:function(t){for(var e,i,n,a,o,r,s=t.length,l=[],c=[],u=0,h=0;h<s;h++){a=(n=(e=t[h]).addedNodes).length;for(var d=0;d<a;d++)i=n[d],this._isPartOfCollection(i)&&(u++,l.push(i),this._onItemAttached(i));r=(o=e.removedNodes).length;for(var p=0;p<r;p++)i=o[p],this._isPartOfCollection(i)&&(u++,c.push(i),this._onItemDetached(i))}0!==u&&"function"==typeof this._onCollectionChange&&this._host&&this._onCollectionChange.call(this._host,l,c)}},{key:"length",get:function(){return this.getAll().length}}]),t}(),sr=function(t){s(i,t);var e=d(i);function i(t){var n;return a(this,i),(n=e.call(this,t))._filter&&da._log("warn","Coral.SelectableCollection does not support the options.filter"),n._selectableItemSelector=n._allItemsSelector.split(",").map((function(t){return"".concat(t,":not([disabled])")})).join(","),n._selectedItemSelector=n._allItemsSelector.split(",").map((function(t){return"".concat(t,"[selected]")})).join(","),n._deselectAllExceptSelector=n._selectedItemSelector,n}return r(i,[{key:"_getSelectableItems",value:function(){return nr(this._container.querySelectorAll(this._selectableItemSelector))}},{key:"_getFirstSelectable",value:function(){return this._container.querySelector(this._selectableItemSelector)||null}},{key:"_getLastSelectable",value:function(){var t=this._container.querySelectorAll(this._selectableItemSelector);return t[t.length-1]||null}},{key:"_getPreviousSelectable",value:function(t){for(var e=t.previousElementSibling;e&&!e.matches(this._selectableItemSelector);)e=e.previousElementSibling;return e||t}},{key:"_getNextSelectable",value:function(t){for(var e=t.nextElementSibling;e&&!e.matches(this._selectableItemSelector);)e=e.nextElementSibling;return e||t}},{key:"_getFirstSelected",value:function(t){var e=this._selectedItemSelector;return"string"==typeof t&&(e=e.replace("[selected]","[".concat(t,"]"))),this._container.querySelector(e)||null}},{key:"_getLastSelected",value:function(t){var e=this._selectedItemSelector;"string"==typeof t&&(e=e.replace("[selected]","[".concat(t,"]")));var i=this._container.querySelectorAll(e);return i[i.length-1]||null}},{key:"_getAllSelected",value:function(t){var e=this._selectedItemSelector;return"string"==typeof t&&(e=e.replace("[selected]","[".concat(t,"]"))),nr(this._container.querySelectorAll(e))}},{key:"_deselectAllExceptFirst",value:function(t){var e=this._deselectAllExceptSelector,i=t||"selected";"string"==typeof t&&(e=e.replace("[selected]","[".concat(t,"]")));for(var n=this._container.querySelectorAll(e),a=n.length,o=1;o<a;o++)n[o].removeAttribute(i)}},{key:"_deselectAllExceptLast",value:function(t){var e=this._deselectAllExceptSelector,i=t||"selected";"string"==typeof t&&(e=e.replace("[selected]","[".concat(t,"]")));for(var n=this._container.querySelectorAll(e),a=n.length-1,o=0;o<a;o++)n[o].removeAttribute(i)}},{key:"_deselectAllExcept",value:function(t,e){var i,n,a=this._deselectAllExceptSelector;"string"==typeof t?(i=null,n=t||"selected",a=a.replace("[selected]","[".concat(n,"]"))):(i=t,n=e||"selected","string"==typeof e&&(a=a.replace("[selected]","[".concat(n,"]"))));for(var o=this._container.querySelectorAll(a),r=o.length,s=0;s<r;s++)i!==o[s]&&o[s].removeAttribute(n)}}]),i}(rr),lr=function(t){var e=document.createDocumentFragment(),i=t=void 0===t?{}:t,n=this.buttonCell=document.createElement("span");n.setAttribute("handle","buttonCell"),n.setAttribute("hidden","");var a=document.createTextNode("\n  ");n.appendChild(a);var o=this.button=document.createElement("button","coral-button");o.setAttribute("tracking","off"),o.setAttribute("handle","button"),o.setAttribute("is","coral-button"),o.setAttribute("type","button"),o.setAttribute("variant","_custom"),o.className+=" _coral-ClearButton _coral-ClearButton--small _coral-Tags-item-removeButton",o.setAttribute("title",t.i18n.get("Remove")),o.setAttribute("hidden",""),o.setAttribute("tabindex","-1"),o.setAttribute("coral-close","");var r=document.createTextNode("\n    ");o.appendChild(r);var s=this.buttonLabel=document.createElement("coral-button-label");s.setAttribute("handle","buttonLabel"),o.appendChild(s);var l=document.createTextNode("\n  ");o.appendChild(l),n.appendChild(o);var c=document.createTextNode("\n");n.appendChild(c),e.appendChild(n);var u=document.createTextNode("\n");e.appendChild(u),i=t,this.button._elements.label=this.buttonLabel,this.button.insertAdjacentHTML("beforeend",i.Icon._renderSVG("spectrum-css-icon-CrossSmall",["_coral-UIIcon-CrossSmall"])),t=i;var h=document.createTextNode("\n");return e.appendChild(h),e},cr="_coral-Tags-item",ur={SMALL:"S",MEDIUM:"M",LARGE:"L"},hr={DEFAULT:"",GREY:"grey",BLUE:"blue",RED:"red",ORANGE:"orange",GREEN:"green",LIGHT_BLUE:"lightblue",PERIWINKLE:"periwinkle",PLUM:"plum",FUCHSIA:"fuchsia",MAGENTA:"magenta",TANGERINE:"tangerine",YELLOW:"yellow",CHARTREUSE:"chartreuse",KELLY_GREEN:"kellygreen",SEA_FOAM:"seafoam",CYAN:"cyan"},dr={lightblue:"blue",periwinkle:"blue",cyan:"blue",plum:"red",magenta:"red",tangerine:"orange",chartreuse:"green",kelly_green:"green"},pr=da.swapKeysAndValues(ur),mr=[];for(var fr in hr)mr.push("".concat("_coral-Label","--").concat(hr[fr]));var gr=[];for(var vr in Object.keys(ur))gr.push("".concat("_coral-Label","--").concat(vr));var _r="".concat(cr,"--quiet"),br="".concat(cr,"--multiline"),yr=function(t){s(i,t);var e=d(i);function i(){var t;return a(this,i),(t=e.call(this))._delegateEvents({'click [handle="button"]':"_onRemoveButtonClick","key:backspace":"_onRemoveButtonClick","key:delete":"_onRemoveButtonClick"}),t._elements={label:t.querySelector("coral-tag-label")||document.createElement("coral-tag-label")},lr.call(t._elements,{i18n:wa,Icon:Uo}),t}return r(i,[{key:"_toggleTagVariant",value:function(){var t,e,i=this.color!==hr.DEFAULT;this.classList.toggle(cr,!i),this.classList.toggle("_coral-Label",i),this.classList.toggle("".concat(cr,"--deletable"),!i),this.classList.toggle(_r,!i&&this.quiet),(t=this.classList).remove.apply(t,gr),this.classList.toggle("".concat("_coral-Label","--").concat(pr[this.size].toLowerCase()),i),(e=this.classList).remove.apply(e,mr),this.classList.toggle("".concat("_coral-Label","--").concat(this.color),i)}},{key:"_onRemoveButtonClick",value:function(t){if(t.preventDefault(),this.closable&&!this._elements.button.disabled){t.stopPropagation(),this.focus();var e=this._host;this.remove(),e&&e._onTagButtonClicked(this,t)}}},{key:"_updateAriaLabel",value:function(){var t=this._elements.button,e=this._elements.buttonCell,i=this._elements.label;if("row"!==this.getAttribute("role"))return e.removeAttribute("role"),i.removeAttribute("role"),void(this.getAttribute("aria-labelledby")===i.id&&this.removeAttribute("aria-labelledby"));e.setAttribute("role","gridcell"),i.setAttribute("role",this._closable?"rowheader":"gridcell");var n=t.getAttribute("title"),a=i.textContent;t.setAttribute("aria-label","".concat(n,": ").concat(a)),i.id||(i.id=da.getUID()),this.setAttribute("aria-labelledby",i.id)}},{key:"attributeChangedCallback",value:function(t,e,n){"disabled"===t?this._elements.button.disabled=n:"role"===t?this._updateAriaLabel():m(l(i.prototype),"attributeChangedCallback",this).call(this,t,e,n)}},{key:"connectedCallback",value:function(){m(l(i.prototype),"connectedCallback",this).call(this),this.trigger("coral-tag:_connected")}},{key:"render",value:function(){m(l(i.prototype),"render",this).call(this),this._size||(this.size=ur.MEDIUM),this._color||(this.color=hr.DEFAULT);var t=["input","button","buttonCell"],e=this._elements.label;for(e.parentNode&&this.removeChild(e);this.firstChild;){var n=this.firstChild;n.nodeType===Node.TEXT_NODE||-1===t.indexOf(n.getAttribute("handle"))?e.appendChild(n):this.removeChild(n)}this.label=e}},{key:"disconnectedCallback",value:function(){m(l(i.prototype),"disconnectedCallback",this).call(this),this._host&&this._host._onItemDisconnected(this)}},{key:"label",get:function(){return this._getContentZone(this._elements.label)},set:function(t){this._setContentZone("label",t,{handle:"label",tagName:"coral-tag-label",insert:function(t){t.classList.add("".concat(cr,"Label")),this.insertBefore(t,this.firstChild),this._updateAriaLabel()}})}},{key:"closable",get:function(){return this._closable||!1},set:function(t){this._closable=Ua.booleanAttr(t),this._reflectAttribute("closable",this._closable),this._toggleTagVariant(),this._closable&&!this.contains(this._elements.buttonCell)&&this.appendChild(this._elements.buttonCell),this._elements.button.hidden=!this._closable,this._elements.buttonCell.hidden=!this._closable,this._updateAriaLabel()}},{key:"value",get:function(){return"string"==typeof this._value?this._value:this.textContent.replace(/\s{2,}/g," ").trim()},set:function(t){this._value=Ua.string(t),this._reflectAttribute("value",this._value),this.trigger("coral-tag:_valuechanged")}},{key:"quiet",get:function(){return this._quiet||!1},set:function(t){this._quiet=Ua.booleanAttr(t),this._reflectAttribute("quiet",this._quiet),this._toggleTagVariant()}},{key:"multiline",get:function(){return this._multiline||!1},set:function(t){this._multiline=Ua.booleanAttr(t),this._reflectAttribute("multiline",this._multiline),this.classList.toggle(br,this._multiline)}},{key:"size",get:function(){return this._size||ur.MEDIUM},set:function(t){t=this._host?ur.MEDIUM:Ua.string(t).toUpperCase(),this._size=Ba.enumeration(ur)(t)&&t||ur.MEDIUM,this._reflectAttribute("size",this._size),this._toggleTagVariant()}},{key:"color",get:function(){return this._color||hr.DEFAULT},set:function(t){t=this._host?hr.DEFAULT:Ua.string(t).toLowerCase(),this._color=Ba.enumeration(hr)(t)&&t||hr.DEFAULT,-1!==Object.keys(dr).indexOf(this._color)&&(this._color=dr[this._color]),this._reflectAttribute("color",this._color),this._toggleTagVariant()}},{key:"trackingElement",get:function(){return void 0===this._trackingElement?this.value||(this.label||this).textContent.replace(/\s{2,}/g," ").trim():this._trackingElement},set:function(t){g(l(i.prototype),"trackingElement",t,this,!0)}},{key:"_contentZones",get:function(){return{"coral-tag-label":"label"}}}],[{key:"size",get:function(){return ur}},{key:"color",get:function(){return hr}},{key:"observedAttributes",get:function(){return m(l(i),"observedAttributes",this).concat(["closable","value","quiet","multiline","size","color","disabled","role"])}}]),i}(ho(HTMLElement)),Cr=function(t){var e=t.getAttribute("value");return null!==e?e:t.textContent.replace(/\s{2,}/g," ").trim()},Ar=function(t){s(i,t);var e=d(i);function i(){var t;return a(this,i),(t=e.call(this))._delegateEvents(da.extend(t._events,{"capture:focus coral-tag":"_onItemFocus","capture:blur coral-tag":"_onItemBlur","key:right coral-tag":"_onNextItemFocus","key:down coral-tag":"_onNextItemFocus","key:pagedown coral-tag":"_onNextItemFocus","key:left coral-tag":"_onPreviousItemFocus","key:up coral-tag":"_onPreviousItemFocus","key:pageup coral-tag":"_onPreviousItemFocus","key:home coral-tag":"_onFirstItemFocus","key:end coral-tag":"_onLastItemFocus","capture:focus coral-tag:not(.is-disabled)":"_onItemFocusIn","capture:blur coral-tag:not(.is-disabled)":"_onItemFocusOut","coral-tag:_valuechanged":"_onTagValueChanged","coral-tag:_connected":"_onTagConnected"})),t._labellableElement=u(t),t._itemToFocusAfterDelete=null,t}return r(i,[{key:"_attachInputToItem",value:function(t){t._input||(t._input=document.createElement("input"),t._input.type="hidden",t._input.setAttribute("handle","input"));var e=t._input;e.disabled=this.disabled,e.name=this.name,e.value=t.value,t.contains(e)||t.appendChild(e)}},{key:"_prepareItem",value:function(t){var e=this.items.getAll();if(!e.some((function(i){return Cr(i)===Cr(t)&&i!==t&&((e.indexOf(i)<e.indexOf(t)?t:i).remove(),!0)}))){if(this._attachInputToItem(t),t.setAttribute("color",yr.color.DEFAULT),t.setAttribute("size",yr.size.SMALL),t.setAttribute("role","row"),t.setAttribute("tabindex","-1"),t[this.readOnly?"removeAttribute":"setAttribute"]("closable",""),!this.querySelector("".concat("coral-tag",'[tabindex="0"]'))){var i=e[0];i&&i.setAttribute("tabindex","0")}t._host=this,this.trigger("coral-collection:add",{item:t})}}},{key:"_onItemDisconnected",value:function(t){t.removeAttribute("role"),t.removeAttribute("tabindex"),t._host=void 0,this._itemToFocusAfterDelete&&this._itemToFocusAfterDelete.focus(),this.trigger("coral-collection:remove",{item:t})}},{key:"_onItemFocus",value:function(t){if(!this.disabled){this.setAttribute("aria-live","polite");var e=t.matchedTarget;this.items.getAll().forEach((function(t){t!==e&&t.setAttribute("tabindex","-1")})),e.setAttribute("tabindex","0"),this._setItemToFocusOnDelete(e)}}},{key:"_onItemBlur",value:function(t){if(!this.disabled){this.setAttribute("aria-live","off");var e=t.matchedTarget;this._setItemToFocusOnDelete(e)}}},{key:"_onSiblingItemFocus",value:function(t,e){if(!this.disabled){t.preventDefault();for(var i=t.target[e];i;){if("coral-tag"===i.tagName.toLowerCase()&&!i.hidden){i.focus();break}i=i[e]}}}},{key:"_onNextItemFocus",value:function(t){this._onSiblingItemFocus(t,"nextElementSibling")}},{key:"_onPreviousItemFocus",value:function(t){this._onSiblingItemFocus(t,"previousElementSibling")}},{key:"_onFirstItemFocus",value:function(t){t.preventDefault(),this.items.length>0&&this.items.getAll()[0].focus()}},{key:"_onLastItemFocus",value:function(t){t.preventDefault();var e=this.items.length;e>0&&this.items.getAll()[e-1].focus()}},{key:"_onItemFocusIn",value:function(t){t.matchedTarget.classList.add("focus-ring")}},{key:"_onItemFocusOut",value:function(t){t.matchedTarget.classList.remove("focus-ring")}},{key:"_onTagButtonClicked",value:function(t,e){this.trigger("change"),this._trackEvent("remove","coral-tag",e,t)}},{key:"_onTagValueChanged",value:function(t){t.stopImmediatePropagation();var e=t.target;e._input&&(e._input.value=e.value)}},{key:"_setItemToFocusOnDelete",value:function(t){for(var e=this,i=t.nextElementSibling;i;){if("coral-tag"===i.tagName.toLowerCase()&&!i.hidden)return void(this._itemToFocusAfterDelete=i);i=i.nextElementSibling}for(i=t.previousElementSibling;i;){if("coral-tag"===i.tagName.toLowerCase()&&!i.hidden){this._itemToFocusAfterDelete=i;break}i=i.previousElementSibling}window.requestAnimationFrame((function(){null===t.parentElement||e.contains(document.activeElement)||(i=void 0)}))}},{key:"_onTagConnected",value:function(t){t.stopImmediatePropagation();var e=t.target;this._prepareItem(e)}},{key:"reset",value:function(){this.values=this._initialValues}},{key:"render",value:function(){var t=this;m(l(i.prototype),"render",this).call(this),this.classList.add("_coral-Tags"),this.setAttribute("role","grid"),this.setAttribute("aria-live","off"),this.setAttribute("aria-atomic","false"),this.setAttribute("aria-relevant","additions"),this.hasAttribute("value")?this._initialValues=[this.getAttribute("value")]:this._initialValues=this.items.getAll().map((function(t){return Cr(t)})),this.items.getAll().forEach((function(e){t._prepareItem(e)}))}},{key:"values",get:function(){return this.items.getAll().map((function(t){return t.value}))},set:function(t){var e=this;Array.isArray(t)&&(this.items.clear(),t.forEach((function(t){var i=(new yr).set({label:{innerHTML:t},value:t});e._attachInputToItem(i),e.items.add(i)})))}},{key:"items",get:function(){return this._items||(this._items=new rr({host:this,itemTagName:"coral-tag"})),this._items}},{key:"name",get:function(){return this._name||""},set:function(t){var e=this;this._name=Ua.string(t),this._reflectAttribute("name",t),this.items.getAll().forEach((function(t){t._input&&(t._input.name=e._name)}))}},{key:"value",get:function(){var t=this.items.getAll();return t.length?t[0].value:""},set:function(t){if(this.items.clear(),t){var e=(new yr).set({label:{innerHTML:t},value:t});this._attachInputToItem(e),this.items.add(e)}}},{key:"disabled",get:function(){return this._disabled||!1},set:function(t){var e=this;this._disabled=Ua.booleanAttr(t),this._reflectAttribute("disabled",this._disabled),this.items.getAll().forEach((function(t){t.classList.toggle("is-disabled",e._disabled),t._input&&(t._input.disabled=e._disabled)})),this[this._disabled?"setAttribute":"removeAttribute"]("aria-disabled",this._disabled)}},{key:"invalid",get:function(){return m(l(i.prototype),"invalid",this)},set:function(t){var e=this;g(l(i.prototype),"invalid",t,this,!0),this.items.getAll().forEach((function(t){t.classList.toggle("is-invalid",e._invalid)}))}},{key:"readOnly",get:function(){return this._readOnly||!1},set:function(t){var e=this;this._readOnly=Ua.booleanAttr(t),this._reflectAttribute("readonly",this._readOnly),this.items.getAll().forEach((function(t){t.closable=!e._readOnly}))}},{key:"required",get:function(){return this._required||!1},set:function(t){this._required=Ua.booleanAttr(t),this._reflectAttribute("required",this._required)}}],[{key:"observedAttributes",get:function(){return m(l(i),"observedAttributes",this).concat(["closable","value","quiet","multiline","size","color"])}}]),i}(mo(ho(HTMLElement)));da.extend(ka,{"coral-component-taglist":{"en-US":{Remove:"Remove"},"fr-FR":{Remove:"Supprimer"},"de-DE":{Remove:"Entfernen"},"it-IT":{Remove:"Rimuovi"},"es-ES":{Remove:"Eliminar"},"pt-BR":{Remove:"Remover"},"ja-JP":{Remove:"åé¤"},"ko-KR":{Remove:"ì ê±°"},"zh-CN":{Remove:"å é¤"},"zh-TW":{Remove:"ç§»é¤"},"nl-NL":{Remove:"Verwijderen"},"da-DK":{Remove:"Fjern"},"fi-FI":{Remove:"Poista"},"nb-NO":{Remove:"Fjern"},"sv-SE":{Remove:"Ta bort"},"cs-CZ":{Remove:"Odebrat"},"pl-PL":{Remove:"UsuÅ"},"ru-RU":{Remove:"Ð£Ð´Ð°Ð»Ð¸ÑÑ"},"tr-TR":{Remove:"KaldÄ±r"}}}),da._define("coral-tag",yr),da._define("coral-taglist",Ar),yr.Label=function(){return document.createElement("coral-tag-label")};var kr={ON:"on",OFF:"off"},wr=function(t){return function(t){s(i,t);var e=d(i);function i(){var t;return a(this,i),(t=e.call(this))._events={mouseenter:"_onMouseEnter","key:down [coral-list-item]":"_focusNextItem","key:right [coral-list-item]":"_focusNextItem","key:left [coral-list-item]":"_focusPreviousItem","key:up [coral-list-item]":"_focusPreviousItem","key:pageup [coral-list-item]":"_focusPreviousItem","key:pagedown [coral-list-item]":"_focusNextItem","key:home [coral-list-item]":"_focusFirstItem","key:end [coral-list-item]":"_focusLastItem"},t}return r(i,[{key:"_eventIsAtTarget",value:function(t){var e=t.target===t.matchedTarget;return e&&t.preventDefault(),e}},{key:"_onMouseEnter",value:function(){this.contains(document.activeElement)&&document.activeElement.blur()}},{key:"_focusFirstItem",value:function(t){this.interaction!==kr.OFF&&this._eventIsAtTarget(t)&&this._getSelectableItems()[0].focus()}},{key:"_focusLastItem",value:function(t){if(this.interaction!==kr.OFF&&this._eventIsAtTarget(t)){var e=this._getSelectableItems();e[e.length-1].focus()}}},{key:"_focusNextItem",value:function(t){if(this.interaction!==kr.OFF&&this._eventIsAtTarget(t)){var e=t.matchedTarget,i=this._getSelectableItems(),n=i.indexOf(e);-1!==n&&(n<i.length-1?i[n+1].focus():i[0].focus())}}},{key:"_focusPreviousItem",value:function(t){if(this.interaction!==kr.OFF&&this._eventIsAtTarget(t)){var e=t.matchedTarget,i=this._getSelectableItems(),n=i.indexOf(e);-1!==n&&(n>0?i[n-1].focus():i[i.length-1].focus())}}},{key:"_getSelectableItems",value:function(){return this.items._getSelectableItems().filter((function(t){return!t.hasAttribute("hidden")&&t.offsetParent}))}},{key:"focus",value:function(){if(!this.contains(document.activeElement)){var t=this._getSelectableItems();t.length>0&&t[0].focus()}}},{key:"render",value:function(){m(l(i.prototype),"render",this).call(this),this.classList.add("_coral-Menu"),this._interaction||(this.interaction=kr.ON)}},{key:"items",get:function(){return this._items||(this._items=new sr({itemTagName:this._itemTagName,itemBaseTagName:this._itemBaseTagName,itemSelector:'coral-list-item, button[is="coral-buttonlist-item"], a[is="coral-anchorlist-item"]',host:this})),this._items}},{key:"_itemTagName",get:function(){return"coral-list-item"}},{key:"interaction",get:function(){return this._interaction||kr.ON},set:function(t){t=Ua.string(t).toLowerCase(),this._interaction=Ba.enumeration(kr)(t)&&t||kr.ON,this._reflectAttribute("interaction",this._interaction)}}],[{key:"interaction",get:function(){return kr}},{key:"observedAttributes",get:function(){return m(l(i),"observedAttributes",this).concat(["interaction"])}}]),i}(t)},xr=function(t){return function(t){s(i,t);var e=d(i);function i(){var t,n;return a(this,i),(n=e.call(this))._elements={content:n.querySelector("coral-list-item-content")||document.createElement("coral-list-item-content")},m((t=u(n),l(i.prototype)),"_observeLabel",t).call(t),n}return r(i,[{key:"_getIconElement",value:function(){return this._elements.icon||(this._elements.icon=this.querySelector("._coral-Menu-item-icon")||new Uo,this._elements.icon.size=Uo.size.SMALL,this._elements.icon.classList.add("_coral-Menu-item-icon")),this._elements.icon}},{key:"render",value:function(){m(l(i.prototype),"render",this).call(this),this.classList.add("_coral-Menu-item"),this.setAttribute("coral-list-item","");var t=this._elements.content;if(!t.parentNode)for(;this.firstChild;)t.appendChild(this.firstChild);this.icon=this.icon,this.content=t}},{key:"content",get:function(){return this._getContentZone(this._elements.content)},set:function(t){var e=this;this._setContentZone("content",t,{handle:"content",tagName:"coral-list-item-content",insert:function(t){t.classList.add("".concat("_coral-Menu-item","Label")),e.appendChild(t),m(l(i.prototype),"_toggleIconAriaHidden",e).call(e)}})}},{key:"disabled",get:function(){return this._disabled||!1},set:function(t){this._disabled=Ua.booleanAttr(t),this._reflectAttribute("disabled",this._disabled),this.classList.toggle("is-disabled",this._disabled),this[this._disabled?"setAttribute":"removeAttribute"]("aria-disabled",this._disabled)}},{key:"icon",get:function(){return this._getIconElement().icon},set:function(t){var e=this._getIconElement();""===Ua.string(t)?e.remove():this.insertBefore(e,this.firstChild),e.icon=t,m(l(i.prototype),"_toggleIconAriaHidden",this).call(this)}},{key:"_contentZones",get:function(){return{"coral-list-item-content":"content"}}}],[{key:"observedAttributes",get:function(){return m(l(i),"observedAttributes",this).concat(["disabled","icon"])}}]),i}(bo(t))},Tr=function(t){s(i,t);var e=d(i);function i(){var t;return a(this,i),(t=e.call(this))._delegateEvents(t._events),t}return i}(wr(ho(HTMLElement))),Sr=function(t){s(i,t);var e=d(i);function i(){return a(this,i),e.apply(this,arguments)}return r(i,[{key:"render",value:function(){m(l(i.prototype),"render",this).call(this),this.classList.add("_coral-Menu-divider"),this.setAttribute("role","separator")}}]),i}(ho(HTMLElement)),Er=function(t){s(i,t);var e=d(i);function i(){var t;return a(this,i),(t=e.call(this))._delegateEvents(t._events),t}return i}(xr(ho(HTMLElement))),Ir=function(t){s(i,t);var e=d(i);function i(){var t;return a(this,i),(t=e.call(this))._delegateEvents(da.extend(t._events,{"click [coral-list-item]":"_onItemClick"})),t}return r(i,[{key:"_onItemClick",value:function(t){this._trackEvent("click","coral-anchorlist-item",t,t.matchedTarget)}},{key:"render",value:function(){m(l(i.prototype),"render",this).call(this),this.classList.add("_coral-AnchorList")}},{key:"_itemTagName",get:function(){return"coral-anchorlist-item"}},{key:"_itemBaseTagName",get:function(){return"a"}}]),i}(wr(ho(HTMLElement))),Lr=function(t){s(i,t);var e=d(i);function i(){var t;return a(this,i),(t=e.call(this))._delegateEvents({click:"_onClick"}),t}return r(i,[{key:"_onClick",value:function(t){this.disabled&&t.preventDefault()}},{key:"render",value:function(){m(l(i.prototype),"render",this).call(this),this.classList.add("_coral-AnchorList-item")}},{key:"disabled",get:function(){return m(l(i.prototype),"disabled",this)},set:function(t){g(l(i.prototype),"disabled",t,this,!0),this.disabled?this.setAttribute("tabindex","-1"):this.setAttribute("tabindex","0")}},{key:"trackingElement",get:function(){return void 0===this._trackingElement?(this.content||this).textContent.replace(/\s{2,}/g," ").trim():this._trackingElement},set:function(t){g(l(i.prototype),"trackingElement",t,this,!0)}}]),i}(xr(ho(HTMLAnchorElement))),Nr=function(t){s(i,t);var e=d(i);function i(){var t;return a(this,i),(t=e.call(this))._delegateEvents(da.extend(t._events,{"click [coral-list-item]":"_onItemClick"})),t}return r(i,[{key:"_onItemClick",value:function(t){this._trackEvent("click","coral-buttonlist-item",t,t.matchedTarget)}},{key:"render",value:function(){m(l(i.prototype),"render",this).call(this),this.classList.add("_coral-ButtonList")}},{key:"_itemTagName",get:function(){return"coral-buttonlist-item"}},{key:"_itemBaseTagName",get:function(){return"button"}}]),i}(wr(ho(HTMLElement))),Mr=function(t){s(i,t);var e=d(i);function i(){return a(this,i),e.apply(this,arguments)}return r(i,[{key:"render",value:function(){m(l(i.prototype),"render",this).call(this),this.classList.add("_coral-ButtonList-item")}},{key:"trackingElement",get:function(){return void 0===this._trackingElement?(this.content||this).textContent.replace(/\s{2,}/g," ").trim():this._trackingElement},set:function(t){g(l(i.prototype),"trackingElement",t,this,!0)}}]),i}(xr(ho(HTMLButtonElement))),Or=function(t){var e=document.createDocumentFragment(),i=this.track=document.createElement("div");i.setAttribute("handle","track"),i.className+=" _coral-CircleLoader-track",e.appendChild(i);var n=document.createTextNode("\n");e.appendChild(n);var a=this.fills=document.createElement("div");a.setAttribute("handle","fills"),a.className+=" _coral-CircleLoader-fills";var o=document.createTextNode("\n  ");a.appendChild(o);var r=document.createElement("div");r.className+=" _coral-CircleLoader-fillMask1";var s=document.createTextNode("\n    ");r.appendChild(s);var l=this.subMask1=document.createElement("div");l.setAttribute("handle","subMask1"),l.className+=" _coral-CircleLoader-fillSubMask1";var c=document.createTextNode("\n      ");l.appendChild(c);var u=document.createElement("div");u.className+=" _coral-CircleLoader-fill",l.appendChild(u);var h=document.createTextNode("\n    ");l.appendChild(h),r.appendChild(l);var d=document.createTextNode("\n  ");r.appendChild(d),a.appendChild(r);var p=document.createTextNode("\n  ");a.appendChild(p);var m=document.createElement("div");m.className+=" _coral-CircleLoader-fillMask2";var f=document.createTextNode("\n    ");m.appendChild(f);var g=this.subMask2=document.createElement("div");g.setAttribute("handle","subMask2"),g.className+=" _coral-CircleLoader-fillSubMask2";var v=document.createTextNode("\n      ");g.appendChild(v);var _=document.createElement("div");_.className+=" _coral-CircleLoader-fill",g.appendChild(_);var b=document.createTextNode("\n    ");g.appendChild(b),m.appendChild(g);var y=document.createTextNode("\n  ");m.appendChild(y),a.appendChild(m);var C=document.createTextNode("\n");a.appendChild(C),e.appendChild(a);var A=document.createTextNode("\n\n");return e.appendChild(A),e},Dr={DEFAULT:"default",DOTS:"dots"},Fr={SMALL:"S",MEDIUM:"M",LARGE:"L"},Pr="_coral-CircleLoader",Rr=function(t){s(i,t);var e=d(i);function i(){var t;return a(this,i),(t=e.call(this))._elements={},Or.call(t._elements),t}return r(i,[{key:"attributeChangedCallback",value:function(t,e,n){"indeterminate"===t&&Ua.booleanAttr(n)&&(this._oldValue=this._value||0),m(l(i.prototype),"attributeChangedCallback",this).call(this,t,e,n)}},{key:"render",value:function(){m(l(i.prototype),"render",this).call(this),this.classList.add(Pr),this.setAttribute("role","progressbar"),this._size||(this.size=Fr.MEDIUM),this._variant||(this.variant=Dr.DEFAULT),this._value||(this.indeterminate=!0),this.centered&&(this.centered=this.centered);for(var t=this.querySelectorAll("._coral-CircleLoader-track, ._coral-CircleLoader-fills"),e=0;e<t.length;e++)t[e].remove();this.appendChild(this._elements.track),this.appendChild(this._elements.fills)}},{key:"size",get:function(){return this._size||Fr.MEDIUM},set:function(t){t=Ua.string(t).toUpperCase(),this._size=Ba.enumeration(Fr)(t)&&t||Fr.MEDIUM,this._reflectAttribute("size",this._size),this.classList.toggle("".concat(Pr,"--large"),this._size===Fr.LARGE),this.classList.toggle("".concat(Pr,"--small"),this._size===Fr.SMALL)}},{key:"centered",get:function(){return this._centered||!1},set:function(t){this._centered=Ua.booleanAttr(t),this._reflectAttribute("centered",this._centered),this.classList.toggle("".concat(Pr,"--centered"),this._centered)}},{key:"variant",get:function(){return this._variant||Dr.DEFAULT},set:function(t){t=Ua.string(t).toLowerCase(),this._variant=Ba.enumeration(Dr)(t)&&t||Dr.DEFAULT,this._reflectAttribute("variant",this._variant)}},{key:"indeterminate",get:function(){return this._indeterminate||!1},set:function(t){this._indeterminate=Ua.booleanAttr(t),this._reflectAttribute("indeterminate",this._indeterminate),this._indeterminate?(this.classList.add("".concat(Pr,"--indeterminate")),this.removeAttribute("aria-valuenow"),this.removeAttribute("aria-valuemin"),this.removeAttribute("aria-valuemax"),this.value=0):(this.classList.remove("".concat(Pr,"--indeterminate")),this.setAttribute("aria-valuemin","0"),this.setAttribute("aria-valuemax","100"),this.value=this._oldValue)}},{key:"value",get:function(){return this.hasAttribute("indeterminate")?0:this._value||0},set:function(t){(t=Ua.number(t)||0)>100?t=100:t<0&&(t=0),this._value=t,this._reflectAttribute("value",this._value);var e,i=this._elements.subMask1,n=this._elements.subMask2;this.hasAttribute("indeterminate")?(i.style.transform="",n.style.transform=""):(t>0&&t<=50?(e=t/50*180-180,i.style.transform="rotate(".concat(e,"deg)"),n.style.transform="rotate(-180deg)"):t>50?(e=(t-50)/50*180-180,i.style.transform="rotate(0deg)",n.style.transform="rotate(".concat(e,"deg)")):(i.style.transform="",n.style.transform=""),this.setAttribute("aria-valuenow",this._value),this.setAttribute("aria-valuemin","0"),this.setAttribute("aria-valuemax","100"));this.trigger("coral-wait:change")}}],[{key:"size",get:function(){return Fr}},{key:"variant",get:function(){return Dr}},{key:"observedAttributes",get:function(){return m(l(i),"observedAttributes",this).concat(["size","centered","variant","value","indeterminate"])}}]),i}(ho(HTMLElement));da._define("coral-wait",Rr);var Hr=function(t){var e=document.createDocumentFragment(),i=this.loadIndicator=document.createElement("div");i.setAttribute("handle","loadIndicator"),i.className+=" _coral-SelectList-loading";var n=document.createTextNode("\n  ");i.appendChild(n);var a=document.createElement("coral-wait");a.setAttribute("centered",""),i.appendChild(a);var o=document.createTextNode("\n");i.appendChild(o),e.appendChild(i);var r=document.createTextNode("\n");return e.appendChild(r),e},Ur=function(t){s(i,t);var e=d(i);function i(){var t;return a(this,i),(t=e.call(this))._delegateEvents({scroll:"_onScroll",mouseenter:"_onMouseEnter","capture:blur":"_onBlur","click coral-selectlist-item":"_onItemClick","key:space coral-selectlist-item":"_onToggleItemKey","key:return coral-selectlist-item":"_onToggleItemKey","key:pageup coral-selectlist-item":"_focusPreviousItem","key:left coral-selectlist-item":"_focusPreviousItem","key:up coral-selectlist-item":"_focusPreviousItem","key:pagedown coral-selectlist-item":"_focusNextItem","key:right coral-selectlist-item":"_focusNextItem","key:down coral-selectlist-item":"_focusNextItem","key:home coral-selectlist-item":"_onHomeKey","key:end coral-selectlist-item":"_onEndKey","keypress coral-selectlist-item":"_onKeyPress","coral-selectlist-item:_selectedchanged":"_onItemSelectedChanged"}),t._keypressTimeoutDuration=1e3,t._elements={},Hr.call(t._elements),t._oldSelection=[],t._keypressTimeoutID=null,t._keypressSearchString="",t._onDebouncedScroll=t._onDebouncedScroll.bind(u(t)),t.items._startHandlingItems(!0),t}return r(i,[{key:"_toggleItemSelection",value:function(t){t&&(this.trigger("coral-selectlist:beforechange",{item:t}).defaultPrevented||t[t.hasAttribute("selected")?"removeAttribute":"setAttribute"]("selected",""))}},{key:"_onBlur",value:function(){this._resetTabTarget()}},{key:"_onItemClick",value:function(t){t.preventDefault(),t.stopPropagation();var e=t.matchedTarget;this._toggleItemSelection(e),this._focusItem(e)}},{key:"_focusItem",value:function(t){t&&t.focus(),this._tabTarget=t}},{key:"_onToggleItemKey",value:function(t){t.preventDefault(),t.stopPropagation();var e=t.target;this._toggleItemSelection(e),this._focusItem(e)}},{key:"_focusPreviousItem",value:function(t){t.preventDefault(),this._focusItem(this.items._getPreviousSelectable(t.target))}},{key:"_focusNextItem",value:function(t){t.preventDefault(),this._focusItem(this.items._getNextSelectable(t.target))}},{key:"_focusFirstItem",value:function(){this._focusItem(this.items._getFirstSelectable())}},{key:"_focusLastItem",value:function(){this._focusItem(this.items._getLastSelectable())}},{key:"_onHomeKey",value:function(t){t.preventDefault(),this._focusFirstItem()}},{key:"_onEndKey",value:function(t){t.preventDefault(),this._focusLastItem()}},{key:"_onKeyPress",value:function(t){var e=this,i=String.fromCharCode(t.which);window.clearTimeout(this._keypressTimeoutID),i!==this._keypressSearchString&&(this._keypressSearchString+=i),this._keypressTimeoutID=window.setTimeout((function(){e._keypressSearchString=""}),this._keypressTimeoutDuration);var n,a,o,r=this.items._getSelectableItems(),s=r.indexOf(this._tabTarget);this._keypressSearchString=this._keypressSearchString.trim().toLowerCase();for(var l=n=-1===s?0:1===this._keypressSearchString.length?s+1:s;l<r.length;l++)if(0===(o=r[l]).textContent.trim().toLowerCase().indexOf(this._keypressSearchString)){a=o;break}if(!a)for(var c=0;c<n;c++)if(0===(o=r[c]).textContent.trim().toLowerCase().indexOf(this._keypressSearchString)){a=o;break}if(void 0!==a){this._focusItem(a);var u=this.querySelector(".focus-ring");u&&u.classList.remove("focus-ring"),a.classList.add("focus-ring")}}},{key:"_resetTabTarget",value:function(){var t=this.items._getAllSelected().filter((function(t){return!t.hasAttribute("hidden")}));this._tabTarget=t.length?t[0]:this.items._getSelectableItems().filter((function(t){return!t.hasAttribute("hidden")}))[0]}},{key:"_onScroll",value:function(){window.clearTimeout(this._scrollTimeout),this._scrollTimeout=window.setTimeout(this._onDebouncedScroll,100)}},{key:"_onMouseEnter",value:function(){this.contains(document.activeElement)&&document.activeElement.blur()}},{key:"_onDebouncedScroll",value:function(){this.scrollTop>=this.scrollHeight-this.clientHeight-50&&this.trigger("coral-selectlist:scrollbottom")}},{key:"_onItemSelectedChanged",value:function(t){t.stopImmediatePropagation(),this._validateSelection(t.target)}},{key:"_validateSelection",value:function(t){var e=this,i=this.selectedItems;this.multiple||(t=t||i[i.length-1])&&t.hasAttribute("selected")&&i.length>1&&(i.forEach((function(i){i!==t&&(e._preventTriggeringEvents=!0,i.removeAttribute("selected"))})),this._preventTriggeringEvents=!1),this._resetTabTarget(),this._triggerChangeEvent()}},{key:"_triggerChangeEvent",value:function(){var t=this.selectedItems,e=this._oldSelection;!this._preventTriggeringEvents&&this._arraysAreDifferent(t,e)&&(this.multiple?this.trigger("coral-selectlist:change",{oldSelection:e,selection:t}):this.trigger("coral-selectlist:change",{oldSelection:e.length>1?e:e[0]||null,selection:t[0]||null}),this._oldSelection=t)}},{key:"_arraysAreDifferent",value:function(t,e){var i=[];return e.length===t.length&&(i=e.filter((function(e){return-1===t.indexOf(e)}))),e.length!==t.length||0!==i.length}},{key:"focus",value:function(){this.contains(document.activeElement)||(this._resetTabTarget(),this._focusItem(this._tabTarget))}},{key:"render",value:function(){this.classList.add("_coral-Menu"),this.hasAttribute("role")||this.setAttribute("role","listbox"),this.hasAttribute("aria-label")||this.setAttribute("aria-label",wa.get("List")),this._preventTriggeringEvents=!0,this._validateSelection(),this._preventTriggeringEvents=!1,this._oldSelection=this.selectedItems}},{key:"groups",get:function(){return this._groups||(this._groups=new sr({host:this,itemTagName:"coral-selectlist-group",onItemAdded:this._validateSelection,onItemRemoved:this._validateSelection})),this._groups}},{key:"items",get:function(){return this._items||(this._items=new sr({host:this,itemTagName:"coral-selectlist-item",onItemAdded:this._validateSelection,onItemRemoved:this._validateSelection})),this._items}},{key:"selectedItem",get:function(){return this.items._getAllSelected()[0]||null}},{key:"selectedItems",get:function(){return this.items._getAllSelected()}},{key:"multiple",get:function(){return this._multiple||!1},set:function(t){this._multiple=Ua.booleanAttr(t),this._reflectAttribute("multiple",this._multiple),this[this._multiple?"setAttribute":"removeAttribute"]("aria-multiselectable",this._multiple),this._validateSelection()}},{key:"loading",get:function(){return this._loading||!1},set:function(t){this._loading=Ua.booleanAttr(t),this._reflectAttribute("loading",this._loading);var e=this._elements.loadIndicator;if(this.loading){var i=this.scrollTop>=this.scrollHeight-this.clientHeight;this.appendChild(e),i&&(this.scrollTop=this.scrollHeight)}else e.remove()}},{key:"_tabTarget",get:function(){return this.__tabTarget||null},set:function(t){this.__tabTarget=t,this.items.getAll().forEach((function(e){e.setAttribute("tabindex",e===t?0:-1)}))}}],[{key:"observedAttributes",get:function(){return m(l(i),"observedAttributes",this).concat(["loading","multiple"])}}]),i}(ho(HTMLElement)),Br=function(t){s(i,t);var e=d(i);function i(){return a(this,i),e.apply(this,arguments)}return r(i,[{key:"render",value:function(){m(l(i.prototype),"render",this).call(this),this.classList.add("_coral-SelectList-group"),this.setAttribute("role","group")}},{key:"label",get:function(){return this._label||""},set:function(t){this._label=Ua.string(t),this._reflectAttribute("label",this._label),this.setAttribute("aria-label",this._label)}},{key:"items",get:function(){return this._items||(this._items=new sr({host:this,itemTagName:"coral-selectlist-item"})),this._items}}],[{key:"observedAttributes",get:function(){return m(l(i),"observedAttributes",this).concat(["label"])}}]),i}(ho(HTMLElement)),zr=function(t){var e=document.createDocumentFragment(),i=t=void 0===t?{}:t,n=this.checkIcon=document.createElement("span");n.className+=" _coral-SelectList-icon",n.setAttribute("handle","checkIcon"),n.setAttribute("hidden","");var a=document.createTextNode("\n  ");n.appendChild(a),i=t,this.checkIcon.innerHTML=i.Icon._renderSVG("spectrum-css-icon-CheckmarkMedium",["_coral-UIIcon-CheckmarkMedium","_coral-Menu-checkmark"]),t=i;var o=document.createTextNode("\n");n.appendChild(o),e.appendChild(n);var r=document.createTextNode("\n");return e.appendChild(r),e},qr=new RegExp("^(".concat(["columnheader","gridcell","option","row","rowheader","tab","treeitem"].join("|"),")$")),Vr=function(t){s(i,t);var e=d(i);function i(){var t;return a(this,i),(t=e.call(this))._elements={content:t.querySelector("coral-selectlist-item-content")||document.createElement("coral-selectlist-item-content")},zr.call(t._elements,{Icon:Uo}),t}return r(i,[{key:"_getIconElement",value:function(){return this._elements.icon||(this._elements.icon=this.querySelector("._coral-Menu-item-icon")||new Uo,this._elements.icon.size=Uo.size.SMALL,this._elements.icon.classList.add("_coral-Menu-item-icon")),this._elements.icon}},{key:"render",value:function(){m(l(i.prototype),"render",this).call(this),this.classList.add("_coral-Menu-item"),this.hasAttribute("role")||this.setAttribute("role","option");var t=this.querySelector("._coral-SelectList-icon");t&&t.remove();var e=this._elements.content;if(!e.parentNode)for(;this.firstChild;)e.appendChild(this.firstChild);this.appendChild(this._elements.checkIcon),this.content=e}},{key:"value",get:function(){return"string"==typeof this._value?this._value:this.textContent.replace(/\s{2,}/g," ").trim()},set:function(t){this._value=Ua.string(t),this._reflectAttribute("value",this._value)}},{key:"content",get:function(){return this._getContentZone(this._elements.content)},set:function(t){this._setContentZone("content",t,{handle:"content",tagName:"coral-selectlist-item-content",insert:function(t){t.classList.add("".concat("_coral-Menu-item","Label"));var e,i=this._elements.checkIcon;if(-1!==navigator.userAgent.indexOf("MSIE")||navigator.appVersion.includes("Trident/")){var n=Array.prototype.slice.call(t.querySelectorAll("coral-icon")),a=Array.prototype.slice.call(t.querySelectorAll("coral-icon._coral-Menu-item-icon")),o=n.filter((function(t){return-1===a.indexOf(t)}));e=o.length>0?o[0]:void 0}else e=t.querySelector("coral-icon:not(._coral-Menu-item-icon)");if(e&&e.icon){e.remove(),this.icon=e.icon;var r=this._getIconElement();e.alt||e.title?(e.title&&(r.title=e.title),e.alt&&(r.alt=e.alt)):r.alt=""}this.insertBefore(t,this.contains(i)?i:null)}})}},{key:"icon",get:function(){return this._getIconElement().icon},set:function(t){var e=this._getIconElement();""===Ua.string(t)?e.remove():this.insertBefore(e,this.firstChild),e.icon=t}},{key:"selected",get:function(){return this._selected||!1},set:function(t){this._selected=Ua.booleanAttr(t),this._reflectAttribute("selected",!this.disabled&&this._selected),this.classList.toggle("is-selected",this._selected),this.hasAttribute("role")&&qr.test(this.getAttribute("role"))&&this.setAttribute("aria-selected",this._selected),this._elements.checkIcon.hidden=!this._selected,this.trigger("coral-selectlist-item:_selectedchanged")}},{key:"disabled",get:function(){return this._disabled||!1},set:function(t){this._disabled=Ua.booleanAttr(t),this._reflectAttribute("disabled",this._disabled),this.classList.toggle("is-disabled",this._disabled),this[this._disabled?"setAttribute":"removeAttribute"]("aria-disabled",this._disabled),this.selected=this.selected}},{key:"_contentZones",get:function(){return{"coral-selectlist-item-content":"content"}}}],[{key:"observedAttributes",get:function(){return m(l(i),"observedAttributes",this).concat(["selected","disabled","value"])}}]),i}(ho(HTMLElement));da.extend(ka,{"coral-component-selectlist":{"en-US":{List:"List"},"fr-FR":{List:"Liste"},"de-DE":{List:"Liste"},"it-IT":{List:"Elenco"},"es-ES":{List:"Mostrar"},"pt-BR":{List:"Lista"},"ja-JP":{List:"ãªã¹ã"},"ko-KR":{List:"ëª©ë¡"},"zh-CN":{List:"åè¡¨"},"zh-TW":{List:"æ¸å®"},"nl-NL":{List:"Lijst"},"da-DK":{List:"Liste"},"fi-FI":{List:"Lista"},"nb-NO":{List:"Liste"},"sv-SE":{List:"Lista"},"cs-CZ":{List:"Seznam"},"pl-PL":{List:"Lista"},"ru-RU":{List:"ÑÐ¿Ð¸ÑÐ¾Ðº"},"tr-TR":{List:"Liste"}}}),da._define("coral-anchorlist-item",Lr,{extends:"a"}),da._define("coral-anchorlist",Ir),da._define("coral-buttonlist-item",Mr,{extends:"button"}),da._define("coral-buttonlist",Nr),da._define("coral-selectlist-group",Br),da._define("coral-selectlist-item",Vr),da._define("coral-selectlist",Ur),da._define("coral-list-divider",Sr),da._define("coral-list-item",Er),da._define("coral-list",Tr),Tr.Divider=Sr,Tr.Item=Er,Tr.Item.Content=function(){return document.createElement("coral-list-item-content")},Ir.Item=Lr,Nr.Item=Mr,Ur.Group=Br,Ur.Item=Vr,Ur.Item.Content=function(){return document.createElement("coral-selectlist-item-content")};var $r,jr,Wr,Kr,Gr=function(t){var e=document.createDocumentFragment(),i=this.topTabCapture=document.createElement("div");i.setAttribute("handle","topTabCapture"),i.setAttribute("coral-tabcapture","top"),i.setAttribute("tabindex","0"),i.setAttribute("role","presentation"),e.appendChild(i);var n=document.createTextNode("\n");e.appendChild(n);var a=this.intermediateTabCapture=document.createElement("div");a.setAttribute("handle","intermediateTabCapture"),a.setAttribute("coral-tabcapture","intermediate"),a.setAttribute("tabindex","0"),a.setAttribute("role","presentation"),e.appendChild(a);var o=document.createTextNode("\n");e.appendChild(o);var r=this.bottomTabCapture=document.createElement("div");r.setAttribute("handle","bottomTabCapture"),r.setAttribute("coral-tabcapture","bottom"),r.setAttribute("tabindex","0"),r.setAttribute("role","presentation"),e.appendChild(r);var s=document.createTextNode("\n");return e.appendChild(s),e},Zr={ON:"on",OFF:"off"},Xr={ON:"on",OFF:"off"},Qr={ON:"on",OFF:"off"},Yr={ON:"on",OFF:"off"},Jr=[],ts={};function es(t){return{preventScroll:t.scrollOnFocus===Xr.OFF}}function is(){window.clearTimeout(Kr)}function ns(t){for(var e=document.body.children,i=0;i<e.length;i++){var n=e[i];if(n!==t&&n.contains&&!n.contains(t)){var a=n.getAttribute("aria-hidden");if(a){if(n._previousAriaHidden=n._previousAriaHidden||a,"true"===a)continue}else n._previousAriaHidden="false";n.setAttribute("aria-hidden","true")}}t.setAttribute("aria-hidden","false")}function as(){var t=ts.top();if(t){for(var e=Jr.length-1;e>-1;e--)if(Jr[e].backdrop){Wr.style.zIndex=Jr[e].zIndex-1;break}ns(t.instance)}}function os(){$r?(document.body.firstElementChild!==$r&&document.body.insertBefore($r,document.body.firstChild),document.body.lastElementChild!==jr&&document.body.appendChild(jr)):(($r=document.createElement("div")).setAttribute("coral-tabcapture",""),$r.setAttribute("role","presentation"),$r.tabIndex=0,document.body.insertBefore($r,document.body.firstChild),$r.addEventListener("focus",(function(){var t=ts.top();t&&t.instance.trapFocus===Zr.ON&&Array.prototype.some.call(t.instance.querySelectorAll(da.TABBABLE_ELEMENT_SELECTOR),(function(e){return null!==e.offsetParent&&!e.hasAttribute("coral-tabcapture")&&(e.focus(es(t)),!0)}))})),(jr=document.createElement("div")).setAttribute("coral-tabcapture",""),jr.setAttribute("role","presentation"),jr.tabIndex=0,document.body.appendChild(jr),jr.addEventListener("focus",(function(){var t=ts.top();if(t&&t.instance.trapFocus===Zr.ON){var e=Array.prototype.filter.call(t.instance.querySelectorAll(da.TABBABLE_ELEMENT_SELECTOR),(function(t){return null!==t.offsetParent&&!t.hasAttribute("coral-tabcapture")})).pop();e&&e.focus(es(t))}}))),$r.style.display="inline",jr.style.display="inline"}function rs(){document.body.classList.remove("u-coral-noscroll"),window.requestAnimationFrame((function(){Wr.classList.remove("is-open"),is(),Kr=window.setTimeout((function(){Wr.style.display="none"}),350)})),Wr._isOpen=!1,function(){for(var t=document.body.children,e=0;e<t.length;e++){var i=t[e];i.setAttribute("aria-hidden",i._previousAriaHidden||"false")}}()}function ss(){if(Wr&&Wr._isOpen){ts.some((function(t){return!!t.backdrop}))?as():rs();var t=ts.top();t&&t.instance.trapFocus===Zr.ON&&t.instance._requestedBackdrop?t&&t.instance.trapFocus===Zr.ON&&t.instance._requestedBackdrop&&os():$r&&($r.style.display="none",jr.style.display="none")}}function ls(t){ts.forEach((function(e){"function"==typeof e.instance.backdropClickedCallback&&e.instance.backdropClickedCallback(t)}))}ts={pop:function(t){var e=this.indexOf(t);if(-1===e)return null;var i=Jr[e];return Jr.splice(e,1),i},push:function(t){var e=this.pop(t)||{instance:t},i=this.getHighestZIndex()+10;return e.zIndex=i,t.style.zIndex=i,Jr.push(e),e.backdrop&&as(),e},indexOf:function(t){for(var e=0;e<Jr.length;e++)if(Jr[e].instance===t)return e;return-1},get:function(t){var e=this.indexOf(t);return-1===e?null:Jr[e]},top:function(){var t=Jr.length;return 0===t?null:Jr[t-1]},getHighestZIndex:function(){var t=this.top();return t?t.zIndex:1e4},some:function(){return Jr.some.apply(Jr,arguments)},forEach:function(){return Jr.forEach.apply(Jr,arguments)}};var cs=function(t){return function(t){s(i,t);var e=d(i);function i(){var t;return a(this,i),(t=e.call(this))._elements={},Gr.call(t._elements),t}return r(i,[{key:"_closeChildOverlays",value:function(){for(var t=this.querySelectorAll("\n  coral-actionbar,\n  coral-autocomplete,\n  coral-colorinput,\n  coral-cyclebutton,\n  coral-datepicker,\n  coral-dialog,\n  coral-overlay,\n  coral-popover,\n  coral-quickactions,\n  coral-select,\n  coral-tooltip\n"),e=0;e<t.length;e++){var i=t[e];i.hasAttribute("open")?i.removeAttribute("open"):i._elements&&i._elements.overlay&&i._elements.overlay.hasAttribute("open")&&i._elements.overlay.removeAttribute("open")}}},{key:"_debounce",value:function(t){window.clearTimeout(this._debounceId),this._debounceId=window.setTimeout((function(){t()}),10)}},{key:"_isTopOverlay",value:function(){var t=ts.top();return t&&t.instance===this}},{key:"_pushOverlay",value:function(){ts.push(this)}},{key:"_popOverlay",value:function(){ts.pop(this),ss()}},{key:"_showBackdrop",value:function(){var t,e,i=ts.get(this);i&&(i.backdrop=!0,t=i.zIndex,e=this,document.body.classList.add("u-coral-noscroll"),Wr||((Wr=document.createElement("div")).className="_coral-Underlay",document.body.appendChild(Wr),Wr.addEventListener("click",ls)),Wr.style.zIndex=t-1,Wr._isOpen=!0,Wr.style.display="",window.requestAnimationFrame((function(){Wr.classList.add("is-open"),is()})),ns(e)),this._requestedBackdrop=!0,this.parentNode||(this._showBackdropOnAttached=!0),this.trapFocus===Zr.ON&&os()}},{key:"_hideBackdrop",value:function(){var t=ts.get(this);t&&(t.backdrop=!1,ss()),this._requestedBackdrop=!1}},{key:"_handleRootKeypress",value:function(t){t.target===this&&9===t.keyCode&&(this._focusOn("first"),t.preventDefault())}},{key:"_handleTabCaptureFocus",value:function(t){if(this._ignoreTabCapture)this._ignoreTabCapture=!1;else{var e=t.target===this._elements.intermediateTabCapture?"first":"last";this._focusOn(e)}}},{key:"_handleFocus",value:function(){if(this.focusOnShow===Yr.ON)this._focusOn("first");else if(this.focusOnShow instanceof HTMLElement)this.focusOnShow.focus(es(this));else if("string"==typeof this.focusOnShow&&this.focusOnShow!==Yr.OFF){var t=this.querySelector("".concat(this.focusOnShow,":not([coral-tabcapture])"));t?t.focus(es(this)):this._focusOn("first")}}},{key:"_handleReturnFocus",value:function(){if(this.returnFocus===Qr.ON&&this._elementToFocusWhenHidden){if(document.activeElement&&!this.contains(document.activeElement))return;this._elementToFocusWhenHidden._ignoreTabCapture=!0,this._elementToFocusWhenHidden.focus(es(this)),this._elementToFocusWhenHidden._ignoreTabCapture=!1,this._elementToFocusWhenHidden=null}}},{key:"_focusOn",value:function(t){var e=this._getFocusableElement(t);e?e.focus(es(this)):this.focus(es(this))}},{key:"_getFocusableElements",value:function(){return Array.prototype.filter.call(this.querySelectorAll(da.FOCUSABLE_ELEMENT_SELECTOR),(function(t){return null!==t.offsetParent&&!t.hasAttribute("coral-tabcapture")}))}},{key:"_getFocusableElement",value:function(t){var e;"first"!==t&&"last"!==t||(e=this._getFocusableElements()["first"===t?"shift":"pop"]());return e}},{key:"show",value:function(){return this.open=!0,this}},{key:"hide",value:function(){return this.open=!1,this}},{key:"returnFocusTo",value:function(t){if(this.returnFocus===Qr.OFF&&(this.returnFocus=Qr.ON),!t.matches(da.FOCUSABLE_ELEMENT_SELECTOR)){t.setAttribute("tabindex",-1);var e=new ia(t);e.on("blur.afterFocus",(function(t){window.requestAnimationFrame((function(){var i=ts.top();i&&i.instance.contains(document.activeElement)||(e.off("blur.afterFocus"),t.matchedTarget.removeAttribute("tabindex"))}))}),!0)}return this._returnFocusToElement=t,this}},{key:"connectedCallback",value:function(){m(l(i.prototype),"connectedCallback",this).call(this),this.hasAttribute("trapfocus")||(this.trapFocus=this.trapFocus),this.hasAttribute("returnfocus")||(this.returnFocus=this.returnFocus),this.hasAttribute("focusonshow")||(this.focusOnShow=this.focusOnShow),this.hasAttribute("scrollonfocus")||(this.scrollOnFocus=this.scrollOnFocus),this.open&&(this._pushOverlay(),this._showBackdropOnAttached&&this._showBackdrop())}},{key:"render",value:function(){m(l(i.prototype),"render",this).call(this),this.classList.add("_coral-BaseOverlay")}},{key:"disconnectedCallback",value:function(){m(l(i.prototype),"disconnectedCallback",this).call(this),this.open&&(this._popOverlay(),this._requestedBackdrop&&(this._showBackdropOnAttached=!0))}},{key:"trapFocus",get:function(){return this._trapFocus||Zr.OFF},set:function(t){t=Ua.string(t).toLowerCase(),this._trapFocus=Ba.enumeration(Zr)(t)&&t||Zr.OFF,this._trapFocus===Zr.ON?(this.tabIndex<0&&(this.tabIndex=0),this.insertBefore(this._elements.topTabCapture,this.firstElementChild),this.appendChild(this._elements.intermediateTabCapture),this.appendChild(this._elements.bottomTabCapture),this._handleTabCaptureFocus=this._handleTabCaptureFocus.bind(this),this._handleRootKeypress=this._handleRootKeypress.bind(this),this._vent.on("keydown",this._handleRootKeypress),this._vent.on("focus","[coral-tabcapture]",this._handleTabCaptureFocus)):this._trapFocus===Zr.OFF&&(this._elements.topTabCapture&&this._elements.topTabCapture.remove(),this._elements.intermediateTabCapture&&this._elements.intermediateTabCapture.remove(),this._elements.bottomTabCapture&&this._elements.bottomTabCapture.remove(),this._vent.off("keydown",this._handleRootKeypress),this._vent.off("focus","[coral-tabcapture]",this._handleTabCaptureFocus))}},{key:"returnFocus",get:function(){return this._returnFocus||Qr.OFF},set:function(t){t=Ua.string(t).toLowerCase(),this._returnFocus=Ba.enumeration(Qr)(t)&&t||Qr.OFF}},{key:"scrollOnFocus",get:function(){return this._scrollOnFocus||Xr.ON},set:function(t){t=Ua.string(t).toLowerCase(),this._scrollOnFocus=Ba.enumeration(Xr)(t)&&t||Xr.ON}},{key:"focusOnShow",get:function(){return this._focusOnShow||Yr.ON},set:function(t){("string"==typeof t||t instanceof HTMLElement)&&(this._focusOnShow=t)}},{key:"open",get:function(){return this._open||!1},set:function(t){var e=this,i=this._silenced;if(t=Ua.booleanAttr(t),this.trigger("coral-overlay:_animate"),!this.trigger(t?"coral-overlay:beforeopen":"coral-overlay:beforeclose").defaultPrevented){var n=this._open=t;this._reflectAttribute("open",n),this.setAttribute("aria-hidden",!n),this.parentNode&&(n?(this._pushOverlay(),this.returnFocus===Qr.ON&&(this._elementToFocusWhenHidden=this._elementToFocusWhenHidden||this._returnFocusToElement||(document.activeElement===document.body?null:document.activeElement))):this._popOverlay()),window.requestAnimationFrame((function(){if(e._silenced=i,n){e.trapFocus===Zr.ON&&(e._elements.topTabCapture===e.firstElementChild&&e._elements.bottomTabCapture===e.lastElementChild&&e._elements.bottomTabCapture.previousElementSibling===e._elements.intermediateTabCapture||(e.insertBefore(e._elements.intermediateTabCapture,e.firstElementChild),e.appendChild(e._elements.intermediateTabCapture),e.appendChild(e._elements.bottomTabCapture))),e.style.display="",window.requestAnimationFrame((function(){e.classList.add("is-open")}));var t=function(){e.open&&e._debounce((function(){e._handleFocus(),e.trigger("coral-overlay:open"),e._silenced=!1}))};e._overlayAnimationTime?da.transitionEnd(e,t):t()}else{e.classList.remove("is-open");var a=function(){e.open||(e.style.display="none",e._handleReturnFocus(),e._debounce((function(){e._closeChildOverlays(),e.trigger("coral-overlay:close"),e._silenced=!1})))};e._overlayAnimationTime?da.transitionEnd(e,a):a()}}))}}}],[{key:"_OverlayManager",get:function(){return ts}},{key:"trapFocus",get:function(){return Zr}},{key:"returnFocus",get:function(){return Qr}},{key:"scrollOnFocus",get:function(){return Xr}},{key:"focusOnShow",get:function(){return Yr}},{key:"FADETIME",get:function(){return 350}},{key:"_attributePropertyMap",get:function(){return da.extend(m(l(i),"_attributePropertyMap",this),{trapfocus:"trapFocus",returnfocus:"returnFocus",focusonshow:"focusOnShow"})}},{key:"observedAttributes",get:function(){return m(l(i),"observedAttributes",this).concat(["trapfocus","returnfocus","focusonshow","open"])}}]),i}(t)},us="undefined"!=typeof window&&"undefined"!=typeof document&&"undefined"!=typeof navigator,hs=function(){for(var t=["Edge","Trident","Firefox"],e=0;e<t.length;e+=1)if(us&&navigator.userAgent.indexOf(t[e])>=0)return 1;return 0}();
/**!
   * @fileOverview Kickass library to create and place poppers near their reference elements.
   * @version 1.16.1
   * @license
   * Copyright (c) 2016 Federico Zivolo and contributors
   *
   * Permission is hereby granted, free of charge, to any person obtaining a copy
   * of this software and associated documentation files (the "Software"), to deal
   * in the Software without restriction, including without limitation the rights
   * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
   * copies of the Software, and to permit persons to whom the Software is
   * furnished to do so, subject to the following conditions:
   *
   * The above copyright notice and this permission notice shall be included in all
   * copies or substantial portions of the Software.
   *
   * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
   * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
   * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
   * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
   * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
   * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
   * SOFTWARE.
   */var ds=us&&window.Promise?function(t){var e=!1;return function(){e||(e=!0,window.Promise.resolve().then((function(){e=!1,t()})))}}:function(t){var e=!1;return function(){e||(e=!0,setTimeout((function(){e=!1,t()}),hs))}};function ps(t){return t&&"[object Function]"==={}.toString.call(t)}function ms(t,e){if(1!==t.nodeType)return[];var i=t.ownerDocument.defaultView.getComputedStyle(t,null);return e?i[e]:i}function fs(t){return"HTML"===t.nodeName?t:t.parentNode||t.host}function gs(t){if(!t)return document.body;switch(t.nodeName){case"HTML":case"BODY":return t.ownerDocument.body;case"#document":return t.body}var e=ms(t),i=e.overflow,n=e.overflowX,a=e.overflowY;return/(auto|scroll|overlay)/.test(i+a+n)?t:gs(fs(t))}function vs(t){return t&&t.referenceNode?t.referenceNode:t}var _s=us&&!(!window.MSInputMethodContext||!document.documentMode),bs=us&&/MSIE 10/.test(navigator.userAgent);function ys(t){return 11===t?_s:10===t?bs:_s||bs}function Cs(t){if(!t)return document.documentElement;for(var e=ys(10)?document.body:null,i=t.offsetParent||null;i===e&&t.nextElementSibling;)i=(t=t.nextElementSibling).offsetParent;var n=i&&i.nodeName;return n&&"BODY"!==n&&"HTML"!==n?-1!==["TH","TD","TABLE"].indexOf(i.nodeName)&&"static"===ms(i,"position")?Cs(i):i:t?t.ownerDocument.documentElement:document.documentElement}function As(t){return null!==t.parentNode?As(t.parentNode):t}function ks(t,e){if(!(t&&t.nodeType&&e&&e.nodeType))return document.documentElement;var i=t.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_FOLLOWING,n=i?t:e,a=i?e:t,o=document.createRange();o.setStart(n,0),o.setEnd(a,0);var r,s,l=o.commonAncestorContainer;if(t!==l&&e!==l||n.contains(a))return"BODY"===(s=(r=l).nodeName)||"HTML"!==s&&Cs(r.firstElementChild)!==r?Cs(l):l;var c=As(t);return c.host?ks(c.host,e):ks(t,As(e).host)}function ws(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"top",i="top"===e?"scrollTop":"scrollLeft",n=t.nodeName;if("BODY"===n||"HTML"===n){var a=t.ownerDocument.documentElement,o=t.ownerDocument.scrollingElement||a;return o[i]}return t[i]}function xs(t,e){var i=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=ws(e,"top"),a=ws(e,"left"),o=i?-1:1;return t.top+=n*o,t.bottom+=n*o,t.left+=a*o,t.right+=a*o,t}function Ts(t,e){var i="x"===e?"Left":"Top",n="Left"===i?"Right":"Bottom";return parseFloat(t["border"+i+"Width"])+parseFloat(t["border"+n+"Width"])}function Ss(t,e,i,n){return Math.max(e["offset"+t],e["scroll"+t],i["client"+t],i["offset"+t],i["scroll"+t],ys(10)?parseInt(i["offset"+t])+parseInt(n["margin"+("Height"===t?"Top":"Left")])+parseInt(n["margin"+("Height"===t?"Bottom":"Right")]):0)}function Es(t){var e=t.body,i=t.documentElement,n=ys(10)&&getComputedStyle(i);return{height:Ss("Height",e,i,n),width:Ss("Width",e,i,n)}}var Is=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")},Ls=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),Ns=function(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t},Ms=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])}return t};function Os(t){return Ms({},t,{right:t.left+t.width,bottom:t.top+t.height})}function Ds(t){var e={};try{if(ys(10)){e=t.getBoundingClientRect();var i=ws(t,"top"),n=ws(t,"left");e.top+=i,e.left+=n,e.bottom+=i,e.right+=n}else e=t.getBoundingClientRect()}catch(t){}var a={left:e.left,top:e.top,width:e.right-e.left,height:e.bottom-e.top},o="HTML"===t.nodeName?Es(t.ownerDocument):{},r=o.width||t.clientWidth||a.width,s=o.height||t.clientHeight||a.height,l=t.offsetWidth-r,c=t.offsetHeight-s;if(l||c){var u=ms(t);l-=Ts(u,"x"),c-=Ts(u,"y"),a.width-=l,a.height-=c}return Os(a)}function Fs(t,e){var i=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=ys(10),a="HTML"===e.nodeName,o=Ds(t),r=Ds(e),s=gs(t),l=ms(e),c=parseFloat(l.borderTopWidth),u=parseFloat(l.borderLeftWidth);i&&a&&(r.top=Math.max(r.top,0),r.left=Math.max(r.left,0));var h=Os({top:o.top-r.top-c,left:o.left-r.left-u,width:o.width,height:o.height});if(h.marginTop=0,h.marginLeft=0,!n&&a){var d=parseFloat(l.marginTop),p=parseFloat(l.marginLeft);h.top-=c-d,h.bottom-=c-d,h.left-=u-p,h.right-=u-p,h.marginTop=d,h.marginLeft=p}return(n&&!i?e.contains(s):e===s&&"BODY"!==s.nodeName)&&(h=xs(h,e)),h}function Ps(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=t.ownerDocument.documentElement,n=Fs(t,i),a=Math.max(i.clientWidth,window.innerWidth||0),o=Math.max(i.clientHeight,window.innerHeight||0),r=e?0:ws(i),s=e?0:ws(i,"left"),l={top:r-n.top+n.marginTop,left:s-n.left+n.marginLeft,width:a,height:o};return Os(l)}function Rs(t){var e=t.nodeName;if("BODY"===e||"HTML"===e)return!1;if("fixed"===ms(t,"position"))return!0;var i=fs(t);return!!i&&Rs(i)}function Hs(t){if(!t||!t.parentElement||ys())return document.documentElement;for(var e=t.parentElement;e&&"none"===ms(e,"transform");)e=e.parentElement;return e||document.documentElement}function Us(t,e,i,n){var a=arguments.length>4&&void 0!==arguments[4]&&arguments[4],o={top:0,left:0},r=a?Hs(t):ks(t,vs(e));if("viewport"===n)o=Ps(r,a);else{var s=void 0;"scrollParent"===n?"BODY"===(s=gs(fs(e))).nodeName&&(s=t.ownerDocument.documentElement):s="window"===n?t.ownerDocument.documentElement:n;var l=Fs(s,r,a);if("HTML"!==s.nodeName||Rs(r))o=l;else{var c=Es(t.ownerDocument),u=c.height,h=c.width;o.top+=l.top-l.marginTop,o.bottom=u+l.top,o.left+=l.left-l.marginLeft,o.right=h+l.left}}var d="number"==typeof(i=i||0);return o.left+=d?i:i.left||0,o.top+=d?i:i.top||0,o.right-=d?i:i.right||0,o.bottom-=d?i:i.bottom||0,o}function Bs(t){return t.width*t.height}function zs(t,e,i,n,a){var o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0;if(-1===t.indexOf("auto"))return t;var r=Us(i,n,o,a),s={top:{width:r.width,height:e.top-r.top},right:{width:r.right-e.right,height:r.height},bottom:{width:r.width,height:r.bottom-e.bottom},left:{width:e.left-r.left,height:r.height}},l=Object.keys(s).map((function(t){return Ms({key:t},s[t],{area:Bs(s[t])})})).sort((function(t,e){return e.area-t.area})),c=l.filter((function(t){var e=t.width,n=t.height;return e>=i.clientWidth&&n>=i.clientHeight})),u=c.length>0?c[0].key:l[0].key,h=t.split("-")[1];return u+(h?"-"+h:"")}function qs(t,e,i){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,a=n?Hs(e):ks(e,vs(i));return Fs(i,a,n)}function Vs(t){var e=t.ownerDocument.defaultView.getComputedStyle(t),i=parseFloat(e.marginTop||0)+parseFloat(e.marginBottom||0),n=parseFloat(e.marginLeft||0)+parseFloat(e.marginRight||0);return{width:t.offsetWidth+n,height:t.offsetHeight+i}}function $s(t){var e={left:"right",right:"left",bottom:"top",top:"bottom"};return t.replace(/left|right|bottom|top/g,(function(t){return e[t]}))}function js(t,e,i){i=i.split("-")[0];var n=Vs(t),a={width:n.width,height:n.height},o=-1!==["right","left"].indexOf(i),r=o?"top":"left",s=o?"left":"top",l=o?"height":"width",c=o?"width":"height";return a[r]=e[r]+e[l]/2-n[l]/2,a[s]=i===s?e[s]-n[c]:e[$s(s)],a}function Ws(t,e){return Array.prototype.find?t.find(e):t.filter(e)[0]}function Ks(t,e,i){return(void 0===i?t:t.slice(0,function(t,e,i){if(Array.prototype.findIndex)return t.findIndex((function(t){return t[e]===i}));var n=Ws(t,(function(t){return t[e]===i}));return t.indexOf(n)}(t,"name",i))).forEach((function(t){t.function&&console.warn("`modifier.function` is deprecated, use `modifier.fn`!");var i=t.function||t.fn;t.enabled&&ps(i)&&(e.offsets.popper=Os(e.offsets.popper),e.offsets.reference=Os(e.offsets.reference),e=i(e,t))})),e}function Gs(){if(!this.state.isDestroyed){var t={instance:this,styles:{},arrowStyles:{},attributes:{},flipped:!1,offsets:{}};t.offsets.reference=qs(this.state,this.popper,this.reference,this.options.positionFixed),t.placement=zs(this.options.placement,t.offsets.reference,this.popper,this.reference,this.options.modifiers.flip.boundariesElement,this.options.modifiers.flip.padding),t.originalPlacement=t.placement,t.positionFixed=this.options.positionFixed,t.offsets.popper=js(this.popper,t.offsets.reference,t.placement),t.offsets.popper.position=this.options.positionFixed?"fixed":"absolute",t=Ks(this.modifiers,t),this.state.isCreated?this.options.onUpdate(t):(this.state.isCreated=!0,this.options.onCreate(t))}}function Zs(t,e){return t.some((function(t){var i=t.name;return t.enabled&&i===e}))}function Xs(t){for(var e=[!1,"ms","Webkit","Moz","O"],i=t.charAt(0).toUpperCase()+t.slice(1),n=0;n<e.length;n++){var a=e[n],o=a?""+a+i:t;if(void 0!==document.body.style[o])return o}return null}function Qs(){return this.state.isDestroyed=!0,Zs(this.modifiers,"applyStyle")&&(this.popper.removeAttribute("x-placement"),this.popper.style.position="",this.popper.style.top="",this.popper.style.left="",this.popper.style.right="",this.popper.style.bottom="",this.popper.style.willChange="",this.popper.style[Xs("transform")]=""),this.disableEventListeners(),this.options.removeOnDestroy&&this.popper.parentNode.removeChild(this.popper),this}function Ys(t){var e=t.ownerDocument;return e?e.defaultView:window}function Js(t,e,i,n){i.updateBound=n,Ys(t).addEventListener("resize",i.updateBound,{passive:!0});var a=gs(t);return function t(e,i,n,a){var o="BODY"===e.nodeName,r=o?e.ownerDocument.defaultView:e;r.addEventListener(i,n,{passive:!0}),o||t(gs(r.parentNode),i,n,a),a.push(r)}(a,"scroll",i.updateBound,i.scrollParents),i.scrollElement=a,i.eventsEnabled=!0,i}function tl(){this.state.eventsEnabled||(this.state=Js(this.reference,this.options,this.state,this.scheduleUpdate))}function el(){var t,e;this.state.eventsEnabled&&(cancelAnimationFrame(this.scheduleUpdate),this.state=(t=this.reference,e=this.state,Ys(t).removeEventListener("resize",e.updateBound),e.scrollParents.forEach((function(t){t.removeEventListener("scroll",e.updateBound)})),e.updateBound=null,e.scrollParents=[],e.scrollElement=null,e.eventsEnabled=!1,e))}function il(t){return""!==t&&!isNaN(parseFloat(t))&&isFinite(t)}function nl(t,e){Object.keys(e).forEach((function(i){var n="";-1!==["width","height","top","right","bottom","left"].indexOf(i)&&il(e[i])&&(n="px"),t.style[i]=e[i]+n}))}var al=us&&/Firefox/i.test(navigator.userAgent);function ol(t,e,i){var n=Ws(t,(function(t){return t.name===e})),a=!!n&&t.some((function(t){return t.name===i&&t.enabled&&t.order<n.order}));if(!a){var o="`"+e+"`",r="`"+i+"`";console.warn(r+" modifier is required by "+o+" modifier in order to work, be sure to include it before "+o+"!")}return a}var rl=["auto-start","auto","auto-end","top-start","top","top-end","right-start","right","right-end","bottom-end","bottom","bottom-start","left-end","left","left-start"],sl=rl.slice(3);function ll(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=sl.indexOf(t),n=sl.slice(i+1).concat(sl.slice(0,i));return e?n.reverse():n}var cl="flip",ul="clockwise",hl="counterclockwise";function dl(t,e,i,n){var a=[0,0],o=-1!==["right","left"].indexOf(n),r=t.split(/(\+|\-)/).map((function(t){return t.trim()})),s=r.indexOf(Ws(r,(function(t){return-1!==t.search(/,|\s/)})));r[s]&&-1===r[s].indexOf(",")&&console.warn("Offsets separated by white space(s) are deprecated, use a comma (,) instead.");var l=/\s*,\s*|\s+/,c=-1!==s?[r.slice(0,s).concat([r[s].split(l)[0]]),[r[s].split(l)[1]].concat(r.slice(s+1))]:[r];return(c=c.map((function(t,n){var a=(1===n?!o:o)?"height":"width",r=!1;return t.reduce((function(t,e){return""===t[t.length-1]&&-1!==["+","-"].indexOf(e)?(t[t.length-1]=e,r=!0,t):r?(t[t.length-1]+=e,r=!1,t):t.concat(e)}),[]).map((function(t){return function(t,e,i,n){var a=t.match(/((?:\-|\+)?\d*\.?\d*)(.*)/),o=+a[1],r=a[2];if(!o)return t;if(0===r.indexOf("%")){var s=void 0;switch(r){case"%p":s=i;break;case"%":case"%r":default:s=n}return Os(s)[e]/100*o}if("vh"===r||"vw"===r){return("vh"===r?Math.max(document.documentElement.clientHeight,window.innerHeight||0):Math.max(document.documentElement.clientWidth,window.innerWidth||0))/100*o}return o}(t,a,e,i)}))}))).forEach((function(t,e){t.forEach((function(i,n){il(i)&&(a[e]+=i*("-"===t[n-1]?-1:1))}))})),a}var pl={placement:"bottom",positionFixed:!1,eventsEnabled:!0,removeOnDestroy:!1,onCreate:function(){},onUpdate:function(){},modifiers:{shift:{order:100,enabled:!0,fn:function(t){var e=t.placement,i=e.split("-")[0],n=e.split("-")[1];if(n){var a=t.offsets,o=a.reference,r=a.popper,s=-1!==["bottom","top"].indexOf(i),l=s?"left":"top",c=s?"width":"height",u={start:Ns({},l,o[l]),end:Ns({},l,o[l]+o[c]-r[c])};t.offsets.popper=Ms({},r,u[n])}return t}},offset:{order:200,enabled:!0,fn:function(t,e){var i=e.offset,n=t.placement,a=t.offsets,o=a.popper,r=a.reference,s=n.split("-")[0],l=void 0;return l=il(+i)?[+i,0]:dl(i,o,r,s),"left"===s?(o.top+=l[0],o.left-=l[1]):"right"===s?(o.top+=l[0],o.left+=l[1]):"top"===s?(o.left+=l[0],o.top-=l[1]):"bottom"===s&&(o.left+=l[0],o.top+=l[1]),t.popper=o,t},offset:0},preventOverflow:{order:300,enabled:!0,fn:function(t,e){var i=e.boundariesElement||Cs(t.instance.popper);t.instance.reference===i&&(i=Cs(i));var n=Xs("transform"),a=t.instance.popper.style,o=a.top,r=a.left,s=a[n];a.top="",a.left="",a[n]="";var l=Us(t.instance.popper,t.instance.reference,e.padding,i,t.positionFixed);a.top=o,a.left=r,a[n]=s,e.boundaries=l;var c=e.priority,u=t.offsets.popper,h={primary:function(t){var i=u[t];return u[t]<l[t]&&!e.escapeWithReference&&(i=Math.max(u[t],l[t])),Ns({},t,i)},secondary:function(t){var i="right"===t?"left":"top",n=u[i];return u[t]>l[t]&&!e.escapeWithReference&&(n=Math.min(u[i],l[t]-("right"===t?u.width:u.height))),Ns({},i,n)}};return c.forEach((function(t){var e=-1!==["left","top"].indexOf(t)?"primary":"secondary";u=Ms({},u,h[e](t))})),t.offsets.popper=u,t},priority:["left","right","top","bottom"],padding:5,boundariesElement:"scrollParent"},keepTogether:{order:400,enabled:!0,fn:function(t){var e=t.offsets,i=e.popper,n=e.reference,a=t.placement.split("-")[0],o=Math.floor,r=-1!==["top","bottom"].indexOf(a),s=r?"right":"bottom",l=r?"left":"top",c=r?"width":"height";return i[s]<o(n[l])&&(t.offsets.popper[l]=o(n[l])-i[c]),i[l]>o(n[s])&&(t.offsets.popper[l]=o(n[s])),t}},arrow:{order:500,enabled:!0,fn:function(t,e){var i;if(!ol(t.instance.modifiers,"arrow","keepTogether"))return t;var n=e.element;if("string"==typeof n){if(!(n=t.instance.popper.querySelector(n)))return t}else if(!t.instance.popper.contains(n))return console.warn("WARNING: `arrow.element` must be child of its popper element!"),t;var a=t.placement.split("-")[0],o=t.offsets,r=o.popper,s=o.reference,l=-1!==["left","right"].indexOf(a),c=l?"height":"width",u=l?"Top":"Left",h=u.toLowerCase(),d=l?"left":"top",p=l?"bottom":"right",m=Vs(n)[c];s[p]-m<r[h]&&(t.offsets.popper[h]-=r[h]-(s[p]-m)),s[h]+m>r[p]&&(t.offsets.popper[h]+=s[h]+m-r[p]),t.offsets.popper=Os(t.offsets.popper);var f=s[h]+s[c]/2-m/2,g=ms(t.instance.popper),v=parseFloat(g["margin"+u]),_=parseFloat(g["border"+u+"Width"]),b=f-t.offsets.popper[h]-v-_;return b=Math.max(Math.min(r[c]-m,b),0),t.arrowElement=n,t.offsets.arrow=(Ns(i={},h,Math.round(b)),Ns(i,d,""),i),t},element:"[x-arrow]"},flip:{order:600,enabled:!0,fn:function(t,e){if(Zs(t.instance.modifiers,"inner"))return t;if(t.flipped&&t.placement===t.originalPlacement)return t;var i=Us(t.instance.popper,t.instance.reference,e.padding,e.boundariesElement,t.positionFixed),n=t.placement.split("-")[0],a=$s(n),o=t.placement.split("-")[1]||"",r=[];switch(e.behavior){case cl:r=[n,a];break;case ul:r=ll(n);break;case hl:r=ll(n,!0);break;default:r=e.behavior}return r.forEach((function(s,l){if(n!==s||r.length===l+1)return t;n=t.placement.split("-")[0],a=$s(n);var c=t.offsets.popper,u=t.offsets.reference,h=Math.floor,d="left"===n&&h(c.right)>h(u.left)||"right"===n&&h(c.left)<h(u.right)||"top"===n&&h(c.bottom)>h(u.top)||"bottom"===n&&h(c.top)<h(u.bottom),p=h(c.left)<h(i.left),m=h(c.right)>h(i.right),f=h(c.top)<h(i.top),g=h(c.bottom)>h(i.bottom),v="left"===n&&p||"right"===n&&m||"top"===n&&f||"bottom"===n&&g,_=-1!==["top","bottom"].indexOf(n),b=!!e.flipVariations&&(_&&"start"===o&&p||_&&"end"===o&&m||!_&&"start"===o&&f||!_&&"end"===o&&g),y=!!e.flipVariationsByContent&&(_&&"start"===o&&m||_&&"end"===o&&p||!_&&"start"===o&&g||!_&&"end"===o&&f),C=b||y;(d||v||C)&&(t.flipped=!0,(d||v)&&(n=r[l+1]),C&&(o=function(t){return"end"===t?"start":"start"===t?"end":t}(o)),t.placement=n+(o?"-"+o:""),t.offsets.popper=Ms({},t.offsets.popper,js(t.instance.popper,t.offsets.reference,t.placement)),t=Ks(t.instance.modifiers,t,"flip"))})),t},behavior:"flip",padding:5,boundariesElement:"viewport",flipVariations:!1,flipVariationsByContent:!1},inner:{order:700,enabled:!1,fn:function(t){var e=t.placement,i=e.split("-")[0],n=t.offsets,a=n.popper,o=n.reference,r=-1!==["left","right"].indexOf(i),s=-1===["top","left"].indexOf(i);return a[r?"left":"top"]=o[i]-(s?a[r?"width":"height"]:0),t.placement=$s(e),t.offsets.popper=Os(a),t}},hide:{order:800,enabled:!0,fn:function(t){if(!ol(t.instance.modifiers,"hide","preventOverflow"))return t;var e=t.offsets.reference,i=Ws(t.instance.modifiers,(function(t){return"preventOverflow"===t.name})).boundaries;if(e.bottom<i.top||e.left>i.right||e.top>i.bottom||e.right<i.left){if(!0===t.hide)return t;t.hide=!0,t.attributes["x-out-of-boundaries"]=""}else{if(!1===t.hide)return t;t.hide=!1,t.attributes["x-out-of-boundaries"]=!1}return t}},computeStyle:{order:850,enabled:!0,fn:function(t,e){var i=e.x,n=e.y,a=t.offsets.popper,o=Ws(t.instance.modifiers,(function(t){return"applyStyle"===t.name})).gpuAcceleration;void 0!==o&&console.warn("WARNING: `gpuAcceleration` option moved to `computeStyle` modifier and will not be supported in future versions of Popper.js!");var r=void 0!==o?o:e.gpuAcceleration,s=Cs(t.instance.popper),l=Ds(s),c={position:a.position},u=function(t,e){var i=t.offsets,n=i.popper,a=i.reference,o=Math.round,r=Math.floor,s=function(t){return t},l=o(a.width),c=o(n.width),u=-1!==["left","right"].indexOf(t.placement),h=-1!==t.placement.indexOf("-"),d=e?u||h||l%2==c%2?o:r:s,p=e?o:s;return{left:d(l%2==1&&c%2==1&&!h&&e?n.left-1:n.left),top:p(n.top),bottom:p(n.bottom),right:d(n.right)}}(t,window.devicePixelRatio<2||!al),h="bottom"===i?"top":"bottom",d="right"===n?"left":"right",p=Xs("transform"),m=void 0,f=void 0;if(f="bottom"===h?"HTML"===s.nodeName?-s.clientHeight+u.bottom:-l.height+u.bottom:u.top,m="right"===d?"HTML"===s.nodeName?-s.clientWidth+u.right:-l.width+u.right:u.left,r&&p)c[p]="translate3d("+m+"px, "+f+"px, 0)",c[h]=0,c[d]=0,c.willChange="transform";else{var g="bottom"===h?-1:1,v="right"===d?-1:1;c[h]=f*g,c[d]=m*v,c.willChange=h+", "+d}var _={"x-placement":t.placement};return t.attributes=Ms({},_,t.attributes),t.styles=Ms({},c,t.styles),t.arrowStyles=Ms({},t.offsets.arrow,t.arrowStyles),t},gpuAcceleration:!0,x:"bottom",y:"right"},applyStyle:{order:900,enabled:!0,fn:function(t){var e,i;return nl(t.instance.popper,t.styles),e=t.instance.popper,i=t.attributes,Object.keys(i).forEach((function(t){!1!==i[t]?e.setAttribute(t,i[t]):e.removeAttribute(t)})),t.arrowElement&&Object.keys(t.arrowStyles).length&&nl(t.arrowElement,t.arrowStyles),t},onLoad:function(t,e,i,n,a){var o=qs(a,e,t,i.positionFixed),r=zs(i.placement,o,e,t,i.modifiers.flip.boundariesElement,i.modifiers.flip.padding);return e.setAttribute("x-placement",r),nl(e,{position:i.positionFixed?"fixed":"absolute"}),i},gpuAcceleration:void 0}}},ml=function(){function t(e,i){var n=this,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Is(this,t),this.scheduleUpdate=function(){return requestAnimationFrame(n.update)},this.update=ds(this.update.bind(this)),this.options=Ms({},t.Defaults,a),this.state={isDestroyed:!1,isCreated:!1,scrollParents:[]},this.reference=e&&e.jquery?e[0]:e,this.popper=i&&i.jquery?i[0]:i,this.options.modifiers={},Object.keys(Ms({},t.Defaults.modifiers,a.modifiers)).forEach((function(e){n.options.modifiers[e]=Ms({},t.Defaults.modifiers[e]||{},a.modifiers?a.modifiers[e]:{})})),this.modifiers=Object.keys(this.options.modifiers).map((function(t){return Ms({name:t},n.options.modifiers[t])})).sort((function(t,e){return t.order-e.order})),this.modifiers.forEach((function(t){t.enabled&&ps(t.onLoad)&&t.onLoad(n.reference,n.popper,n.options,t,n.state)})),this.update();var o=this.options.eventsEnabled;o&&this.enableEventListeners(),this.state.eventsEnabled=o}return Ls(t,[{key:"update",value:function(){return Gs.call(this)}},{key:"destroy",value:function(){return Qs.call(this)}},{key:"enableEventListeners",value:function(){return tl.call(this)}},{key:"disableEventListeners",value:function(){return el.call(this)}}]),t}();ml.Utils=("undefined"!=typeof window?window:global).PopperUtils,ml.placements=rl,ml.Defaults=pl;var fl="Coral.Overlay: alignAt and alignMy have been deprecated. Please use the offset, inner and placement properties instead.",gl={LEFT_TOP:"left top",LEFT_CENTER:"left center",LEFT_BOTTOM:"left bottom",CENTER_TOP:"center top",CENTER_CENTER:"center center",CENTER_BOTTOM:"center bottom",RIGHT_TOP:"right top",RIGHT_CENTER:"right center",RIGHT_BOTTOM:"right bottom"},vl={FLIP:"flip",FIT:"fit",FLIP_FIT:"flipfit",NONE:"none"},_l={PREVIOUS:"_prev",NEXT:"_next"},bl={LEFT:"left",RIGHT:"right",BOTTOM:"bottom",TOP:"top"},yl={ON:"on",OFF:"off"},Cl=function(t){s(i,t);var e=d(i);function i(){var t;return a(this,i),(t=e.call(this))._overlayAnimationTime=0,t._withinOffset=5,t._delegateEvents({"global:key:escape":"_handleEscape","click [coral-close]":"_handleCloseClick"}),t}return r(i,[{key:"_toggleSmartBehavior",value:function(t){var e=this;t?(this.smart&&this._validateParentOverflow(),this._togglePopperEventListener(!0),window.requestAnimationFrame((function(){e.reposition()}))):this._togglePopperEventListener(!1)}},{key:"_togglePopperEventListener",value:function(t){this._popper&&this._popper[t?"enableEventListeners":"disableEventListeners"]()}},{key:"_validateParentOverflow",value:function(){for(var t=!1,e=this.parentElement;!t&&e;)if(e!==document.body){var i=window.getComputedStyle(e);"auto"!==i.overflow&&"hidden"!==i.overflow&&0!==e.clientHeight&&0!==e.clientWidth||(t=!0),e=e.parentElement}else e=null;t&&(this._ignoreConnectedCallback=!0,this._repositioned=!0,document.body.appendChild(this),this._ignoreConnectedCallback=!1)}},{key:"_onUpdate",value:function(t){var e=this;this._oldPosition?(this._oldPosition=this._oldPosition||t.styles.transform,this._oldPosition!==t.styles.transform&&this.trigger("coral-overlay:positioned",t),this._oldPosition=t.styles.transform):(this._oldPosition=t.styles.transform,window.requestAnimationFrame((function(){e.trigger("coral-overlay:positioned",t)})))}},{key:"_handleCloseClick",value:function(t){var e=t.matchedTarget.getAttribute("coral-close");e&&!this.matches(e)||(this.hide(),t.stopPropagation(),this._trackEvent("close",this.tagName.toLowerCase(),t))}},{key:"_handleEscape",value:function(t){this.interaction===yl.ON&&this.open&&this._isTopOverlay()&&(t.stopPropagation(),this.hide())}},{key:"_getTarget",value:function(t){return this.constructor._getTarget(this,t)}},{key:"reposition",value:function(t){var e=this;if(this._popper){var i=this._getTarget();i&&(this._popper.reference=i),this._popper.options.placement=this.placement,this._popper.modifiers.forEach((function(t){if("offset"===t.name)t.offset="".concat(e.breadthOffset,", ").concat(e.lengthOffset);else if("flip"===t.name)t.enabled=e.collision!==vl.FIT&&e.collision!==vl.NONE;else if("inner"===t.name)t.enabled=e.inner;else if("preventOverflow"===t.name){t.enabled=e.collision!==vl.NONE;var i,n=e.within;n instanceof HTMLElement||-1!==["scrollParent","window","viewport"].indexOf(n)?i=n:"string"==typeof n&&((i=document.querySelector(n))instanceof HTMLElement||(i="scrollParent")),t.boundariesElement=i,t.padding=e.withinOffset}})),(this.open||t)&&this._popper.update()}}},{key:"connectedCallback",value:function(){var t=this;this._ignoreConnectedCallback||(m(l(i.prototype),"connectedCallback",this).call(this),this.target=this.target,window.requestAnimationFrame((function(){t.reposition(!0),t.open||t._togglePopperEventListener(!1)})))}},{key:"render",value:function(){this.classList.add("_coral-Overlay"),this.style.display="none"}},{key:"disconnectedCallback",value:function(){this._ignoreConnectedCallback||m(l(i.prototype),"disconnectedCallback",this).call(this)}},{key:"target",get:function(){return this._target||null},set:function(t){if(null===t||"string"==typeof t||t instanceof Node){this._target=t;var e=this._getTarget();e&&(this._returnFocus===this.constructor.returnFocus.ON&&this.returnFocusTo(e),this._popper=this._popper||new ml(e,this,{onUpdate:this._onUpdate.bind(this)}),this.reposition())}}},{key:"alignMy",get:function(){return this._alignMy||gl.CENTER_CENTER},set:function(t){da._log("warn",fl),t=Ua.string(t).toLowerCase(),this._alignMy=Ba.enumeration(gl)(t)&&t||gl.CENTER_CENTER}},{key:"alignAt",get:function(){return this._alignAt||gl.CENTER_CENTER},set:function(t){da._log("warn",fl),t=Ua.string(t).toLowerCase(),this._alignAt=Ba.enumeration(gl)(t)&&t||gl.CENTER_CENTER}},{key:"offset",get:function(){return Ua.number(this.lengthOffset)},set:function(t){"number"==typeof(t=Ua.number(t))&&(this.lengthOffset="".concat(t,"px"),this.breadthOffset="0px",this.reposition())}},{key:"inner",get:function(){return this._inner||!1},set:function(t){this._inner=Ua.booleanAttr(t),this.reposition()}},{key:"lengthOffset",get:function(){return this._lengthOffset||"0px"},set:function(t){this._lengthOffset=Ua.string(t)||"0px",this.reposition()}},{key:"breadthOffset",get:function(){return this._breadthOffset||"0px"},set:function(t){this._breadthOffset=Ua.string(t)||"0px",this.reposition()}},{key:"placement",get:function(){return this._placement||bl.RIGHT},set:function(t){t=Ua.string(t).toLowerCase(),this._placement=Ba.enumeration(bl)(t)&&t||bl.RIGHT,this.reposition()}},{key:"within",get:function(){return this._within||"scrollParent"},set:function(t){(t instanceof HTMLElement||"string"==typeof t)&&(this._within=t,this.reposition())}},{key:"withinOffset",get:function(){return this._withinOffset},set:function(t){"number"==typeof(t=Ua.number(t))&&(this._withinOffset=t,this.reposition())}},{key:"collision",get:function(){return this._collision||vl.FLIP},set:function(t){t=Ua.string(t).toLowerCase(),this._collision=Ba.enumeration(vl)(t)&&t||vl.FLIP,this._collision===vl.FLIP_FIT&&da._log("warn","Coral.Overlay.collision.FLIP_FIT has been deprecated. Please use Coral.Overlay.collision.FLIP instead."),this.reposition()}},{key:"interaction",get:function(){return this._interaction||yl.ON},set:function(t){t=Ua.string(t).toLowerCase(),this._interaction=Ba.enumeration(yl)(t)&&t||yl.ON}},{key:"smart",get:function(){return this._smart||!1},set:function(t){this._smart=Ua.booleanAttr(t),this._toggleSmartBehavior(this.open)}},{key:"open",get:function(){return m(l(i.prototype),"open",this)},set:function(t){g(l(i.prototype),"open",t,this,!0),this._toggleSmartBehavior(this.open)}}],[{key:"_getTarget",value:function(t,e){if((e=e||t.target)instanceof Node)return e;var i=null;return"string"==typeof e&&(i=e===_l.PREVIOUS?t.previousElementSibling:e===_l.NEXT?t.nextElementSibling:document.querySelector(e)),i}},{key:"align",get:function(){return gl}},{key:"collision",get:function(){return vl}},{key:"target",get:function(){return _l}},{key:"placement",get:function(){return bl}},{key:"interaction",get:function(){return yl}},{key:"_attributePropertyMap",get:function(){return da.extend(m(l(i),"_attributePropertyMap",this),{alignmy:"alignMy",alignat:"alignAt",lengthoffset:"lengthOffset",breadthoffset:"breadthOffset",withinoffset:"withinOffset"})}},{key:"observedAttributes",get:function(){return m(l(i),"observedAttributes",this).concat(["alignmy","alignat","offset","lengthoffset","breadthoffset","placement","within","withinoffset","collision","interaction","target","inner","smart"])}}]),i}(cs(ho(HTMLElement)));da._define("coral-overlay",Cl);var Al={FREE:"free",VERTICAL:"vertical",HORIZONTAL:"horizontal"};function kl(t){return"string"==typeof t?Array.prototype.slice.call(document.querySelectorAll(t)):t instanceof HTMLElement?[t]:"[object NodeList]"===Object.prototype.toString.call(t)?Array.prototype.slice.call(t):void 0}function wl(t){var e={};return t.changedTouches&&t.changedTouches.length>0?e=t.changedTouches[0]:t.touches&&t.touches.length>0&&(e=t.touches[0]),{x:e.pageX||t.pageX,y:e.pageY||t.pageY}}function xl(t){var e=null;return t._dropZones&&t._dropZones.length&&t._dropZones.some((function(i){return n=t._scrollingElement,a=t._dragElement,o=i,r=a.getBoundingClientRect(),s=o.getBoundingClientRect(),l=n.scrollTop,c=n.scrollLeft,u=r.left+c,h=u+r.width,d=s.left+c,p=d+s.width,m=r.top+l,f=m+r.height,g=s.top+l,v=g+s.height,!(d>h||p<u||g>f||v<m)&&(e=i,!0);var n,a,o,r,s,l,c,u,h,d,p,m,f,g,v})),e}var Tl=function(){function t(e){if(a(this,t),!e)throw new Error("Coral.DragAction: dragElement is missing");var i=null;if(e instanceof HTMLElement)i=e;else if("string"==typeof e&&!(i=document.querySelector(e)))throw new Error("Coral.DragAction: dragElement is null");this._id=da.getUID(),this._dragElementValue=e,this._dragElement=i,this._dragElement.dragAction&&this._dragElement.dragAction.destroy();var n=window.getComputedStyle(this._dragElement);this._initialPosition={position:n.position,left:n.left,top:n.top},this._dragEvents=new ia(this._dragElement),this.handle=this._dragElement.getAttribute("coral-dragaction-handle"),this.dropZone=this._dragElement.getAttribute("coral-dragaction-dropzone"),this.axis=this._dragElement.getAttribute("coral-dragaction-axis"),this.scroll=this._dragElement.matches("[".concat("coral-dragaction-scroll","]")),this.containment=this._dragElement.matches("[".concat("coral-dragaction-containment","]")),this._drag=this._drag.bind(this),this._dragEnd=this._dragEnd.bind(this),pa.on("touchmove.DragAction".concat(this._id),this._drag),pa.on("mousemove.DragAction".concat(this._id),this._drag),pa.on("touchend.DragAction".concat(this._id),this._dragEnd),pa.on("mouseup.DragAction".concat(this._id),this._dragEnd),this._dragElement.dragAction=this}return r(t,[{key:"_dragStart",value:function(t){this._container=function(t){for(;t;){var e=t.parentNode;if(!e)return e;if(e.matches("body"))return e;var i=window.getComputedStyle(e),n=i.overflow,a=i.overflowX,o=i.overflowY;if(("hidden"===n||"auto"===n||"scroll"===n)&&n===a&&n===o)return e;t=e}}(this._dragElement)||document.body,"IMG"===t.target.tagName&&t.preventDefault(),pa.on("touchmove.DragAction",(function(t){t.preventDefault()})),document.body._overflow=window.getComputedStyle(document.body).overflow,document.body.style.overflow="hidden",this._container.matches("body")||(this._container._overflow=window.getComputedStyle(this._container).overflow,this._container.style.overflow=this.scroll?"scroll":"hidden");var e=wl(t),i=this._dragElement.getBoundingClientRect();this._dragPosition=wl(t),this._dragPosition.y-=i.top+this._scrollingElement.scrollTop,this._dragPosition.x-=i.left+this._scrollingElement.scrollLeft,document.body.classList.add("u-coral-closedHand"),this._handles&&this._handles.length?this._handles.forEach((function(t){t.classList.remove("u-coral-openHand")})):this._dragElement.classList.remove("u-coral-openHand"),this._dragElement.classList.add("is-dragging"),"static"===window.getComputedStyle(this._dragElement).position&&(this._dragElement.style.position="relative"),this._dragEvents.dispatch("coral-dragaction:dragstart",{detail:{dragElement:this._dragElement,pageX:e.x,pageY:e.y}})}},{key:"_drag",value:function(t){if(this._dragElement.classList.contains("is-dragging")){var e=wl(t),i=this._scrollingElement.scrollTop,n=this._scrollingElement.scrollLeft,a=this._dragElement.getBoundingClientRect(),o=a.height,r=a.width,s={top:a.top+i,left:a.left+n},l=window.getComputedStyle(this._dragElement),c={top:parseFloat(l.top)||0,left:parseFloat(l.left)||0},u=this._container.getBoundingClientRect(),h=u.width,d=u.height,p={top:u.top+i,left:u.left+n};this._dragEvents.dispatch("coral-dragaction:drag",{detail:{dragElement:this._dragElement,pageX:e.x,pageY:e.y}}),document.selection?document.selection.empty():window.getSelection&&window.getSelection().removeAllRanges&&window.getSelection().removeAllRanges(),this.scroll&&(this._container===document.body?(a.top<20?this._scrollingElement.scrollTop=i-10:a.top+a.height>window.innerHeight-20&&s.top+a.height+20<this._scrollingElement.scrollHeight&&(this._scrollingElement.scrollTop=i+10),a.left<20?this._scrollingElement.scrollLeft=n-10:a.left+a.width>window.innerWidth-20&&s.left+a.width+20<this._scrollingElement.scrollWidth&&(this._scrollingElement.scrollLeft=n+10)):(a.top-u.top<20?this._container.scrollTop=this._container.scrollTop-10:a.top-u.top+a.height>u.height-20&&a.top-u.top+a.height<u.height&&(this._container.scrollTop=this._container.scrollTop+10),a.left-u.left<20?this._container.scrollLeft=this._container.scrollLeft-10:a.left-u.left+a.width>u.width-20&&a.left-u.left+a.width<u.width&&(this._container.scrollLeft=this._container.scrollLeft+10)));var m={};if("horizontal"!==this.axis){var f=e.y-this._dragPosition.y;this.containment?f>=p.top&&f+o<=p.top+d?m.top=f:e.y<=p.top?m.top=p.top:e.y>=p.top+d&&(m.top=p.top+d-o):m.top=f}if("vertical"!==this.axis){var g=e.x-this._dragPosition.x;this.containment?g>=p.left&&g+r<=p.left+h?m.left=g:e.x<=p.left?m.left=p.left:e.x>=p.left+h&&(m.left=p.left+h-r):m.left=g}this._dragElement.style.top="".concat(m.top-s.top+c.top,"px"),this._dragElement.style.left="".concat(m.left-s.left+c.left,"px");var v=xl(this);v?(this._dropElement=v,this._dropZoneEntered||(this._dropZoneEntered=!0,this._dragEvents.dispatch("coral-dragaction:dragenter",{detail:{dragElement:this._dragElement,pageX:e.x,pageY:e.y,dropElement:this._dropElement}})),this._dragEvents.dispatch("coral-dragaction:dragover",{detail:{dragElement:this._dragElement,pageX:e.x,pageY:e.y,dropElement:this._dropElement}})):this._dropZoneEntered&&(this._dragEvents.dispatch("coral-dragaction:dragleave",{detail:{dragElement:this._dragElement,pageX:e.x,pageY:e.y,dropElement:this._dropElement}}),this._dropZoneEntered=!1)}}},{key:"_dragEnd",value:function(t){if(this._dragElement.classList.contains("is-dragging")){var e=wl(t);if(document.body.style.overflow=document.body._overflow,document.body._overflow=void 0,this._container.matches("body")||(this._container.style.overflow=this._container._overflow,this._container._overflow=void 0),document.body.classList.remove("u-coral-closedHand"),this._dragElement.classList.remove("is-dragging"),this._handles&&this._handles.length?this._handles.forEach((function(t){t.classList.add("u-coral-openHand")})):this._dragElement.classList.add("u-coral-openHand"),this._dropZoneEntered){var i=xl(this);i&&(this._dropElement=i,this._dragEvents.dispatch("coral-dragaction:drop",{detail:{dragElement:this._dragElement,pageX:e.x,pageY:e.y,dropElement:this._dropElement}}))}this._dragEvents.dispatch("coral-dragaction:dragend",{detail:{dragElement:this._dragElement,pageX:e.x,pageY:e.y}})}}},{key:"destroy",value:function(t){document.body.classList.remove("u-coral-closedHand"),this._dragElement.classList.remove("is-dragging"),this._handles&&this._handles.length?this._handles.forEach((function(t){t._dragEvents.off(".DragAction"),t.classList.remove("u-coral-openHand")})):(this._dragEvents.off(".DragAction"),this._dragElement.classList.remove("u-coral-openHand")),pa.off(".DragAction".concat(this._id)),document.body._overflow&&(document.body.style.overflow=document.body._overflow,document.body._overflow=void 0),this._container&&!this._container.matches("body")&&this._container._overflow&&(this._container.style.overflow=this._container._overflow,this._container._overflow=void 0),t&&(this._dragElement.style.position=this._initialPosition.position,this._dragElement.style.top=this._initialPosition.top,this._dragElement.style.left=this._initialPosition.left),this._dragElement.dragAction=void 0}},{key:"dragElement",get:function(){return this._dragElementValue}},{key:"handle",get:function(){return this._handle},set:function(t){var e=this;this._handle=t,this._dragEvents.off(".DragAction"),document.body.classList.remove("u-coral-closedHand"),this._dragElement.classList.remove("is-dragging"),this._handles&&this._handles.length?this._handles.forEach((function(t){t._dragEvents.off(".DragAction"),t.classList.remove("u-coral-openHand")})):this._dragElement.classList.remove("u-coral-openHand"),"string"==typeof t||t instanceof HTMLElement||"[object NodeList]"===Object.prototype.toString.call(t)?(this._handles=kl(t),this._handles&&this._handles.length?this._handles.forEach((function(t){t._dragEvents=t._dragEvents||new ia(t),t._dragEvents.on("mousedown.DragAction",e._dragStart.bind(e)),t._dragEvents.on("touchstart.DragAction",e._dragStart.bind(e)),t.classList.add("u-coral-openHand")})):(this._dragEvents.on("touchstart.DragAction",this._dragStart.bind(this)),this._dragEvents.on("mousedown.DragAction",this._dragStart.bind(this)),this._dragElement.classList.add("u-coral-openHand"))):(this._handles=[],this._dragEvents.on("touchstart.DragAction",this._dragStart.bind(this)),this._dragEvents.on("mousedown.DragAction",this._dragStart.bind(this)),this._dragElement.classList.add("u-coral-openHand"))}},{key:"dropZone",get:function(){return this._dropZone},set:function(t){this._dropZone=t,this._dropZoneEntered=!1,"string"==typeof t||t instanceof HTMLElement||"[object NodeList]"===Object.prototype.toString.call(t)?this._dropZones=kl(t):this._dropZones=[]}},{key:"axis",get:function(){return this._axis},set:function(t){t=Ua.string(t),this._axis=Ba.enumeration(Al)(t)&&t||Al.FREE}},{key:"scroll",get:function(){return this._scroll},set:function(t){this._scroll=Ua.boolean(t)}},{key:"containment",get:function(){return this._containment},set:function(t){this._containment=Ua.boolean(t)}},{key:"_scrollingElement",get:function(){return document.scrollingElement||document.documentElement}}],[{key:"axis",get:function(){return Al}}]),t}();document.addEventListener("DOMContentLoaded",(function(){for(var t=document.body.querySelectorAll("[coral-dragaction]"),e=0;e<t.length;e++)new Tl(t[e])}));var Sl=function(t){var e=document.createDocumentFragment(),i=this.headerWrapper=document.createElement("div");i.className+=" _coral-Dialog-header",i.setAttribute("handle","headerWrapper");var n=document.createTextNode("\n  ");i.appendChild(n);var a=this.dragZone=document.createElement("div");a.className+=" _coral-Dialog-dragZone",a.setAttribute("handle","dragZone"),i.appendChild(a);var o=document.createTextNode("\n");i.appendChild(o),e.appendChild(i);var r=document.createTextNode("\n");e.appendChild(r);var s=this.wrapper=document.createElement("div");s.setAttribute("handle","wrapper");var l=document.createTextNode("\n  ");s.appendChild(l);var c=this.closeButton=document.createElement("button","coral-button");c.setAttribute("tracking","off"),c.setAttribute("handle","closeButton"),c.className+=" _coral-Dialog-closeButton",c.setAttribute("type","button"),c.setAttribute("is","coral-button"),c.setAttribute("variant","quietaction"),c.setAttribute("title",t.i18n.get("Close")),c.setAttribute("tabindex","-1"),c.setAttribute("coral-close",""),c.setAttribute("coral-tabcapture","");var u=document.createTextNode("\n    ");c.appendChild(u);var h=document.createElement("coral-icon");h.setAttribute("icon","spectrum-css-icon-CrossLarge"),h.className+=" _coral-UIIcon-CrossLarge",c.appendChild(h);var d=document.createTextNode("\n  ");c.appendChild(d),s.appendChild(c);var p=document.createTextNode("\n");s.appendChild(p),e.appendChild(s);var m=document.createTextNode("\n");return e.appendChild(m),e},El={ON:"on",OFF:"off"},Il={ON:"on",OFF:"off"},Ll={DEFAULT:"default",ERROR:"error",WARNING:"warning",SUCCESS:"success",HELP:"help",INFO:"info"},Nl={NONE:"none",MODAL:"modal",STATIC:"static"},Ml="_coral-Dialog",Ol="".concat(Ml,"--fullscreenTakeover"),Dl=[];for(var Fl in Ll)Dl.push("".concat(Ml,"--").concat(Ll[Fl]));var Pl=function(t){s(i,t);var e=d(i);function i(){var t;return a(this,i),(t=e.call(this))._elements=da.extend(t._elements,{header:t.querySelector("coral-dialog-header")||document.createElement("coral-dialog-header"),content:t.querySelector("coral-dialog-content")||document.createElement("coral-dialog-content"),footer:t.querySelector("coral-dialog-footer")||document.createElement("coral-dialog-footer")}),Sl.call(t._elements,{i18n:wa}),t._delegateEvents({"coral-overlay:open":"_handleOpen","click [coral-close]":"_handleCloseClick",click:"_handleClick","global:resize":"center","global:key:escape":"_handleEscape"}),t._trapFocus=t.constructor.trapFocus.ON,t._returnFocus=t.constructor.returnFocus.ON,t._overlayAnimationTime=t.constructor.FADETIME,t._headerObserver=new MutationObserver(t._hideHeaderIfEmpty.bind(u(t))),t._observeHeader(),t}return r(i,[{key:"_observeHeader",value:function(){this._headerObserver&&(this._headerObserver.disconnect(),this._elements.header&&this._headerObserver.observe(this._elements.header,{childList:!0,characterData:!0,subtree:!0}))}},{key:"_hideHeaderIfEmpty",value:function(){var t=this._elements.header;if(t){var e=this._elements.headerWrapper,i=0===t.children.length&&""===t.textContent.replace(/\s*/g,"");i!==e.hidden&&(e.hidden=i),this.variant=this.variant}}},{key:"_handleOpen",value:function(t){this._trackEvent("display","coral-dialog",t)}},{key:"_handleEscape",value:function(t){this.interaction===Il.ON&&this.open&&this._isTopOverlay()&&(t.stopPropagation(),this.open=!1)}},{key:"_handleCloseClick",value:function(t){var e=t.matchedTarget.getAttribute("coral-close");e&&!this.matches(e)||(this.open=!1,t.stopPropagation(),this._trackEvent("close","coral-dialog",t))}},{key:"_handleClick",value:function(t){t.target===this&&this.backdrop===Nl.MODAL&&this._isTopOverlay()&&(this.open=!1,this._trackEvent("close","coral-dialog",t))}},{key:"_moveToDocumentBody",value:function(){document.body.contains(this)?this.parentNode!==document.body&&(this._ignoreConnectedCallback=!0,this._repositioned=!0,document.body.appendChild(this),this._ignoreConnectedCallback=!1):document.body.appendChild(this)}},{key:"_insertTypeIcon",value:function(){this._elements.icon&&this._elements.icon.remove();var t=this.variant;if(t!==Ll.WARNING&&t!==Ll.ERROR||(t="alert"),t!==Ll.DEFAULT){var e=function(t){return t.charAt(0).toUpperCase()+t.slice(1)}(t);this._elements.headerWrapper.insertAdjacentHTML("beforeend",Uo._renderSVG("spectrum-css-icon-".concat(e,"Medium"),["_coral-Dialog-typeIcon","_coral-UIIcon-".concat(e,"Medium")])),this._elements.icon=this._elements.headerWrapper.querySelector("._coral-Dialog-typeIcon")}}},{key:"backdropClickedCallback",value:function(){this.backdrop===Nl.MODAL&&this._isTopOverlay()&&(this.open=!1)}},{key:"center",value:function(){if(!this.fullscreen)return this.style.top="",this.style.left="",this}},{key:"connectedCallback",value:function(){this._ignoreConnectedCallback||m(l(i.prototype),"connectedCallback",this).call(this)}},{key:"render",value:function(){var t=this;m(l(i.prototype),"render",this).call(this),this.classList.add("".concat(Ml,"-wrapper")),this._variant||(this.variant=Ll.DEFAULT),this._backdrop||(this.backdrop=Nl.MODAL),this._closable||(this.closable=El.OFF),this._interaction||(this.interaction=Il.ON);var e=this._elements.header,n=this._elements.content,a=this._elements.footer,o=this.contains(n)&&n||this.contains(a)&&a||this.contains(e)&&e,r=this.querySelector(".".concat(Ml));if(r)Array.prototype.filter.call(this.children,(function(t){return t.hasAttribute("coral-tabcapture")})).forEach((function(e){t.removeChild(e)})),this._elements.headerWrapper=this.querySelector("._coral-Dialog-header"),this._elements.closeButton=this.querySelector("._coral-Dialog-closeButton"),this._elements.wrapper=r;else{r=this._elements.wrapper;var s=this._elements.headerWrapper;if(o){for(o.parentNode===this?this._elements.wrapper=r:this._elements.wrapper=o.parentNode;this.firstChild;)r.appendChild(this.firstChild);this._elements.wrapper.insertBefore(s,n)}else{for(this._elements.wrapper=r;this.firstChild;)n.appendChild(this.firstChild);r.appendChild(s),r.appendChild(n),r.appendChild(a)}this.appendChild(r)}if(this._elements.wrapper.classList.add(Ml),this._elements.wrapper.setAttribute("coral-dialog-size",""),this._elements.wrapper.appendChild(this._elements.closeButton),this._elements.wrapper.parentNode!==this){var c=this.querySelector('[handle="wrapper"]');Array.prototype.forEach.call(c.classList,(function(e){return t._elements.wrapper.classList.add(e)})),c.removeAttribute("class")}this.header=e,this.footer=a,this.content=n}},{key:"disconnectedCallback",value:function(){this._ignoreConnectedCallback||m(l(i.prototype),"disconnectedCallback",this).call(this)}},{key:"interaction",get:function(){return this._interaction||Il.ON},set:function(t){t=Ua.string(t).toLowerCase(),this._interaction=Ba.enumeration(Il)(t)&&t||Il.ON}},{key:"header",get:function(){return this._getContentZone(this._elements.header)},set:function(t){this._setContentZone("header",t,{handle:"header",tagName:"coral-dialog-header",insert:function(t){t.classList.add("".concat(Ml,"-title")),this._elements.headerWrapper.insertBefore(t,this._elements.dragZone.nextElementSibling)},set:function(){this._observeHeader(),this._hideHeaderIfEmpty()}})}},{key:"content",get:function(){return this._getContentZone(this._elements.content)},set:function(t){this._setContentZone("content",t,{handle:"content",tagName:"coral-dialog-content",insert:function(t){t.classList.add("".concat(Ml,"-content"));var e=this.footer;this._elements.wrapper.insertBefore(t,this.contains(e)&&e||null)}})}},{key:"footer",get:function(){return this._getContentZone(this._elements.footer)},set:function(t){this._setContentZone("footer",t,{handle:"footer",tagName:"coral-dialog-footer",insert:function(t){t.classList.add("".concat(Ml,"-footer")),this._elements.wrapper.appendChild(t)}})}},{key:"backdrop",get:function(){return this._backdrop||Nl.MODAL},set:function(t){t=Ua.string(t).toLowerCase(),this._backdrop=Ba.enumeration(Nl)(t)&&t||Nl.MODAL;var e=this._backdrop!==Nl.NONE;this._elements.wrapper.classList.toggle("".concat(Ml,"--noBackdrop"),!e),this.open&&e&&this._showBackdrop()}},{key:"variant",get:function(){return this._variant||Ll.DEFAULT},set:function(t){var e;t=Ua.string(t).toLowerCase(),this._variant=Ba.enumeration(Ll)(t)&&t||Ll.DEFAULT,this._reflectAttribute("variant",this._variant),this._insertTypeIcon(),(e=this._elements.wrapper.classList).remove.apply(e,Dl),this._variant===Ll.DEFAULT?this.setAttribute("role","dialog"):(this._elements.wrapper.classList.add("".concat(Ml,"--").concat(this._variant)),this.setAttribute("role","alertdialog"));var i=this.header&&""!==this.header.textContent;!i||this.hasAttribute("aria-labelledby")||this.hasAttribute("aria-label")||(this.header.id=this.header.id||da.getUID(),this.setAttribute("aria-labelledby",this.header.id)),this.content&&""!==this.content.textContent&&(this.content.id=this.content.id||da.getUID(),this._variant!==Ll.DEFAULT?i?this.hasAttribute("aria-describedby")||this.setAttribute("aria-describedby",this.content.id):this.setAttribute("aria-labelledby",this.content.id):this.getAttribute("aria-labelledby")===this.content.id&&this.removeAttribute("aria-labelledby"))}},{key:"fullscreen",get:function(){return this._fullscreen||!1},set:function(t){this._fullscreen=Ua.booleanAttr(t),this._reflectAttribute("fullscreen",this._fullscreen),this._fullscreen?(this.movable=!1,this._elements.wrapper.classList.add(Ol)):this._elements.wrapper.classList.remove(Ol)}},{key:"open",get:function(){return m(l(i.prototype),"open",this)},set:function(t){var e=this;g(l(i.prototype),"open",t,this,!0),this.open&&(this._moveToDocumentBody(),this.backdrop!==Nl.NONE&&this._showBackdrop()),requestAnimationFrame((function(){e._elements.wrapper.classList.toggle("is-open",e.open),e.open?da.transitionEnd(e._elements.wrapper,(function(){e._handleFocus(),e._elements.closeButton.tabIndex=0,e._elements.closeButton.removeAttribute("coral-tabcapture")})):(e._elements.closeButton.tabIndex=-1,e._elements.closeButton.setAttribute("coral-tabcapture",""))}))}},{key:"icon",get:function(){return this._elements.icon},set:function(t){this._elements.icon=t}},{key:"closable",get:function(){return this._closable||El.OFF},set:function(t){t=Ua.string(t).toLowerCase(),this._closable=Ba.enumeration(El)(t)&&t||El.OFF,this._reflectAttribute("closable",this._closable),this._elements.wrapper.classList.toggle("".concat(Ml,"--dismissible"),this._closable===El.ON)}},{key:"movable",get:function(){return this._movable||!1},set:function(t){(this._movable=Ua.booleanAttr(t),this._reflectAttribute("movable",this._movable),this._movable&&(this.fullscreen=!1),this._movable)?new Tl(this).handle=this._elements.headerWrapper:(this.dragAction&&this.dragAction.destroy(),this.center())}},{key:"trackingElement",get:function(){return void 0===this._trackingElement?this.header&&this.header.textContent&&this.header.textContent.replace(/\s{2,}/g," ").trim()||"":this._trackingElement},set:function(t){g(l(i.prototype),"trackingElement",t,this,!0)}},{key:"_contentZones",get:function(){return{"coral-dialog-header":"header","coral-dialog-content":"content","coral-dialog-footer":"footer"}}}],[{key:"variant",get:function(){return Ll}},{key:"backdrop",get:function(){return Nl}},{key:"closable",get:function(){return El}},{key:"interaction",get:function(){return Il}},{key:"observedAttributes",get:function(){return m(l(i),"observedAttributes",this).concat(["interaction","backdrop","variant","fullscreen","icon","closable","movable"])}}]),i}(cs(ho(HTMLElement)));da.extend(ka,{"coral-component-dialog":{"en-US":{Close:"Close"},"de-DE":{Close:"SchlieÃen"},"fr-FR":{Close:"Fermer"},"it-IT":{Close:"Chiudi"},"ja-JP":{Close:"éãã"},"es-ES":{Close:"Cerrar"},"ko-KR":{Close:"ë«ê¸°"},"zh-CN":{Close:"å³é­"},"zh-TW":{Close:"éé"},"pt-BR":{Close:"Fechar"},"nl-NL":{Close:"Sluiten"},"da-DK":{Close:"Luk"},"fi-FI":{Close:"Sulje"},"nb-NO":{Close:"Lukk"},"sv-SE":{Close:"StÃ¤ng"},"cs-CZ":{Close:"ZavÅÃ­t"},"pl-PL":{Close:"Zamknij"},"ru-RU":{Close:"ÐÐ°ÐºÑÑÑÑ"},"tr-TR":{Close:"Kapat"}}}),da._define("coral-dialog",Pl),Pl.Header=function(){return document.createElement("coral-dialog-header")},Pl.Content=function(){return document.createElement("coral-dialog-content")},Pl.Footer=function(){return document.createElement("coral-dialog-footer")};var Rl=function(t){var e=document.createDocumentFragment(),i=this.headerWrapper=document.createElement("div");i.className+=" _coral-Dialog-header",i.setAttribute("handle","headerWrapper"),i.setAttribute("role","presentation"),e.appendChild(i);var n=document.createTextNode("\n");e.appendChild(n);var a=this.closeButton=document.createElement("button","coral-button");a.setAttribute("tracking","off"),a.setAttribute("handle","closeButton"),a.className+=" _coral-Dialog-closeButton _coral-ClearButton",a.setAttribute("type","button"),a.setAttribute("is","coral-button"),a.setAttribute("variant","_custom"),a.setAttribute("icon","close"),a.setAttribute("title",t.i18n.get("Close")),a.setAttribute("tabindex","-1"),a.setAttribute("coral-close",""),e.appendChild(a);var o=document.createTextNode("\n");e.appendChild(o);var r=this.tip=document.createElement("div");r.className+=" _coral-Popover-tip",r.setAttribute("handle","tip"),e.appendChild(r);var s=document.createTextNode("\n");return e.appendChild(s),e},Hl=function(t){return!t||0===t.children.length&&""===t.textContent.replace(/\s*/g,"")},Ul={ON:"on",OFF:"off"},Bl={DEFAULT:"default",ERROR:"error",WARNING:"warning",SUCCESS:"success",HELP:"help",INFO:"info",_COACHMARK:"_coachmark"},zl=[];for(var ql in Bl)"COACHMARK"!==ql&&zl.push("_coral-Dialog--".concat(Bl[ql]));var Vl=Cl.placement,$l=[];for(var jl in Vl)$l.push("".concat("_coral-Popover","--").concat(Vl[jl]));var Wl=function(t){s(i,t);var e=d(i);function i(){var t;return a(this,i),(t=e.call(this))._elements=da.extend(t._elements,{header:t.querySelector("coral-popover-header")||document.createElement("coral-popover-header"),content:t.querySelector("coral-popover-content")||document.createElement("coral-popover-content"),footer:t.querySelector("coral-popover-footer")||document.createElement("coral-popover-footer")}),Rl.call(t._elements,{i18n:wa}),t._delegateEvents({"global:capture:click":"_handleClick","coral-overlay:positioned":"_onPositioned","coral-overlay:_animate":"_onAnimate"}),t._focusOnShow=t.constructor.focusOnShow.ON,t._trapFocus=t.constructor.trapFocus.ON,t._returnFocus=t.constructor.returnFocus.ON,t._overlayAnimationTime=t.constructor.FADETIME,t._lengthOffset=5,["header","footer"].forEach((function(e){t["_".concat(e,"Observer")]=new MutationObserver((function(){t._hideContentZoneIfEmpty(e),t._toggleFlyout()})),t._observeContentZone(e)})),t}return r(i,[{key:"_onPositioned",value:function(t){var e;this.open&&((e=this.classList).remove.apply(e,$l),this.classList.add("".concat("_coral-Popover","--").concat(t.detail.placement)))}},{key:"_onAnimate",value:function(){var t=this.getAttribute("x-placement");"left"===t?this.style.left="8px":"top"===t?this.style.top="8px":"right"===t?this.style.left="-8px":"bottom"===t&&(this.style.top="-8px")}},{key:"_insertTypeIcon",value:function(){this._elements.icon&&this._elements.icon.remove();var t=this.variant;if(t!==Bl.WARNING&&t!==Bl.ERROR||(t="alert"),t!==Bl.DEFAULT&&t!==Bl._COACHMARK){var e=function(t){return t.charAt(0).toUpperCase()+t.slice(1)}(t);this._elements.headerWrapper.insertAdjacentHTML("beforeend",Uo._renderSVG("spectrum-css-icon-".concat(e,"Medium"),["_coral-Dialog-typeIcon","_coral-UIIcon-".concat(e,"Medium")])),this._elements.icon=this.querySelector("._coral-Dialog-typeIcon")}}},{key:"_observeContentZone",value:function(t){var e=this["_".concat(t,"Observer")];e&&(e.disconnect(),e.observe(this._elements[t],{childList:!0,characterData:!0,subtree:!0}))}},{key:"_hideContentZoneIfEmpty",value:function(t){var e=this._elements[t],i="header"===t?this._elements.headerWrapper:e,n=Hl(e);n!==i.hidden&&(i.hidden=n,this.reposition())}},{key:"_toggleCoachMark",value:function(t){var e=this;this.classList.toggle("_coral-CoachMarkPopover",t),this._elements.headerWrapper.classList.toggle("_coral-Dialog-header",!t),this._elements.headerWrapper.classList.toggle("_coral-CoachMarkPopover-header",t),["header","content","footer"].forEach((function(i,n){var a=e[i],o=0===n?"title":i;a&&(a.classList.toggle("_coral-Dialog-".concat(o),!t),a.classList.toggle("_coral-CoachMarkPopover-".concat(o),t))}))}},{key:"_toggleFlyout",value:function(){var t=this._variant===Bl._COACHMARK||this._variant===Bl.DEFAULT&&Hl(this.header)&&Hl(this.footer);this.classList.toggle("".concat("_coral-Popover","--dialog"),!t),this._elements.tip.hidden=t}},{key:"_handleClick",value:function(t){if(this.interaction!==this.constructor.interaction.OFF){var e=t.target,i=this._getTarget();if(!!i&&i.contains(e))this.open||i.disabled?(this.hide(),this._trackEvent("close","coral-popover",t)):(this.show(),this._trackEvent("display","coral-popover",t));else if(this.open&&!this.contains(e)){var n=e.closest("._coral-Overlay");if(n&&this.contains(n._getTarget()))return;this.hide(),this._trackEvent("close","coral-popover",t)}}}},{key:"render",value:function(){var t=this;m(l(i.prototype),"render",this).call(this),this.classList.add("_coral-Popover"),this.hasAttribute("role")||(this.setAttribute("role","dialog"),this.setAttribute("aria-live","assertive")),this._variant||(this.variant=Bl.DEFAULT),this._closable||(this.closable=Ul.OFF);var e=this._elements.header,n=this._elements.content,a=this._elements.footer,o=this.contains(n)&&n||this.contains(a)&&a||this.contains(e)&&e;e.parentNode&&e.remove(),n.parentNode&&n.remove(),a.parentNode&&a.remove(),Array.prototype.filter.call(this.children,(function(t){return t.hasAttribute("coral-tabcapture")})).forEach((function(e){t.removeChild(e)}));for(var r=this.querySelectorAll("._coral-Dialog-header, ._coral-Dialog-closeButton, ._coral-Popover-tip"),s=0;s<r.length;s++)r[s].remove();if(!o)for(;this.firstChild;)n.appendChild(this.firstChild);var c=document.createDocumentFragment();c.appendChild(this._elements.headerWrapper),c.appendChild(this._elements.closeButton),c.appendChild(this._elements.tip),this.appendChild(c),this.header=e,this.content=n,this.footer=a}},{key:"content",get:function(){return this._getContentZone(this._elements.content)},set:function(t){this._setContentZone("content",t,{handle:"content",tagName:"coral-popover-content",insert:function(t){t.classList.add("_coral-Dialog-content");var e=this.footer;this.insertBefore(t,this.contains(e)&&e||null)}})}},{key:"header",get:function(){return this._getContentZone(this._elements.header)},set:function(t){this._setContentZone("header",t,{handle:"header",tagName:"coral-popover-header",insert:function(t){t.classList.add("_coral-Dialog-title"),this._elements.headerWrapper.insertBefore(t,this._elements.headerWrapper.firstChild)},set:function(){this._observeContentZone("header"),this._hideContentZoneIfEmpty("header")}})}},{key:"footer",get:function(){return this._getContentZone(this._elements.footer)},set:function(t){this._setContentZone("footer",t,{handle:"footer",tagName:"coral-popover-footer",insert:function(t){t.classList.add("_coral-Dialog-footer"),this.appendChild(t)},set:function(){this._observeContentZone("footer"),this._hideContentZoneIfEmpty("footer")}})}},{key:"variant",get:function(){return this._variant||Bl.DEFAULT},set:function(t){var e;t=Ua.string(t).toLowerCase(),this._variant=Ba.enumeration(Bl)(t)&&t||Bl.DEFAULT,this._reflectAttribute("variant",this._variant),this._insertTypeIcon(),(e=this.classList).remove.apply(e,zl),this._toggleFlyout(),this._variant===Bl._COACHMARK?(this.setAttribute("role","dialog"),this._toggleCoachMark(!0)):(this._toggleCoachMark(!1),this._variant===Bl.DEFAULT?this.hasAttribute("role")||this.setAttribute("role","dialog"):(this.classList.add("_coral-Dialog--".concat(this._variant)),this.setAttribute("role","alertdialog")))}},{key:"closable",get:function(){return this._closable||Ul.OFF},set:function(t){t=Ua.string(t).toLowerCase(),this._closable=Ba.enumeration(Ul)(t)&&t||Ul.OFF,this._reflectAttribute("closable",this._closable),this._elements.closeButton.style.display=this._closable===Ul.ON?"block":"none"}},{key:"target",get:function(){return m(l(i.prototype),"target",this)},set:function(t){g(l(i.prototype),"target",t,this,!0);var e=this._getTarget();e&&"CORAL-COACHMARK"===e.tagName&&this.setAttribute("variant",Bl._COACHMARK)}},{key:"open",get:function(){return m(l(i.prototype),"open",this)},set:function(t){g(l(i.prototype),"open",t,this,!0);var e=this._getTarget();if(e){var n=e.getAttribute("is");"coral-button"!==n&&"coral-anchorbutton"!==n||e.classList.toggle("is-selected",this.open)}}},{key:"icon",get:function(){return this._icon||""},set:function(t){this._icon=Ua.string(t)}},{key:"_contentZones",get:function(){return{"coral-popover-header":"header","coral-popover-content":"content","coral-popover-footer":"footer"}}}],[{key:"variant",get:function(){return Bl}},{key:"closable",get:function(){return Ul}},{key:"observedAttributes",get:function(){return m(l(i),"observedAttributes",this).concat(["closable","variant"])}}]),i}(Cl),Kl=["coral-Rule","coral-Rule--subsection2"],Gl=function(t){s(i,t);var e=d(i);function i(){return a(this,i),e.apply(this,arguments)}return r(i,[{key:"connectedCallback",value:function(){var t;(t=this.classList).add.apply(t,Kl)}}]),i}(ho(HTMLElement));da.extend(ka,{"coral-component-popover":{"en-US":{Close:"Close"},"de-DE":{Close:"SchlieÃen"},"fr-FR":{Close:"Fermer"},"it-IT":{Close:"Chiudi"},"ja-JP":{Close:"éãã"},"es-ES":{Close:"Cerrar"},"ko-KR":{Close:"ë«ê¸°"},"zh-CN":{Close:"å³é­"},"zh-TW":{Close:"éé"},"pt-BR":{Close:"Fechar"},"nl-NL":{Close:"Sluiten"},"da-DK":{Close:"Luk"},"fi-FI":{Close:"Sulje"},"nb-NO":{Close:"Lukk"},"sv-SE":{Close:"StÃ¤ng"},"cs-CZ":{Close:"ZavÅÃ­t"},"pl-PL":{Close:"Zamknij"},"ru-RU":{Close:"ÐÐ°ÐºÑÑÑÑ"},"tr-TR":{Close:"Kapat"}}}),da._define("coral-popover-separator",Gl),da._define("coral-popover",Wl),Wl.Header=function(){return document.createElement("coral-popover-header")},Wl.Content=function(){return document.createElement("coral-popover-content")},Wl.Footer=function(){return document.createElement("coral-popover-footer")},Wl.Separator=Gl;var Zl=function(t){var e=document.createDocumentFragment(),i=t=void 0===t?{}:t,n=(i=t).commons.getUID(),a=i.commons.getUID();t=i;var o=document.createTextNode("\n");e.appendChild(o);var r=this.button=document.createElement("button","coral-button");r.setAttribute("tracking","off"),r.setAttribute("variant","_custom"),r.setAttribute("iconposition","right"),r.setAttribute("handle","button"),r.setAttribute("type","button"),r.setAttribute("is","coral-button"),r.setAttribute("aria-haspopup","listbox"),r.id=n,r.setAttribute("aria-controls",a),r.setAttribute("aria-expanded","false"),r.className+=" _coral-FieldButton _coral-Dropdown-trigger";var s=document.createTextNode("\n  ");r.appendChild(s);var l=this.label=document.createElement("coral-button-label");l.className+=" _coral-Dropdown-label",l.setAttribute("handle","label"),l.id=t.commons.getUID(),l.textContent="â",r.appendChild(l);var c=document.createTextNode("\n  ");r.appendChild(c);var u=this.invalidIcon=document.createElement("coral-icon");u.setAttribute("icon","alert"),u.setAttribute("hidden",""),u.setAttribute("handle","invalidIcon"),u.className+=" _coral-Dropdown-invalidIcon",u.setAttribute("alt",t.i18n.get("invalid")),u.id=t.commons.getUID(),r.appendChild(u);var h=document.createTextNode("\n");r.appendChild(h),e.appendChild(r);var d=document.createTextNode("\n");e.appendChild(d),i=t,this.button._elements.label=this.label,this.button.insertAdjacentHTML("beforeend",i.Icon._renderSVG("spectrum-css-icon-ChevronDownMedium",["_coral-Dropdown-icon","_coral-UIIcon-ChevronDownMedium"])),t=i;var p=document.createTextNode("\n");e.appendChild(p);var m=this.overlay=document.createElement("coral-popover");m.setAttribute("withinoffset","0"),m.setAttribute("tracking","off"),m.className+=" _coral-Select-overlay",m.setAttribute("smart",""),m.id=t.commons.getUID(),m.setAttribute("handle","overlay"),m.setAttribute("placement","bottom"),m.setAttribute("focusonshow","coral-selectlist"),m.setAttribute("role","presentation");var f=document.createTextNode("\n  ");m.appendChild(f);t=i=t;var g=document.createTextNode("\n  ");m.appendChild(g);var v=this.list=document.createElement("coral-selectlist");v.setAttribute("tracking","off"),v.setAttribute("style","max-height:192px"),v.setAttribute("handle","list"),v.setAttribute("role","listbox"),v.id=a,m.appendChild(v);var _=document.createTextNode("\n");m.appendChild(_),e.appendChild(m);var b=document.createTextNode("\n");e.appendChild(b);var y=this.input=document.createElement("input");y.setAttribute("handle","input"),y.setAttribute("type","hidden"),e.appendChild(y);var C=document.createTextNode("\n");e.appendChild(C);var A=this.nativeSelect=document.createElement("select");A.setAttribute("handle","nativeSelect"),A.className+=" _coral-Dropdown-select",A.setAttribute("tabindex","-1"),e.appendChild(A);var k=document.createTextNode("\n");e.appendChild(k);var w=this.taglist=document.createElement("coral-taglist");w.setAttribute("tracking","off"),w.setAttribute("handle","taglist"),w.className+=" _coral-Dropdown-tagList",e.appendChild(w);var x=document.createTextNode("\n");return e.appendChild(x),e},Xl={DEFAULT:"default",QUIET:"quiet"},Ql=null!==navigator.userAgent.match(/iPhone|iPad|iPod|Android/i),Yl=function(t){var e=t.getAttribute("value");return null!==e?e:t.textContent.replace(/\s{2,}/g," ").trim()},Jl=function(t,e){return t.filter((function(t){return!e.some((function(e){return t===e}))}))},tc=function(t){s(i,t);var e=d(i);function i(){var t;a(this,i),(t=e.call(this))._elements={},Zl.call(t._elements,{commons:da,Icon:Uo,i18n:wa});var n={"global:click":"_onGlobalClick","global:touchstart":"_onGlobalClick","coral-collection:add coral-taglist":"_onInternalEvent","coral-collection:remove coral-taglist":"_onInternalEvent","coral-select-item:_valuechanged coral-select-item":"_onItemValueChange","coral-select-item:_contentchanged coral-select-item":"_onItemContentChange","coral-select-item:_disabledchanged coral-select-item":"_onItemDisabledChange","coral-select-item:_selectedchanged coral-select-item":"_onItemSelectedChange","change coral-taglist":"_onTagListChange","change select":"_onNativeSelectChange","click select":"_onNativeSelectClick","click > ._coral-Dropdown-trigger":"_onButtonClick","key:space > ._coral-Dropdown-trigger":"_onSpaceKey","key:enter > ._coral-Dropdown-trigger":"_onSpaceKey","key:return > ._coral-Dropdown-trigger":"_onSpaceKey","key:down > ._coral-Dropdown-trigger":"_onSpaceKey"},o=t._elements.overlay.id;return n["global:capture:coral-collection:add #".concat(o," coral-selectlist")]="_onSelectListItemAdd",n["global:capture:coral-collection:remove #".concat(o," coral-selectlist")]="_onInternalEvent",n["global:capture:coral-selectlist:beforechange #".concat(o)]="_onSelectListBeforeChange",n["global:capture:coral-selectlist:change #".concat(o)]="_onSelectListChange",n["global:capture:coral-selectlist:scrollbottom #".concat(o)]="_onSelectListScrollBottom",n["global:capture:coral-overlay:close #".concat(o)]="_onOverlayToggle",n["global:capture:coral-overlay:open #".concat(o)]="_onOverlayToggle",n["global:capture:coral-overlay:positioned #".concat(o)]="_onOverlayPositioned",n["global:capture:coral-overlay:beforeopen #".concat(o)]="_onBeforeOpen",n["global:capture:coral-overlay:beforeclose #".concat(o)]="_onInternalEvent",n["global:keypress #".concat(o)]="_onOverlayKeyPress",t._delegateEvents(da.extend(t._events,n)),t._labellableElement=t._elements.button,t._bulkSelectionChange=!1,t._useNativeInput=Ql,t._elements.taglist.reset=function(){},t._initialValues=[],t.items._startHandlingItems(),t}return r(i,[{key:"_setName",value:function(t){this.multiple?(this._elements.input.name="",this._elements.taglist.setAttribute("name",t)):(this._elements.taglist.setAttribute("name",""),this._elements.input.name=t)}},{key:"_showOptions",value:function(t){var e,i,n,a=this;if(t){var o=this._elements.list.scrollHeight,r=this._elements.list.clientHeight,s=this._elements.list.scrollTop,l=this._elements.list._elements.loadIndicator;if(l&&l.parentNode){o-=(i=(e=l).offsetHeight,n=getComputedStyle(e),i+=parseInt(n.marginTop,10)+parseInt(n.marginBottom,10))}if(s+r<o-30)return}this._useNativeInput||(this._elements.overlay.open||(this._elements.overlay.open=!0),requestAnimationFrame((function(){a._elements.overlay._onAnimate(),a._elements.overlay.reposition()})));var c=this.trigger("coral-select:showitems",{start:this.items.length});this._useNativeInput||(this._elements.list.loading=c.defaultPrevented),this._elements.button.setAttribute("aria-expanded",!0)}},{key:"_hideOptions",value:function(){this.multiple||(this._elements.overlay.open=!1,this.trigger("coral-select:hideitems")),this._elements.button.setAttribute("aria-expanded",!1)}},{key:"_onGlobalClick",value:function(t){if(this._elements.overlay.open){var e=this._elements.button.contains(t.target),i=this._elements.overlay.contains(t.target);e||i||this._hideOptions()}}},{key:"_onSelectListItemAdd",value:function(t){t.stopImmediatePropagation(),this.loading=!1,this._elements.list.style.height="";var e=window.getComputedStyle(this._elements.list),i=parseInt(e.height,10);i<parseInt(e.maxHeight,10)&&(this._elements.list.style.height="".concat(i-1,"px"))}},{key:"_onBeforeOpen",value:function(t){t.stopImmediatePropagation(),this.readOnly&&t.preventDefault()}},{key:"_onInternalEvent",value:function(t){t.stopImmediatePropagation()}},{key:"_onItemAdded",value:function(t){var e=this._elements.list,i=t._selectListItem||new Ur.Item;e.appendChild(i),i.set({value:t.value,content:{innerHTML:t.innerHTML},disabled:t.disabled,selected:t.selected,trackingElement:t.trackingElement},!0);var n=t._nativeOption||new Option;this._elements.nativeSelect.appendChild(n),-1!==this._initialValues.indexOf(t.value)&&n.setAttribute("selected","selected"),n.selected=t.selected,n.value=t.value,n.disabled=t.disabled,n.innerHTML=t.innerHTML,this.multiple?t.selected&&this._addTagToTagList(t):t.selected&&(this._elements.input.value=t.value),t._selectListItem=i,t._nativeOption=n,i._selectItem=t,n._selectItem=t}},{key:"_onItemRemoved",value:function(t){t._selectListItem&&(t._selectListItem.remove(),t._selectListItem._selectItem=void 0,t._selectListItem=void 0),t._nativeOption&&(this._elements.nativeSelect.removeChild(t._nativeOption),t._nativeOption._selectItem=void 0,t._nativeOption=void 0),this._removeTagFromTagList(t,!0)}},{key:"_onItemSelected",value:function(t){t._selectListItem&&t._selectListItem.parentNode||this._onItemAdded(t),t._selectListItem.selected=!0,t._nativeOption.selected=!0,this.multiple?this._addTagToTagList(t):this._elements.input.value=t.value}},{key:"_onItemDeselected",value:function(t){t._selectListItem&&t._selectListItem.parentNode||this._onItemAdded(t),t._selectListItem.selected=!1,t._nativeOption.selected=!1,this.multiple&&this._removeTagFromTagList(t)}},{key:"_onSelectListBeforeChange",value:function(t){t.stopImmediatePropagation(),!this.multiple&&t.detail.item.selected&&(t.preventDefault(),this._elements.overlay.open=!1)}},{key:"_onSelectListChange",value:function(t){if(t.stopImmediatePropagation(),!this._bulkSelectionChange){var e=t.detail.oldSelection||[];e=Array.isArray(e)?e:[e];var i=t.detail.selection||[];if(i=Array.isArray(i)?i:[i],t.detail.oldSelection!==t.detail.selection){this._bulkSelectionChange=!0;var n=Jl(e,i);n.forEach((function(t){t._selectItem&&t._selectItem.removeAttribute("selected")}));var a=Jl(i,e);a.forEach((function(t){t._selectItem&&t._selectItem.setAttribute("selected","")})),this._bulkSelectionChange=!1,this._elements.overlay.open&&(this._hideOptions(),(a.length||n.length)&&this.trigger("change"))}else this._elements.overlay.open&&this._hideOptions();this.multiple||this._trackEvent("change","coral-select-item",t,this.selectedItem)}}},{key:"_onTagListChange",value:function(t){if(t.stopImmediatePropagation(),!this._bulkSelectionChange){this._bulkSelectionChange=!0;var e,i=t.target.values;this.items._getAllSelected().forEach((function(t){e=Yl(t),t[-1!==i.indexOf(e)?"setAttribute":"removeAttribute"]("selected","")})),this._bulkSelectionChange=!1,i.length||this._elements.button.focus(),this.trigger("change")}}},{key:"_addTagToTagList",value:function(t){t._tag=t._tag||new yr,t._tag.set({value:t.value,label:{innerHTML:t.innerHTML}},!0),this._elements.taglist.items.add(t._tag)}},{key:"_removeTagFromTagList",value:function(t,e){t._tag&&(t._tag.remove(),t._tag=e?void 0:t._tag)}},{key:"_onSelectListScrollBottom",value:function(t){t.stopImmediatePropagation(),this._elements.overlay.open&&this._showOptions()}},{key:"_onButtonClick",value:function(t){t.preventDefault(),this.disabled||this.readOnly||this._useNativeInput||(this._elements.overlay.classList.contains("is-open")?this._hideOptions():this._showOptions(!0))}},{key:"_onNativeSelectClick",value:function(){this._showOptions(!1)}},{key:"_onOverlayKeyPress",value:function(t){this._elements.list._onKeyPress(t)}},{key:"_onSpaceKey",value:function(t){this.disabled||this.readOnly||(t.preventDefault(),this._useNativeInput?this._elements.nativeSelect.dispatchEvent(new MouseEvent("mousedown")):this._elements.overlay.open&&t.keyCode!==Ra.keyToCode("space")||this._elements.button.click())}},{key:"_onOverlayToggle",value:function(t){t.stopImmediatePropagation();var e=t.type.split(":").pop();this.trigger("coral-select:_overlay".concat(e)),this._elements.button.classList.toggle("is-selected",t.target.open),this._elements.button.setAttribute("aria-expanded",t.target.open),t.target.open||this.classList.remove("is-openAbove","is-openBelow")}},{key:"_onOverlayPositioned",value:function(t){t.stopImmediatePropagation(),this._elements.overlay.open&&(this._elements.overlay.style.width="".concat(this.offsetWidth,"px"))}},{key:"_onNativeSelectChange",value:function(t){if(t.stopImmediatePropagation(),!this._bulkSelectionChange){this._bulkSelectionChange=!0;var e=this.selectedItems.map((function(t){return t._nativeOption})),i=Array.prototype.slice.call(t.target.querySelectorAll(":checked"));Jl(e,i).forEach((function(t){t._selectItem.selected=!1})),Jl(i,e).forEach((function(t){t._selectItem.selected=!0})),this._bulkSelectionChange=!1,this.multiple||(this._elements.button.focus(),this.trigger("coral-select:hideitems")),this.trigger("change")}}},{key:"_onItemContentChange",value:function(t){t.stopImmediatePropagation();var e=t.target;if(e._selectListItem){var i=new Ur.Item.Content;i.innerHTML=e.innerHTML,e._selectListItem.content=i}e._nativeOption&&(e._nativeOption.innerHTML=e.innerHTML),e._tag&&e._tag.label&&(e._tag.label.innerHTML=e.innerHTML),this._syncSelectedItemPlaceholder()}},{key:"_syncSelectedItemPlaceholder",value:function(){this.placeholder=this.getAttribute("placeholder"),this.selectedItem&&!this.multiple&&(this._elements.label.classList.remove("is-placeholder"),this._elements.label.innerHTML=this.selectedItem.innerHTML)}},{key:"_onItemValueChange",value:function(t){t.stopImmediatePropagation();var e=t.target;e._selectListItem&&(e._selectListItem.value=e.value),e._nativeOption&&(e._nativeOption.value=e.value),e._tag&&(e._tag.value=e.value)}},{key:"_onItemDisabledChange",value:function(t){t.stopImmediatePropagation();var e=t.target;e._selectListItem&&(e._selectListItem.disabled=e.disabled),e._nativeOption&&(e._nativeOption.disabled=e.disabled)}},{key:"_validateInitialState",value:function(t){for(var e,i,n=0,a=t.length;n<a;n++)e=t[n],-1!==(i=this._initialValues.indexOf(e.value))&&this._initialValues.splice(i,1)}},{key:"_onCollectionChange",value:function(t,e){this._validateInitialState(e),this._setStateFromDOM()}},{key:"_updateLabel",value:function(){this._syncSelectedItemPlaceholder()}},{key:"_setStateFromDOM",value:function(){if(!this.hasAttribute("multiple")){this.items._deselectAllExceptLast();var t=this.items._getFirstSelected();if(t)this._elements.input.value=Yl(t);else if(this._elements.input.value="",""===Ua.string(this.getAttribute("placeholder"))){var e=this.items._getFirstSelectable();e&&(e.setAttribute("selected",""),this._elements.input.value=Yl(e))}}this._updateLabel()}},{key:"_onItemSelectedChange",value:function(t){t.stopImmediatePropagation();var e=t.target;this._bulkSelectionChange=!0,e.selected?(this._onItemSelected(e),this.multiple&&this._trackEvent("select","coral-select-item",t,e),this.hasAttribute("multiple")||this.items._deselectAllExcept(e)):(this._onItemDeselected(e),this.multiple&&this._trackEvent("deselect","coral-select-item",t,e)),this._bulkSelectionChange=!1,this._updateLabel()}},{key:"clear",value:function(){this.value=""}},{key:"focus",value:function(){this.contains(document.activeElement)||this._elements.button.focus()}},{key:"reset",value:function(){this.values=this._initialValues}},{key:"connectedCallback",value:function(){m(l(i.prototype),"connectedCallback",this).call(this);var t=this._elements.overlay;t.removeAttribute("open"),t._parent&&t._parent.appendChild(t)}},{key:"render",value:function(){var t=this;m(l(i.prototype),"render",this).call(this),this.classList.add("_coral-Dropdown"),this._variant||(this.variant=Xl.DEFAULT),this.classList.toggle("".concat("_coral-Dropdown","--native"),this._useNativeInput),!this._useNativeInput&&this.contains(this._elements.nativeSelect)&&this.removeChild(this._elements.nativeSelect),this._setStateFromDOM(),this.selectedItems.forEach((function(e){t._initialValues.push(Yl(e))}));for(var e=this.querySelectorAll("[handle]"),n=0;n<e.length;++n){var a=e[n];a.parentNode===this&&this.removeChild(a)}var o=document.createDocumentFragment();o.appendChild(this._elements.button),o.appendChild(this._elements.input),o.appendChild(this._elements.nativeSelect),o.appendChild(this._elements.taglist),o.appendChild(this._elements.overlay),this._elements.overlay.target=this._elements.button,this._elements.overlay.returnFocusTo(this._elements.button),this.appendChild(o)}},{key:"disconnectedCallback",value:function(){m(l(i.prototype),"disconnectedCallback",this).call(this);var t=this._elements.overlay;this.contains(t)||(t._parent=t._repositioned?document.body:this,t.remove())}},{key:"overlay",get:function(){return this._elements.overlay}},{key:"items",get:function(){return this._items||(this._items=new sr({host:this,itemTagName:"coral-select-item",onItemAdded:this._onItemAdded,onItemRemoved:this._onItemRemoved,onCollectionChange:this._onCollectionChange})),this._items}},{key:"multiple",get:function(){return this._multiple||!1},set:function(t){var e=this;this._multiple=Ua.booleanAttr(t),this._reflectAttribute("multiple",this._multiple),this._multiple?this.appendChild(this._elements.taglist):this.removeChild(this._elements.taglist),this._nativeInput&&this.removeChild(this._elements.nativeSelect),this._elements.nativeSelect.multiple=this._multiple,this._elements.nativeSelect.selectedIndex=-1,this._nativeInput&&(this._multiple?this._elements.nativeSelect.parentNode&&this.insertBefore(this._elements.nativeSelect,this._elements.taglist):this.appendChild(this._elements.nativeSelect)),this._elements.list.multiple=this._multiple,this._setName(this.getAttribute("name")||""),this._setStateFromDOM(),this.items.getAll().forEach((function(t){e._multiple&&t.hasAttribute("selected")?e._addTagToTagList(t):(e._removeTagFromTagList(t),t.hasAttribute("selected")&&(e._elements.input.value=Yl(t)))}))}},{key:"placeholder",get:function(){return this._placeholder||""},set:function(t){if(this._placeholder=Ua.string(t),this._reflectAttribute("placeholder",this._placeholder),!this._placeholder||!this.hasAttribute("multiple")&&this.selectedItem){if(this.hasAttribute("multiple"))this._elements.label.classList.add("is-placeholder"),this._elements.label.textContent=wa.get("Select");else if(!this.selectedItem){this._elements.input.value="";var e=this.items._getFirstSelectable();this._elements.label.classList.remove("is-placeholder"),e?(e.setAttribute("selected",""),this._elements.label.innerHTML=e.innerHTML):this._elements.label.textContent=""}}else this._elements.label.classList.add("is-placeholder"),this._elements.label.textContent=this._placeholder}},{key:"name",get:function(){return this.multiple?this._elements.taglist.name:this._elements.input.name},set:function(t){this._setName(t),this._reflectAttribute("name",this.name)}},{key:"value",get:function(){return this.multiple?this._elements.taglist.value:this._elements.input.value},set:function(t){this.values=[t]}},{key:"values",get:function(){return this.multiple?this._elements.taglist.values:this.selectedItem?[this._elements.input.value]:[]},set:function(t){if(Array.isArray(t)){!this.multiple&&t.length>1&&(t=[t[0]]);var e,i=this.items.getAll();if(this.multiple)i.forEach((function(i){e=Yl(i),i[-1!==t.indexOf(e)?"setAttribute":"removeAttribute"]("selected","")}));else{var n,a=t[0]||"";i.forEach((function(t){if(!n&&(e=Yl(t))===a)return t.setAttribute("selected",""),void(n=t);t.removeAttribute("selected")})),n||this._setStateFromDOM()}}}},{key:"disabled",get:function(){return this._disabled||!1},set:function(t){this._disabled=Ua.booleanAttr(t),this._reflectAttribute("disabled",this._disabled),this[this._disabled?"setAttribute":"removeAttribute"]("aria-disabled",this._disabled),this.classList.toggle("is-disabled",this._disabled),this._elements.button.disabled=this._disabled,this._elements.input.disabled=this._disabled,this._elements.taglist.disabled=this._disabled}},{key:"invalid",get:function(){return m(l(i.prototype),"invalid",this)},set:function(t){g(l(i.prototype),"invalid",t,this,!0),this.classList.toggle("is-invalid",this.invalid),this._elements.button.classList.toggle("is-invalid",this.invalid),this._elements.invalidIcon.hidden=!this.invalid}},{key:"required",get:function(){return this._required||!1},set:function(t){this._required=Ua.booleanAttr(t),this._reflectAttribute("required",this._required),this._elements.input.required=this._required,this._elements.taglist.required=this._required}},{key:"readOnly",get:function(){return this._readOnly||!1},set:function(t){this._readOnly=Ua.booleanAttr(t),this._reflectAttribute("readonly",this._readOnly),this._elements.input.readOnly=this._readOnly,this._elements.taglist.readOnly=this._readOnly,this._elements.taglist.disabled=this._readOnly}},{key:"labelled",get:function(){return m(l(i.prototype),"labelled",this)},set:function(t){g(l(i.prototype),"labelled",t,this,!0),this.labelled?(this.labelledBy||this._elements.button.setAttribute("aria-labelledby","".concat(this._elements.button.id," ").concat(this._elements.label.id," ").concat(this.invalid?this._elements.invalidIcon.id:"")),this._elements.nativeSelect.setAttribute("aria-label",t)):(this._elements.button.removeAttribute("aria-label"),this._elements.nativeSelect.removeAttribute("aria-label"),this.labelledBy||this._elements.button.removeAttribute("aria-labelledby")),this._elements.taglist.labelled=t}},{key:"labelledBy",get:function(){return this._labelledBy},set:function(t){g(l(i.prototype),"labelledBy",t,this,!0),this._labelledBy=m(l(i.prototype),"labelledBy",this),this._labelledBy?(this._elements.button.setAttribute("aria-labelledby","".concat(this._labelledBy," ").concat(this._elements.label.id," ").concat(this.invalid?this._elements.invalidIcon.id:"")),this._elements.nativeSelect.setAttribute("aria-labelledby",this._labelledBy)):(this._elements.nativeSelect.removeAttribute("aria-labelledby"),this.labelled&&(this.labelled=this.labelled)),this._elements.taglist.labelledBy=this._labelledBy}},{key:"selectedItem",get:function(){return this.hasAttribute("multiple")?this.items._getFirstSelected():this.items._getLastSelected()}},{key:"selectedItems",get:function(){if(this.hasAttribute("multiple"))return this.items._getAllSelected();var t=this.selectedItem;return t?[t]:[]}},{key:"loading",get:function(){return this._elements.list.loading},set:function(t){this._elements.list.loading=t}},{key:"variant",get:function(){return this._variant||Xl.DEFAULT},set:function(t){t=Ua.string(t).toLowerCase(),this._variant=Ba.enumeration(Xl)(t)&&t||Xl.DEFAULT,this._reflectAttribute("variant",this._variant),this._elements.button.classList.toggle("_coral-FieldButton--quiet",this._variant===Xl.QUIET)}}],[{key:"variant",get:function(){return Xl}},{key:"observedAttributes",get:function(){return m(l(i),"observedAttributes",this).concat(["variant","multiple","placeholder","loading"])}}]),i}(mo(ho(HTMLElement))),ec=function(t){s(i,t);var e=d(i);function i(){var t;return a(this,i),(t=e.call(this))._observer=new MutationObserver(t._handleMutation.bind(u(t))),t._observer.observe(u(t),{characterData:!0,childList:!0,subtree:!0}),t}return r(i,[{key:"_handleMutation",value:function(){this.trigger("coral-select-item:_contentchanged",{content:this.textContent})}},{key:"content",get:function(){return this},set:function(t){if("object"===n(t))for(var e in t)this[e]=t[e]}},{key:"disabled",get:function(){return this._disabled||!1},set:function(t){this._disabled=Ua.booleanAttr(t),this._reflectAttribute("disabled",this._disabled),this.trigger("coral-select-item:_disabledchanged")}},{key:"selected",get:function(){return this._selected||!1},set:function(t){this._selected=Ua.booleanAttr(t),this._reflectAttribute("selected",this._selected),this.trigger("coral-select-item:_selectedchanged")}},{key:"value",get:function(){var t=this._value;return void 0===this._value&&(t=null===this.getAttribute("value")?this.textContent.replace(/\s{2,}/g," ").trim():this.getAttribute("value")),t},set:function(t){this._value=Ua.string(t),this._reflectAttribute("value",this._value),this.trigger("coral-select-item:_valuechanged")}},{key:"trackingElement",get:function(){return void 0===this._trackingElement?this.value||this.textContent.replace(/\s{2,}/g," ").trim():this._trackingElement},set:function(t){g(l(i.prototype),"trackingElement",t,this,!0)}}],[{key:"observedAttributes",get:function(){return m(l(i),"observedAttributes",this).concat(["selected","disabled","value"])}}]),i}(ho(HTMLElement));da.extend(ka,{"coral-component-select":{"en-US":{Select:"Select",invalid:"invalid"},"fr-FR":{Select:"SÃ©lectionner",invalid:"Non valide"},"de-DE":{Select:"AuswÃ¤hlen",invalid:"UngÃ¼ltig"},"it-IT":{Select:"Seleziona",invalid:"Non valido"},"es-ES":{Select:"Seleccionar",invalid:"No vÃ¡lido"},"pt-BR":{Select:"Selecionar",invalid:"InvÃ¡lido"},"ja-JP":{Select:"é¸æ",invalid:"ç¡å¹ã§ã"},"ko-KR":{Select:"ì í",invalid:"ì¬ë°ë¥´ì§ ìì"},"zh-CN":{Select:"éæ©",invalid:"æ æ"},"zh-TW":{Select:"é¸å",invalid:"ç¡æ"},"nl-NL":{Select:"Selecteren",invalid:"Ongeldig"},"da-DK":{Select:"VÃ¦lg",invalid:"Ugyldig"},"fi-FI":{Select:"Valitse",invalid:"Virheellinen"},"nb-NO":{Select:"Velg",invalid:"Ugyldig"},"sv-SE":{Select:"VÃ¤lj",invalid:"Ogiltig"},"cs-CZ":{Select:"Vybrat",invalid:"NeplatnÃ½"},"pl-PL":{Select:"Wybierz",invalid:"NieprawidÅowy"},"ru-RU":{Select:"ÐÑÐ±ÐµÑÐ¸ÑÐµ",invalid:"ÐÐµÐ´Ð¾Ð¿ÑÑÑÐ¸Ð¼ÑÐ¹"},"tr-TR":{Select:"SeÃ§",invalid:"GeÃ§ersiz"}}}),da._define("coral-select-item",ec),da._define("coral-select",tc),tc.Item=ec;var ic=function(t){var e=document.createDocumentFragment(),i=this.input=document.createElement("input");i.setAttribute("type","radio"),i.setAttribute("handle","input"),i.className+=" _coral-Radio-input",i.id=t.commons.getUID(),e.appendChild(i);var n=document.createTextNode("\n");e.appendChild(n);var a=this.checkmark=document.createElement("span");a.className+=" _coral-Radio-button",a.setAttribute("handle","checkmark"),e.appendChild(a);var o=document.createTextNode("\n");e.appendChild(o);var r=this.labelWrapper=document.createElement("label");r.className+=" _coral-Radio-label",r.setAttribute("handle","labelWrapper"),r.setAttribute("for",this.input.id);var s=document.createTextNode("\n  ");r.appendChild(s);var l=this.screenReaderOnly=document.createElement("span");l.className+=" u-coral-screenReaderOnly",l.setAttribute("handle","screenReaderOnly"),l.textContent=t.i18n.get("Select"),r.appendChild(l);var c=document.createTextNode("\n");r.appendChild(c),e.appendChild(r);var u=document.createTextNode("\n");return e.appendChild(u),e},nc=function(t){s(i,t);var e=d(i);function i(){var t;return a(this,i),(t=e.call(this))._delegateEvents(da.extend(t._events,{click:"_onClick",mousedown:"_onMouseDown"})),t._elements={label:t.querySelector("coral-radio-label")||document.createElement("coral-radio-label")},ic.call(t._elements,{commons:da,i18n:wa}),t._labellableElement=t._elements.input,t._observer=new MutationObserver(t._hideLabelIfEmpty.bind(u(t))),t._observer.observe(t._elements.labelWrapper,{childList:!0,characterData:!0,subtree:!0}),t}return r(i,[{key:"_syncRelatedRadios",value:function(){if(null!==this.parentNode&&this.name&&this.checked)for(var t=document.querySelectorAll("".concat(this.tagName,"[name=").concat(JSON.stringify(this.name),"]")),e=t.length,i=0;i<e;i++)t[i]!==this&&t[i].removeAttribute("checked")}},{key:"_hideLabelIfEmpty",value:function(){var t=this._elements.label,e=!(0===t.children.length&&""===t.textContent.replace(/\s*/g,""));this._elements.labelWrapper.style.margin=e?"":"0",this._elements.screenReaderOnly.hidden=e||this.labelled}},{key:"_onClick",value:function(t){this.checked||(t.target===this&&(this.checked=!0,this.trigger("change")),this._trackEvent("checked","coral-radio",t))}},{key:"_onMouseDown",value:function(){var t=this._elements.input;requestAnimationFrame((function(){t!==document.activeElement&&t.focus()}))}},{key:"clear",value:function(){this.checked=!1}},{key:"reset",value:function(){this.checked=this._initialCheckedState}},{key:"render",value:function(){m(l(i.prototype),"render",this).call(this),this.classList.add("_coral-Radio");var t=document.createDocumentFragment(),e=["input","checkmark","labelWrapper"];t.appendChild(this._elements.input),t.appendChild(this._elements.checkmark),t.appendChild(this._elements.labelWrapper);var n=this._elements.label;for(n&&n.parentNode&&n.parentNode.removeChild(n);this.firstChild;){var a=this.firstChild;a.nodeType===Node.TEXT_NODE||a.nodeType===Node.ELEMENT_NODE&&-1===e.indexOf(a.getAttribute("handle"))?n.appendChild(a):this.removeChild(a)}this.appendChild(t),this.label=n,this._initialCheckedState=this.checked,this._syncRelatedRadios(),this._hideLabelIfEmpty()}},{key:"checked",get:function(){return this._checked||!1},set:function(t){this._checked=Ua.booleanAttr(t),this._reflectAttribute("checked",this._checked),this._elements.input.checked=this._checked,this._syncRelatedRadios()}},{key:"label",get:function(){return this._getContentZone(this._elements.label)},set:function(t){this._setContentZone("label",t,{handle:"label",tagName:"coral-radio-label",insert:function(t){this._elements.labelWrapper.appendChild(t)}})}},{key:"name",get:function(){return this._elements.input.name},set:function(t){this._reflectAttribute("name",t),this._elements.input.name=t}},{key:"value",get:function(){return this._elements.input.value||"on"},set:function(t){this._elements.input.value=t}},{key:"disabled",get:function(){return this._disabled||!1},set:function(t){this._disabled=Ua.booleanAttr(t),this._reflectAttribute("disabled",this._disabled),this[this._disabled?"setAttribute":"removeAttribute"]("aria-disabled",this._disabled),this.classList.toggle("is-disabled",this._disabled),this._elements.input.disabled=this._disabled}},{key:"required",get:function(){return this._required||!1},set:function(t){this._required=Ua.booleanAttr(t),this._reflectAttribute("required",this._required),this._elements.input.required=this._required}},{key:"readOnly",get:function(){return this._readOnly||!1},set:function(t){this._readOnly=Ua.booleanAttr(t),this._reflectAttribute("readonly",this._readOnly),this.classList.toggle("is-readOnly",this._readOnly),this._elements.input.tabIndex=this._readOnly?-1:0}},{key:"labelled",get:function(){return m(l(i.prototype),"labelled",this)},set:function(t){g(l(i.prototype),"labelled",t,this,!0),this._hideLabelIfEmpty()}},{key:"trackingElement",get:function(){return void 0===this._trackingElement?(this.name?"".concat(this.name,"=").concat(this.value):"")||(this.label||this).textContent.replace(/\s{2,}/g," ").trim():this._trackingElement},set:function(t){g(l(i.prototype),"trackingElement",t,this,!0)}},{key:"_componentTargetProperty",get:function(){return"checked"}},{key:"_eventTargetProperty",get:function(){return"checked"}},{key:"_contentZones",get:function(){return{"coral-radio-label":"label"}}}],[{key:"observedAttributes",get:function(){return m(l(i),"observedAttributes",this).concat(["checked"])}}]),i}(mo(ho(HTMLElement)));da.extend(ka,{"coral-component-radio":{"en-US":{Select:"Select"},"fr-FR":{Select:"SÃ©lectionner"},"de-DE":{Select:"AuswÃ¤hlen"},"it-IT":{Select:"Seleziona"},"es-ES":{Select:"Seleccionar"},"pt-BR":{Select:"Selecionar"},"ja-JP":{Select:"é¸æ"},"ko-KR":{Select:"ì í"},"zh-CN":{Select:"éæ©"},"zh-TW":{Select:"é¸å"},"nl-NL":{Select:"Selecteren"},"da-DK":{Select:"VÃ¦lg"},"fi-FI":{Select:"Valitse"},"nb-NO":{Select:"Velg"},"sv-SE":{Select:"VÃ¤lj"},"cs-CZ":{Select:"Vybrat"},"pl-PL":{Select:"Wybierz"},"ru-RU":{Select:"ÐÑÐ±ÐµÑÐ¸ÑÐµ"},"tr-TR":{Select:"SeÃ§"}}}),da._define("coral-radio",nc),nc.Label=function(){return document.createElement("coral-radio-label")};var ac={HORIZONTAL:"horizontal",VERTICAL:"vertical"},oc=function(t){return function(t){s(i,t);var e=d(i);function i(){return a(this,i),e.apply(this,arguments)}return r(i,[{key:"render",value:function(){m(l(i.prototype),"render",this).call(this),this.classList.add("coral-RadioGroup"),this.setAttribute("role","group"),this._orientation||(this.orientation=ac.HORIZONTAL)}},{key:"items",get:function(){return this._items||(this._items=new sr({itemTagName:this._itemTagName,host:this})),this._items}},{key:"orientation",get:function(){return this._orientation||ac.HORIZONTAL},set:function(t){t=Ua.string(t).toLowerCase(),this._orientation=Ba.enumeration(this.constructor.orientation)(t)&&t||ac.HORIZONTAL,this._reflectAttribute("orientation",this._orientation),this.classList.toggle("".concat("coral-RadioGroup","--vertical"),this._orientation===ac.VERTICAL)}},{key:"selectedItem",get:function(){return this.items._getFirstSelected("checked")}},{key:"_itemTagName",get:function(){return"coral-fieldgroup-item"}}],[{key:"orientation",get:function(){return ac}},{key:"observedAttributes",get:function(){return m(l(i),"observedAttributes",this).concat(["orientation"])}}]),i}(t)},rc={HORIZONTAL:"horizontal",VERTICAL:"vertical",LABELS_BELOW:"labelsbelow"},sc=function(t){s(i,t);var e=d(i);function i(){return a(this,i),e.apply(this,arguments)}return r(i,[{key:"orientation",get:function(){return m(l(i.prototype),"orientation",this)},set:function(t){g(l(i.prototype),"orientation",t,this,!0),this.classList.toggle("coral-RadioGroup--labelsBelow",this._orientation===rc.LABELS_BELOW)}},{key:"_itemTagName",get:function(){return"coral-radio"}}],[{key:"orientation",get:function(){return rc}}]),i}(oc(ho(HTMLElement)));da._define("coral-radiogroup",sc);var lc,cc=function(t){var e=document.createDocumentFragment(),i=t=void 0===t?{}:t;(i=t).uid=i.commons.getUID(),t=i;var n=document.createTextNode("\n");e.appendChild(n);var a=this.input=document.createElement("input","coral-textfield");a.setAttribute("is","coral-textfield"),a.setAttribute("handle","input"),a.setAttribute("type","number"),a.className+=" _coral-Stepper-input",a.id=t.uid,a.setAttribute("step","1"),e.appendChild(a);var o=document.createTextNode("\n");e.appendChild(o);var r=this.presentation=document.createElement("span");r.className+=" _coral-Stepper-buttons",r.setAttribute("role","presentation"),r.setAttribute("handle","presentation");var s=document.createTextNode("\n  ");r.appendChild(s);var l=this.stepUp=document.createElement("button","coral-button");l.setAttribute("variant","action"),l.className+=" _coral-Stepper-stepUp",l.setAttribute("type","button"),l.setAttribute("is","coral-button"),l.setAttribute("handle","stepUp"),l.setAttribute("title",t.i18n.get("Increment")),l.setAttribute("aria-label",t.i18n.get("Increment")),l.setAttribute("tabindex","-1"),l.setAttribute("aria-controls",t.uid);var c=document.createTextNode("\n    ");l.appendChild(c),i=t,this.stepUp.innerHTML=i.Icon._renderSVG("spectrum-css-icon-ChevronUpSmall",["_coral-Stepper-stepUpIcon","_coral-UIIcon-ChevronUpSmall"]),t=i;var u=document.createTextNode("\n  ");l.appendChild(u),r.appendChild(l);var h=document.createTextNode("\n  ");r.appendChild(h);var d=this.stepDown=document.createElement("button","coral-button");d.setAttribute("variant","action"),d.className+=" _coral-Stepper-stepDown",d.setAttribute("type","button"),d.setAttribute("is","coral-button"),d.setAttribute("handle","stepDown"),d.setAttribute("title",t.i18n.get("Decrement")),d.setAttribute("aria-label",t.i18n.get("Decrement")),d.setAttribute("tabindex","-1"),d.setAttribute("aria-controls",t.uid);var p=document.createTextNode("\n    ");d.appendChild(p),i=t,this.stepDown.innerHTML=i.Icon._renderSVG("spectrum-css-icon-ChevronDownSmall",["_coral-Stepper-stepDownIcon","_coral-UIIcon-ChevronDownSmall"]),t=i;var m=document.createTextNode("\n  ");d.appendChild(m),r.appendChild(d);var f=document.createTextNode("\n  ");r.appendChild(f);var g=this.liveregion=document.createElement("span");g.setAttribute("role","presentation"),g.setAttribute("handle","liveregion"),g.setAttribute("aria-live","assertive"),g.setAttribute("aria-atomic","true"),g.setAttribute("aria-relevant","additions text"),g.className+=" u-coral-screenReaderOnly",g.setAttribute("hidden",""),r.appendChild(g);var v=document.createTextNode("\n");r.appendChild(v),e.appendChild(r);var _=document.createTextNode("\n");return e.appendChild(_),e},uc=!1,hc=!1,dc=function(t){var e=t.toString();if(-1!==e.indexOf("e")){var i=0===e.indexOf("-"),n=parseInt(e.split("-")[i?2:1],10);return t.toFixed(n).toString()}return t.toString()},pc=function(t,e,i){var n,a=function(t,e,i){return"+"===t?e+i:"-"===t?e-i:"%"===t?e%i:void 0};if(e%1!=0||i%1!=0){var o=dc(e).split("."),r=dc(i).split("."),s=o[1]&&o[1].length||0,l=r[1]&&r[1].length||0,c=Math.pow(10,Math.max(s,l));n=a(t,e=Math.round(e*c),i=Math.round(i*c)),n/=c}else n=a(t,e,i);return n},mc=function(t){s(i,t);var e=d(i);function i(){var t;return a(this,i),(t=e.call(this))._delegateEvents(da.extend(t._events,{"key:up":"_onKeyUp","key:pageup":"_onKeyUp","key:down":"_onKeyDown","key:pagedown":"_onKeyDown","key:home":"_onKeyHome","key:end":"_onKeyEnd","touchstart [handle=stepUp], [handle=stepDown]":"_onTouchStart","pointerdown [handle=stepUp], [handle=stepDown]":"_onTouchStart","MSPointerDown [handle=stepUp], [handle=stepUp]":"_onTouchStart","MSPointerDown [handle=stepDown], [handle=stepDown]":"_onTouchStart","click [handle=stepUp]":"_onStepUpButtonClick","click [handle=stepDown]":"_onStepDownButtonClick",'mousewheel [handle="input"]':"_onInputMouseWheel",'DOMMouseScroll [handle="input"]':"_onInputMouseWheel","capture:focus":"_onFocus","capture:blur":"_onBlur"})),t._elements={},cc.call(t._elements,{i18n:wa,commons:da,Icon:Uo}),t._labellableElement=t._elements.input,t._min=t._max=null,t}return r(i,[{key:"reset",value:function(){this._elements.input.reset()}},{key:"clear",value:function(){this._elements.input.clear()}},{key:"stepUp",value:function(){var t=this.valueAsNumber,e=this._getActualStep();if(isNaN(t))this.value=null!==this.max?Math.min(e,this.max):e;else{var i=pc("+",t,e);this.value=null!==this.max?Math.min(i,this.max):i}}},{key:"stepDown",value:function(){var t=this.valueAsNumber,e=this._getActualStep();if(isNaN(t))this.value=null!==this.min?Math.max(-e,this.min):-e;else{var i=pc("-",t,e);this.value=null!==this.min?Math.max(i,this.min):i}}},{key:"_getActualStep",value:function(){return"any"===this.step?1:this.step}},{key:"_validateInputValue",value:function(){this.invalid=""!==this.value&&(isNaN(Number(this.value))||null!==this.max&&this.value>this.max||null!==this.min&&this.value<this.min||"any"!==this.step&&0!==pc("%",Number(this.value),this._getActualStep()))}},{key:"_setButtonState",value:function(){this._elements.stepUp.disabled=this.disabled||null!==this.max&&this.value>=this.max||this.readOnly,this._elements.stepDown.disabled=this.disabled||null!==this.min&&this.value<=this.min||this.readOnly}},{key:"_triggerChange",value:function(t,e){t!==e&&this.trigger("change")}},{key:"_onTouchStart",value:function(t){("touchstart"===t.type||"mouse"!==t.pointerType&&4!==t.pointerType)&&(uc=!0)}},{key:"_setFocusToInput",value:function(){uc||document.activeElement===this._elements.input||this._elements.input.focus(),uc=!1}},{key:"_onStepUpButtonClick",value:function(t){t.preventDefault();var e=this.value;hc="click"===t.type,this._setFocusToInput(),this.stepUp(),this._validateInputValue(),this._triggerChange(this.value,e)}},{key:"_onStepDownButtonClick",value:function(t){t.preventDefault();var e=this.value;hc="click"===t.type,this._setFocusToInput(),this.stepDown(),this._validateInputValue(),this._triggerChange(this.value,e)}},{key:"_onKeyHome",value:function(t){if(t.preventDefault(),!this.disabled&&!this.readOnly){if(null!==this.max){var e=this.value;hc=!0,this.value=this.max,this._triggerChange(this.value,e)}this._setFocusToInput()}}},{key:"_onKeyEnd",value:function(t){if(t.preventDefault(),!this.disabled&&!this.readOnly){if(null!==this.min){var e=this.value;hc=!0,this.value=this.min,this._triggerChange(this.value,e)}this._setFocusToInput()}}},{key:"_onKeyUp",value:function(t){t.preventDefault(),this.disabled||this.readOnly||this._onStepUpButtonClick(t)}},{key:"_onKeyDown",value:function(t){t.preventDefault(),this.disabled||this.readOnly||this._onStepDownButtonClick(t)}},{key:"_onInputMouseWheel",value:function(t){if(!this.disabled&&!this.readOnly&&this._elements.input===document.activeElement){t.preventDefault();var e=this.value;Math.max(-1,Math.min(1,t.wheelDelta||-t.detail||t.deltaY))<0?this.stepDown():this.stepUp(),this._triggerChange(this.value,e)}}},{key:"_onInputChange",value:function(t){t.stopPropagation(),this._validateInputValue(),this.value=this.value,this.invalid=this.invalid,this.disabled=this.disabled,this.trigger("change")}},{key:"_onFocus",value:function(){this.classList.add("is-focused"),this._elements.input.classList.add("is-focused"),this._elements.liveregion.removeAttribute("role"),this._elements.liveregion.removeAttribute("aria-hidden")}},{key:"_onBlur",value:function(){this.classList.remove("is-focused"),this._elements.input.classList.remove("is-focused"),this._elements.liveregion.setAttribute("role","presentation"),this._elements.liveregion.setAttribute("aria-hidden",!0),this._clearLiveRegion()}},{key:"_clearLiveRegion",value:function(){var t=this._elements.liveregion;t.firstChild&&t.removeChild(t.firstChild)}},{key:"_updateLiveRegion",value:function(t){var e,i=this;clearTimeout(lc),this._clearLiveRegion(),t&&""!==t&&(e=document.createTextNode(t),window.requestAnimationFrame((function(){i._elements.liveregion.appendChild(e),lc=window.setTimeout((function(){i._clearLiveRegion()}),3e3)})))}},{key:"render",value:function(){m(l(i.prototype),"render",this).call(this),this.classList.add("_coral-Stepper"),this._step||(this.step=1),this.setAttribute("role","group"),"text"===this._elements.input.type&&this._elements.input.setAttribute("role","spinbutton");var t=document.createDocumentFragment(),e=["presentation","input"];for(t.appendChild(this._elements.input),t.appendChild(this._elements.presentation);this.firstChild;){var n=this.firstChild;n.nodeType===Node.TEXT_NODE||n.nodeType===Node.ELEMENT_NODE&&-1===e.indexOf(n.getAttribute("handle"))?t.appendChild(n):this.removeChild(n)}this.appendChild(t)}},{key:"value",get:function(){return this._elements.input.value},set:function(t){t=isNaN(t)?"":String(t),this._elements.input.value=t;var e=this.getAttribute("value");this._elements.input[e?"setAttribute":"removeAttribute"]("value",e),this.value?(this._elements.input.setAttribute("aria-valuenow",this.value),this._elements.input.setAttribute("aria-valuetext",this.value)):(this._elements.input.removeAttribute("aria-valuenow"),this._elements.input.removeAttribute("aria-valuetext")),hc||window.chrome?this._updateLiveRegion(this.value):this._updateLiveRegion(),hc=!1,this.invalid=this.hasAttribute("invalid"),this.disabled=this.hasAttribute("disabled")}},{key:"valueAsNumber",get:function(){var t=this._valueAsNumber;return null!=t||null!==(t=Ua.number(this.value))?t:NaN},set:function(t){this._valueAsNumber=Ua.number(t),this.value=this._valueAsNumber,this.invalid=this.hasAttribute("invalid"),this.disabled=this.hasAttribute("disabled")}},{key:"min",get:function(){return this._min},set:function(t){t=Ua.number(t),this._min=isNaN(t)?null:t,null===this._min?(this._reflectAttribute("min",!1),this._elements.input.removeAttribute("aria-valuemin"),this._elements.input.removeAttribute("min")):(this._reflectAttribute("min",this._min),this._elements.input.setAttribute("aria-valuemin",this._min),this._elements.input.min=this._min),this.invalid=this.hasAttribute("invalid"),this.disabled=this.hasAttribute("disabled")}},{key:"max",get:function(){return this._max},set:function(t){t=Ua.number(t),this._max=isNaN(t)?null:t,null===this.max?(this._reflectAttribute("max",!1),this._elements.input.removeAttribute("aria-valuemax"),this._elements.input.removeAttribute("max")):(this._reflectAttribute("max",this._max),this._elements.input.setAttribute("aria-valuemax",this._max),this._elements.input.max=this._max),this.invalid=this.hasAttribute("invalid"),this.disabled=this.hasAttribute("disabled")}},{key:"step",get:function(){return this._step||1},set:function(t){null!==t&&(t>0||"any"===t)&&(this._step="any"===t?t:Ua.number(t),this._reflectAttribute("step",this._step),this._elements.input.step=this._step)}},{key:"name",get:function(){return this._elements.input.name},set:function(t){this._reflectAttribute("name",t),this._elements.input.name=t}},{key:"disabled",get:function(){return this._disabled||!1},set:function(t){this._disabled=Ua.booleanAttr(t),this._reflectAttribute("disabled",this._disabled),this[this._disabled?"setAttribute":"removeAttribute"]("aria-disabled",this._disabled),this.classList.toggle("is-disabled",this._disabled),this._elements.input.disabled=this._disabled,this._setButtonState()}},{key:"required",get:function(){return this._required||!1},set:function(t){this._required=Ua.booleanAttr(t),this._reflectAttribute("required",this._required),this._elements.input.required=this._required}},{key:"readOnly",get:function(){return this._readOnly||!1},set:function(t){this._readOnly=Ua.booleanAttr(t),this._reflectAttribute("readonly",this._readOnly),this._elements.input.readOnly=this._readOnly,this._setButtonState()}},{key:"invalid",get:function(){return m(l(i.prototype),"invalid",this)},set:function(t){g(l(i.prototype),"invalid",t,this,!0),this._elements.input.invalid=this._invalid}},{key:"labelledBy",get:function(){return m(l(i.prototype),"labelledBy",this)},set:function(t){g(l(i.prototype),"labelledBy",t,this,!0),this[this.labelledBy?"setAttribute":"removeAttribute"]("aria-labelledby",this.labelledBy)}},{key:"placeholder",get:function(){return this._elements.input.placeholder||""},set:function(t){t=Ua.string(t),this._reflectAttribute("placeholder",t),this._elements.input.placeholder=t}}],[{key:"observedAttributes",get:function(){return m(l(i),"observedAttributes",this).concat(["min","max","step","placeholder"])}}]),i}(mo(ho(HTMLElement)));da.extend(ka,{"coral-component-numberinput":{"en-US":{Decrement:"Decrement",Increment:"Increment"},"fr-FR":{Decrement:"DÃ©crÃ©menter",Increment:"IncrÃ©menter"},"de-DE":{Decrement:"Reduzieren",Increment:"ErhÃ¶hen"},"it-IT":{Decrement:"Decrementare",Increment:"Incrementare"},"es-ES":{Decrement:"Reducir",Increment:"Aumentar"},"pt-BR":{Decrement:"Decrementar",Increment:"Incrementar"},"ja-JP":{Decrement:"æ¸ãã",Increment:"å¢ãã"},"ko-KR":{Decrement:"ê°ì",Increment:"ì¦ê°"},"zh-CN":{Decrement:"åé",Increment:"å¢é"},"zh-TW":{Decrement:"æ¸é",Increment:"å¢é"},"nl-NL":{Decrement:"Verlagen",Increment:"Verhogen"},"da-DK":{Decrement:"Reduktion",Increment:"DataÃ¦ndring"},"fi-FI":{Decrement:"VÃ¤hennys",Increment:"LisÃ¤ys"},"nb-NO":{Decrement:"Reduser",Increment:"Ãk"},"sv-SE":{Decrement:"Minskning",Increment:"Ãkning"},"cs-CZ":{Decrement:"OdpoÄet",Increment:"PÅÃ­rÅ¯stek"},"pl-PL":{Decrement:"Zmniejsz",Increment:"ZwiÄksz"},"ru-RU":{Decrement:"Ð¡Ð½Ð¸Ð¶ÐµÐ½Ð¸Ðµ",Increment:"ÐÑÐ¸ÑÐ¾ÑÑ"},"tr-TR":{Decrement:"Azaltma",Increment:"ArtÄ±rma"}}}),da._define("coral-numberinput",mc);var fc=function(t){var e=document.createDocumentFragment(),i=this.tip=document.createElement("span");i.className+=" _coral-Tooltip-tip",i.setAttribute("handle","tip"),e.appendChild(i);var n=document.createTextNode("\n");return e.appendChild(n),e},gc={left:"left",right:"right",top:"top",bottom:"bottom"},vc={DEFAULT:"default",INFO:"info",SUCCESS:"success",ERROR:"error",WARNING:"warning",INSPECT:"inspect"},_c=[];for(var bc in vc)_c.push("".concat("_coral-Tooltip","--").concat(vc[bc]));var yc=[],Cc={};for(var Ac in Cl.placement){var kc=Cl.placement[Ac],wc="".concat("_coral-Tooltip","--").concat(gc[kc]);Cc[kc]=wc,yc.push(wc)}var xc=function(t){s(i,t);var e=d(i);function i(){var t;return a(this,i),(t=e.call(this))._lengthOffset=5,t._overlayAnimationTime=Cl.FADETIME,t._focusOnShow=Cl.focusOnShow.OFF,t._elements=da.extend(t._elements,{content:t.querySelector("coral-tooltip-content")||document.createElement("coral-tooltip-content")}),fc.call(t._elements),t._id=da.getUID(),t._delegateEvents({"coral-overlay:positioned":"_onPositioned","coral-overlay:_animate":"_onAnimate"}),t}return r(i,[{key:"_onPositioned",value:function(t){var e;(e=this.classList).remove.apply(e,yc),this.classList.add(Cc[t.detail.placement])}},{key:"_onAnimate",value:function(){var t=this.getAttribute("x-placement");"left"===t?this.style.left="8px":"top"===t?this.style.top="8px":"right"===t?this.style.left="-8px":"bottom"===t&&(this.style.top="-8px")}},{key:"_handleFocusOut",value:function(){var t=this;window.requestAnimationFrame((function(){document.activeElement===t._getTarget()||(t._cancelShow(),t.open=!1)}))}},{key:"_cancelShow",value:function(){window.clearTimeout(this._showTimeout)}},{key:"_cancelHide",value:function(){window.clearTimeout(this._hideTimeout)}},{key:"_startHide",value:function(){var t=this;0===this.delay?this._handleFocusOut():this._hideTimeout=window.setTimeout((function(){t._handleFocusOut()}),this.delay)}},{key:"_addTargetListeners",value:function(t){var e=this;if(!t["_hasTooltipListeners".concat(this._id)]){if(t["_hasTooltipListeners".concat(this._id)]=!0,this._oldTarget){var i=this._getTarget(this._oldTarget);i&&this._removeTargetListeners(i)}this._oldTarget=t,this._targetEvents=new ia(t);var n=function(){e._cancelHide(),e.open||(e._cancelShow(),0===e.delay?e.show():e._showTimeout=window.setTimeout((function(){e.show()}),e.delay))};this._targetEvents.on("mouseenter.Tooltip".concat(this._id),n),this._targetEvents.on("focusin.Tooltip".concat(this._id),n),this._targetEvents.on("mouseenter.Tooltip".concat(this._id),this._handleOpenTooltip.bind(this)),this._targetEvents.on("focusin.Tooltip".concat(this._id),this._handleOpenTooltip.bind(this)),this._targetEvents.on("mouseleave.Tooltip".concat(this._id),(function(){e.interaction===e.constructor.interaction.ON&&e._startHide()})),this._targetEvents.on("focusout.Tooltip".concat(this._id),(function(){e.interaction===e.constructor.interaction.ON&&e._handleFocusOut()}))}}},{key:"_handleOpenTooltip",value:function(){var t=this;this._cancelHide(),this.open||(this._cancelShow(),0===this.delay?this.show():this._showTimeout=window.setTimeout((function(){t.show()}),this.delay))}},{key:"_removeTargetListeners",value:function(t){this._targetEvents&&this._targetEvents.off(".Tooltip".concat(this._id)),t["_hasTooltipListeners".concat(this._id)]=!1}},{key:"render",value:function(){m(l(i.prototype),"render",this).call(this),this.classList.add("_coral-Tooltip"),this.setAttribute("role","tooltip"),this.setAttribute("tabindex","-1"),this._variant||(this.variant=vc.DEFAULT);var t=this.querySelector("._coral-Tooltip-tip");t&&t.remove();var e=this._elements.content;if(!e.parentNode)for(;this.firstChild;)e.appendChild(this.firstChild);this.appendChild(this._elements.tip),this.content=e}},{key:"variant",get:function(){return this._variant||vc.DEFAULT},set:function(t){var e;t=Ua.string(t).toLowerCase(),this._variant=Ba.enumeration(vc)(t)&&t||vc.DEFAULT,this._reflectAttribute("variant",this._variant),(e=this.classList).remove.apply(e,_c),this.classList.add("".concat("_coral-Tooltip","--").concat(this._variant))}},{key:"delay",get:function(){return"number"==typeof this._delay?this._delay:500},set:function(t){this._delay=Ua.number(t)}},{key:"content",get:function(){return this._getContentZone(this._elements.content)},set:function(t){this._setContentZone("content",t,{handle:"content",tagName:"coral-tooltip-content",insert:function(t){t.classList.add("".concat("_coral-Tooltip","-label")),this.appendChild(t)}})}},{key:"open",get:function(){return m(l(i.prototype),"open",this)},set:function(t){g(l(i.prototype),"open",t,this,!0),this.open||this._cancelShow()}},{key:"target",get:function(){return m(l(i.prototype),"target",this)},set:function(t){g(l(i.prototype),"target",t,this,!0);var e=this._getTarget(t);e?(this._elements.tip.hidden=!1,this.interaction===this.constructor.interaction.ON&&this._addTargetListeners(e)):this._elements.tip.hidden=!0}},{key:"interaction",get:function(){return m(l(i.prototype),"interaction",this)},set:function(t){g(l(i.prototype),"interaction",t,this,!0);var e=this._getTarget();e&&(t===this.constructor.interaction.ON?this._addTargetListeners(e):this._removeTargetListeners(e))}},{key:"_contentZones",get:function(){return{"coral-tooltip-content":"content"}}}],[{key:"variant",get:function(){return vc}},{key:"observedAttributes",get:function(){return m(l(i),"observedAttributes",this).concat(["variant","delay"])}}]),i}(Cl);da._define("coral-tooltip",xc),xc.Content=function(){return document.createElement("coral-tooltip-content")};var Tc=function(t){var e=document.createDocumentFragment(),i=t=void 0===t?{}:t,n=this.input=document.createElement("input");n.setAttribute("type","checkbox"),n.setAttribute("handle","input"),n.className+=" _coral-Checkbox-input",n.id=t.commons.getUID(),e.appendChild(n);var a=document.createTextNode("\n");e.appendChild(a);var o=this.checkbox=document.createElement("span");o.className+=" _coral-Checkbox-box",o.setAttribute("handle","checkbox");var r=document.createTextNode("\n  ");o.appendChild(r),i=t,this.checkbox.innerHTML=i.Icon._renderSVG("spectrum-css-icon-CheckmarkSmall",["_coral-Checkbox-checkmark","_coral-UIIcon-CheckmarkSmall"]),this.checkbox.innerHTML+=i.Icon._renderSVG("spectrum-css-icon-DashSmall",["_coral-Checkbox-partialCheckmark","_coral-UIIcon-DashSmall"]),t=i;var s=document.createTextNode("\n");o.appendChild(s),e.appendChild(o);var l=document.createTextNode("\n");e.appendChild(l);var c=this.labelWrapper=document.createElement("label");c.className+=" _coral-Checkbox-label",c.setAttribute("handle","labelWrapper"),c.setAttribute("for",this.input.id);var u=document.createTextNode("\n  ");c.appendChild(u);var h=this.screenReaderOnly=document.createElement("span");h.className+=" u-coral-screenReaderOnly",h.setAttribute("handle","screenReaderOnly"),h.textContent=t.i18n.get("Select"),c.appendChild(h);var d=document.createTextNode("\n");c.appendChild(d),e.appendChild(c);var p=document.createTextNode("\n");return e.appendChild(p),e},Sc=-1!==navigator.userAgent.indexOf("MSIE")||navigator.appVersion.indexOf("Trident/")>0||-1!==window.navigator.userAgent.indexOf("Edge"),Ec=function(t){s(i,t);var e=d(i);function i(){var t;return a(this,i),(t=e.call(this))._delegateEvents(da.extend(t._events,{click:"_onClick",mousedown:"_onMouseDown"})),t._elements={label:t.querySelector("coral-checkbox-label")||document.createElement("coral-checkbox-label")},Tc.call(t._elements,{commons:da,i18n:wa,Icon:Uo}),t._labellableElement=t._elements.input,t._observer=new MutationObserver(t._hideLabelIfEmpty.bind(u(t))),t._observer.observe(t._elements.labelWrapper,{childList:!0,characterData:!0,subtree:!0}),t}return r(i,[{key:"_onInputChange",value:function(t){var e=this;t.stopPropagation(),this[this._componentTargetProperty]=t.target[this._eventTargetProperty],this.indeterminate=!1,this._triggerChangeEvent&&(Sc?window.requestAnimationFrame((function(){e.trigger("change")})):this.trigger("change"))}},{key:"_onClick",value:function(t){Sc&&this.indeterminate?(this.checked=!this.checked,this._onInputChange(t)):t.target===this&&(this.indeterminate=!1,this.checked=!this.checked,this.trigger("change")),this._trackEvent(this.checked?"checked":"unchecked","coral-checkbox",t)}},{key:"_onMouseDown",value:function(){var t=this._elements.input;window.requestAnimationFrame((function(){t!==document.activeElement&&t.focus()}))}},{key:"_hideLabelIfEmpty",value:function(){var t=this._elements.label,e=!(0===t.children.length&&""===t.textContent.replace(/\s*/g,""));this._elements.labelWrapper.style.margin=e?"":"0",this._elements.screenReaderOnly.hidden=!!e||!!this.labelledBy||!!this.labelled}},{key:"clear",value:function(){this.checked=!1}},{key:"reset",value:function(){this.checked=this._initialCheckedState}},{key:"render",value:function(){m(l(i.prototype),"render",this).call(this),this.classList.add("_coral-Checkbox");var t=document.createDocumentFragment(),e=["input","checkbox","labelWrapper"];t.appendChild(this._elements.input),t.appendChild(this._elements.checkbox),t.appendChild(this._elements.labelWrapper);var n=this._elements.label;for(n.parentNode&&n.parentNode.removeChild(n);this.firstChild;){var a=this.firstChild;a.nodeType===Node.TEXT_NODE||a.nodeType===Node.ELEMENT_NODE&&-1===e.indexOf(a.getAttribute("handle"))?n.appendChild(a):this.removeChild(a)}this.appendChild(t),this.label=n,this._initialCheckedState=this.checked,this._hideLabelIfEmpty()}},{key:"checked",get:function(){return this._checked||!1},set:function(t){this._checked=Ua.booleanAttr(t),this._reflectAttribute("checked",this._checked),this._elements.input.checked=this._checked}},{key:"indeterminate",get:function(){return this._indeterminate||!1},set:function(t){this._indeterminate=Ua.booleanAttr(t),this._reflectAttribute("indeterminate",this._indeterminate),this.classList.toggle("is-indeterminate",this._indeterminate),this._elements.input.indeterminate=this._indeterminate,this._elements.input[this._indeterminate?"setAttribute":"removeAttribute"]("aria-checked","mixed")}},{key:"label",get:function(){return this._getContentZone(this._elements.label)},set:function(t){this._setContentZone("label",t,{handle:"label",tagName:"coral-checkbox-label",insert:function(t){this._elements.labelWrapper.appendChild(t)}})}},{key:"name",get:function(){return this._elements.input.name},set:function(t){this._reflectAttribute("name",t),this._elements.input.name=t}},{key:"value",get:function(){return this._elements.input.value||"on"},set:function(t){this._elements.input.value=t}},{key:"disabled",get:function(){return this._disabled||!1},set:function(t){this._disabled=Ua.booleanAttr(t),this._reflectAttribute("disabled",this._disabled),this[this._disabled?"setAttribute":"removeAttribute"]("aria-disabled",this._disabled),this.classList.toggle("is-disabled",this._disabled),this._elements.input.disabled=this._disabled}},{key:"required",get:function(){return this._required||!1},set:function(t){this._required=Ua.booleanAttr(t),this._reflectAttribute("required",this._required),this._elements.input.required=this._required}},{key:"readOnly",get:function(){return this._readOnly||!1},set:function(t){this._readOnly=Ua.booleanAttr(t),this._reflectAttribute("readonly",this._readOnly),this.classList.toggle("is-readOnly",this._readOnly),this._elements.input.tabIndex=this._readOnly?-1:0}},{key:"labelled",get:function(){return m(l(i.prototype),"labelled",this)},set:function(t){g(l(i.prototype),"labelled",t,this,!0),this._hideLabelIfEmpty()}},{key:"labelledBy",get:function(){return m(l(i.prototype),"labelledBy",this)},set:function(t){g(l(i.prototype),"labelledBy",t,this,!0),this._hideLabelIfEmpty()}},{key:"trackingElement",get:function(){return void 0===this._trackingElement?(this.name?"".concat(this.name,"=").concat(this.value):"")||(this.label||this).textContent.replace(/\s{2,}/g," ").trim():this._trackingElement},set:function(t){g(l(i.prototype),"trackingElement",t,this,!0)}},{key:"_componentTargetProperty",get:function(){return"checked"}},{key:"_eventTargetProperty",get:function(){return"checked"}},{key:"_contentZones",get:function(){return{"coral-checkbox-label":"label"}}}],[{key:"observedAttributes",get:function(){return m(l(i),"observedAttributes",this).concat(["indeterminate","checked"])}}]),i}(mo(ho(HTMLElement)));da.extend(ka,{"coral-component-checkbox":{"en-US":{Select:"Select"},"fr-FR":{Select:"SÃ©lectionner"},"de-DE":{Select:"AuswÃ¤hlen"},"it-IT":{Select:"Seleziona"},"es-ES":{Select:"Seleccionar"},"pt-BR":{Select:"Selecionar"},"ja-JP":{Select:"é¸æ"},"ko-KR":{Select:"ì í"},"zh-CN":{Select:"éæ©"},"zh-TW":{Select:"é¸å"},"nl-NL":{Select:"Selecteren"},"da-DK":{Select:"VÃ¦lg"},"fi-FI":{Select:"Valitse"},"nb-NO":{Select:"Velg"},"sv-SE":{Select:"VÃ¤lj"},"cs-CZ":{Select:"Vybrat"},"pl-PL":{Select:"Wybierz"},"ru-RU":{Select:"ÐÑÐ±ÐµÑÐ¸ÑÐµ"},"tr-TR":{Select:"SeÃ§"}}}),da._define("coral-checkbox",Ec),Ec.Label=function(){return document.createElement("coral-checkbox-label")};var Ic=function(t){s(i,t);var e=d(i);function i(){return a(this,i),e.apply(this,arguments)}return r(i,[{key:"_itemTagName",get:function(){return"coral-checkbox"}},{key:"selectedItems",get:function(){return this.items._getAllSelected("checked")}}]),i}(oc(ho(HTMLElement)));da._define("coral-checkboxgroup",Ic);var Lc={},Nc=function(t){var e=t.toString();return 1===e.length?"0".concat(e):e},Mc=document.documentElement.lang||window.navigator.language||"en-US",Oc=function(t,e,i){var n="";try{var a="".concat(JSON.stringify(e)).concat(JSON.stringify(i));Lc[a]||(Lc[a]=new window.Intl.DateTimeFormat(e,i)),n=Lc[a].format(t)}catch(t){console.warn(t.message)}return n},Dc=function(){function t(e){if(a(this,t),e instanceof this.constructor)this._locale=e._locale,this._value=e._value,this._date=e._date;else if(this._locale=Mc,this._value=e,Array.isArray(e))this._date=e.length?new Date(e[0],e[1]||0,e[2]||1):new Date;else if("string"==typeof e){if(2===e.indexOf(":")){var i=e.split(":"),n=parseInt(i[0],10),o=parseInt(i[1],10);n>=0&&n<=23&&o>=0&&o<=59?(this._date=new Date,this._date.setHours(i[0]),this._date.setMinutes(i[1])):this._date=new Date("Invalid Date")}else this._date=new Date(this._value.replace(/-/g,"/").replace(/T.+/,""))}else null===this._value?this._date=new Date("Invalid Date"):this._date=this._value?new Date(this._value):new Date}return r(t,[{key:"locale",value:function(t){return t&&(this._locale=t),this._locale}},{key:"toDate",value:function(){return this._date}},{key:"clone",value:function(){var t=new this.constructor(this._value);return t._date=this._date,t}},{key:"format",value:function(t){var e="";if(t||(t="YYYY-MM-DD"),"YYYY-MM-DD"===t)e+=this._date.getFullYear(),e+="-",e+=Nc(this._date.getMonth()+1),e+="-",e+=Nc(this._date.getDate());else if("MMMM YYYY"===t)e+=Oc(this._date,this._locale,{month:"long"}),e+=" ",e+=this._date.getFullYear();else if("LL"===t)e+=Oc(this._date,this._locale,{month:"long",year:"numeric",day:"2-digit"});else if("dd"===t)e+=Oc(this._date,this._locale,{weekday:"short"});else if("dddd"===t)e+=Oc(this._date,this._locale,{weekday:"long"});else if("HH:mm"===t)e+=Nc(this._date.getHours()),e+=":",e+=Nc(this._date.getMinutes());else if("HH"===t)e+=Nc(this._date.getHours());else if("mm"===t)e+=Nc(this._date.getMinutes());else if("YYYY-MM-DD[T]HH:mmZ"===t){e+=this._date.getFullYear(),e+="-",e+=Nc(this._date.getMonth()+1),e+="-",e+=Nc(this._date.getDate()),e+="T",e+=Nc(this._date.getHours()),e+=":",e+=Nc(this._date.getMinutes());var i=this._date.getTimezoneOffset()/60*-1,a=Math.abs(i);a=a<10?"0".concat(a):a.toString(),e+=i<0?"-".concat(a,":00"):"+".concat(a,":00")}else t="object"===n(t)?t:{},e=Oc(this._date,this._locale,t);return e}},{key:"year",value:function(){return this._date.getFullYear()}},{key:"month",value:function(){return this._date.getMonth()}},{key:"week",value:function(){var t=new Date(Date.UTC(this._date.getFullYear(),this._date.getMonth(),this._date.getDate())),e=t.getUTCDay()||7;t.setUTCDate(t.getUTCDate()+4-e);var i=new Date(Date.UTC(t.getUTCFullYear(),0,1));return Math.ceil(((t-i)/864e5+1)/7)}},{key:"day",value:function(t){return"number"==typeof t?(this._date.setDate(this._date.getDate()-(this._date.getDay()||7)+t),this):this._date.getDay()}},{key:"hours",value:function(t){return"number"==typeof t?(this._date.setHours(t),this):this._date.getHours()}},{key:"minutes",value:function(t){return"number"==typeof t?(this._date.setMinutes(t),this):this._date.getMinutes()}},{key:"date",value:function(){return this._date.getDate()}},{key:"add",value:function(t,e){return 0===e.indexOf("month")?this._date.setMonth(this._date.getMonth()+t):0===e.indexOf("day")&&this._date.setDate(this._date.getDate()+t),this}},{key:"subtract",value:function(t,e){return 0===e.indexOf("month")?this._date.setMonth(this._date.getMonth()-t):0===e.indexOf("day")&&this._date.setDate(this._date.getDate()-t),this}},{key:"diff",value:function(t){var e=this._date.getTime()-t._date.getTime();return e/864e5}},{key:"startOf",value:function(t){return"day"===t?this._date=new Date(this._date.getFullYear(),this._date.getMonth(),this._date.getDate()):"month"===t?this._date=new Date(this._date.getFullYear(),this._date.getMonth(),1):"year"===t&&(this._date=new Date((new Date).getFullYear(),0,1)),this}},{key:"isBefore",value:function(t,e){return!(!t||!t._date)&&(e?t[e]()>this[e]():t._date>this._date)}},{key:"isAfter",value:function(t,e){return!(!t||!t._date)&&(e?t[e]()<this[e]():t._date<this._date)}},{key:"isSame",value:function(t,e){return"hour"===e?t&&t.clone()._date.getHours()===this.clone()._date.getHours():"minute"===e?t&&t.clone()._date.getMinutes()===this.clone()._date.getMinutes():"day"===e?t&&t.clone().startOf("day")._date.getTime()===this.clone().startOf("day")._date.getTime():t&&t.clone()._date.getTime()===this.clone()._date.getTime()}},{key:"isValid",value:function(){return"Invalid Date"!==this._date.toString()}}],[{key:"localeData",value:function(){return{}}},{key:"locale",value:function(t){return t&&(Mc=t),Mc}},{key:"isMoment",value:function(t){return t instanceof this}},{key:"Moment",get:function(){return window.moment||this}}]),t}();void 0!==window.moment&&window.moment.locale(document.documentElement.lang||window.navigator.language||"en");var Fc={DEFAULT:"default",QUIET:"quiet",LARGE:"large"},Pc=function(t){s(i,t);var e=d(i);function i(){var t;return a(this,i),(t=e.call(this))._delegateEvents({"click coral-accordion-item:not([disabled]) ._coral-Accordion-itemHeader":"_onItemClick","key:space ._coral-Accordion-itemHeader":"_onToggleItemKey","key:return ._coral-Accordion-itemHeader":"_onToggleItemKey","key:pageup ._coral-Accordion-itemHeader":"_focusPreviousItem","key:left ._coral-Accordion-itemHeader":"_focusPreviousItem","key:up ._coral-Accordion-itemHeader":"_focusPreviousItem","key:pagedown ._coral-Accordion-itemHeader":"_focusNextItem","key:right ._coral-Accordion-itemHeader":"_focusNextItem","key:down ._coral-Accordion-itemHeader":"_focusNextItem","key:home ._coral-Accordion-itemHeader":"_onHomeKey","key:end ._coral-Accordion-itemHeader":"_onEndKey","keydown ._coral-Accordion-itemHeader":"_onItemContentKeyDown","coral-accordion-item:_selectedchanged":"_onItemSelectedChanged"}),t._oldSelection=[],t.items._startHandlingItems(!0),t}return r(i,[{key:"_onHomeKey",value:function(t){t.preventDefault(),t.stopPropagation(),this._focusItem(this.items._getFirstSelectable())}},{key:"_onEndKey",value:function(t){t.preventDefault(),t.stopPropagation(),this._focusItem(this.items._getLastSelectable())}},{key:"_onItemContentKeyDown",value:function(t){var e=parseFloat(t.keyCode),i=t.matchedTarget.parentNode;switch(e){case 38:case 37:(t.metaKey||t.ctrlKey)&&Ra.filterInputs(t)&&(t.preventDefault(),t.stopPropagation(),this._focusItem(i));break;case 33:if(t.metaKey||t.ctrlKey){t.preventDefault(),t.stopPropagation();var n=this.items._getPreviousSelectable(i);this._toggleItemSelection(n),this._focusItem(n)}break;case 34:if(t.metaKey||t.ctrlKey){t.preventDefault(),t.stopPropagation();var a=this.items._getNextSelectable(i);this._toggleItemSelection(a),this._focusItem(a)}}}},{key:"_focusPreviousItem",value:function(t){t.preventDefault(),t.stopPropagation(),this._focusItem(this.items._getPreviousSelectable(t.target.closest("coral-accordion-item")))}},{key:"_focusNextItem",value:function(t){t.preventDefault(),t.stopPropagation(),this._focusItem(this.items._getNextSelectable(t.target.closest("coral-accordion-item")))}},{key:"_onItemClick",value:function(t){if(!t.target.hasAttribute("coral-interactive")&&!t.target.closest("[coral-interactive]")){var e=t.target.closest("coral-accordion-item");e&&(t.preventDefault(),t.stopPropagation(),this._toggleItemSelection(e),this._focusItem(e))}}},{key:"_onToggleItemKey",value:function(t){t.preventDefault(),t.stopPropagation();var e=t.target.closest("coral-accordion-item");this._toggleItemSelection(e),this._focusItem(e)}},{key:"_onItemSelectedChanged",value:function(t){t.stopImmediatePropagation(),this._validateSelection(t.target)}},{key:"_validateSelection",value:function(t){var e=this,i=this.selectedItems;this.multiple||(t=t||i[i.length-1])&&t.hasAttribute("selected")&&i.length>1&&(i.forEach((function(i){i!==t&&(e._preventTriggeringEvents=!0,i.removeAttribute("selected"))})),this._preventTriggeringEvents=!1),this._resetTabTarget(),this._triggerChangeEvent()}},{key:"_triggerChangeEvent",value:function(){var t=this.selectedItems,e=this._oldSelection;!this._preventTriggeringEvents&&this._arraysAreDifferent(t,e)&&(this.multiple?this.trigger("coral-accordion:change",{oldSelection:e,selection:t}):this.trigger("coral-accordion:change",{oldSelection:e.length>1?e:e[0]||null,selection:t[0]||null}),this._oldSelection=t)}},{key:"_arraysAreDifferent",value:function(t,e){var i=[];return e.length===t.length&&(i=e.filter((function(e){return-1===t.indexOf(e)}))),e.length!==t.length||0!==i.length}},{key:"_resetTabTarget",value:function(){var t=this;this._resetTabTargetScheduled||(this._resetTabTargetScheduled=!0,window.requestAnimationFrame((function(){t._resetTabTargetScheduled=!1;var e=t.items._getAllSelected();t._tabTarget=e.length?e[0]:t.items._getFirstSelectable()})))}},{key:"_toggleItemSelection",value:function(t){t&&t[t.hasAttribute("selected")?"removeAttribute":"setAttribute"]("selected","")}},{key:"_focusItem",value:function(t){t&&t._elements.button.focus(),this._tabTarget=t}},{key:"render",value:function(){var t=this;m(l(i.prototype),"render",this).call(this),this.classList.add("_coral-Accordion"),this._variant||(this.variant=Fc.DEFAULT),this.setAttribute("role","region"),this._preventTriggeringEvents=!0,this._validateSelection(),this._preventTriggeringEvents=!1,this._oldSelection=this.selectedItems,window.requestAnimationFrame((function(){t.classList.add("".concat("_coral-Accordion","--animated"))}))}},{key:"variant",get:function(){return this._variant||Fc.DEFAULT},set:function(t){t=Ua.string(t).toLowerCase(),this._variant=Ba.enumeration(Fc)(t)&&t||Fc.DEFAULT,this._reflectAttribute("variant",this._variant)}},{key:"items",get:function(){return this._items||(this._items=new sr({host:this,itemTagName:"coral-accordion-item",itemSelector:":scope > coral-accordion-item",onItemAdded:this._validateSelection,onItemRemoved:this._validateSelection})),this._items}},{key:"multiple",get:function(){return this._multiple||!1},set:function(t){this._multiple=Ua.booleanAttr(t),this._reflectAttribute("multiple",this._multiple),this._validateSelection()}},{key:"selectedItems",get:function(){return this.items._getAllSelected()}},{key:"selectedItem",get:function(){return this.items._getFirstSelected()}},{key:"_tabTarget",get:function(){return this.__tabTarget||null},set:function(t){this.__tabTarget=t,this.items.getAll().forEach((function(e){e._isTabTarget=e===t}))}}],[{key:"variant",get:function(){return Fc}},{key:"observedAttributes",get:function(){return m(l(i),"observedAttributes",this).concat(["variant","multiple"])}}]),i}(ho(HTMLElement)),Rc=function(t){var e=document.createDocumentFragment(),i=t=void 0===t?{}:t,n=this.heading=document.createElement("h3");n.setAttribute("handle","heading"),n.className+=" _coral-Accordion-itemHeading";var a=document.createTextNode("\n  ");n.appendChild(a);var o=this.button=document.createElement("button");o.setAttribute("handle","button"),o.className+=" _coral-Accordion-itemHeader",o.setAttribute("type","button"),n.appendChild(o);var r=document.createTextNode("\n  ");n.appendChild(r),i=t;this.button.insertAdjacentHTML("afterend",i.Icon._renderSVG("spectrum-css-icon-ChevronRightMedium",["_coral-Accordion-itemIndicator","_coral-UIIcon-ChevronRightMedium"])),t=i;var s=document.createTextNode("\n");n.appendChild(s),e.appendChild(n);var l=document.createTextNode("\n");return e.appendChild(l),e},Hc=function(t){s(i,t);var e=d(i);function i(){var t;return a(this,i),(t=e.call(this))._elements={label:t.querySelector("coral-accordion-item-label")||document.createElement("coral-accordion-item-label"),content:t.querySelector("coral-accordion-item-content")||document.createElement("coral-accordion-item-content")},Rc.call(t._elements,{Icon:Uo}),t}return r(i,[{key:"_setAria",value:function(t,e){t.id=t.id||da.getUID(),e.id=e.id||da.getUID(),t.setAttribute("aria-controls",e.id),e.setAttribute("aria-labelledby",t.id)}},{key:"focus",value:function(){this._elements.label.focus()}},{key:"render",value:function(){m(l(i.prototype),"render",this).call(this),this.classList.add("_coral-Accordion-item"),this.setAttribute("role","presentation");var t=this.querySelector("._coral-Accordion-itemHeading");if(t&&t.remove(),!this._elements.content.parentNode)for(;this.firstChild;)this._elements.content.appendChild(this.firstChild);this.appendChild(this._elements.heading),this.label=this._elements.label,this.content=this._elements.content,this.selected=this.selected}},{key:"label",get:function(){return this._getContentZone(this._elements.label)},set:function(t){this._setContentZone("label",t,{handle:"label",tagName:"coral-accordion-item-label",insert:function(t){this._setAria(this._elements.button,this._elements.content),this._elements.button.appendChild(t)}})}},{key:"content",get:function(){return this._getContentZone(this._elements.content)},set:function(t){this._setContentZone("content",t,{handle:"content",tagName:"coral-accordion-item-content",insert:function(t){t.classList.add("".concat("_coral-Accordion-item","Content")),t.setAttribute("role","region"),this._setAria(this._elements.button,t),this.appendChild(t)}})}},{key:"selected",get:function(){return this._selected||!1},set:function(t){var e=this;this._selected=!this.hasAttribute("disabled")&&Ua.booleanAttr(t),this._reflectAttribute("selected",this._selected);var i=this._elements.content.scrollHeight;if(this.classList.toggle("is-open",this._selected),this._elements.button.setAttribute("aria-expanded",this._selected),!this._selected){this._elements.content.style.height="".concat(i,"px");this._elements.content.offsetHeight}this._elements.content.style.height=this._selected?"".concat(i,"px"):"0",this._selected&&da.transitionEnd(this._elements.content,(function(){e._elements.content.style.height=""})),this.trigger("coral-accordion-item:_selectedchanged")}},{key:"disabled",get:function(){return this._disabled||!1},set:function(t){this._disabled=Ua.booleanAttr(t),this._reflectAttribute("disabled",this._disabled),this.classList.toggle("is-disabled",this._disabled),this._elements.button[this._disabled?"setAttribute":"removeAttribute"]("disabled",""),this.selected=this.selected}},{key:"_isTabTarget",get:function(){return this.__isTabTarget||!1},set:function(t){this.__isTabTarget=t,this.disabled?this._elements.button.removeAttribute("tabindex"):this._elements.button.setAttribute("tabindex",this.__isTabTarget?"0":"-1")}},{key:"_contentZones",get:function(){return{"coral-accordion-item-label":"label","coral-accordion-item-content":"content"}}}],[{key:"observedAttributes",get:function(){return m(l(i),"observedAttributes",this).concat(["selected","disabled"])}}]),i}(ho(HTMLElement));da._define("coral-accordion-item",Hc),da._define("coral-accordion",Pc),Pc.Item=Hc,Pc.Item.Label=function(){return document.createElement("coral-accordion-item-label")},Pc.Item.Content=function(){return document.createElement("coral-accordion-item-content")};function Uc(t){if(!t)return null;if(t.hasAttribute("coral-actionbar-more"))return t;for(var e=null,i=0;i<t.children.length;i++)if((e=t.children[i]).offsetParent&&(e.matches(da.FOCUSABLE_ELEMENT_SELECTOR)||e.matches("a:not([href])")))return e;for(var n=0;n<t.children.length;n++){e=t.children[n];for(var a=0;a<e.children.length;a++){var o=e.children[a];if(o.offsetParent&&(o.matches(da.FOCUSABLE_ELEMENT_SELECTOR)||e.matches("a:not([href])")))return o}}return null}var Bc=function(t){s(i,t);var e=d(i);function i(){var t;return a(this,i),(t=e.call(this))._delegateEvents({"key:up":"_onFocusPreviousItem","key:left":"_onFocusPreviousItem","key:down":"_onFocusNextItem","key:right":"_onFocusNextItem","global:resize":"_onResizeWindow"}),t._elements={primary:t.querySelector("coral-actionbar-primary")||document.createElement("coral-actionbar-primary"),secondary:t.querySelector("coral-actionbar-secondary")||document.createElement("coral-actionbar-secondary")},t._items=t.getElementsByTagName("coral-actionbar-item"),t._wait=50,t._onLayout=t._onLayout.bind(u(t)),t._debounceOnLayout=t._debounceOnLayout.bind(u(t)),t._recalculateLayoutOnMutation(),t}return r(i,[{key:"_recalculateLayoutOnMutation",value:function(){var t=this;this._observer=new MutationObserver((function(){t._debounceOnLayout()})),this._observer.observe(this,{attributes:!0,childList:!0,characterData:!0,subtree:!0})}},{key:"_onFocusPreviousItem",value:function(t){t.preventDefault();var e=this._getPreviousSelectableWrappedItem(t.target);null!==e&&e.focus()}},{key:"_onFocusNextItem",value:function(t){t.preventDefault();var e=this._getNextSelectableWrappedItem(t.target);null!==e&&e.focus()}},{key:"_onResizeWindow",value:function(){for(var t=this.getElementsByTagName("coral-popover"),e=0;e<t.length;e++)t[e].removeAttribute("open");this._debounceOnLayout()}},{key:"_onLayout",value:function(){if(this.primary&&this.primary._elements&&this.primary._elements.overlay&&this.secondary&&this.secondary._elements&&this.secondary._elements.overlay&&!0!==this.primary._elements.overlay.open&&!0!==this.secondary._elements.overlay.open){for(var t=this.primary._elements.moreButton,e=this.secondary._elements.moreButton,i=this.primary.items.getAll(),n=this.secondary.items.getAll().reverse(),a=null,o=null,r=this._newWidthCache(),s=i.length>0?r.getOuterWidth(t):0,l=n.length>0?r.getOuterWidth(e):0,c=this.primary.offsetWidth-this.primary.getBoundingClientRect().width,u=this.secondary.offsetWidth-this.secondary.getBoundingClientRect().width,h=this.primary.offsetLeft,d=this.offsetWidth-(this.secondary.offsetLeft+this.secondary.offsetWidth),p=this.offsetWidth-h-d-s-l-c-u-78,m=0,f=0,g=0,v=!1,_=!1,b=!1,y=0,C=0;C<i.length||C<n.length;C++)a=C<i.length?i[C]:null,o=C<n.length?n[C]:null,b=!1,null!==a&&(a.hidden||"none"===a.style.display?this._moveToScreen(a):(!v&&(this.primary.threshold<=0||f<this.primary.threshold)&&(m+(y=r.getOuterWidth(a))<p||f===i.length-1&&m+y<p+s)&&(b=!0),b?(f+=1,m+=y,this._moveToScreen(a)):(this._hideItem(a),v=!0),f===i.length&&(p+=s,v=!1))),b=!1,null!==o&&(o.hidden||"none"===o.style.display?this._moveToScreen(o):(!_&&(this.secondary.threshold<=0||g<this.secondary.threshold)&&(m+(y=r.getOuterWidth(o))<p||g===n.length-1&&m+y<p+l)&&(b=!0),b?(g+=1,m+=y,this._moveToScreen(o)):(this._hideItem(o),_=!0),g===n.length&&(p+=l,_=!1)));for(var A=this.primary.items._getAllSelectable(),k=this.secondary.items._getAllSelectable(),w=0;w<this._items.length;w++)this._toggleItemTabbable(this._items[w],!1);if(v?(this._moveToScreen(t,!0),0===A.length?this._toggleItemTabbable(t,!0):(this._toggleItemTabbable(t,!1),this._toggleItemTabbable(A[0],!0))):(this._moveToScreen(t,!1),this._toggleItemTabbable(t,!1),this._toggleItemTabbable(A[0],!0)),_)this._moveToScreen(e,!0),0===k.length?this._toggleItemTabbable(e,!0):(this._toggleItemTabbable(e,!1),this._toggleItemTabbable(k[0],!0));else{this._moveToScreen(e,!1),this._toggleItemTabbable(e,!1);var x=this.secondary.items._getAllSelectable()[0];x&&this._toggleItemTabbable(x,!0)}this._resizeListenerAttached||(da.addResizeListener(this,this._debounceOnLayout),da.addResizeListener(this.primary,this._debounceOnLayout),da.addResizeListener(this.secondary,this._debounceOnLayout),this._resizeListenerAttached=!0)}}},{key:"_getNextSelectableWrappedItem",value:function(t){"CORAL-ACTIONBAR-ITEM"===t.parentNode.tagName&&(t=t.parentNode);var e=this._getAllSelectableItems(t),i=e.indexOf(t);return i>=0&&e.length>i+1?Uc(e[i+1]):null}},{key:"_getPreviousSelectableWrappedItem",value:function(t){"CORAL-ACTIONBAR-ITEM"===t.parentNode.tagName&&(t=t.parentNode);var e=this._getAllSelectableItems(t),i=e.indexOf(t);return i>0?Uc(e[i-1]):null}},{key:"_getAllSelectableItems",value:function(t){var e=[];if(!0===this.primary._elements.overlay.open||!0===this.secondary._elements.overlay.open)for(var i=!0===this.primary._elements.overlay.open?this.primary._itemsInPopover:this.secondary._itemsInPopover,n=null,a=0;a<i.length;a++)(n=i[a]).hasAttribute("disabled")||n.hasAttribute("hidden")||"none"===n.style.display||!Uc(n)||e.push(n);else{var o=this.primary.items._getAllSelectable(),r=this.secondary.items._getAllSelectable();t?o.indexOf(t)>=0?e=o:r.indexOf(t)>=0&&(e=r):e=o.concat(r)}return e}},{key:"_newWidthCache",value:function(){return{_items:[],_outerWidth:[],getOuterWidth:function(t){var e=this._items.indexOf(t);if(e<0){this._items.push(t);var i=t.offsetWidth;this._outerWidth.push(i),e=this._outerWidth.length-1}return this._outerWidth[e]}}}},{key:"_forceWebkitRedraw",value:function(t){"WebkitAppearance"in document.documentElement.style&&"none"!==t.style.display&&(t.style.display="none",this._cachedOffsetHeight=t.offsetHeight,t.style.display="")}},{key:"_hideItem",value:function(t,e){!1===e?this._moveToScreen(t):t.hasAttribute("coral-actionbar-offscreen")||(t.setAttribute("coral-actionbar-offscreen",""),t.style.visibility="hidden",this._forceWebkitRedraw(t))}},{key:"_moveToScreen",value:function(t,e){!1===e?this._hideItem(t):t.hasAttribute("coral-actionbar-offscreen")&&(t.removeAttribute("coral-actionbar-offscreen"),t.style.visibility="",this._forceWebkitRedraw(t))}},{key:"_toggleItemTabbable",value:function(t,e){this._ignoreLayout=!0,null!==(t=Uc(t))&&t.setAttribute("tabindex",e?0:-1)}},{key:"_debounceOnLayout",value:function(){var t=this;this._ignoreLayout?this._ignoreLayout=!1:(null!==this._timeout&&window.clearTimeout(this._timeout),this._timeout=window.setTimeout((function(){t._timeout=null,t._onLayout()}),this._wait))}},{key:"_moveDirectItemChildren",value:function(){var t=Array.prototype.filter.call(this.children,(function(t){return"CORAL-ACTIONBAR-ITEM"===t.nodeName})),e=document.createDocumentFragment();t.forEach((function(t){e.appendChild(t)})),this._elements.primary.appendChild(e)}},{key:"render",value:function(){m(l(i.prototype),"render",this).call(this),this.classList.add("_coral-ActionBar"),this._moveDirectItemChildren();for(var t=this.querySelectorAll("object"),e=0;e<t.length;++e){var n=t[e];n.parentNode===this&&this.removeChild(n)}var a=this._elements.primary,o=this._elements.secondary;a.getAttribute("role")||a.setAttribute("role","toolbar"),o.getAttribute("role")||o.setAttribute("role","toolbar");for(var r,s,c=a.parentNode===this,u=Array.prototype.slice.call(this.getElementsByTagName("coral-actionbar-container")),h=0,d=u.length;h<d;h++){if(r=u[h],0===h?(s=a,c=!0):1===h&&(s=o),s)for(r.hasAttribute("threshold")&&s.setAttribute("threshold",r.getAttribute("threshold")),r.hasAttribute("morebuttontext")&&s.setAttribute("morebuttontext",r.getAttribute("morebuttontext"));r.firstChild;)s.appendChild(r.firstChild);this.removeChild(r)}if(!c)for(;this.firstChild;)a.appendChild(this.firstChild);this.primary=this._elements.primary,this.secondary=this._elements.secondary,this._onLayout()}},{key:"primary",get:function(){return this._getContentZone(this._elements.primary)},set:function(t){this._setContentZone("primary",t,{handle:"primary",tagName:"coral-actionbar-primary",insert:function(t){this.insertBefore(t,this.secondary)}})}},{key:"secondary",get:function(){return this._getContentZone(this._elements.secondary)},set:function(t){this._setContentZone("secondary",t,{handle:"secondary",tagName:"coral-actionbar-secondary",insert:function(t){this.appendChild(t)}})}},{key:"_contentZones",get:function(){return{"coral-actionbar-primary":"primary","coral-actionbar-secondary":"secondary"}}}]),i}(ho(HTMLElement)),zc=function(t){s(i,t);var e=d(i);function i(){return a(this,i),e.apply(this,arguments)}return r(i,[{key:"render",value:function(){m(l(i.prototype),"render",this).call(this),this.classList.add("_coral-ActionBar-item")}},{key:"content",get:function(){return this},set:function(t){if("object"===n(t))for(var e in t)this[e]=t[e]}}]),i}(ho(HTMLElement)),qc=function(t){s(i,t);var e=d(i);function i(){return a(this,i),e.apply(this,arguments)}return r(i,[{key:"add",value:function(t,e){if(!e&&"CORAL-ACTIONBAR-PRIMARY"===this._host.tagName){var n=this._host._elements.moreButton;e=this._host.contains(n)?n:null}return m(l(i.prototype),"add",this).call(this,t,e)}},{key:"clear",value:function(){var t=m(l(i.prototype),"clear",this).call(this);return this._host._itemsInPopover=[],t}},{key:"_getAllSelectable",value:function(){for(var t=[],e=null,i=0;i<this._host.children.length;i++)(e=this._host.children[i]).hasAttribute("disabled")||e.hasAttribute("hidden")||e.hasAttribute("coral-actionbar-offscreen")||e===this._host._elements.overlay||!Uc(e)||t.push(e);return t}},{key:"_getAllOffScreen",value:function(){return Array.prototype.slice.call(this._host.querySelectorAll("".concat(this._itemTagName,"[coral-actionbar-offscreen]")))}}]),i}(sr),Vc=function(t){s(i,t);var e=d(i);function i(){var t;return a(this,i),(t=e.call(this))._delegateEvents(da.extend(t._events,{keydown:"_onKeyDown",keyup:"_onKeyUp"})),t.addEventListener("click",t._onDisabledClick.bind(u(t))),t}return r(i,[{key:"_onKeyDown",value:function(t){32===t.keyCode&&(t.preventDefault(),this.click(),this.classList.add("is-selected"))}},{key:"_onKeyUp",value:function(t){32===t.keyCode&&(t.preventDefault(),this.classList.remove("is-selected"))}},{key:"_onDisabledClick",value:function(t){this.disabled&&t.preventDefault()}},{key:"render",value:function(){m(l(i.prototype),"render",this).call(this),this.setAttribute("role","button"),this.disabled||(this.setAttribute("tabindex","0"),this.removeAttribute("aria-disabled"))}},{key:"disabled",get:function(){return this._disabled||!1},set:function(t){this._disabled=Ua.booleanAttr(t),this._reflectAttribute("disabled",this._disabled),this.classList.toggle("is-disabled",this._disabled),this.setAttribute("tabindex",this._disabled?"-1":"0"),this[this._disabled?"setAttribute":"removeAttribute"]("aria-disabled",this._disabled)}},{key:"_contentZones",get:function(){return{"coral-anchorbutton-label":"label"}}}],[{key:"observedAttributes",get:function(){return m(l(i),"observedAttributes",this).concat(["disabled"])}}]),i}(Qo(ho(HTMLAnchorElement)));da._define("coral-anchorbutton",Vc,{extends:"a"}),Vc.Label=function(){return document.createElement("coral-anchorbutton-label")};var $c=function(t){var e=document.createDocumentFragment(),i=this.overlay=document.createElement("coral-popover");i.setAttribute("smart",""),i.id=t.commons.getUID(),i.setAttribute("handle","overlay"),i.setAttribute("placement","bottom"),i.setAttribute("breadthoffset","-50%r + 50%p"),i.setAttribute("coral-actionbar-popover",""),e.appendChild(i);var n=document.createTextNode("\n");return e.appendChild(n),e},jc=function(t){var e=document.createDocumentFragment(),i=this.moreButton=document.createElement("button","coral-button");i.setAttribute("is","coral-button"),i.setAttribute("handle","moreButton"),i.setAttribute("type","button"),i.setAttribute("variant","quietaction"),i.className+=" _coral-ActionBar-button",i.setAttribute("icon","more"),i.setAttribute("coral-actionbar-more",""),i.setAttribute("aria-expanded","false"),i.setAttribute("aria-haspopup","true");var n=document.createTextNode("\n  ");i.appendChild(n);var a=this.moreButtonLabel=document.createElement("coral-button-label");a.setAttribute("handle","moreButtonLabel"),i.appendChild(a);var o=document.createTextNode("\n");i.appendChild(o),e.appendChild(i);var r=document.createTextNode("\n");return e.appendChild(r),e},Wc=function(t){var e=document.createDocumentFragment(),i=t=void 0===t?{}:t,n=(i=t).copyAttributes;t=i;var a=document.createTextNode("\n");if(e.appendChild(a),t.items.isButtonList){var o=document.createTextNode("\n  ");e.appendChild(o);var r=this.buttonList=document.createElement("coral-buttonlist");r.className+=" _coral-ActionBar-buttonList",r.setAttribute("tabindex","0"),r.setAttribute("role","menu"),r.setAttribute("coral-actionbar-offscreen",""),r.setAttribute("handle","buttonList");var s=document.createTextNode("\n    ");r.appendChild(s);for(var l=0,c=(J=t.items).length;l<c;l++){var u=i=J[l],h=document.createTextNode("\n      ");r.appendChild(h);var d=this.buttonListItem=document.createElement("button","coral-buttonlist-item");d.setAttribute("is","coral-buttonlist-item"),d.setAttribute("role","menuitem"),d.setAttribute("handle","buttonListItem");var p=document.createTextNode("\n        ");d.appendChild(p),n((i=u)._button,this.buttonListItem),u=i;var m=document.createTextNode("\n        ");d.appendChild(m);var f=document.createElement("coral-list-item-content"),g=document.createTextNode("\n          ");f.appendChild(g);var v=this.buttonListItemContent=document.createElement("coral-action-bar-item");v.setAttribute("coral-actionbar-offscreen",""),v.setAttribute("handle","buttonListItemContent"),f.appendChild(v);var _=document.createTextNode("\n        ");f.appendChild(_),d.appendChild(f);var b=document.createTextNode("\n        ");d.appendChild(b),i=u,this.buttonListItemContent.innerHTML=i._button.label.innerHTML,u=i;var y=document.createTextNode("\n      ");d.appendChild(y),r.appendChild(d);var C=document.createTextNode("\n      ");if(r.appendChild(C),u._popover){var A=document.createTextNode("\n        ");r.appendChild(A);var k=(i=u)._popover.cloneNode(!0);this.buttonList.items.add(k),u=i;var w=document.createTextNode("\n      ");r.appendChild(w)}var x=document.createTextNode("\n    ");r.appendChild(x)}var T=document.createTextNode("\n  ");r.appendChild(T),e.appendChild(r);var S=document.createTextNode("\n  ");e.appendChild(S);var E=document.createTextNode("\n");e.appendChild(E)}else{var I=document.createTextNode("\n    ");if(e.appendChild(I),t.items.isAnchorList){var L=document.createTextNode("\n      ");e.appendChild(L);var N=this.anchorList=document.createElement("coral-anchorlist");N.setAttribute("tabindex","0"),N.setAttribute("role","menu"),N.setAttribute("coral-actionbar-offscreen",""),N.setAttribute("handle","anchorList");var M=document.createTextNode("\n        ");N.appendChild(M);for(l=0,c=(J=t.items).length;l<c;l++){u=i=J[l];var O=document.createTextNode("\n          ");N.appendChild(O);var D=this.anchorListItem=document.createElement("a","coral-anchorlist-item");D.setAttribute("is","coral-anchorlist-item"),D.setAttribute("role","menuitem"),D.setAttribute("handle","anchorListItem");var F=document.createTextNode("\n            ");D.appendChild(F),n((i=u)._button,this.anchorListItem),u=i;var P=document.createTextNode("\n            ");D.appendChild(P);var R=document.createElement("coral-list-item-content"),H=document.createTextNode("\n              ");R.appendChild(H);var U=this.anchorListItemContent=document.createElement("coral-action-bar-item");U.setAttribute("coral-actionbar-offscreen",""),U.setAttribute("handle","anchorListItemContent"),R.appendChild(U);var B=document.createTextNode("\n            ");R.appendChild(B),D.appendChild(R);var z=document.createTextNode("\n            ");D.appendChild(z),i=u,this.anchorListItemContent.innerHTML=i._button.label.innerHTML,u=i;var q=document.createTextNode("\n          ");D.appendChild(q),N.appendChild(D);var V=document.createTextNode("\n          ");if(N.appendChild(V),u._popover){var $=document.createTextNode("\n            ");N.appendChild($);k=(i=u)._popover.cloneNode(!0);this.anchorList.items.add(k),u=i;var j=document.createTextNode("\n          ");N.appendChild(j)}var W=document.createTextNode("\n        ");N.appendChild(W)}var K=document.createTextNode("\n      ");N.appendChild(K),e.appendChild(N);var G=document.createTextNode("\n      ");e.appendChild(G);var Z=document.createTextNode("\n    ");e.appendChild(Z)}else{var X=document.createTextNode("\n        ");e.appendChild(X);var Q=document.createElement("ul");Q.className+=" _coral-ActionBar-list";var Y=document.createTextNode("\n          ");Q.appendChild(Y);var J;for(l=0,c=(J=t.items).length;l<c;l++){u=i=J[l];var tt=document.createTextNode("\n            ");Q.appendChild(tt);var et=document.createElement("li");et.className+=" _coral-ActionBar-list-item";var it=document.createTextNode("\n              ");et.appendChild(it),et.appendChild(u);var nt=document.createTextNode("\n            ");et.appendChild(nt),Q.appendChild(et);var at=document.createTextNode("\n          ");Q.appendChild(at)}var ot=document.createTextNode("\n        ");Q.appendChild(ot),e.appendChild(Q);var rt=document.createTextNode("\n      ");e.appendChild(rt)}var st=document.createTextNode("\n  ");e.appendChild(st)}var lt=document.createTextNode("\n\n\n");return e.appendChild(lt),e},Kc=/_coral([^\s]+)/g,Gc=function(t,e){for(var i=["is","id","variant","size"],n=0;n<t.attributes.length;n++){var a=t.attributes[n];-1===i.indexOf(a.nodeName)&&("class"===a.nodeName?e.setAttribute(a.nodeName,"".concat(e.className," ").concat(a.nodeValue.replace(Kc,""))):e.setAttribute(a.nodeName,a.nodeValue))}},Zc=function(t){return function(t){s(i,t);var e=d(i);function i(){var t;a(this,i),(t=e.call(this))._elements={},t._itemsInPopover=[],jc.call(t._elements),$c.call(t._elements,{commons:da}),Wc.call(t._elements,{items:t._itemsInPopover,copyAttributes:Gc}),t._elements.overlay.focusOnShow=t._elements.overlay;var n=t._elements.overlay.id,o={};return o["global:capture:coral-overlay:beforeopen #".concat(n)]="_onOverlayBeforeOpen",o["global:capture:coral-overlay:beforeclose #".concat(n)]="_onOverlayBeforeClose",o["global:key:down #".concat(n)]="_onOverlayKeyDown",o["global:key:up #".concat(n)]="_onOverlayKeyUp",t._delegateEvents(o),t.items._startHandlingItems(!0),t}return r(i,[{key:"_styleItem",value:function(t){var e=t.querySelector('button[is="coral-button"]')||t.querySelector('a[is="coral-anchorbutton"]');if(e){e.classList.add("_coral-ActionBar-button");var i=e.getAttribute("variant");if(i===Yo.variant.ACTION||i===Yo.variant.QUIET_ACTION)return;e.setAttribute("variant",i===Yo.variant.QUIET?Yo.variant.QUIET_ACTION:Yo.variant.ACTION)}}},{key:"_onOverlayBeforeOpen",value:function(t){if(t.target===this._elements.overlay&&(this._itemsInPopover=this.items._getAllOffScreen(),!(this._itemsInPopover.length<1))){this._itemsInPopover.forEach((function(t){t.style.visibility=""})),this._itemsInPopover.forEach((function(t){t._button=t.querySelector('button[is="coral-button"]')||t.querySelector('a[is="coral-anchorbutton"]'),t._popover=t.querySelector("coral-popover")})),this._itemsInPopover.isButtonList=this._itemsInPopover.every((function(t){return t._button&&"BUTTON"===t._button.tagName})),this._itemsInPopover.isAnchorList=this._itemsInPopover.every((function(t){return t._button&&"A"===t._button.tagName})),this._elements.overlay.hidden=!1;var e=this._elements.overlay;e.content.innerHTML="",e.content.appendChild(Wc.call(this._elements,{items:this._itemsInPopover,copyAttributes:Gc}))}}},{key:"_onOverlayBeforeClose",value:function(t){if(t.target===this._elements.overlay){var e=document.activeElement.parentNode;this._elements.overlay.hidden=!0;for(var i=this._elements.overlay.getElementsByTagName("coral-popover"),n=0;n<i.length;n++)i[n].open=!1;this._returnElementsFromPopover(),this._itemsInPopover=[];var a=this.parentNode.contains(e),o=e.hasAttribute&&e.hasAttribute("coral-actionbar-offscreen");a&&o&&this._elements.moreButton.focus()}}},{key:"_onOverlayKeyDown",value:function(t){t.preventDefault(),this._elements.anchorList&&this._elements.anchorList._focusFirstItem(t),this._elements.buttonList&&this._elements.buttonList._focusFirstItem(t)}},{key:"_onOverlayKeyUp",value:function(t){t.preventDefault(),this._elements.anchorList&&this._elements.anchorList._focusLastItem(t),this._elements.buttonList&&this._elements.buttonList._focusLastItem(t)}},{key:"connectedCallback",value:function(){m(l(i.prototype),"connectedCallback",this).call(this);var t=this._elements.overlay;t.removeAttribute("open"),t._parent&&t._parent.appendChild(t)}},{key:"render",value:function(){var t=this;m(l(i.prototype),"render",this).call(this);for(var e=this.getElementsByTagName("object"),n=0;n<e.length;++n){var a=e[n];a.parentNode===this&&this.removeChild(a)}var o=this.querySelector("[coral-actionbar-more]");o&&this.removeChild(o);var r=this.querySelector("[coral-actionbar-popover]");r&&this.removeChild(r),this._elements.moreButton.label.textContent=this.moreButtonText,this._elements.overlay.target=this._elements.moreButton;var s=document.createDocumentFragment();s.appendChild(this._elements.moreButton),s.appendChild(this._elements.overlay),this.appendChild(s),this.items.getAll().forEach((function(e){return t._styleItem(e)}))}},{key:"disconnectedCallback",value:function(){m(l(i.prototype),"disconnectedCallback",this).call(this);var t=this._elements.overlay;this.contains(t)||(t._parent=t._repositioned?document.body:this,t.remove())}},{key:"overlay",get:function(){return this._elements.overlay}},{key:"items",get:function(){return this._items||(this._items=new qc({host:this,itemTagName:"coral-actionbar-item",onItemAdded:this._styleItem})),this._items}},{key:"threshold",get:function(){return"number"==typeof this._threshold?this._threshold:-1},set:function(t){this._threshold=Ua.number(t),this._reflectAttribute("threshold",this._threshold)}},{key:"moreButtonText",get:function(){return this._moreButtonText||""},set:function(t){this._moreButtonText=Ua.string(t),this._elements.moreButton&&(this._elements.moreButtonLabel.innerHTML=this._moreButtonText,this._elements.moreButton[""===this._moreButtonText.trim()?"setAttribute":"removeAttribute"]("title",wa.get("More")))}}],[{key:"_attributePropertyMap",get:function(){return da.extend(m(l(i),"_attributePropertyMap",this),{morebuttontext:"moreButtonText"})}},{key:"observedAttributes",get:function(){return m(l(i),"observedAttributes",this).concat(["morebuttontext","threshold"])}}]),i}(t)},Xc=function(t){s(i,t);var e=d(i);function i(){return a(this,i),e.apply(this,arguments)}return r(i,[{key:"_returnElementsFromPopover",value:function(){for(var t=null,e=null,i=0;i<this._itemsInPopover.length;i++)(t=this._itemsInPopover[i]).style.visibility="hidden",(e=Uc(t))&&e.hasAttribute("tabindex")&&e.setAttribute("tabindex",-1),this.insertBefore(t,this._elements.moreButton),t._button&&t._popover&&(t._popover.target=t._button)}},{key:"_attachMoreButtonToContainer",value:function(){this.appendChild(this._elements.moreButton)}},{key:"render",value:function(){m(l(i.prototype),"render",this).call(this),this.classList.add("_coral-ActionBar-primary"),this._attachMoreButtonToContainer()}}]),i}(Zc(ho(HTMLElement))),Qc=function(t){s(i,t);var e=d(i);function i(){return a(this,i),e.apply(this,arguments)}return r(i,[{key:"_returnElementsFromPopover",value:function(){for(var t=null,e=null,i=0;i<this._itemsInPopover.length;i++)(t=this._itemsInPopover[i]).style.visibility="hidden",(e=Uc(t))&&e.hasAttribute("tabindex")&&e.setAttribute("tabindex",-1),this.insertBefore(t,this.firstChild.nextSibling)}},{key:"_attachMoreButtonToContainer",value:function(){this.insertBefore(this._elements.moreButton,this.firstChild)}},{key:"render",value:function(){m(l(i.prototype),"render",this).call(this),this.classList.add("_coral-ActionBar-secondary"),this._attachMoreButtonToContainer()}}]),i}(Zc(ho(HTMLElement))),Yc={PRIMARY:"primary",SECONDARY:"secondary",INVALID:"invalid"},Jc=function(t){s(i,t);var e=d(i);function i(){var t;return a(this,i),t=e.call(this),da._log("warn","Coral.ActionBar.Container: coral-actionbar-container has been deprecated.\n    Please use coral-actionbar-primary and coral-actionbar-secondary instead"),t}return r(i,[{key:"_attachMoreButtonToContainer",value:function(){this.parentNode&&this.parentNode.secondary===this?this.insertBefore(this._elements.moreButton,this.firstChild):this.appendChild(this._elements.moreButton)}},{key:"render",value:function(){m(l(i.prototype),"render",this).call(this),this.classList.add("_coral-ActionBar-container");for(var t=this.getElementsByTagName("object"),e=0;e<t.length;++e){var n=t[e];n.parentNode===this&&this.removeChild(n)}this._elements.moreButton=this.querySelector("[coral-actionbar-more]"),this._elements.moreButton&&this.removeChild(this._elements.moreButton),this._elements.overlay=this.querySelector("[coral-actionbar-popover]"),this._elements.overlay&&this.removeChild(this._elements.overlay),this._elements.moreButton.label.textContent=this.moreButtonText,this.appendChild(this._elements.moreButton),this._elements.overlay.target=this._elements.moreButton,this.insertBefore(this._elements.overlay,this.firstChild),this._attachMoreButtonToContainer()}},{key:"_position",get:function(){if(this.parentNode){var t=this.parentNode.getElementsByTagName("coral-actionbar-container");if(t.length>0&&t[0]===this)return Yc.PRIMARY;if(t.length>1&&t[1]===this)return Yc.SECONDARY}return Yc.INVALID}}],[{key:"position",get:function(){return Yc}}]),i}(Zc(ho(HTMLElement)));da.extend(ka,{"coral-component-actionbar":{"en-US":{More:"More"},"de-DE":{More:"Mehr"},"fr-FR":{More:"Plus"},"it-IT":{More:"Altro"},"ja-JP":{More:"ãã®ä»"},"es-ES":{More:"MÃ¡s"},"ko-KR":{More:"ìì¸í"},"zh-CN":{More:"æ´å¤"},"zh-TW":{More:"æ´å¤"},"pt-BR":{More:"Mais"},"nl-NL":{More:"Meer"},"da-DK":{More:"Mere"},"fi-FI":{More:"LisÃ¤Ã¤"},"nb-NO":{More:"Mer"},"sv-SE":{More:"Mer"},"cs-CZ":{More:"VÃ­ce"},"pl-PL":{More:"WiÄcej"},"ru-RU":{More:"ÐÐ¾Ð¿Ð¾Ð»Ð½Ð¸ÑÐµÐ»ÑÐ½Ð¾"},"tr-TR":{More:"Daha Fazla"}}}),da._define("coral-actionbar-item",zc),da._define("coral-actionbar-primary",Xc),da._define("coral-actionbar-secondary",Qc),da._define("coral-actionbar-container",Jc),da._define("coral-actionbar",Bc),Bc.Item=zc,Bc.Primary=Xc,Bc.Secondary=Qc,Bc.Container=Jc;var tu={ERROR:"error",WARNING:"warning",SUCCESS:"success",HELP:"help",INFO:"info"},eu={SMALL:"S",LARGE:"L"},iu=[];for(var nu in tu)iu.push("".concat("_coral-Alert","--").concat(tu[nu]));var au=function(t){s(i,t);var e=d(i);function i(){var t;return a(this,i),(t=e.call(this))._elements={header:t.querySelector("coral-alert-header")||document.createElement("coral-alert-header"),content:t.querySelector("coral-alert-content")||document.createElement("coral-alert-content"),footer:t.querySelector("coral-alert-footer")||document.createElement("coral-alert-footer")},t._delegateEvents({"click [coral-close]":"_onCloseClick"}),t}return r(i,[{key:"_onCloseClick",value:function(t){var e=t.matchedTarget.getAttribute("coral-close");e&&!this.matches(e)||(this.hidden=!0,t.stopPropagation()),this._trackEvent("close","coral-alert",t)}},{key:"_insertTemplate",value:function(){this._elements.icon&&this._elements.icon.remove();var t=this.variant;t!==tu.WARNING&&t!==tu.ERROR||(t="alert");var e=function(t){return t.charAt(0).toUpperCase()+t.slice(1)}(t);this.insertAdjacentHTML("afterbegin",Uo._renderSVG("spectrum-css-icon-".concat(e,"Medium"),["_coral-Alert-icon","_coral-UIIcon-".concat(e,"Medium")])),this._elements.icon=this.querySelector("._coral-Alert-icon")}},{key:"render",value:function(){for(var t in m(l(i.prototype),"render",this).call(this),this.classList.add("_coral-Alert"),this.setAttribute("role","alert"),this._variant||(this.variant=tu.INFO),this._size||(this.size=eu.SMALL),this._contentZones){var e=this._elements[this._contentZones[t]];e.parentNode&&e.parentNode.removeChild(e)}for(;this.firstChild;){var n=this.firstChild;n.nodeType===Node.TEXT_NODE||n.nodeType===Node.ELEMENT_NODE&&!n.classList.contains("_coral-Alert-icon")?this._elements.content.appendChild(n):this.removeChild(n)}for(var a in this._insertTemplate(),this._contentZones){var o=this._contentZones[a];this[o]=this._elements[o]}}},{key:"variant",get:function(){return this._variant||tu.INFO},set:function(t){var e;t=Ua.string(t).toLowerCase(),this._variant=Ba.enumeration(tu)(t)&&t||tu.INFO,this._reflectAttribute("variant",this._variant),this._insertTemplate(),(e=this.classList).remove.apply(e,iu),this.classList.add("".concat("_coral-Alert","--").concat(this._variant))}},{key:"size",get:function(){return this._size||eu.SMALL},set:function(t){t=Ua.string(t).toUpperCase(),this._size=Ba.enumeration(eu)(t)&&t||eu.SMALL,this._reflectAttribute("size",this._size)}},{key:"header",get:function(){return this._getContentZone(this._elements.header)},set:function(t){this._setContentZone("header",t,{handle:"header",tagName:"coral-alert-header",insert:function(t){t.classList.add("".concat("_coral-Alert","-header")),this.insertBefore(t,this.firstChild)}})}},{key:"content",get:function(){return this._getContentZone(this._elements.content)},set:function(t){this._setContentZone("content",t,{handle:"content",tagName:"coral-alert-content",insert:function(t){t.classList.add("".concat("_coral-Alert","-content")),this.insertBefore(t,this.header.nextElementSibling)}})}},{key:"footer",get:function(){return this._getContentZone(this._elements.footer)},set:function(t){this._setContentZone("footer",t,{handle:"footer",tagName:"coral-alert-footer",insert:function(t){t.classList.add("".concat("_coral-Alert","-footer")),this.insertBefore(t,this.content.nextElementSibling)}})}},{key:"_contentZones",get:function(){return{"coral-alert-header":"header","coral-alert-content":"content","coral-alert-footer":"footer"}}}],[{key:"variant",get:function(){return tu}},{key:"size",get:function(){return eu}},{key:"observedAttributes",get:function(){return m(l(i),"observedAttributes",this).concat(["variant","size"])}}]),i}(ho(HTMLElement));da._define("coral-alert",au),au.Header=function(){return document.createElement("coral-alert-header")},au.Content=function(){return document.createElement("coral-alert-content")},au.Footer=function(){return document.createElement("coral-alert-footer")};var ou=function(t){s(i,t);var e=d(i);function i(){var t;return a(this,i),(t=e.call(this))._observer=new MutationObserver(t._handleMutation.bind(u(t))),t._observer.observe(u(t),{characterData:!0,childList:!0,subtree:!0}),t}return r(i,[{key:"_handleMutation",value:function(){this.trigger("coral-autocomplete-item:_contentchanged",{content:this.textContent})}},{key:"value",get:function(){return void 0===this._value?this.getAttribute("value")||this.textContent.replace(/\s{2,}/g," ").trim():this._value},set:function(t){this._value=Ua.string(t),this._reflectAttribute("value",this._value),this.trigger("coral-autocomplete-item:_valuechanged")}},{key:"content",get:function(){return this},set:function(t){if("object"===n(t))for(var e in t)this[e]=t[e]}},{key:"selected",get:function(){return this._selected||!1},set:function(t){this._selected=Ua.booleanAttr(t),this._reflectAttribute("selected",this._selected),this.trigger("coral-autocomplete-item:_selectedchanged")}},{key:"disabled",get:function(){return this._disabled||!1},set:function(t){this._disabled=Ua.booleanAttr(t),this._reflectAttribute("disabled",this._disabled)}}],[{key:"observedAttributes",get:function(){return m(l(i),"observedAttributes",this).concat(["selected","disabled","value"])}}]),i}(ho(HTMLElement)),ru=function(t){var e=document.createDocumentFragment(),i=t=void 0===t?{}:t,n=this.overlay=document.createElement("coral-popover");n.setAttribute("withinoffset","0"),n.setAttribute("smart",""),n.id=t.commons.getUID(),n.className+=" _coral-Autocomplete-overlay",n.setAttribute("focusonshow","off"),n.setAttribute("returnfocus","off"),n.setAttribute("placement","bottom"),n.setAttribute("handle","overlay"),n.setAttribute("role","presentation"),n.setAttribute("breadthoffset","50%r - 50%p");var a=document.createTextNode("\n  ");n.appendChild(a);t=i=t;var o=document.createTextNode("\n  ");n.appendChild(o);var r=this.selectList=document.createElement("coral-buttonlist");r.setAttribute("style","max-height:192px"),r.id=t.commons.getUID(),r.className+=" _coral-Autocomplete-selectList",r.setAttribute("handle","selectList"),r.setAttribute("role","listbox"),r.setAttribute("interaction","off"),n.appendChild(r);var s=document.createTextNode("\n");n.appendChild(s),e.appendChild(n);var l=document.createTextNode("\n");e.appendChild(l);var c=this.field=document.createElement("input");c.setAttribute("type","hidden"),c.setAttribute("handle","field"),e.appendChild(c);var u=document.createTextNode("\n");e.appendChild(u);var h=this.inputGroup=document.createElement("div");h.className+=" _coral-InputGroup _coral-Autocomplete-inputGroup",h.setAttribute("handle","inputGroup"),h.setAttribute("role","presentation");var d=document.createTextNode("\n  ");h.appendChild(d);var p=this.input=document.createElement("input","coral-textfield");p.className+=" _coral-InputGroup-field _coral-Autocomplete-input",p.setAttribute("type","text"),p.setAttribute("autocomplete","off"),p.setAttribute("handle","input"),p.setAttribute("role","combobox"),p.setAttribute("is","coral-textfield"),h.appendChild(p);var m=document.createTextNode("\n  ");h.appendChild(m);var f=this.trigger=document.createElement("button","coral-button");f.setAttribute("type","button"),f.className+=" _coral-FieldButton _coral-InputGroup-button _coral-Autocomplete-trigger",f.setAttribute("is","coral-button"),f.setAttribute("variant","_custom"),f.setAttribute("handle","trigger"),f.setAttribute("aria-label",t.i18n.get("Show suggestions")),f.setAttribute("title",t.i18n.get("Show suggestions"));var g=document.createTextNode("\n    ");f.appendChild(g);var v=this.label=document.createElement("coral-button-label");v.setAttribute("handle","label"),f.appendChild(v);var _=document.createTextNode("\n    ");f.appendChild(_),i=t,this.trigger._elements.label=this.label,this.trigger.insertAdjacentHTML("beforeend",i.Icon._renderSVG("spectrum-css-icon-ChevronDownMedium",["_coral-InputGroup-icon","_coral-UIIcon-ChevronDownMedium"])),t=i;var b=document.createTextNode("\n  ");f.appendChild(b),h.appendChild(f);var y=document.createTextNode("\n");h.appendChild(y),e.appendChild(h);var C=document.createTextNode("\n");e.appendChild(C);var A=this.tagList=document.createElement("coral-taglist");A.className+=" _coral-Autocomplete-tagList",A.setAttribute("handle","tagList"),e.appendChild(A);var k=document.createTextNode("\n");return e.appendChild(k),e},su=function(t){var e=document.createDocumentFragment(),i=this.loadIndicator=document.createElement("div");i.className+=" _coral-SelectList-loading",i.setAttribute("handle","loadIndicator");var n=document.createTextNode("\n  ");i.appendChild(n);var a=document.createElement("coral-wait");a.setAttribute("centered",""),i.appendChild(a);var o=document.createTextNode("\n");i.appendChild(o),e.appendChild(i);var r=document.createTextNode("\n");return e.appendChild(r),e},lu={DEFAULT:"default",QUIET:"quiet"},cu={STARTSWITH:"startswith",CONTAINS:"contains"},uu=function(t){s(i,t);var e=d(i);function i(){var t;a(this,i),(t=e.call(this))._elements={},ru.call(t._elements,{Icon:Uo,commons:da,i18n:wa}),t._elements.tagList.reset=function(){},t._labellableElement=t._elements.input;var n=t._elements.overlay.id,o={'key:up [handle="input"]':"_handleInputUpKeypress",'key:alt+up [handle="input"]':"_handleInputUpKeypress",'key:down [handle="input"]':"_handleInputDownKeypress",'key:alt+down [handle="input"]':"_handleInputDownKeypress",'key:tab [handle="input"]':"_handleInputTabKeypress",'key:shift+tab [handle="input"]':"_handleListFocusShift",'capture:change [handle="input"]':"_handleInput",'input [handle="input"]':"_handleInputEvent",keydown:"_handleInputKeypressEnter",'click [handle="trigger"]':"_handleTriggerClick",'mousedown [handle="trigger"]':"_handleTriggerMousedown","capture:blur":"_handleFocusOut","global:click":"_onGlobalClick","global:touchstart":"_onGlobalClick",'coral-collection:add [handle="tagList"]':"_handleTagAdded",'coral-collection:remove [handle="tagList"]':"_handleTagRemoved",'change [handle="tagList"]':"_preventTagListChangeEvent","coral-autocomplete-item:_valuechanged":"_handleItemValueChange","coral-autocomplete-item:_selectedchanged":"_handleItemSelectedChange","coral-autocomplete-item:_contentchanged":"_handleItemContentChange"};return o["global:key:shift+tab #".concat(n,' [is="coral-buttonlist-item"]')]="_handleListFocusShift",o["global:key:esc"]="_handleListFocusShift",o["global:capture:coral-overlay:positioned #".concat(n)]="_onOverlayPositioned",o["global:capture:coral-overlay:open #".concat(n)]="_onOverlayOpenOrClose",o["global:capture:coral-overlay:close #".concat(n)]="_onOverlayOpenOrClose",o["global:key:enter #".concat(n,' button[is="coral-buttonlist-item"]')]="_handleSelect",o["global:capture:mousedown #".concat(n,' button[is="coral-buttonlist-item"]')]="_handleSelect",o["global:capture:scroll #".concat(n,' [handle="selectList"]')]="_onScroll",o["global:capture:mousewheel #".concat(n,' [handle="selectList"]')]="_onMouseWheel",o["global:capture:mousedown #".concat(n,' [handle="selectList"]')]="_onMouseDown",t._delegateEvents(o),t._tagMap={},t._values=[],t._options=[],t._optionsMap={},t._initialSelectedValues=[],t._handleScrollBottom=t._handleScrollBottom.bind(u(t)),t._observer=new MutationObserver(t._handleMutation.bind(u(t))),t._startObserving(),t}return r(i,[{key:"_getName",value:function(){return this.multiple?this._elements.tagList.name:this._elements.field.name}},{key:"_setName",value:function(t){this.multiple?(this._elements.tagList.name=t,this._elements.field.name=""):(this._elements.field.name=t,this._elements.tagList.name="")}},{key:"_startObserving",value:function(){this._observer.observe(this,{childList:!0})}},{key:"_stopObserving",value:function(){this._observer.disconnect()}},{key:"_onInputChange",value:function(t){if(t.stopPropagation(),!this.multiple){var e=this._elements.input.value.toLowerCase();if(this.forceSelection||""===e)for(var i=this.items.getAll(),n=0;n<i.length;n++)i[n].value.toLowerCase()!==e&&(i[n].selected=!1)}}},{key:"_handleMutation",value:function(t){for(var e=0;e<t.length;e++){var i=t[e],n=i.target;if("childList"===i.type&&n===this)return void this._setStateFromDOM()}}},{key:"_setStateFromDOM",value:function(){this._createOptionsFromDOM(),this._setSelectedFromDOM()}},{key:"_createOptionsFromDOM",value:function(){var t=this;this._options.length=0,this._optionsMap={},this.items.getAll().forEach((function(e){var i={value:e.getAttribute("value"),icon:e.getAttribute("icon"),disabled:e.hasAttribute("disabled"),content:e.innerHTML.replace(/\s{2,}/g," ").trim(),text:e.innerText};t._options.push(i),t._optionsMap[i.value]=i}))}},{key:"_setInputValues",value:function(t,e){this._elements.field.value=t,(this.multiple||""!==e)&&(this._elements.input.value=e.trim())}},{key:"_reflectCurrentValue",value:function(){var t=this._values.length>0?this._values[0]:"";this._elements.field.value=t;var e="";if(""!==t){var i=this._optionsMap[t];e=i?i.content:t}this._setInputValues(t,e)}},{key:"_setSelectedFromDOM",value:function(){var t=this.selectedItems;if(t.length)if(this.hasAttribute("multiple")){this._resetValues();for(var e=0;e<t.length;e++){var i=t[e].getAttribute("value"),n=t[e].innerHTML;this._addValue(i,n,!0)}}else{var a=t[t.length-1];this._deselectExcept(a,t),this.value=a.getAttribute("value")}else this.hasAttribute("value")||(this.hasAttribute("multiple")?this._resetValues():this.value="")}},{key:"_deselectExcept",value:function(t,e){var i=e||this.selectedItems;this._stopObserving();for(var n=0;n<i.length;n++)i[n]!==t&&i[n].removeAttribute("selected");this._startObserving()}},{key:"_addValue",value:function(t,e,i){if(!e){var n=this._optionsMap[t];e=n?n.content:t}-1===this._values.indexOf(t)&&this._values.push(t);var a={};i?a.innerHTML=e:a.textContent=e;var o=(new yr).set({label:a,value:t});this._tagMap[t]=o,this._elements.tagList.items.add(o),this._setInputValues("","")}},{key:"_removeValue",value:function(t){var e=this._values.indexOf(t);if(-1!==e){this._values.splice(e,1);var i=this.querySelector("coral-autocomplete-item[value=".concat(JSON.stringify(t),"]"));i&&i.hasAttribute("selected")&&(this._stopObserving(),i.removeAttribute("selected"),this._startObserving());var n=this._tagMap[t];n&&(this._tagMap[t]=null,this._elements.tagList.items.remove(n)),-1!==e&&this.trigger("change")}}},{key:"_clearValues",value:function(){this._resetValues(),this._stopObserving();for(var t=this.querySelectorAll("coral-autocomplete-item[selected]"),e=0;e<t.length;e++)t[e].removeAttribute("selected");this._startObserving()}},{key:"_resetValues",value:function(){this._values=[],this._tagMap={},this._elements.tagList.items.clear()}},{key:"_focusNextItem",value:function(){var t,e,i=this,n=this._elements.selectList,a=n.querySelector(".is-focused"),o=this._elements.input,r=n._getSelectableItems();a?(t=r.indexOf(a))<r.length-1&&(e=r[t+1]):r&&r.length>0&&(e=r[0]),window.requestAnimationFrame((function(){e&&(a&&a.classList.remove("is-focused"),i._scrollItemIntoView(e),e.classList.add("is-focused"),o.setAttribute("aria-activedescendant",e.id)),n.querySelector(".is-focused")||o.removeAttribute("aria-activedescendant")}))}},{key:"_focusPreviousItem",value:function(){var t,e,i=this,n=this._elements.selectList,a=n.querySelector(".is-focused"),o=this._elements.input,r=n._getSelectableItems();a?((t=r.indexOf(a))>0&&(e=r[t-1]),a.classList.remove("is-focused")):r&&r.length>0&&(e=r[r.length-1]),window.requestAnimationFrame((function(){e&&(i._scrollItemIntoView(e),e.classList.add("is-focused"),o.setAttribute("aria-activedescendant",e.id)),n.querySelector(".is-focused")||o.removeAttribute("aria-activedescendant")}))}},{key:"_showSuggestions",value:function(){var t=this._elements.input.value.toLowerCase().trim();this.clearSuggestions();var e=this.trigger("coral-autocomplete:showsuggestions",{value:t,start:0});this._showSuggestionsCalled=!0,e.defaultPrevented?(this.loading=!0,this.showSuggestions()):(this.addSuggestions(this._getMatches(t,this._optionContainsValue)),this.showSuggestions())}},{key:"_onOverlayPositioned",value:function(t){t.stopImmediatePropagation(),this._elements.overlay.open&&(this._elements.overlay.style.width="".concat(this.offsetWidth,"px"))}},{key:"_onGlobalClick",value:function(t){if(this._elements.overlay.open){var e=this._elements.inputGroup.contains(t.target),i=this._elements.overlay.contains(t.target);e||i||this.hideSuggestions()}}},{key:"_onScroll",value:function(){this._isOverlayScrolling=!0,window.clearTimeout(this._scrollTimeout),this._scrollTimeout=window.setTimeout(this._handleScrollBottom,100)}},{key:"_onMouseWheel",value:function(t){var e=this._elements.selectList;(t.deltaY<0&&0===e.scrollTop||t.deltaY>0&&e.scrollTop>=e.scrollHeight-e.clientHeight)&&t.preventDefault()}},{key:"_onMouseDown",value:function(t){this._isOverlayScrollBarClicked=t.matchedTarget.clientWidth<=t.offsetX}},{key:"_handleScrollBottom",value:function(){var t=this._elements.selectList;if(t.scrollTop>=t.scrollHeight-t.clientHeight-50){var e=this._elements.input.value;this.trigger("coral-autocomplete:showsuggestions",{value:e,start:t.items.length}).defaultPrevented&&(this.loading=!0)}}},{key:"_handleFocusOut",value:function(t){var e=this,i=this._elements.selectList,n=t.target,a=n===this._elements.input;this._blurTimeout&&clearTimeout(this._blurTimeout),this._blurTimeout=window.setTimeout((function(){var o=document.activeElement,r=!e.contains(o)&&!e._elements.overlay.contains(o);a&&r&&!e.multiple?e._handleInput(t):(!o||(a||o!==document.body)&&r||i.contains(n)&&!i.contains(o))&&e.hideSuggestions()}),0)}},{key:"_handleListFocusShift",value:function(t){this._elements.overlay.open&&(t.preventDefault(),t.stopImmediatePropagation(),this._hideSuggestionsAndFocus())}},{key:"_hideSuggestionsAndFocus",value:function(){this.hideSuggestions(),this._elements.input.focus()}},{key:"_handleTriggerClick",value:function(){this._elements.overlay.classList.contains("is-open")?this._hideSuggestionsAndFocus():(this._showSuggestions(),this._elements.input.focus())}},{key:"_handleTriggerMousedown",value:function(){this._elements.trigger.focus()}},{key:"_handleListItemFocus",value:function(t){var e=t.matchedTarget,i=this._elements.selectList.querySelector(".is-focused"),n=this._elements.input;i&&(i.classList.remove("is-focused"),n.removeAttribute("aria-activedescendant")),e.disabled||(this._scrollItemIntoView(e),e.classList.add("is-focused"),n.setAttribute("aria-activedescendant",e.id))}},{key:"_scrollItemIntoView",value:function(t){var e=t.getBoundingClientRect(),i=this._elements.selectList.getBoundingClientRect();e.top<i.top?t.scrollIntoView():e.bottom>i.bottom&&t.scrollIntoView(!1)}},{key:"_getMatches",value:function(t,e){e=e||this._matchFunction;for(var i=[],n=0;n<this._options.length;n++)e(this._options[n],t)&&i.push(this._options[n]);if(!i.length)for(var a=this._elements.selectList.items.getAll(),o=0;o<a.length;o++){var r={value:a[o].value,content:a[o].textContent.trim()};e(r,t)&&i.push(r)}return i}},{key:"_handleInputKeypressEnter",value:function(t){13===t.which&&this._handleInput(t)}},{key:"_handleInputEvent",value:function(){this.invalid=!1,this.delay?(window.clearTimeout(this._timeout),this._timeout=window.setTimeout(this._showSuggestions.bind(this),this.delay)):this._showSuggestions()}},{key:"_handleInput",value:function(t){if(this._isOverlayScrolling||this._isOverlayScrollBarClicked)return this._isOverlayScrolling=!1,void(this._isOverlayScrollBarClicked=!1);var e;if(t.preventDefault(),this._elements.overlay.open&&this._elements.input.getAttribute("aria-activedescendant")){var i=this._elements.selectList.querySelector(".is-focused");i&&(e=i.textContent.trim())}var n=e||this._elements.input.value,a=!1,o=this._getMatches(n,this._optionEqualsValue);if(o.length){var r=o.filter((function(t){return t.content===n}))[0]||o[0];a=this.value!==r.value,this._selectItem(r.value,r.content,!1),this.multiple?n.trim()&&this._addValue(r.value,r.content,!1):this.value=r.value,this.forceSelection&&(this.invalid=!1),this.hideSuggestions(),!0===a&&this.trigger("change")}else this.forceSelection?this.multiple?this.invalid=""!==n||1===this.values.length&&""===this.values[0]||0===this.values.length:this.invalid=!0:(a=this.value!==n,this.multiple?n.trim()&&this._addValue(n,null,!1):this.value=n,this.hideSuggestions(),!0===a&&this.trigger("change"));this._updateButtonAccessibilityLabel()}},{key:"_selectItem",value:function(t,e,i){this._stopObserving();var n=this.querySelector("coral-autocomplete-item[value=".concat(JSON.stringify(t),"]"));if(n)n.setAttribute("selected","");else{var a={};e=void 0===e?t:e,i?a.innerHTML=e:a.textContent=e,this.items.add((new ou).set({value:t,content:a,selected:!0}))}this._startObserving()}},{key:"_handleInputUpKeypress",value:function(t){t.preventDefault(),this._elements.overlay.open?t.altKey?this.hideSuggestions():this._focusPreviousItem():this._showSuggestions()}},{key:"_handleInputDownKeypress",value:function(t){t.preventDefault(),this._elements.overlay.open?this._focusNextItem():this._showSuggestions()}},{key:"_handleInputTabKeypress",value:function(t){this._elements.overlay.open&&this._elements.input.getAttribute("aria-activedescendant")&&t.preventDefault()}},{key:"_handleSelect",value:function(t){var e=this,i=t.matchedTarget;i&&!i.disabled&&(this._selectItem(i.value,i.content.innerHTML,!0),this.multiple?this._addValue(i.value,i.content.innerHTML,!0):(this.value=i.value,this._setInputValues(this.value,i.content.textContent,!1)),window.requestAnimationFrame((function(){e._elements.input.focus()})),this.hideSuggestions(),this.trigger("change"))}},{key:"_preventTagListChangeEvent",value:function(t){t.stopImmediatePropagation()}},{key:"_handleTagAdded",value:function(){this._elements.tagList.style.width="".concat(this.offsetWidth,"px")}},{key:"_handleTagRemoved",value:function(t){for(var e=t.detail.item.value,i=!0,n=this._elements.tagList.items.getAll(),a=0;a<n.length;a++)if(n[a].value===e){i=!1;break}i&&this._removeValue(e),0===this.selectedItems.length&&this._elements.input.focus(),this._updateButtonAccessibilityLabel()}},{key:"_handleItemValueChange",value:function(t){t.stopImmediatePropagation(),this._createOptionsFromDOM()}},{key:"_handleItemContentChange",value:function(t){t.stopImmediatePropagation(),this._createOptionsFromDOM()}},{key:"_handleItemSelectedChange",value:function(t){t.stopImmediatePropagation();var e=t.target,i=e.hasAttribute("selected");this.multiple?this[i?"_addValue":"_removeValue"](e.value,e.content.innerHTML,!0):i?(this._elements.input.value=e.content.textContent.replace(/\s{2,}/g," ").trim(),this.value=e.value,this.invalid=!1,this._deselectExcept(e)):this.value===e.value&&(this.value="",this.trigger("change"))}},{key:"_optionContainsValue",value:function(t,e){return e=("string"==typeof e?e:"").toLowerCase(),-1!==(t.text||t.content).toLowerCase().indexOf(e)}},{key:"_optionStartsWithValue",value:function(t,e){return e=("string"==typeof e?e:"").toLowerCase(),0===t.content.toLowerCase().trim().indexOf(e)}},{key:"_optionEqualsValue",value:function(t,e){return e=("string"==typeof e?e:"").toLowerCase(),t.content.toLowerCase().trim()===e}},{key:"_updateButtonAccessibilityLabel",value:function(t){var e=wa.get("Show suggestions");1===t?e=wa.get("Show suggestion"):t>1&&(e=wa.get("Show {0} suggestions",t)),this._elements.trigger.setAttribute("aria-label",e),this._elements.trigger.setAttribute("title",e)}},{key:"clear",value:function(){this.value="",this._elements.input.clear(),this.multiple&&this._clearValues()}},{key:"clearSuggestions",value:function(){this._elements.selectList.items.clear(),this._updateButtonAccessibilityLabel()}},{key:"addSuggestions",value:function(t,e){this.loading=!1,e&&this.clearSuggestions();for(var i=0;i<t.length;i++){var n=t[i].value,a=t[i].content,o=t[i].icon,r=!!t[i].disabled;this.multiple&&-1!==this.values.indexOf(n)||(this._elements.selectList.items.add({value:n,type:"button",icon:o,disabled:r,id:da.getUID(),tabIndex:-1,content:{innerHTML:a}}),this._elements.selectList.items.last().setAttribute("role","option"))}t.length||this._elements.selectList.items.length?this._updateButtonAccessibilityLabel(this._elements.selectList.items.length):(this._elements.selectList.items.add({type:"button",content:{innerHTML:"<em>".concat(wa.get("No matching results."),"</em>")},disabled:!0}),this._elements.selectList.items.last().setAttribute("role","status"),this._elements.selectList.items.last().setAttribute("aria-live","polite"),this._elements.input.removeAttribute("aria-activedescendant"),this._updateButtonAccessibilityLabel())}},{key:"showSuggestions",value:function(){var t=this;this._showSuggestionsCalled?this._showSuggestionsCalled=!1:this._showSuggestions(),this._elements.overlay.open=!0,requestAnimationFrame((function(){t._elements.overlay._onAnimate(),t._elements.overlay.reposition()})),this._elements.input.setAttribute("aria-expanded","true"),this._elements.trigger.setAttribute("aria-expanded","true")}},{key:"hideSuggestions",value:function(){this._elements.overlay.open=!1,this._elements.input.setAttribute("aria-expanded","false"),this._elements.trigger.setAttribute("aria-expanded","false"),this._elements.input.removeAttribute("aria-activedescendant"),window.clearTimeout(this._timeout),this.trigger("coral-autocomplete:hidesuggestions")}},{key:"_onOverlayOpenOrClose",value:function(t){this._elements.overlay.open?(this._elements.input.setAttribute("aria-expanded","true"),this._elements.trigger.setAttribute("aria-expanded","true")):(this._elements.input.setAttribute("aria-expanded","false"),this._elements.trigger.setAttribute("aria-expanded","false"),this._elements.input.removeAttribute("aria-activedescendant"))}},{key:"reset",value:function(){this.values=this._initialSelectedValues}},{key:"connectedCallback",value:function(){m(l(i.prototype),"connectedCallback",this).call(this);var t=this._elements.overlay;t.removeAttribute("open"),t._parent&&t._parent.appendChild(t)}},{key:"render",value:function(){m(l(i.prototype),"render",this).call(this),this.classList.add("_coral-Autocomplete"),this.setAttribute("role","group"),this._elements.input.setAttribute("role","combobox"),this._elements.input.setAttribute("aria-autocomplete","list"),this._elements.input.setAttribute("aria-haspopup","listbox"),this._elements.input.setAttribute("aria-expanded","false"),this._elements.input.setAttribute("aria-controls",this._elements.selectList.id),this._elements.trigger.setAttribute("aria-haspopup","listbox"),this._elements.trigger.setAttribute("aria-expanded","false"),this._elements.trigger.setAttribute("aria-controls",this._elements.selectList.id),this._variant||(this.variant=lu.DEFAULT);var t=document.createDocumentFragment();for(t.appendChild(this._elements.field),t.appendChild(this._elements.inputGroup),t.appendChild(this._elements.tagList),t.appendChild(this._elements.overlay),this._elements.overlay.target=this._elements.trigger;this.firstChild;){var e=this.firstChild;e.nodeType===Node.TEXT_NODE||e.hasAttribute&&!e.hasAttribute("handle")?t.appendChild(e):this.removeChild(e)}this.appendChild(t),this._setStateFromDOM(),this._initialSelectedValues=this.values.slice(0)}},{key:"disconnectedCallback",value:function(){m(l(i.prototype),"disconnectedCallback",this).call(this);var t=this._elements.overlay;this.contains(t)||(t._parent=t._repositioned?document.body:this,t.remove())}},{key:"overlay",get:function(){return this._elements.overlay}},{key:"items",get:function(){return this._items||(this._items=new sr({itemTagName:"coral-autocomplete-item",host:this})),this._items}},{key:"multiple",get:function(){return this._multiple||!1},set:function(t){this._multiple=Ua.booleanAttr(t),this._reflectAttribute("multiple",this._multiple),this._setName(this.name),this._multiple?this._elements.tagList.hidden=!1:(this._elements.tagList.hidden=!0,this._elements.tagList.items.clear()),this.labelledBy=this.labelledBy}},{key:"delay",get:function(){return"number"==typeof this._delay?this._delay:200},set:function(t){"number"==typeof(t=Ua.number(t))&&t>=0&&(this._delay=Ua.number(t))}},{key:"forceSelection",get:function(){return this._forceSelection||!1},set:function(t){this._forceSelection=Ua.booleanAttr(t),this._reflectAttribute("forceselection",this._forceSelection)}},{key:"placeholder",get:function(){return this._elements.input.placeholder},set:function(t){this._elements.input.placeholder=t,this._reflectAttribute("placeholder",this.placeholder)}},{key:"maxLength",get:function(){return this._elements.input.maxLength},set:function(t){this._elements.input.maxLength=t,this._reflectAttribute("maxlength",this._elements.input.maxLength)}},{key:"variant",get:function(){return this._variant||lu.DEFAULT},set:function(t){t=Ua.string(t).toLowerCase(),this._variant=Ba.enumeration(lu)(t)&&t||lu.DEFAULT,this._reflectAttribute("variant",this._variant),this._variant===lu.QUIET?(this._elements.inputGroup.classList.add("_coral-InputGroup--quiet"),this._elements.input.variant=_o.variant.QUIET,this._elements.trigger.classList.add("_coral-FieldButton--quiet")):(this._elements.inputGroup.classList.remove("_coral-InputGroup--quiet"),this._elements.input.variant=_o.variant.DEFAULT,this._elements.trigger.classList.remove("_coral-FieldButton--quiet"))}},{key:"match",get:function(){return this._match||cu.CONTAINS},set:function(t){"function"==typeof t?(this._match=t,this._matchFunction=t):(t=Ua.string(t).toLowerCase(),this._match=Ba.enumeration(cu)(t)&&t||cu.CONTAINS,this._match===cu.STARTSWITH?this._matchFunction=this._optionStartsWithValue:this._match===cu.CONTAINS&&(this._matchFunction=this._optionContainsValue))}},{key:"loading",get:function(){return this._loading||!1},set:function(t){if(this._loading=Ua.booleanAttr(t),this._loading){var e=this._elements.overlay,i=e.scrollTop>=e.scrollHeight-e.clientHeight;this._elements.loadIndicator||su.call(this._elements),this._elements.selectList.appendChild(this._elements.loadIndicator),i&&(e.scrollTop=e.scrollHeight)}else this._elements.loadIndicator&&this._elements.loadIndicator.remove()}},{key:"selectedItems",get:function(){return this.items._getAllSelected()}},{key:"selectedItem",get:function(){return this.items._getAllSelected()[0]||null}},{key:"value",get:function(){var t=this.values;return t&&t.length>0?t[0]:""},set:function(t){this.values=[Ua.string(t)]}},{key:"values",get:function(){return this._values},set:function(t){if(null==t&&(t=[]),Array.isArray(t)){var e,i;1===t.length&&""===t[0]&&(t=[]);var n=[];if(this.forceSelection)for(e=0;e<t.length;e++)i=t[e],void 0!==this._optionsMap[i]&&n.push(i);else for(e=0;e<t.length;e++)i=t[e],n.push(i);if(this.multiple)for(this._clearValues(),e=0;e<n.length;e++)i=n[e],this._selectItem(i),this._addValue(i,null,!0);else this._values=n.length>0?[n[0]]:[],this._reflectCurrentValue()}}},{key:"name",get:function(){return this._getName()},set:function(t){this._reflectAttribute("name",t),this._setName(t)}},{key:"invalid",get:function(){return m(l(i.prototype),"invalid",this)},set:function(t){g(l(i.prototype),"invalid",t,this,!0),this._elements.inputGroup.classList.toggle("is-invalid",this.invalid),this._elements.trigger.classList.toggle("is-invalid",this.invalid),this._elements.input.invalid=this.invalid}},{key:"disabled",get:function(){return this._disabled||!1},set:function(t){this._disabled=Ua.booleanAttr(t),this._reflectAttribute("disabled",this._disabled),this[this._disabled?"setAttribute":"removeAttribute"]("aria-disabled",this._disabled),this._elements.inputGroup.classList.toggle("is-disabled",this._disabled),this._elements.input.disabled=this._disabled;var e=this._disabled||this.readOnly;this._elements.trigger.disabled=e,this._elements.tagList.disabled=e,this._elements.inputGroup.disabled=e}},{key:"readOnly",get:function(){return this._readOnly||!1},set:function(t){this._readOnly=Ua.booleanAttr(t),this._reflectAttribute("readonly",this._readOnly),this._elements.input.readOnly=this._readOnly;var e=this._readOnly||this.disabled;this._elements.trigger.readOnly=e,this._elements.tagList.readOnly=e,this._elements.inputGroup.disabled=e}},{key:"required",get:function(){return this._required||!1},set:function(t){this._required=Ua.booleanAttr(t),this._reflectAttribute("required",this._required),this._elements.input.required=this._required}},{key:"labelled",get:function(){return m(l(i.prototype),"labelled",this)},set:function(t){g(l(i.prototype),"labelled",t,this,!0),this[this.labelled?"setAttribute":"removeAttribute"]("aria-label",this.labelled),this._elements.selectList[this.labelled?"setAttribute":"removeAttribute"]("aria-label",this.labelled),this.labelled&&this.multiple?this._elements.tagList.setAttribute("aria-label",this.labelled):this._elements.tagList.removeAttribute("aria-label")}},{key:"labelledBy",get:function(){return m(l(i.prototype),"labelledBy",this)},set:function(t){g(l(i.prototype),"labelledBy",t,this,!0),this[this.labelledBy?"setAttribute":"removeAttribute"]("aria-labelledby",this.labelledBy),this._elements.selectList[this.labelledBy?"setAttribute":"removeAttribute"]("aria-labelledby",this.labelledBy),this.labelledBy&&this.multiple?this._elements.tagList.setAttribute("aria-labelledby",this.labelledBy):this._elements.tagList.removeAttribute("aria-labelledby")}},{key:"icon",get:function(){return this._icon||""},set:function(t){this._icon=Ua.string(t),this._reflectAttribute("icon",this._icon)}}],[{key:"match",get:function(){return cu}},{key:"variant",get:function(){return lu}},{key:"_attributePropertyMap",get:function(){return da.extend(m(l(i),"_attributePropertyMap",this),{forceselection:"forceSelection",maxlength:"maxLength"})}},{key:"observedAttributes",get:function(){return m(l(i),"observedAttributes",this).concat(["multiple","delay","forceselection","placeholder","maxlength","icon","match","loading","variant"])}}]),i}(mo(ho(HTMLElement)));da.extend(ka,{"coral-component-autocomplete":{"en-US":{"No matching results&period;":"No matching results.","Show suggestion":"Show suggestion","Show {0} suggestions":"Show {0} suggestions","Show suggestions":"Show suggestions"},"de-DE":{"No matching results&period;":"Keine passenden Ergebnisse.","Show suggestion":"Vorschlag anzeigen","Show {0} suggestions":"{0} VorschlÃ¤ge anzeigen","Show suggestions":"VorschlÃ¤ge anzeigen"},"es-ES":{"No matching results&period;":"No hay resultados coincidentes.","Show suggestion":"Mostrar sugerencia","Show {0} suggestions":"Mostrar {0} sugerencias","Show suggestions":"Mostrar sugerencias"},"ko-KR":{"No matching results&period;":"ì¼ì¹íë ê²°ê³¼ê° ììµëë¤.","Show suggestion":"ì ì ì¬í­ íì","Show {0} suggestions":"{0}ì ì ì¬í­ íì","Show suggestions":"ì ì ì¬í­ íì"},"fr-FR":{"No matching results&period;":"Aucun rÃ©sultat correspondant.","Show suggestion":"Afficher la suggestion","Show {0} suggestions":"Afficher {0} suggestions","Show suggestions":"Afficher les suggestions"},"ja-JP":{"No matching results&period;":"ä¸è´ããçµæãããã¾ããã","Show suggestion":"å¥ååè£ãè¡¨ç¤º","Show {0} suggestions":"{0}å¥ååè£ãè¡¨ç¤º","Show suggestions":"å¥ååè£ãè¡¨ç¤º"},"zh-CN":{"No matching results&period;":"æ å¹éçç»æã","Show suggestion":"æ¾ç¤ºå»ºè®®","Show {0} suggestions":"æ¾ç¤º {0} ä¸ªå»ºè®®","Show suggestions":"æ¾ç¤ºå»ºè®®"},"zh-TW":{"No matching results&period;":"æ²æç¸ç¬¦ççµæã","Show suggestion":"é¡¯ç¤ºå»ºè­°","Show {0} suggestions":"é¡¯ç¤º {0} åå»ºè­°","Show suggestions":"é¡¯ç¤ºå»ºè­°"},"pt-BR":{"No matching results&period;":"Nenhum resultado correspondente.","Show suggestion":"Mostrar sugestÃ£o","Show {0} suggestions":"Mostrar {0} sugestÃµes","Show suggestions":"Mostrar sugestÃµes"},"it-IT":{"No matching results&period;":"Nessun risultato corrispondente.","Show suggestion":"Mostra suggerimento","Show {0} suggestions":"Mostra {0} suggerimenti","Show suggestions":"Mostra suggerimenti"},"nl-NL":{"No matching results&period;":"Geen overeenkomende resultaten.","Show suggestion":"Voorstel tonen","Show {0} suggestions":"{0} voorstellen tonen","Show suggestions":"Voorstellen tonen"},"da-DK":{"No matching results&period;":"Ingen matchende resultater.","Show suggestion":"Vis forslag","Show {0} suggestions":"Vis  {0} forslag","Show suggestions":"Vis forslag"},"fi-FI":{"No matching results&period;":"Vastaavia tuloksia ei ole.","Show suggestion":"NÃ¤ytÃ¤ ehdotus","Show {0} suggestions":"NÃ¤ytÃ¤ {0} ehdotusta","Show suggestions":"NÃ¤ytÃ¤ ehdotukset"},"nb-NO":{"No matching results&period;":"Ingen tilsvarende resultater.","Show suggestion":"Vis forslag","Show {0} suggestions":"Vis {0} forslag","Show suggestions":"Vis forslag"},"sv-SE":{"No matching results&period;":"Inga matchande resultat.","Show suggestion":"Visa fÃ¶rslag","Show {0} suggestions":"Visa {0} fÃ¶rslag","Show suggestions":"Visa fÃ¶rslag"},"cs-CZ":{"No matching results&period;":"NeodpovÃ­dajÃ­ Å¾Ã¡dnÃ© vÃ½sledky.","Show suggestion":"Zobrazit doporuÄenÃ­","Show {0} suggestions":"Zobrazit nÃ¡sledujÃ­cÃ­ poÄet nÃ¡vrhÅ¯: {0}","Show suggestions":"Zobrazit doporuÄenÃ­"},"pl-PL":{"No matching results&period;":"Brak pasujÄcych wynikÃ³w.","Show suggestion":"PokaÅ¼ sugestiÄ","Show {0} suggestions":"WyÅwietl {0} sugestii","Show suggestions":"PokaÅ¼ sugestie"},"ru-RU":{"No matching results&period;":"ÐÐµÑ ÑÐ¾Ð¾ÑÐ²ÐµÑÑÑÐ²ÑÑÑÐ¸Ñ ÑÐµÐ·ÑÐ»ÑÑÐ°ÑÐ¾Ð².","Show suggestion":"ÐÐ¾ÐºÐ°Ð·Ð°ÑÑ Ð¿ÑÐµÐ´Ð»Ð¾Ð¶ÐµÐ½Ð¸Ðµ","Show {0} suggestions":"ÐÐ¾ÐºÐ°Ð·Ð°ÑÑ Ð¿ÑÐµÐ´Ð»Ð¾Ð¶ÐµÐ½Ð¸Ñ ({0})","Show suggestions":"ÐÐ¾ÐºÐ°Ð·Ð°ÑÑ Ð¿ÑÐµÐ´Ð»Ð¾Ð¶ÐµÐ½Ð¸Ñ"},"tr-TR":{"No matching results&period;":"EÅleÅen sonuÃ§ yok.","Show suggestion":"Ãneriyi gÃ¶ster","Show {0} suggestions":"{0} Ã¶nerilerini gÃ¶ster","Show suggestions":"Ãnerileri gÃ¶ster"}}}),da._define("coral-autocomplete-item",ou),da._define("coral-autocomplete",uu),uu.Item=ou;var hu={ERROR:"error",WARNING:"warning",INFO:"info"},du=[];for(var pu in hu)du.push("".concat("_coral-Banner","--").concat(hu[pu]));var mu=function(t){s(i,t);var e=d(i);function i(){var t;return a(this,i),(t=e.call(this))._elements={header:t.querySelector("coral-banner-header")||document.createElement("coral-banner-header"),content:t.querySelector("coral-banner-content")||document.createElement("coral-banner-content")},t}return r(i,[{key:"render",value:function(){m(l(i.prototype),"render",this).call(this),this.classList.add("_coral-Banner"),this._variant||(this.variant=hu.INFO);var t=this._elements.header,e=this._elements.content;if(!e.parentNode)for(;this.firstChild;){var n=this.firstChild;n===t?n.remove():e.appendChild(this.firstChild)}this.header=this._elements.header,this.content=this._elements.content}},{key:"variant",get:function(){return this._variant||hu.INFO},set:function(t){var e;t=Ua.string(t).toLowerCase(),this._variant=Ba.enumeration(hu)(t)&&t||hu.INFO,this._reflectAttribute("variant",this._variant),(e=this.classList).remove.apply(e,du),this.classList.add("".concat("_coral-Banner","--").concat(this._variant))}},{key:"header",get:function(){return this._getContentZone(this._elements.header)},set:function(t){this._setContentZone("header",t,{handle:"header",tagName:"coral-banner-header",insert:function(t){t.classList.add("".concat("_coral-Banner","-header")),this.insertBefore(t,this.firstChild)}})}},{key:"content",get:function(){return this._getContentZone(this._elements.content)},set:function(t){this._setContentZone("content",t,{handle:"content",tagName:"coral-banner-content",insert:function(t){t.classList.add("".concat("_coral-Banner","-content")),this.appendChild(t)}})}},{key:"_contentZones",get:function(){return{"coral-banner-header":"header","coral-banner-content":"content"}}}],[{key:"variant",get:function(){return hu}},{key:"observedAttributes",get:function(){return["variant"]}}]),i}(ho(HTMLElement));da._define("coral-banner",mu),mu.Header=function(){return document.createElement("coral-banner-header")},mu.Content=function(){return document.createElement("coral-banner-content")};var fu=function(t){var e=document.createDocumentFragment(),i=this.nativeSelect=document.createElement("select");i.className+=" _coral-ButtonGroup-select",i.setAttribute("tabindex","-1"),i.setAttribute("handle","nativeSelect"),e.appendChild(i);var n=document.createTextNode("\n");return e.appendChild(n),e},gu={NONE:"none",SINGLE:"single",MULTIPLE:"multiple"},vu=function(t){var e=t.getAttribute("value");return null!==e?e:t.textContent.replace(/\s{2,}/g," ").trim()},_u=function(t){s(i,t);var e=d(i);function i(){var t;return a(this,i),(t=e.call(this))._elements={},fu.call(t._elements),t._labellableElement=u(t),t._initalSelectedValues=[],t._delegateEvents(da.extend(t._events,{'click button[is="coral-button"]':"_onButtonClick",'capture:focus button[is="coral-button"]':"_onButtonFocus",'capture:blur button[is="coral-button"]':"_onButtonBlur",'key:up button[is="coral-button"]':"_onButtonKeyUpLeft",'key:left button[is="coral-button"]':"_onButtonKeyUpLeft",'key:down button[is="coral-button"]':"_onButtonKeyDownRight",'key:right button[is="coral-button"]':"_onButtonKeyDownRight",'key:home button[is="coral-button"]':"_onButtonKeyHome",'key:end button[is="coral-button"]':"_onButtonKeyEnd",'coral-button:_valuechanged button[is="coral-button"]':"_onButtonValueChanged",'coral-button:_selectedchanged button[is="coral-button"]':"_onButtonSelectedChanged"})),t.items._startHandlingItems(!0),t}return r(i,[{key:"reset",value:function(){this.values=this._initalSelectedValues}},{key:"_onButtonClick",value:function(t){var e=t.matchedTarget;if(this._onButtonFocus(t),this.readOnly)return t.preventDefault(),void t.stopImmediatePropagation();if(this.selectionMode===gu.SINGLE){t.preventDefault();var i=this.items._getAllSelected();0!==i.length&&i[0]!==e&&this._toggleItemSelection(i[0],!1),this._toggleItemSelection(e,!0),i[0]!==e&&this.trigger("change")}else this.selectionMode===gu.MULTIPLE&&(t.preventDefault(),this._toggleItemSelection(e),this.trigger("change"))}},{key:"_onButtonFocus",value:function(t){for(var e,i=t.matchedTarget,n=this.items.getAll(),a=n.length,o=0;o<a;o++)(e=n[o]).setAttribute("tabindex",e===i?0:-1)}},{key:"_onButtonBlur",value:function(t){for(var e,i,n=t.matchedTarget,a=this.items.getAll(),o=a.length,r=this.selectedItems.length,s=this.items._getFirstSelectable(),l=!1,c=0;c<o;c++)l=(e=a[c]).hasAttribute("selected"),i=this.selectionMode===gu.SINGLE?l?0:-1:this.selectionMode===gu.MULTIPLE?!r&&0===c||l&&e===n||!n.hasAttribute("selected")&&e===(this.selectedItems[r-1]||s)?0:-1:e===s?0:-1,e.setAttribute("tabindex",i)}},{key:"_onButtonKeyUpLeft",value:function(t){t.preventDefault();for(var e=t.matchedTarget,i=e.previousElementSibling;!i||i.disabled||"BUTTON"!==i.nodeName;)i=i?i.previousElementSibling:this.items._getLastSelectable();i!==e&&(this.selectionMode===gu.SINGLE&&i.click(),this._setFocusToButton(i))}},{key:"_onButtonKeyDownRight",value:function(t){t.preventDefault();for(var e=t.matchedTarget,i=e.nextElementSibling;!i||i.disabled||"BUTTON"!==i.nodeName;)i=i?i.nextElementSibling:this.items._getFirstSelectable();i!==e&&(this.selectionMode===gu.SINGLE&&i.click(),this._setFocusToButton(i))}},{key:"_onButtonKeyHome",value:function(t){t.preventDefault();var e=t.matchedTarget,i=this.items._getFirstSelectable();i!==e&&(this.selectionMode===gu.SINGLE&&i.click(),this._setFocusToButton(i))}},{key:"_onButtonKeyEnd",value:function(t){t.preventDefault();var e=t.matchedTarget,i=this.items._getLastSelectable();i!==e&&(this.selectionMode===gu.SINGLE&&i.click(),this._setFocusToButton(i))}},{key:"_setFocusToButton",value:function(t){t&&t.focus()}},{key:"_onItemAdded",value:function(t){(t._initialVariant=t._initialVariant||t.variant,t.variant!==Yo.variant.ACTION&&t.variant!==Yo.variant.QUIET_ACTION&&(t.variant=t.variant===Yo.variant.QUIET?Yo.variant.QUIET_ACTION:Yo.variant.ACTION),this.selectionMode!==gu.NONE?(this.selectionMode===gu.SINGLE?(t.setAttribute("role","radio"),t.setAttribute("tabindex",t.hasAttribute("selected")?0:-1)):t.setAttribute("role","checkbox"),t.setAttribute("aria-checked",t.hasAttribute("selected"))):t.removeAttribute("role"),t.disabled=this.disabled||this.readOnly&&!t.hasAttribute("selected"),t[this.readOnly?"setAttribute":"removeAttribute"]("aria-disabled",!0),this._addItemOption(t),this.selectionMode===gu.SINGLE)&&(this.items._getAllSelected().length>1&&t.hasAttribute("selected")&&t.removeAttribute("selected"))}},{key:"_onItemRemoved",value:function(t){if(t.variant=t._initialVariant,t._initialVariant=void 0,t.removeAttribute("role"),!t.parentNode){var e=this._initalSelectedValues.indexOf(t.value);-1!==e&&this._initalSelectedValues.splice(e,1)}t.option&&(t.option.parentNode.removeChild(t.option),t.option=void 0)}},{key:"_onCollectionChange",value:function(){this._validateSelection()}},{key:"_onButtonSelectedChanged",value:function(t){t.stopImmediatePropagation();var e=t.target,i=e.hasAttribute("selected");this.selectionMode===gu.SINGLE?this._validateSelection(i?e:null):this._toggleItemSelection(e,i)}},{key:"_onButtonValueChanged",value:function(t){t.stopImmediatePropagation();var e=t.target;this.selectionMode!==gu.NONE&&(e.option.value=vu(e))}},{key:"_toggleItemSelection",value:function(t,e){var i=t.getAttribute("aria-checked"),n=t.getAttribute("tabindex");(e=void 0!==e?e:!t.hasAttribute("selected"))?(t.hasAttribute("selected")||t.setAttribute("selected",""),"true"!==i&&t.setAttribute("aria-checked",!0),this.selectionMode===gu.SINGLE&&"0"!==n&&t.setAttribute("tabindex",0)):e||(t.hasAttribute("selected")&&t.removeAttribute("selected"),this.selectionMode!==gu.NONE?("false"!==i&&t.setAttribute("aria-checked",!1),this.selectionMode===gu.SINGLE&&"-1"!==n&&t.setAttribute("tabindex",-1)):(t.removeAttribute("aria-checked"),t.removeAttribute("tabindex"))),t.option&&(t.option.selected=e)}},{key:"_selectItemByValue",value:function(t){for(var e,i=this.items.getAll(),n=0,a=i.length;n<a;n++)e=i[n],this._toggleItemSelection(e,-1!==t.indexOf(vu(e)))}},{key:"_setInitialValues",value:function(){if(this.selectionMode!==gu.NONE)for(var t=this.selectedItems,e=0,i=t.length;e<i;e++)this._initalSelectedValues.push(t[e].value),this._addItemOption(t[e])}},{key:"_addItemOption",value:function(t){if(this.selectionMode!==gu.NONE&&!t.option){var e=document.createElement("option");e.value=vu(t),t.hasAttribute("selected")&&e.setAttribute("selected",""),t.option=e,this._elements.nativeSelect.add(e),this._toggleItemSelection(t,t.hasAttribute("selected"))}}},{key:"_removeItemOptions",value:function(){for(var t,e=this.items.getAll(),i=0,n=e.length;i<n;i++)(t=e[i]).removeAttribute("role"),t.removeAttribute("aria-checked"),t.hasAttribute("selected")&&this._toggleItemSelection(t,!1),t.option&&(t.option.parentNode.removeChild(t.option),delete t.option)}},{key:"_syncItemOptions",value:function(){var t,e=this.items.getAll(),i=e.length,n=0,a=null;this.selectionMode===gu.SINGLE?a="radio":this.selectionMode===gu.MULTIPLE&&(a="checkbox");for(var o=!1;n<i;n++)this._addItemOption(e[n]);for(n=i-1;n>=0;n--)o=(t=e[n]).hasAttribute("selected"),t.option.selected=o,t.setAttribute("aria-checked",o),a?t.setAttribute("role",a):t.removeAttribute("role")}},{key:"_validateSelection",value:function(t){if(this.selectionMode===gu.SINGLE){var e=this.items._getAllSelected(),i=e.length;if(0===i){var n=this.items._getFirstSelectable();n&&this._toggleItemSelection(n,!0)}else if(i>1){t=t||e[0],this._toggleItemSelection(t,!0);for(var a=0;a<i;a++)e[a]!==t&&this._toggleItemSelection(e[a],!1)}}}},{key:"render",value:function(){m(l(i.prototype),"render",this).call(this),m(l(i.prototype),"connectedCallback",this).call(this),this.classList.add("_coral-ButtonGroup"),this._selectionMode||(this.selectionMode=gu.NONE);var t=document.createDocumentFragment();for(t.appendChild(this._elements.nativeSelect);this.firstChild;){var e=this.firstChild;e.nodeType===Node.TEXT_NODE||"nativeSelect"!==e.getAttribute("handle")?t.appendChild(e):this.removeChild(e)}this.appendChild(t),this._setInitialValues(),this.items._startHandlingItems()}},{key:"items",get:function(){return this._items||(this._items=new sr({host:this,itemBaseTagName:"button",itemTagName:"coral-button",itemSelector:'button[is="coral-button"]',onItemAdded:this._onItemAdded,onItemRemoved:this._onItemRemoved,onCollectionChange:this._onCollectionChange})),this._items}},{key:"selectionMode",get:function(){return this._selectionMode||gu.NONE},set:function(t){t=Ua.string(t).toLowerCase(),this._selectionMode=Ba.enumeration(gu)(t)&&t||gu.NONE,this._reflectAttribute("selectionmode",this._selectionMode),this._elements.nativeSelect.multiple=this._selectionMode===gu.MULTIPLE,this._selectionMode===gu.SINGLE?(this.setAttribute("role","radiogroup"),this._syncItemOptions(),this._validateSelection()):this._selectionMode===gu.MULTIPLE?(this.setAttribute("role","group"),this._syncItemOptions()):(this.setAttribute("role","group"),this._removeItemOptions())}},{key:"name",get:function(){return this._elements.nativeSelect.name},set:function(t){this._reflectAttribute("name",t),this._elements.nativeSelect.name=t}},{key:"value",get:function(){return this._elements.nativeSelect.value},set:function(t){this.selectionMode!==gu.NONE&&this._selectItemByValue([t])}},{key:"selectedItems",get:function(){if(this.selectionMode===gu.MULTIPLE)return this.items._getAllSelected();var t=this.selectedItem;return t?[t]:[]}},{key:"selectedItem",get:function(){return this.selectionMode===gu.MULTIPLE?this.items._getFirstSelected():this.items._getLastSelected()}},{key:"values",get:function(){for(var t=[],e=this._elements.nativeSelect.querySelectorAll(":checked"),i=0,n=e.length;i<n;i++)t.push(e[i].value);return t},set:function(t){Array.isArray(t)&&this.selectionMode!==gu.NONE&&(this.selectionMode!==gu.MULTIPLE&&t.length>1&&(t=[t[0]]),this._selectItemByValue(t))}},{key:"disabled",get:function(){return this._disabled||!1},set:function(t){this._disabled=Ua.booleanAttr(t),this._reflectAttribute("disabled",this._disabled);var e=this.disabled||this.readOnly;this._elements.nativeSelect.disabled=e,this.items.getAll().forEach((function(t){t.disabled=e})),this[e?"setAttribute":"removeAttribute"]("aria-disabled",e)}},{key:"readOnly",get:function(){return this._readOnly||!1},set:function(t){var e=this;this._readOnly=Ua.booleanAttr(t),this._reflectAttribute("readonly",this._readOnly),this._elements.nativeSelect.disabled=this.readOnly||this.disabled,this.items.getAll().forEach((function(t){t.disabled=e.disabled||e.readOnly&&!t.hasAttribute("selected"),t[e.readOnly?"setAttribute":"removeAttribute"]("aria-disabled",!0)})),this.removeAttribute("aria-readonly")}},{key:"required",get:function(){return this._required||!1},set:function(t){this._required=Ua.booleanAttr(t),this._reflectAttribute("required",this._required),this._elements.nativeSelect.required=this.required,this.selectionMode!==gu.SINGLE&&this.removeAttribute("aria-required")}},{key:"labelledBy",get:function(){return m(l(i.prototype),"labelledBy",this)},set:function(t){g(l(i.prototype),"labelledBy",t,this,!0),this._elements.nativeSelect.setAttribute("aria-labelledby",this.labelledBy)}}],[{key:"selectionMode",get:function(){return gu}},{key:"_attributePropertyMap",get:function(){return da.extend(m(l(i),"_attributePropertyMap",this),{selectionmode:"selectionMode"})}},{key:"observedAttributes",get:function(){return m(l(i),"observedAttributes",this).concat(["selectionmode","selectionMode"])}}]),i}(mo(ho(HTMLElement)));da._define("coral-buttongroup",_u);var bu=function(t){var e=document.createDocumentFragment(),i=t=void 0===t?{}:t,n=this.input=document.createElement("input");n.setAttribute("handle","input"),n.setAttribute("type","hidden"),n.setAttribute("name",""),e.appendChild(n);var a=document.createTextNode("\n");e.appendChild(a);var o=this.header=document.createElement("div");o.setAttribute("handle","header"),o.className+=" _coral-Calendar-header";var r=document.createTextNode("\n  ");o.appendChild(r);var s=this.heading=document.createElement("div");s.setAttribute("handle","heading"),s.className+=" _coral-Calendar-title",s.setAttribute("role","heading"),s.setAttribute("aria-live","assertive"),s.setAttribute("aria-atomic","true"),s.setAttribute("aria-level","2"),s.id=t.commons.getUID(),o.appendChild(s);var l=document.createTextNode("\n  ");o.appendChild(l);var c=this.prev=document.createElement("button","coral-button");c.setAttribute("type","button"),c.setAttribute("handle","prev"),c.className+=" _coral-Calendar-prevMonth",c.setAttribute("is","coral-button"),c.setAttribute("variant","quietaction"),c.setAttribute("aria-label",t.i18n.get("Previous Month")),c.setAttribute("title",t.i18n.get("Previous Month"));var u=document.createTextNode("\n    ");c.appendChild(u);var h=this.prevLabel=document.createElement("coral-button-label");h.setAttribute("handle","prevLabel"),c.appendChild(h);var d=document.createTextNode("\n  ");c.appendChild(d),o.appendChild(c);var p=document.createTextNode("\n  ");o.appendChild(p);var m=this.next=document.createElement("button","coral-button");m.setAttribute("type","button"),m.setAttribute("handle","next"),m.className+=" _coral-Calendar-nextMonth",m.setAttribute("is","coral-button"),m.setAttribute("variant","quietaction"),m.setAttribute("aria-label",t.i18n.get("Next Month")),m.setAttribute("title",t.i18n.get("Next Month"));var f=document.createTextNode("\n    ");m.appendChild(f);var g=this.nextLabel=document.createElement("coral-button-label");g.setAttribute("handle","nextLabel"),m.appendChild(g);var v=document.createTextNode("\n  ");m.appendChild(v),o.appendChild(m);var _=document.createTextNode("\n  ");o.appendChild(_),i=t,this.prev._elements.label=this.prevLabel,this.next._elements.label=this.nextLabel,this.prev.insertAdjacentHTML("beforeend",i.Icon._renderSVG("spectrum-css-icon-ChevronLeftLarge",["_coral-UIIcon-ChevronLeftLarge"])),this.next.insertAdjacentHTML("beforeend",i.Icon._renderSVG("spectrum-css-icon-ChevronRightLarge",["_coral-UIIcon-ChevronRightLarge"])),t=i;var b=document.createTextNode("\n");o.appendChild(b),e.appendChild(o);var y=document.createTextNode("\n");e.appendChild(y);var C=this.body=document.createElement("div");C.className+=" _coral-Calendar-body",C.setAttribute("handle","body"),C.setAttribute("role","grid"),C.setAttribute("tabindex","0"),C.setAttribute("aria-readonly","true"),C.setAttribute("aria-labelledby",this.heading.id),e.appendChild(C);var A=document.createTextNode("\n");return e.appendChild(A),e},yu=function(t){var e=document.createDocumentFragment(),i=this.container=document.createElement("div");i.className+=" _coral-DatePicker-calendarSlidingContainer",i.setAttribute("handle","container"),i.setAttribute("style","width: "+t.width+"px; height: "+t.height+"px;"),e.appendChild(i);var n=document.createTextNode("\n");return e.appendChild(n),e},Cu=function(t){var e=document.createDocumentFragment(),i=t=void 0===t?{}:t;i=t,this.i18n=i.i18n,this.commons=i.commons,t=i;var n=document.createTextNode("\n");e.appendChild(n);var a=this.table=document.createElement("table");a.setAttribute("handle","table"),a.className+=" _coral-Calendar-table",a.setAttribute("role","presentation");var o=document.createTextNode("\n  ");a.appendChild(o);var r=document.createElement("thead");r.setAttribute("role","presentation");var s=document.createTextNode("\n    ");r.appendChild(s);var l=document.createElement("tr");l.setAttribute("role","row");var c=document.createTextNode("\n      ");l.appendChild(c);for(var u=0,h=(w=t.dayNames).length;u<h;u++){var d=i=w[u],p=document.createTextNode("\n        ");l.appendChild(p);var m=document.createElement("th");m.setAttribute("role","columnheader"),m.setAttribute("scope","col"),m.className+=" _coral-Calendar-tableCell";var f=document.createTextNode("\n          ");m.appendChild(f);var g=document.createElement("abbr");g.className+=" _coral-Calendar-dayOfWeek",g.setAttribute("title",d.dayFullName),g.textContent=d.dayAbbr,m.appendChild(g);var v=document.createTextNode("\n        ");m.appendChild(v),l.appendChild(m);var _=document.createTextNode("\n      ");l.appendChild(_)}var b=document.createTextNode("\n    ");l.appendChild(b),r.appendChild(l);var y=document.createTextNode("\n  ");r.appendChild(y),a.appendChild(r);var C=document.createTextNode("\n  ");a.appendChild(C);var A=document.createElement("tbody");A.setAttribute("role","presentation");var k=document.createTextNode("\n    ");A.appendChild(k);var w;for(u=0,h=(w=t.weeks).length;u<h;u++){d=i=w[u];var x=document.createTextNode("\n      ");A.appendChild(x);var T=document.createElement("tr");T.setAttribute("role","row");var S=document.createTextNode("\n        ");T.appendChild(S);for(var E=d,I=0,L=E.length;I<L;I++){var N,M=i=E[I],O=document.createTextNode("\n          ");T.appendChild(O);var D=(i=M).dateLabel+", "+i.formattedDate;N=i.isToday?i.ariaSelected?this.i18n.get("Today, {0} selected",D,"date"):this.i18n.get("Today, {0}",D,"date"):i.ariaSelected?this.i18n.get("{0} selected",D,"date"):N=D,M=i;var F=document.createTextNode("\n          ");T.appendChild(F);var P=this.cell=document.createElement("td");P.setAttribute("handle","cell"),P.setAttribute("role","gridcell"),P.id=this.commons.getUID()+"-row"+u+"-col"+I,P.className+=" _coral-Calendar-tableCell",P.setAttribute("aria-selected",M.ariaSelected),M.isDisabled&&P.setAttribute("aria-disabled","true"),M.ariaInvalid&&P.setAttribute("aria-invalid","true"),M.formattedDate&&P.setAttribute("title",N);var R=document.createTextNode("\n            ");P.appendChild(R),-1!==(i=M).cssClass.indexOf("is-outsideMonth")&&this.cell.classList.add("is-outsideMonth"),M=i;var H=document.createTextNode("\n            ");if(P.appendChild(H),M.dateAttr){var U=document.createTextNode("\n                ");P.appendChild(U);var B=document.createElement("a");B.setAttribute("role","presentation"),B.className+=" _coral-Calendar-date "+M.cssClass,B.setAttribute("data-date",M.dateAttr),B.textContent=M.dateText,P.appendChild(B);var z=document.createTextNode("\n              ");P.appendChild(z);var q=document.createTextNode("\n            ");P.appendChild(q)}else{var V=document.createTextNode("\n                ");P.appendChild(V);var $=document.createElement("span");$.setAttribute("role","presentation"),$.className+=" _coral-Calendar-date "+M.cssClass,$.textContent=M.dateText,P.appendChild($);var j=document.createTextNode("\n              ");P.appendChild(j)}var W=document.createTextNode("\n          ");P.appendChild(W),T.appendChild(P);var K=document.createTextNode("\n        ");T.appendChild(K)}var G=document.createTextNode("\n      ");T.appendChild(G),A.appendChild(T);var Z=document.createTextNode("\n    ");A.appendChild(Z)}var X=document.createTextNode("\n  ");A.appendChild(X),a.appendChild(A);var Q=document.createTextNode("\n  ");a.appendChild(Q);var Y=document.createElement("caption");Y.className+=" u-coral-screenReaderOnly",Y.setAttribute("aria-live","assertive"),Y.setAttribute("aria-atomic","true"),a.appendChild(Y);var J=document.createTextNode("\n");a.appendChild(J),e.appendChild(a);var tt=document.createTextNode("\n");return e.appendChild(tt),e};function Au(t,e,i){return!!t&&(null===e&&null===i||(null===e?t.toDate()<=i:null===i?t.toDate()>=e:e<=t.toDate()&&t.toDate()<=i))}function ku(t,e){if("today"===t)return(new Dc.Moment).startOf("day");if(Dc.Moment.isMoment(t))return t.isValid()?t.clone():null;var i=new Dc.Moment(t,t instanceof Date?null:e);return i.isValid()?i.startOf("day"):null}function wu(t,e){return(t=t||null)!==(e=e||null)&&!new Dc.Moment(t).isSame(e,"day")&&(null===t||t.isValid())}function xu(t){var e=this;this.host=t,this._addContainerIfNotPresent=function(t,i){e.container||(yu.call(e,{width:t,height:i}),e.host.appendChild(e.container))},this._removeContainerIfEmpty=function(){e.container&&0===e.container.children.length&&(e.host.removeChild(e.container),e.container=null)},this.slide=function(t,i){var n=void 0===i,a="left"===i,o=e.oldTable;if(n||!o)return o&&o.parentNode.removeChild(o),e.host.insertBefore(t,e.host.firstChild),void(e.oldTable=t);var r=o.getBoundingClientRect(),s=r.width,l=r.height;e._addContainerIfNotPresent(s,l),e.container.appendChild(o),e.container.appendChild(t),o.classList.add("_coral-Calendar-table--transit"),da.transitionEnd(o,(function(){o.parentNode.removeChild(o),e._removeContainerIfEmpty()})),t.classList.add("_coral-Calendar-table--transit"),t.style.left="".concat(a?s:-s,"px"),da.transitionEnd(t,(function(){t.classList.remove("_coral-Calendar-table--transit"),e.host.appendChild(t),e._removeContainerIfEmpty()})),l=e.container.offsetWidth,o.style.left="".concat(a?-s:s,"px"),t.style.left=0,e.oldTable=t}}var Tu=[0,0,0,0,0,0],Su=[0,0,0,0,0,0,0],Eu="year",Iu="month",Lu="week",Nu="day",Mu=function(t){s(i,t);var e=d(i);function i(){var t;return a(this,i),(t=e.call(this))._value=null,t._delegateEvents(da.extend(t._events,{"click ._coral-Calendar-nextMonth,._coral-Calendar-prevMonth":"_onNextOrPreviousMonthClick","click ._coral-Calendar-body ._coral-Calendar-date":"_onDayClick","mousedown ._coral-Calendar-body ._coral-Calendar-date":"_onDayMouseDown","key:up ._coral-Calendar-body":"_onUpKey","key:right ._coral-Calendar-body":"_onRightKey","key:down ._coral-Calendar-body":"_onDownKey","key:left ._coral-Calendar-body":"_onLeftKey","key:home ._coral-Calendar-body":"_onHomeOrEndKey","key:end ._coral-Calendar-body":"_onHomeOrEndKey","key:pageup":"_onPageUpKey","key:pagedown":"_onPageDownKey","key:meta+pageup":"_onCtrlPageUpKey","key:meta+pagedown":"_onCtrlPageDownKey","key:ctrl+pageup":"_onCtrlPageUpKey","key:ctrl+pagedown":"_onCtrlPageDownKey","key:enter ._coral-Calendar-body":"_onEnterKey","key:return ._coral-Calendar-body":"_onEnterKey","key:space ._coral-Calendar-body":"_onEnterKey"})),t._elements={},bu.call(t._elements,{commons:da,i18n:wa,Icon:Uo}),t._labellableElement=u(t),t._cursor=null,t._activeDescendant=null,t._animator=new xu(t._elements.body),t}return r(i,[{key:"_renderCalendar",value:function(t){var e=this,i=this._requireCursor(),n=i.year(),a=i.month(),o=this._animator.oldTable;this._elements.heading.innerHTML=new Dc.Moment([n,a,1]).format(this.headerFormat);var r=this._renderTable(n,a+1);o&&da.transitionEnd(r,(function(){e._setActiveDescendant()})),this._animator.slide(r,t);var s=this._elements.body.querySelector(".is-selected");this._activeDescendant=s?s.id:null,this._setActiveDescendant()}},{key:"_isBeforeMin",value:function(t,e){var i=this.min?new Dc.Moment(this.min):null;return i&&t.isBefore(i,e)}},{key:"_isAfterMax",value:function(t,e){var i=this.max?new Dc.Moment(this.max):null;return i&&t.isAfter(i,e)}},{key:"_isInRange",value:function(t,e){return!(this._isBeforeMin(t,e)||this._isAfterMax(t,e))}},{key:"_setActiveDescendant",value:function(){var t;if(!(this._activeDescendant&&this._elements.body.querySelector("#".concat(this._activeDescendant," [data-date]"))||(this._activeDescendant=null,t=this._elements.body.querySelector(".is-selected"),this._activeDescendant=t&&t.id,this._activeDescendant&&this._elements.body.querySelector("#".concat(this._activeDescendant," [data-date]"))))){var e=this._value;if(e){var i=this._elements.body.querySelectorAll("[data-date]");i.length&&(this._isBeforeMin(e)?t=i[0]:this._isAfterMax(e)&&(t=i[i.length-1]))}else t=this._elements.body.querySelector(".is-focused")||this._elements.body.querySelector(".is-today");t&&(this._activeDescendant=t.parentElement.id)}if((t=this._elements.body.querySelector(".is-focused"))&&t.classList.remove("is-focused"),this._elements.body[this._activeDescendant?"setAttribute":"removeAttribute"]("aria-activedescendant",this._activeDescendant),this._updateTableCaption(),this._activeDescendant){t=document.getElementById(this._activeDescendant);var n=this.querySelector("._coral-Calendar-table--transit");t&&(null!==n?window.requestAnimationFrame((function(){t.querySelector("._coral-Calendar-date").classList.add("is-focused")})):t.querySelector("._coral-Calendar-date").classList.add("is-focused"))}}},{key:"_updateTableCaption",value:function(){var t=this._elements.body.querySelector("caption");if(t&&(t.firstChild&&t.removeChild(t.firstChild),this._activeDescendant)){var e=this._elements.body.querySelector("#".concat(this._activeDescendant)),i=document.createTextNode(e.getAttribute("title"));t.appendChild(i)}}},{key:"_renderTable",value:function(t,e){var i=this,n=(new Dc.Moment([t,e-1,1]).day()-this.startDay)%7,a=this._value?this._value.clone().startOf("day"):null;n<0&&(n+=7);var o={i18n:wa,commons:da,dayNames:Su.map((function(t,e){var n=(new Dc.Moment).day((e+i.startDay)%7);return{dayAbbr:n.format("dd"),dayFullName:n.format("dddd")}}),this),weeks:Tu.map((function(o,r){return Su.map((function(o,s){var l={},c=i.disabled?["is-disabled"]:[],u=!1,h=!1,d=7*r+s-n,p=new Dc.Moment([t,e-1]);p.add(d,"days");var m=p.month()+1===parseFloat(e),f=(new Dc.Moment).day((s+i.startDay)%7).format("dddd"),g=p.isSame(new Dc.Moment,"day"),v=p.clone().startOf("day");return g&&c.push("is-today"),a&&v.isSame(a,"day")&&(u=!0,c.push("is-selected"),i.invalid&&(h=!0,c.push("is-invalid"))),m?(c.push("is-currentMonth"),!i.disabled&&Au(p,i.min,i.max)?(l.dateAttr=v.format("YYYY-MM-DD"),l.weekIndex=p.week(),l.formattedDate=p.format("LL")):c.push("is-disabled")):c.push("is-outsideMonth"),l.isDisabled=i.disabled||!l.dateAttr,l.dateText=p.date(),l.cssClass=c.join(" "),l.isToday=g,l.ariaSelected=u,l.ariaInvalid=h,l.dateLabel=f,l.weekIndex=p.week(),l}),i)}),this)},r={};return Cu.call(r,o),r.table}},{key:"_requireCursor",value:function(){var t=this._cursor;return t&&t.isValid()||(t=(this._value?this._value.clone().startOf("day"):new Dc.Moment).startOf("month"),this._cursor=t),t}},{key:"_gotoPreviousOrNextTimeUnit",value:function(t,e){var i,n,a,o=e?"left":"right",r=e?"add":"subtract",s=this._elements.body.querySelector("._coral-Calendar-date.is-focused");if(s)i=s.dataset.date,n=new Dc.Moment(i)[r](1,t),this._isInRange(n,t)&&(a=Math.abs(new Dc.Moment(i).diff(n,"days")),this._getToNewMoment(o,r,a),this._setActiveDescendant());else{if(this._requireCursor(),!this._isInRange(this._cursor,t))return this._isBeforeMin(this._cursor)?n=this.min:this._isAfterMax(this._cursor)&&(n=this.max),n=new Dc.Moment(n),a=Math.abs(this._cursor.diff(n,"days")),this._getToNewMoment(o,r,a),void this._setActiveDescendant();this._cursor[r](1,t),this._renderCalendar(o)}}},{key:"_validateCalendar",value:function(){var t=!(null===this._value||Au(this._value,this.min,this.max));this.invalid!==t&&(this.invalid=t)}},{key:"_onNextOrPreviousMonthClick",value:function(t){t.preventDefault(),this._gotoPreviousOrNextTimeUnit(Iu,this._elements.next===t.matchedTarget),t.matchedTarget.focus(),this._validateCalendar()}},{key:"_getToNewMoment",value:function(t,e,i){var n,a=this._elements.body.querySelector("._coral-Calendar-date.is-focused");a?n=a.dataset.date:(this._requireCursor(),n=this._cursor.format("YYYY-MM-DD"));var o=new Dc.Moment(n),r=o.month(),s=o.year(),l=o[e](i,"days"),c=l.month(),u=l.year(),h=l.format("YYYY-MM-DD");c!==r?(this._requireCursor(),this._cursor[e](1,"months"),this._renderCalendar(t)):c===r&&u!==s&&(this._requireCursor(),this._cursor[e](1,"years"),this._renderCalendar(t));var d="._coral-Calendar-date[data-date^=".concat(JSON.stringify(h),"]"),p=this._elements.body.querySelector(d);p&&(this._activeDescendant=p.parentNode.getAttribute("id"))}},{key:"_onDayMouseDown",value:function(t){this._activeDescendant=t.target.parentNode.id,this._setActiveDescendant(),this._elements.body.focus(),this._validateCalendar()}},{key:"_onDayClick",value:function(t){t.preventDefault(),this._elements.body.focus();var e,i=new Dc.Moment(t.target.dataset.date,"YYYY-MM-DD");this._value&&(e=this._value.clone()),wu(i,e)&&(this.value=i,this.trigger("change")),this._validateCalendar()}},{key:"_onEnterKey",value:function(t){t.preventDefault();var e=this._elements.body.querySelector("._coral-Calendar-date.is-focused");e&&e.click(),this._validateCalendar()}},{key:"_onUpKey",value:function(t){t.preventDefault(),this._gotoPreviousOrNextTimeUnit(Lu,!1),this._validateCalendar()}},{key:"_onDownKey",value:function(t){t.preventDefault(),this._gotoPreviousOrNextTimeUnit(Lu,!0),this._validateCalendar()}},{key:"_onRightKey",value:function(t){t.preventDefault(),this._gotoPreviousOrNextTimeUnit(Nu,!0),this._validateCalendar()}},{key:"_onLeftKey",value:function(t){t.preventDefault(),this._gotoPreviousOrNextTimeUnit(Nu,!1),this._validateCalendar()}},{key:"_onHomeOrEndKey",value:function(t){t.preventDefault();var e=t.keyCode===Ra.keyToCode("home"),i=e?"subtract":"add",n=this._elements.body.querySelector("._coral-Calendar-date.is-focused");if(n){var a=n.dataset.date,o=new Dc.Moment(a),r=e?o.date()-1:o.daysInMonth()-o.date();this._getToNewMoment("",i,r),this._setActiveDescendant()}this._validateCalendar()}},{key:"_onPageDownKey",value:function(t){t.preventDefault(),this._gotoPreviousOrNextTimeUnit(Iu,!0),this._validateCalendar()}},{key:"_onPageUpKey",value:function(t){t.preventDefault(),this._gotoPreviousOrNextTimeUnit(Iu,!1),this._validateCalendar()}},{key:"_onCtrlPageDownKey",value:function(t){t.preventDefault(),this._gotoPreviousOrNextTimeUnit(Eu,!0),this._validateCalendar()}},{key:"_onCtrlPageUpKey",value:function(t){t.preventDefault(),this._gotoPreviousOrNextTimeUnit(Eu,!1),this._validateCalendar()}},{key:"focus",value:function(){this._elements.body.querySelector(".is-focused")===document.activeElement||this.disabled||(this._setActiveDescendant(),this._elements.body.focus())}},{key:"render",value:function(){m(l(i.prototype),"render",this).call(this),this.classList.add("_coral-Calendar"),this.setAttribute("role","group"),this._valueFormat||(this.valueFormat="YYYY-MM-DD");var t=document.createDocumentFragment();for(t.appendChild(this._elements.input),t.appendChild(this._elements.header),t.appendChild(this._elements.body);this.firstChild;)this.removeChild(this.firstChild);this.appendChild(t),this._elements.body.firstElementChild||this._renderCalendar()}},{key:"startDay",get:function(){return this._startDay?this._startDay:void 0!==Dc.Moment.localeData(wa.locale).firstDayOfWeek?Dc.Moment.localeData(wa.locale).firstDayOfWeek():0},set:function(t){t>=0&&t<7&&(this._startDay=t,this._renderCalendar())}},{key:"headerFormat",get:function(){return this._headerFormat||"MMMM YYYY"},set:function(t){this._headerFormat=Ua.string(t),this._renderCalendar()}},{key:"min",get:function(){return this._min?this._min.toDate():null},set:function(t){wu(t=ku(t,this.valueFormat),this._min)&&(this._min=t,this._renderCalendar())}},{key:"max",get:function(){return this._max?this._max.toDate():null},set:function(t){wu(t=ku(t,this.valueFormat),this._max)&&(this._max=t,this._renderCalendar())}},{key:"valueFormat",get:function(){return this._valueFormat||"YYYY-MM-DD"},set:function(t){var e=this;t=Ua.string(t);var i=function(t){e._valueFormat=t,e._reflectAttribute("valueformat",e._valueFormat)};!this._valueFormat&&this._originalValue?(i(t),this.value=this._originalValue):(i(t),this._elements.input.value=this.value)}},{key:"valueAsDate",get:function(){return this._value?this._value.toDate():null},set:function(t){t instanceof Date?(this._valueAsDate=new Dc.Moment(t),this.value=this._valueAsDate):(this._valueAsDate=null,this.value="")}},{key:"value",get:function(){return this._value?this._value.format(this.valueFormat):""},set:function(t){this._originalValue=t,wu(t=ku(t,this.valueFormat),this._value)&&(this._value=t,this._elements.input.value=this.value,this._cursor=null,this._renderCalendar(),this.required=this.required)}},{key:"name",get:function(){return this._elements.input.name},set:function(t){this._reflectAttribute("name",t),this._elements.input.name=t}},{key:"required",get:function(){return this._required||!1},set:function(t){this._required=Ua.booleanAttr(t),this._reflectAttribute("required",this._required),this.classList.toggle("is-required",this._required&&null===this._value)}},{key:"disabled",get:function(){return this._disabled||!1},set:function(t){this._disabled=Ua.booleanAttr(t),this._reflectAttribute("disabled",this._disabled),this.classList.toggle("is-disabled",this._disabled),this._elements.prev.disabled=this._disabled,this._elements.next.disabled=this._disabled,this._elements.body[this._disabled?"setAttribute":"removeAttribute"]("aria-disabled",this._disabled),this._elements.body[this._disabled?"removeAttribute":"setAttribute"]("tabindex","0"),this._renderCalendar()}},{key:"invalid",get:function(){return m(l(i.prototype),"invalid",this)},set:function(t){g(l(i.prototype),"invalid",t,this,!0),this._renderCalendar()}},{key:"readOnly",get:function(){return this._readOnly||!1},set:function(t){this._readOnly=Ua.booleanAttr(t),this._reflectAttribute("readonly",this._readOnly),this._elements.prev.disabled=this._readOnly,this._elements.next.disabled=this._readOnly,this._elements.body[this._readOnly?"removeAttribute":"setAttribute"]("tabindex","0"),this.classList.toggle("is-readOnly",this._readOnly)}}],[{key:"_attributePropertyMap",get:function(){return da.extend(m(l(i),"_attributePropertyMap",this),{startday:"startDay",headerformat:"headerFormat",valueformat:"valueFormat"})}},{key:"observedAttributes",get:function(){return m(l(i),"observedAttributes",this).concat(["startday","headerformat","min","max","valueformat"])}}]),i}(mo(ho(HTMLElement)));da.extend(ka,{"coral-component-calendar":{"en-US":{Previous:"Previous",Next:"Next","Today, {0} selected/[translation hint:date]":"Today, {0} selected","Today, {0}/[translation hint:date]":"Today, {0}","{0} selected/[translation hint:date]":"{0} selected","Previous Month":"Previous Month","Next Month":"Next Month"},"fr-FR":{Previous:"PrÃ©cÃ©dent",Next:"Suivant","Today, {0} selected/[translation hint:date]":"Aujourdâhui, sÃ©lection de {0}","Today, {0}/[translation hint:date]":"Aujourdâhui, {0}","{0} selected/[translation hint:date]":"SÃ©lection de {0}","Previous Month":"Mois prÃ©cÃ©dent","Next Month":"Mois suivant"},"de-DE":{Previous:"ZurÃ¼ck",Next:"Weiter","Today, {0} selected/[translation hint:date]":"Heute, {0} ausgewÃ¤hlt","Today, {0}/[translation hint:date]":"Heute, {0}","{0} selected/[translation hint:date]":"{0} ausgewÃ¤hlt","Previous Month":"Vorheriger Monat","Next Month":"NÃ¤chster Monat"},"it-IT":{Previous:"Precedente",Next:"Successivo","Today, {0} selected/[translation hint:date]":"Oggi, {0} selezionati","Today, {0}/[translation hint:date]":"Oggi, {0}","{0} selected/[translation hint:date]":"{0} selezionati","Previous Month":"Mese precedente","Next Month":"Mese successivo"},"es-ES":{Previous:"Anterior",Next:"Siguiente","Today, {0} selected/[translation hint:date]":"Hoy, {0} seleccionados","Today, {0}/[translation hint:date]":"Hoy, {0}","{0} selected/[translation hint:date]":"{0} seleccionados","Previous Month":"Mes anterior","Next Month":"Mes siguiente"},"pt-BR":{Previous:"Anterior",Next:"PrÃ³ximo","Today, {0} selected/[translation hint:date]":"Hoje, {0} selecionados","Today, {0}/[translation hint:date]":"Hoje, {0}","{0} selected/[translation hint:date]":"{0} selecionados","Previous Month":"MÃªs Anterior","Next Month":"MÃªs Seguinte"},"ja-JP":{Previous:"åã¸",Next:"æ¬¡ã¸","Today, {0} selected/[translation hint:date]":"ä»æ¥ã{0} ãé¸æããã¾ãã","Today, {0}/[translation hint:date]":"ä»æ¥ã{0}","{0} selected/[translation hint:date]":"{0} ãé¸æããã¾ãã","Previous Month":"åæ","Next Month":"ç¿æ"},"ko-KR":{Previous:"ì´ì ì¼ë¡",Next:"ë¤ì","Today, {0} selected/[translation hint:date]":"íì¬ {0}ì´(ê°) ì íë¨","Today, {0}/[translation hint:date]":"íì¬ {0}","{0} selected/[translation hint:date]":"{0}ì´(ê°) ì íë¨","Previous Month":"ì§ë ë¬","Next Month":"ë¤ì ë¬"},"zh-CN":{Previous:"ä¸ä¸æ­¥",Next:"ä¸ä¸æ­¥","Today, {0} selected/[translation hint:date]":"å·²éå®ä»å¤© {0}","Today, {0}/[translation hint:date]":"ä»å¤© {0}","{0} selected/[translation hint:date]":"å·²éå® {0}","Previous Month":"ä¸ä¸ªæ","Next Month":"ä¸ä¸ªæ"},"zh-TW":{Previous:"ä¸ä¸é ",Next:"ä¸ä¸é ","Today, {0} selected/[translation hint:date]":"ä»å¤©ï¼å·²é¸å {0}","Today, {0}/[translation hint:date]":"ä»å¤©ï¼{0}","{0} selected/[translation hint:date]":"å·²é¸å {0} ","Previous Month":"ä¸åæ","Next Month":"ä¸åæ"},"nl-NL":{Previous:"Vorige",Next:"Volgende","Today, {0} selected/[translation hint:date]":"Vandaag {0} geselecteerd","Today, {0}/[translation hint:date]":"Vandaag {0} ","{0} selected/[translation hint:date]":"{0} geselecteerd","Previous Month":"Vorige maand","Next Month":"Volgende maand"},"da-DK":{Previous:"ForegÃ¥ende",Next:"NÃ¦ste","Today, {0} selected/[translation hint:date]":"I dag, {0} valgt","Today, {0}/[translation hint:date]":"I dag, {0} ","{0} selected/[translation hint:date]":"{0} valgt","Previous Month":"Sidste mÃ¥ned","Next Month":"NÃ¦ste mÃ¥ned"},"fi-FI":{Previous:"Edellinen",Next:"Seuraava","Today, {0} selected/[translation hint:date]":"TÃ¤nÃ¤Ã¤n, {0} valittu","Today, {0}/[translation hint:date]":"TÃ¤nÃ¤Ã¤n, {0}","{0} selected/[translation hint:date]":"{0} valittu","Previous Month":"Edellinen kuukausi","Next Month":"Seuraava kuukausi"},"nb-NO":{Previous:"Forrige",Next:"Neste","Today, {0} selected/[translation hint:date]":"I dag, {0} valgt","Today, {0}/[translation hint:date]":"I dag, {0}","{0} selected/[translation hint:date]":"{0} valgt","Previous Month":"Forrige mÃ¥ned","Next Month":"Neste mÃ¥ned"},"sv-SE":{Previous:"FÃ¶regÃ¥ende",Next:"NÃ¤sta","Today, {0} selected/[translation hint:date]":"Idag, {0} vald","Today, {0}/[translation hint:date]":"Idag, {0}","{0} selected/[translation hint:date]":"{0} vald","Previous Month":"FÃ¶regÃ¥ende mÃ¥nad","Next Month":"NÃ¤sta mÃ¥nad"},"cs-CZ":{Previous:"PÅedchozÃ­",Next:"DalÅ¡Ã­","Today, {0} selected/[translation hint:date]":"Dnes je vybrÃ¡no: {0}","Today, {0}/[translation hint:date]":"Dnes, {0}","{0} selected/[translation hint:date]":"VybrÃ¡no: {0}","Previous Month":"PÅedchozÃ­ mÄsÃ­c","Next Month":"PÅÃ­Å¡tÃ­ mÄsÃ­c"},"pl-PL":{Previous:"Wstecz",Next:"Dalej","Today, {0} selected/[translation hint:date]":"DziÅ, wybrano {0}","Today, {0}/[translation hint:date]":"DziÅ, {0}","{0} selected/[translation hint:date]":"wybrano {0}","Previous Month":"Poprzedni miesiÄc","Next Month":"NastÄpny miesiÄc"},"ru-RU":{Previous:"ÐÑÐµÐ´ÑÐ´ÑÑÐ¸Ð¹",Next:"Ð¡Ð»ÐµÐ´ÑÑÑÐ¸Ð¹","Today, {0} selected/[translation hint:date]":"Ð¡ÐµÐ³Ð¾Ð´Ð½Ñ, {0}, Ð²ÑÐ±ÑÐ°Ð½Ð¾","Today, {0}/[translation hint:date]":"Ð¡ÐµÐ³Ð¾Ð´Ð½Ñ, {0}","{0} selected/[translation hint:date]":"{0} Ð²ÑÐ±ÑÐ°Ð½Ð¾","Previous Month":"ÐÑÐµÐ´ÑÐ´ÑÑÐ¸Ð¹ Ð¼ÐµÑÑÑ","Next Month":"Ð¡Ð»ÐµÐ´ÑÑÑÐ¸Ð¹ Ð¼ÐµÑÑÑ"},"tr-TR":{Previous:"Ãnceki",Next:"Ä°leri","Today, {0} selected/[translation hint:date]":"BugÃ¼n, {0} seÃ§ildi","Today, {0}/[translation hint:date]":"BugÃ¼n, {0}","{0} selected/[translation hint:date]":"{0} seÃ§ildi","Previous Month":"Ãnceki Ay","Next Month":"Gelecek Ay"}}}),da._define("coral-calendar",Mu);var Ou=function(t){var e=document.createDocumentFragment(),i=this.wrapper=document.createElement("div");i.setAttribute("handle","wrapper"),i.className+=" _coral-Card-wrapper",e.appendChild(i);var n=document.createTextNode("\n");return e.appendChild(n),e},Du=/^#[0-9A-F]{6}$/i,Fu={DEFAULT:"default",QUIET:"quiet",CONDENSED:"condensed",INVERTED:"inverted",ASSET:"asset"},Pu=[];for(var Ru in Fu)Pu.push("".concat("_coral-Card","--").concat(Fu[Ru]));var Hu=function(t){s(i,t);var e=d(i);function i(){var t;return a(this,i),(t=e.call(this))._elements={asset:t.querySelector("coral-card-asset")||document.createElement("coral-card-asset"),content:t.querySelector("coral-card-content")||document.createElement("coral-card-content"),info:t.querySelector("coral-card-info")||document.createElement("coral-card-info"),overlay:t.querySelector("coral-card-overlay")||document.createElement("coral-card-overlay")},Ou.call(t._elements),t._delegateEvents({"capture:load coral-card-asset img":"_onLoad"}),t}return r(i,[{key:"_onLoad",value:function(t){this._loaded=!0,this._elements.asset.style.height="",t.target.classList.remove("is-loading")}},{key:"render",value:function(){m(l(i.prototype),"render",this).call(this),this.classList.add("_coral-Card"),this._variant||(this.variant=Fu.DEFAULT);for(var t=this._elements.content,e=this._elements.asset,n=e.querySelectorAll("img"),a=n.length,o=0;o<a;o++){var r=n[o];r.complete||r.classList.add("is-loading")}for(var s in this._contentZones){var c=this._elements[this._contentZones[s]];c.parentNode&&c.parentNode.removeChild(c)}for(;this.firstChild;){var u=this.firstChild;u.nodeType===Node.TEXT_NODE&&""!==u.textContent.trim()||u.nodeType===Node.ELEMENT_NODE&&"wrapper"!==u.getAttribute("handle")?t.appendChild(u):this.removeChild(u)}this.overlay=this._elements.overlay,this.content=t,this.info=this._elements.info,this.appendChild(this._elements.wrapper),this.asset=e,this.classList.toggle("".concat("_coral-Card","--overflow"),this.info.childNodes.length&&this.info.scrollHeight>this.clientHeight)}},{key:"asset",get:function(){return this._getContentZone(this._elements.asset)},set:function(t){this._setContentZone("asset",t,{handle:"asset",tagName:"coral-card-asset",insert:function(t){this.insertBefore(t,this.info||this._elements.wrapper||null)}})}},{key:"assetHeight",get:function(){return this._assetHeight||""},set:function(t){var e=this;this._assetHeight=Ua.number(t),window.requestAnimationFrame((function(){if(!e._loaded&&e._elements.asset&&e.assetWidth&&e._assetHeight){var t=e.getBoundingClientRect(),i=(t.right-t.left)/e.assetWidth;i>1?e._elements.asset.style.height="".concat(e._assetHeight+32,"px"):e.variant!==Fu.CONDENSED&&e.variant!==Fu.INVERTED&&(e._elements.asset.style.height="".concat(i*e._assetHeight,"px"))}}))}},{key:"assetWidth",get:function(){return this._assetWidth||""},set:function(t){this._assetWidth=Ua.number(t)}},{key:"colorHint",get:function(){return this._colorHint||""},set:function(t){Du.test(t)&&(this._colorHint=t,this._loaded||(this._elements.asset.style["background-color"]=this._colorHint))}},{key:"content",get:function(){return this._getContentZone(this._elements.content)},set:function(t){this._setContentZone("content",t,{handle:"content",tagName:"coral-card-content",insert:function(t){var e=t.querySelector("coral-card-title");e&&t.insertBefore(e,t.firstChild),this._elements.wrapper.insertBefore(t,this.overlay||null)}})}},{key:"info",get:function(){return this._getContentZone(this._elements.info)},set:function(t){this._setContentZone("info",t,{handle:"info",tagName:"coral-card-info",insert:function(t){this.appendChild(t)}})}},{key:"fixedWidth",get:function(){return this._fixedWidth||!1},set:function(t){this._fixedWidth=Ua.booleanAttr(t),this._reflectAttribute("fixedwidth",this._fixedWidth),this.classList.toggle("".concat("_coral-Card","--fixedWidth"),this._fixedWidth)}},{key:"overlay",get:function(){return this._getContentZone(this._elements.overlay)},set:function(t){this._setContentZone("overlay",t,{handle:"overlay",tagName:"coral-card-overlay",insert:function(t){this._elements.wrapper.appendChild(t)}})}},{key:"stacked",get:function(){return this._stacked||!1},set:function(t){this._stacked=Ua.booleanAttr(t),this._reflectAttribute("stacked",this._stacked),this.classList.toggle("".concat("_coral-Card","--stacked"),this._stacked)}},{key:"variant",get:function(){return this._variant||Fu.DEFAULT},set:function(t){var e;t=Ua.string(t).toLowerCase(),this._variant=Ba.enumeration(Fu)(t)&&t||Fu.DEFAULT,this._reflectAttribute("variant",this._variant),(e=this.classList).remove.apply(e,Pu),this._variant!==Fu.DEFAULT&&this.classList.add("".concat("_coral-Card","--").concat(this._variant)),this.assetHeight=this.assetHeight}},{key:"_contentZones",get:function(){return{"coral-card-asset":"asset","coral-card-content":"content","coral-card-info":"info","coral-card-overlay":"overlay"}}}],[{key:"variant",get:function(){return Fu}},{key:"_attributePropertyMap",get:function(){return da.extend(m(l(i),"_attributePropertyMap",this),{assetwidth:"assetWidth",assetheight:"assetHeight",colorhint:"colorHint",fixedwidth:"fixedWidth"})}},{key:"observedAttributes",get:function(){return m(l(i),"observedAttributes",this).concat(["assetwidth","assetheight","colorhint","fixedwidth","variant","stacked"])}}]),i}(ho(HTMLElement)),Uu=function(t){var e=document.createDocumentFragment(),i=this.icon=document.createElement("coral-icon");i.setAttribute("handle","icon"),i.setAttribute("size","XS"),i.className+=" _coral-Card-property-icon",i.setAttribute("autoarialabel","on"),e.appendChild(i);var n=document.createTextNode("\n");return e.appendChild(n),e},Bu=function(t){s(i,t);var e=d(i);function i(){var t;return a(this,i),(t=e.call(this))._elements={content:t.querySelector("coral-card-property-content")||document.createElement("coral-card-property-content")},Uu.call(t._elements),t}return r(i,[{key:"render",value:function(){m(l(i.prototype),"render",this).call(this),this.classList.add("_coral-Card-property","coral-Body--small");var t=document.createDocumentFragment();this.icon&&t.appendChild(this._elements.icon);var e=this._elements.content;for(e.parentNode&&e.parentNode.removeChild(e);this.firstChild;){var n=this.firstChild;n.nodeType===Node.TEXT_NODE||n.nodeType===Node.ELEMENT_NODE&&"icon"!==n.getAttribute("handle")?e.appendChild(n):this.removeChild(n)}this.appendChild(t),this.content=e}},{key:"content",get:function(){return this._getContentZone(this._elements.content)},set:function(t){this._setContentZone("content",t,{handle:"content",tagName:"coral-card-property-content",insert:function(t){this.appendChild(t)}})}},{key:"icon",get:function(){return this._elements.icon.icon},set:function(t){this._elements.icon.icon=t,""===this.icon?this._elements.icon.remove():this._elements.icon.parentNode||this.insertBefore(this._elements.icon,this.firstChild)}},{key:"iconAlt",get:function(){return this._elements.icon?this._elements.icon.getAttribute("alt"):void 0},set:function(t){this._elements.icon&&this._elements.icon.setAttribute("alt",t)}},{key:"iconTitle",get:function(){return this._elements.icon?this._elements.icon.getAttribute("title"):void 0},set:function(t){this._elements.icon&&this._elements.icon.setAttribute("title",t)}},{key:"_contentZones",get:function(){return{"coral-card-property-content":"content"}}}],[{key:"_attributePropertyMap",get:function(){return da.extend(m(l(i),"_attributePropertyMap",this),{iconalt:"iconAlt",icontitle:"iconTitle"})}},{key:"observedAttributes",get:function(){return m(l(i),"observedAttributes",this).concat(["icon","iconalt","icontitle"])}}]),i}(ho(HTMLElement)),zu=function(t){s(i,t);var e=d(i);function i(){return a(this,i),e.apply(this,arguments)}return r(i,[{key:"render",value:function(){m(l(i.prototype),"render",this).call(this),this.classList.add("u-coral-clearFix"),""===this.innerHTML.trim()&&(this.textContent="")}}]),i}(ho(HTMLElement));da._define("coral-card-propertylist",zu),da._define("coral-card-property",Bu),da._define("coral-card",Hu),Hu.Property=Bu,Hu.Property.Content=function(){return document.createElement("coral-card-property-content")},Hu.Title=function(){return document.createElement("coral-card-title")},Hu.Subtitle=function(){return document.createElement("coral-card-subtitle")},Hu.Context=function(){return document.createElement("coral-card-context")},Hu.Description=function(){return document.createElement("coral-card-description")},Hu.Asset=function(){return document.createElement("coral-card-asset")},Hu.Overlay=function(){return document.createElement("coral-card-overlay")},Hu.Info=function(){return document.createElement("coral-card-info")},Hu.Content=function(){return document.createElement("coral-card-content")},Hu.PropertyList=zu;var qu={PREVIOUS:"_prev",NEXT:"_next"},Vu=function(t){s(i,t);var e=d(i);function i(){return a(this,i),e.apply(this,arguments)}return r(i,[{key:"_getCharCount",value:function(){var t=0;return this._targetEl&&this._targetEl.value&&(t=this._targetEl.value.length),this._maxLength?this._maxLength-t:t}},{key:"_refreshCharCount",value:function(){var t=this._getCharCount();this.innerHTML=t;var e=t<0;this._targetEl&&(this._targetEl.classList.toggle("is-invalid",e),this.classList.toggle("is-invalid",e))}},{key:"render",value:function(){m(l(i.prototype),"render",this).call(this),this.classList.add("_coral-CharacterCount","coral-Body--S"),this.target=this.target,this._refreshCharCount()}},{key:"target",get:function(){return this._target||qu.PREVIOUS},set:function(t){("string"==typeof t||t instanceof Node)&&(this._target=t,this._targetEl&&this._targetEl.removeEventListener("input",this._refreshCharCount.bind(this)),this._targetEl=t===qu.NEXT?this.nextElementSibling:t===qu.PREVIOUS?this.previousElementSibling:"string"==typeof t?document.querySelector(t):t,this._targetEl&&(this._targetEl.addEventListener("input",this._refreshCharCount.bind(this)),this._targetEl.getAttribute("maxlength")&&(this.maxLength=this._targetEl.getAttribute("maxlength"))))}},{key:"maxLength",get:function(){return this._maxLength||null},set:function(t){this._maxLength=Ua.number(t),this._reflectAttribute("maxlength",this._maxLength),this._refreshCharCount()}}],[{key:"target",get:function(){return qu}},{key:"_attributePropertyMap",get:function(){return da.extend(m(l(i),"_attributePropertyMap",this),{maxlength:"maxLength"})}},{key:"observedAttributes",get:function(){return m(l(i),"observedAttributes",this).concat(["target","maxlength"])}}]),i}(ho(HTMLElement));da._define("coral-charactercount",Vu);var $u=function(t){var e=document.createDocumentFragment(),i=t=void 0===t?{}:t,n=(i=t).commons.getUID(),a=i.commons.getUID();t=i;var o=document.createTextNode("\n");e.appendChild(o);var r=this.input=document.createElement("input");r.setAttribute("type","hidden"),r.setAttribute("name",""),r.setAttribute("handle","input"),e.appendChild(r);var s=document.createTextNode("\n");e.appendChild(s);var l=this.valueAsText=document.createElement("time");l.setAttribute("handle","valueAsText"),l.id=t.commons.getUID(),l.setAttribute("hidden",""),e.appendChild(l);var c=document.createTextNode("\n");e.appendChild(c);var u=document.createElement("label");u.setAttribute("for",n),u.className+=" coral-Form-fieldlabel",u.textContent=t.i18n.get("Hours"),e.appendChild(u);var h=document.createTextNode("\n");e.appendChild(h);var d=this.hours=document.createElement("input","coral-textfield");d.setAttribute("is","coral-textfield"),d.id=n,d.setAttribute("type","number"),d.setAttribute("min","0"),d.setAttribute("max","23"),d.className+=" _coral-Clock-hour",d.setAttribute("handle","hours"),e.appendChild(d);var p=document.createTextNode("\n");e.appendChild(p);var m=this.divider=document.createElement("span");m.className+=" _coral-Clock-divider",m.setAttribute("handle","divider"),m.textContent=":",e.appendChild(m);var f=document.createTextNode("\n");e.appendChild(f);var g=document.createElement("label");g.setAttribute("for",a),g.className+=" coral-Form-fieldlabel",g.textContent=t.i18n.get("Minutes"),e.appendChild(g);var v=document.createTextNode("\n");e.appendChild(v);var _=this.minutes=document.createElement("input","coral-textfield");_.setAttribute("is","coral-textfield"),_.id=a,_.setAttribute("type","number"),_.setAttribute("min","0"),_.setAttribute("max","59"),_.className+=" _coral-Clock-minute",_.setAttribute("handle","minutes"),e.appendChild(_);var b=document.createTextNode("\n");e.appendChild(b);var y=this.period=document.createElement("coral-select");y.setAttribute("handle","period"),y.className+=" _coral-Clock-period",y.setAttribute("hidden",""),y.setAttribute("aria-label",t.i18n.get("AM/PM"));var C=document.createTextNode("\n  ");y.appendChild(C);var A=document.createElement("coral-select-item");A.setAttribute("value","am"),y.appendChild(A);var k=document.createTextNode("\n  ");y.appendChild(k);var w=document.createElement("coral-select-item");w.setAttribute("value","pm"),y.appendChild(w);var x=document.createTextNode("\n");y.appendChild(x),e.appendChild(y);var T=document.createTextNode("\n");return e.appendChild(T),e},ju="".concat("HH",":").concat("mm"),Wu=new RegExp("".concat("(A|a|H{1,2}|h{1,2}|k{1,2}|m{1,2})",".*").concat("(A|a|H{1,2}|h{1,2}|k{1,2}|m{1,2})","|").concat("(A|a|H{1,2}|h{1,2}|k{1,2}|m{1,2})")),Ku=new RegExp("h{1,2}|H{1,2}|k{1,2}"),Gu=new RegExp("m{1,2}"),Zu={DEFAULT:"default",QUIET:"quiet"},Xu=[];for(var Qu in Zu)Xu.push("".concat("_coral-Clock","--").concat(Zu[Qu]));var Yu=function(t){s(i,t);var e=d(i);function i(){var t;return a(this,i),(t=e.call(this))._value="",t._delegateEvents(da.extend(t._events,{'change [handle="period"]':"_onPeriodChange"})),t._elements={},t._template=$u.call(t._elements,{commons:da,i18n:wa}),t._labellableElement=u(t),t}return r(i,[{key:"_extractTimeFormat",value:function(t,e,i){var n=e.exec(t);return n&&n.length&&""!==n[0]?n[0]:i}},{key:"_syncDisplay",value:function(){var t=this._extractTimeFormat(this.displayFormat,Ku,"HH"),e=this._extractTimeFormat(this.displayFormat,Gu,"mm");this._elements.hours.placeholder=t,this._elements.minutes.placeholder=e,this._elements.hours.value=this._getValueAsString(this._value,t),this._elements.minutes.value=this._getValueAsString(this._value,e),this._syncPeriod(),this._syncValueAsText()}},{key:"_syncPeriod",value:function(){var t=this._elements.period,e=this._value,i=wa.get("am"),n=wa.get("pm"),a=t.items.getAll();e&&e.isValid()&&(e.hours()<12?t.value="am":t.value="pm"),-1!==this.displayFormat.indexOf("a")?(a[0].textContent=i,a[1].textContent=n,this._togglePeriod(!0)):-1!==this.displayFormat.indexOf("A")?(a[0].textContent=i.toUpperCase(),a[1].textContent=n.toUpperCase(),this._togglePeriod(!0)):this._togglePeriod(!1)}},{key:"_togglePeriod",value:function(t){this.classList.toggle("".concat("_coral-Clock","--extended"),t),this._elements.period.hidden=!t}},{key:"_onPeriodChange",value:function(t){t.stopImmediatePropagation();var e=this._value,i=this._elements.period;e&&e.isValid()&&(-1!==this.displayFormat.indexOf("h")&&("am"===i.value?e.subtract(12,"h"):e.add(12,"h")),this.value=e.format(this.valueFormat),this.trigger("change"))}},{key:"_syncValueAsText",value:function(){this._elements.valueAsText.textContent=this._getValueAsString(this._value,this.displayFormat),this.getAttribute("aria-labelledby")||(this.labelledBy=this.labelledBy)}},{key:"_onInputChange",value:function(t){t.stopImmediatePropagation();var e=new Dc.Moment,i=this._value,n=parseInt(this._elements.hours.value,10),a=parseInt(this._elements.minutes.value,10);window.isNaN(n)||window.isNaN(a)?e="":(this._elements.period.hidden||-1===this.displayFormat.indexOf("h")||"pm"!==this._elements.period.value||(n+=12),e.hours(n),e.minutes(a)),e&&e.isValid()?(this.invalid=!1,e.isSame(i,"hour")&&e.isSame(i,"minute")||(this.value=e.format(this.valueFormat),this.trigger("change"))):(this.invalid=!0,this._value="",e!==i&&this.trigger("change"))}},{key:"_getValueAsString",value:function(t,e){return t&&t.isValid()?t.format(e):""}},{key:"focus",value:function(){this.contains(document.activeElement)||this._elements.hours.focus()}},{key:"render",value:function(){for(m(l(i.prototype),"render",this).call(this),this.classList.add("_coral-Clock"),this.setAttribute("role","group"),this._variant||(this.variant=Zu.DEFAULT),this._valueFormat||(this.valueFormat=ju),this._displayFormat||(this.displayFormat=ju);this.firstChild;)this.removeChild(this.firstChild);this.appendChild(this._template),this._syncDisplay()}},{key:"displayFormat",get:function(){return this._displayFormat||ju},set:function(t){this._displayFormat=this._extractTimeFormat(Ua.string(t).trim(),Wu,ju),this._reflectAttribute("displayformat",this._displayFormat),this._syncDisplay()}},{key:"valueFormat",get:function(){return this._valueFormat||ju},set:function(t){var e=this,i=function(t){e._valueFormat=e._extractTimeFormat(Ua.string(t).trim(),Wu,ju),e._reflectAttribute("valueformat",e._valueFormat)};!this._valueFormat&&this._originalValue?(i(t),this.value=this._originalValue):(i(t),this._elements.input.value=this.value)}},{key:"valueAsDate",get:function(){return this._value?new Date(this._value.toDate().getTime()):null},set:function(t){this.value=t instanceof Date?new Dc.Moment(t,null,!0).format(this.valueFormat):""}},{key:"variant",get:function(){return this._variant||Zu.DEFAULT},set:function(t){var e;t=Ua.string(t).toLowerCase(),this._variant=Ba.enumeration(Zu)(t)&&t||Zu.DEFAULT,this._reflectAttribute("variant",this._variant),this._elements.hours.variant=this._variant,this._elements.minutes.variant=this._variant,this._elements.period.variant=this._variant,(e=this.classList).remove.apply(e,Xu),this._variant!==Zu.DEFAULT&&this.classList.add("".concat("_coral-Clock","--").concat(this._variant))}},{key:"name",get:function(){return this._elements.input.name},set:function(t){this._reflectAttribute("name",t),this._elements.input.name=t}},{key:"disabled",get:function(){return this._disabled||!1},set:function(t){this._disabled=Ua.booleanAttr(t),this._reflectAttribute("disabled",this._disabled),this[this._disabled?"setAttribute":"removeAttribute"]("aria-disabled",this._disabled),this.classList.toggle("is-disabled",this._disabled),this._elements.hours.disabled=this._disabled,this._elements.minutes.disabled=this._disabled,this._elements.input.disabled=this._disabled}},{key:"invalid",get:function(){return m(l(i.prototype),"invalid",this)},set:function(t){g(l(i.prototype),"invalid",t,this,!0),this._elements.hours.invalid=this._invalid,this._elements.minutes.invalid=this._invalid}},{key:"required",get:function(){return this._required||!1},set:function(t){this._required=Ua.booleanAttr(t),this._reflectAttribute("required",this._required),this._elements.hours.required=this._required,this._elements.minutes.required=this._required,this._elements.input.required=this._required}},{key:"readOnly",get:function(){return this._readOnly||!1},set:function(t){this._readOnly=Ua.booleanAttr(t),this._reflectAttribute("readonly",this._readOnly),this._elements.hours.readOnly=this._readOnly,this._elements.minutes.readOnly=this._readOnly,this._elements.input.readOnly=this._readOnly}},{key:"value",get:function(){return this._getValueAsString(this._value,this.valueFormat)},set:function(t){t="string"==typeof t?t:"",this._originalValue=t;var e=new Dc.Moment(t,this.valueFormat,!0);this._value=e.isValid()?e:"",this._elements.input.value=this.value,this._syncValueAsText(),this._syncDisplay()}},{key:"labelledBy",get:function(){var t=this.getAttribute("aria-labelledby");return t&&((t=t.replace(this._elements.valueAsText.id,"").trim()).length||(t=null)),t},set:function(t){g(l(i.prototype),"labelledBy",t,this,!0);var e=this.labelledBy,n=[this._elements.valueAsText.id];e?(n.unshift(e),this.setAttribute("aria-labelledby",n.join(" "))):this.removeAttribute("aria-labelledby")}}],[{key:"variant",get:function(){return Zu}},{key:"_attributePropertyMap",get:function(){return da.extend(m(l(i),"_attributePropertyMap",this),{displayformat:"displayFormat",valueformat:"valueFormat"})}},{key:"observedAttributes",get:function(){return m(l(i),"observedAttributes",this).concat(["displayformat","valueformat","variant"])}}]),i}(mo(ho(HTMLElement)));da.extend(ka,{"coral-component-clock":{"en-US":{am:"am",pm:"pm",Hours:"Hours",Minutes:"Minutes","AM/PM":"AM/PM"},"de-DE":{am:"vormittags",pm:"nachmittags",Hours:"Stunden",Minutes:"Minuten","AM/PM":"AM/PM"},"fr-FR":{am:"matin",pm:"aprÃ¨s-midi",Hours:"Heures",Minutes:"Minutes","AM/PM":"AM/PM"},"ja-JP":{am:"åå",pm:"åå¾",Hours:"æé",Minutes:"å","AM/PM":"åå / åå¾"},"es-ES":{am:"a. m.",pm:"p. m.",Hours:"Horas",Minutes:"Minutos","AM/PM":"a. m./p. m."},"ko-KR":{am:"ì¤ì ",pm:"ì¤í",Hours:"ìê°",Minutes:"ë¶","AM/PM":"ì¤ì /ì¤í"},"zh-CN":{am:"ä¸å",pm:"ä¸å",Hours:"å°æ¶",Minutes:"åé","AM/PM":"ä¸å/ä¸å"},"zh-TW":{am:"ä¸å",pm:"ä¸å",Hours:"å°æ",Minutes:"åé","AM/PM":"ä¸å/ä¸å"},"pt-BR":{am:"am",pm:"pm",Hours:"Horas",Minutes:"Minutos","AM/PM":"AM/PM"},"it-IT":{am:"am",pm:"pm",Hours:"Ore",Minutes:"Minuti","AM/PM":"AM/PM"},"nl-NL":{am:"am",pm:"pm",Hours:"Uren",Minutes:"Minuten","AM/PM":"AM/PM"},"da-DK":{am:"am",pm:"pm",Hours:"Timer",Minutes:"Minutter","AM/PM":"AM/PM"},"fi-FI":{am:"ap.",pm:"ip.",Hours:"Tunnit",Minutes:"Minuutit","AM/PM":"ap./ip."},"nb-NO":{am:"am",pm:"pm",Hours:"Timer",Minutes:"Minutter","AM/PM":"AM/PM"},"sv-SE":{am:"am",pm:"pm",Hours:"Timmar",Minutes:"Minuter","AM/PM":"AM/PM"},"cs-CZ":{am:"am",pm:"pm",Hours:"hodin",Minutes:"minut","AM/PM":"AM/PM"},"pl-PL":{am:"przed poÅudniem",pm:"po poÅudniu",Hours:"Godz.",Minutes:"Min","AM/PM":"Przed poÅudniem / Po poÅudniu"},"ru-RU":{am:"Ð´Ð¿",pm:"Ð¿Ð¿",Hours:"Ñ.",Minutes:"Ð¼Ð¸Ð½.","AM/PM":"ÐÐ/ÐÐ"},"tr-TR":{am:"Ã¶Ã¶",pm:"Ã¶s",Hours:"Saat",Minutes:"Dakika","AM/PM":"ÃÃ/ÃS"}}}),da._define("coral-clock",Yu);var Ju=function(t){var e=document.createDocumentFragment(),i=document.createElement("div");i.className+=" _coral-CoachMarkIndicator-ring",e.appendChild(i);var n=document.createTextNode("\n");e.appendChild(n);var a=document.createElement("div");a.className+=" _coral-CoachMarkIndicator-ring",e.appendChild(a);var o=document.createTextNode("\n");e.appendChild(o);var r=document.createElement("div");r.className+=" _coral-CoachMarkIndicator-ring",e.appendChild(r);var s=document.createTextNode("\n");return e.appendChild(s),e},th={SMALL:"S",MEDIUM:"M"},eh={DEFAULT:"default",LIGHT:"light",DARK:"dark"},ih="_coral-CoachMarkIndicator",nh=function(t){s(i,t);var e=d(i);function i(){var t;return a(this,i),(t=e.call(this))._elements={},t._template=Ju.call(t._elements),t}return r(i,[{key:"render",value:function(){m(l(i.prototype),"render",this).call(this),this.classList.add(ih),this._size||(this.size=th.MEDIUM),this._variant||(this.variant=eh.DEFAULT);for(var t=this.getElementsByClassName("_coral-CoachMarkIndicator-ring");t.length;)t[0].remove();this.appendChild(this._template)}},{key:"target",get:function(){return this._target||null},set:function(t){var e=this;(null===t||"string"==typeof t||t instanceof Node)&&(this._target=t,requestAnimationFrame((function(){var t=Cl._getTarget(e);t&&(e._popper=e._popper||new ml(t,e),t&&(e._popper.reference=t),e._popper.options.placement="top",e._popper.modifiers.forEach((function(i){if("offset"===i.name){var n=t.clientHeight/2+e.clientHeight/2;i.offset="0, -".concat(n)}else"preventOverflow"===i.name&&(i.padding=0)})),e._popper.update())})))}},{key:"size",get:function(){return this._size||th.MEDIUM},set:function(t){t=Ua.string(t).toUpperCase(),this._size=Ba.enumeration(th)(t)&&t||th.MEDIUM,this._reflectAttribute("size",this._size),this.classList.toggle("".concat(ih,"--quiet"),this._size===th.SMALL)}},{key:"variant",get:function(){return this._variant||eh.DEFAULT},set:function(t){t=Ua.string(t).toLowerCase(),this._variant=Ba.enumeration(eh)(t)&&t||eh.DEFAULT,this._reflectAttribute("variant",this._variant),this.classList.toggle("".concat(ih,"--light"),this._variant===eh.LIGHT),this.classList.toggle("".concat(ih,"--dark"),this._variant===eh.DARK)}}],[{key:"size",get:function(){return th}},{key:"variant",get:function(){return eh}},{key:"observedAttributes",get:function(){return m(l(i),"observedAttributes",this).concat(["size","variant","target"])}}]),i}(ho(HTMLElement));da._define("coral-coachmark",nh);var ah="rgb",oh="hex",rh="cmyk",sh="hsb",lh="hsl";function ch(t){return"0".concat(t.toString(16)).slice(-2)}function uh(t,e){var i=[];return t=Ua.string(t).toLowerCase(),e=Ua.string(e).toLowerCase(),-1!==t.indexOf(e)&&(i=t.substring(t.indexOf(e)+e.length,t.lastIndexOf(")")).split(/,\s*/)),i}function hh(t){var e=uh(t,"rgb(");if(3!==e.length)return null;var i=parseInt(e[0],10),n=parseInt(e[1],10),a=parseInt(e[2],10);return isNaN(i)||isNaN(n)||isNaN(a)||i<0||i>255||n<0||n>255||a<0||a>255?null:{r:i,g:n,b:a}}function dh(t){return t?"rgb(".concat(t.r,",").concat(t.g,",").concat(t.b,")"):""}function ph(t){return t?"rgba(".concat(t.r,",").concat(t.g,",").concat(t.b,",").concat(t.a,")"):""}function mh(t){var e=uh(t,"cmyk(");if(4!==e.length)return null;var i=parseFloat(e[0]),n=parseFloat(e[1]),a=parseFloat(e[2]),o=parseFloat(e[3]);return isNaN(i)||isNaN(n)||isNaN(a)||isNaN(o)||i<0||i>100||n<0||n>100||a<0||a>100||o<0||o>100?null:{c:i,m:n,y:a,k:o}}function fh(t){if(t){var e=parseFloat(t.c.toFixed(2)),i=parseFloat(t.m.toFixed(2)),n=parseFloat(t.y.toFixed(2)),a=parseFloat(t.k.toFixed(2));return"cmyk(".concat(e,",").concat(i,",").concat(n,",").concat(a,")")}return""}function gh(t){return 3===(t=Ua.string(t).replace("#","")).length&&(t=t.charAt(0)+t.charAt(0)+t.charAt(1)+t.charAt(1)+t.charAt(2)+t.charAt(2)),/^[0-9A-F]{6}$/i.test(t)?parseInt(t,16):null}function vh(t){return null!==t?{r:t>>16,g:(65280&t)>>8,b:255&t}:null}function _h(t){if(null!==t){var e=vh(t);return"#".concat(ch(e.r)+ch(e.g)+ch(e.b))}return""}function bh(t){if(!t)return null;var e={r:0,g:0,b:0},i=parseFloat(t.c)/100,n=parseFloat(t.m)/100,a=parseFloat(t.y)/100,o=parseFloat(t.k)/100;return e.r=1-Math.min(1,i*(1-o)+o),e.g=1-Math.min(1,n*(1-o)+o),e.b=1-Math.min(1,a*(1-o)+o),e.r=Math.round(255*e.r),e.g=Math.round(255*e.g),e.b=Math.round(255*e.b),e}function yh(t){if(!t)return null;var e={c:0,m:0,y:0,k:0};if(0===t.r&&0===t.g&&0===t.b)return e.k=100,e;var i=t.r/255,n=t.g/255,a=t.b/255;return e.k=Math.min(1-i,1-n,1-a),e.c=(1-i-e.k)/(1-e.k),e.m=(1-n-e.k)/(1-e.k),e.y=(1-a-e.k)/(1-e.k),e.c=Math.round(100*e.c),e.m=Math.round(100*e.m),e.y=Math.round(100*e.y),e.k=Math.round(100*e.k),e}function Ch(t){var e=uh(t,"hsb(");if(3!==e.length)return null;var i=parseFloat(e[0]),n=parseFloat(e[1]),a=parseFloat(e[2]);return isNaN(i)||isNaN(n)||isNaN(a)||i<0||i>360||n<0||n>100||a<0||a>100?null:{h:i,s:n,b:a}}function Ah(t){if(t){var e=parseFloat(t.h.toFixed(2)),i=parseFloat(t.s.toFixed(2)),n=parseFloat(t.b.toFixed(2));return"hsb(".concat(e,",").concat(i,",").concat(n,")")}return""}function kh(t){if(!t)return null;var e,i,n,a=t.h/360,o=t.s/100,r=t.b/100,s=Math.floor(6*a),l=6*a-s,c=r*(1-o),u=r*(1-l*o),h=r*(1-(1-l)*o);switch(s%6){case 0:e=r,i=h,n=c;break;case 1:e=u,i=r,n=c;break;case 2:e=c,i=r,n=h;break;case 3:e=c,i=u,n=r;break;case 4:e=h,i=c,n=r;break;case 5:e=r,i=c,n=u}return{r:Math.round(255*e),g:Math.round(255*i),b:Math.round(255*n)}}function wh(t){if(!t)return null;var e,i=t.r,n=t.g,a=t.b,o=Math.max(i,n,a),r=Math.min(i,n,a),s=o-r,l=0===o?0:s/o,c=o/255;switch(o){case r:e=0;break;case i:e=n-a+s*(n<a?6:0),e/=6*s;break;case n:e=a-i+2*s,e/=6*s;break;case a:e=i-n+4*s,e/=6*s}return{h:360*e,s:100*l,b:100*c}}function xh(t){var e=uh(t,"hsl(");if(3!==e.length)return null;var i=parseFloat(e[0]),n=parseFloat(e[1]),a=parseFloat(e[2]);return isNaN(i)||isNaN(n)||isNaN(a)||i<0||i>360||n<0||n>100||a<0||a>100?null:{h:i,s:n,l:a}}function Th(t){if(t){var e=parseFloat(t.h.toFixed(2)),i=parseFloat(t.s.toFixed(2)),n=parseFloat(t.l.toFixed(2));return"hsl(".concat(e,",").concat(i,"%,").concat(n,"%)")}return""}function Sh(t){if(!t)return null;var e,i,n,a=t.h/360,o=t.s/100,r=t.l/100;if(0===o)e=i=n=r;else{var s=function(t,e,i){return i<0&&(i+=1),i>1&&(i-=1),i<1/6?t+6*(e-t)*i:i<.5?e:i<2/3?t+(e-t)*(2/3-i)*6:t},l=r<.5?r*(1+o):r+o-r*o,c=2*r-l;e=s(c,l,a+1/3),i=s(c,l,a),n=s(c,l,a-1/3)}return{r:Math.round(255*e),g:Math.round(255*i),b:Math.round(255*n)}}function Eh(t){if(!t)return null;var e,i,n=t.r/255,a=t.g/255,o=t.b/255,r=Math.max(n,a,o),s=Math.min(n,a,o),l=(r+s)/2;if(r===s)e=i=0;else{var c=r-s;switch(i=l>.5?c/(2-r-s):c/(r+s),r){case n:e=(a-o)/c+(a<o?6:0);break;case a:e=(o-n)/c+2;break;case o:e=(n-a)/c+4}e/=6}return{h:360*e,s:100*i,l:100*l}}function Ih(t){if(t){var e=parseFloat(t.h.toFixed(2)),i=parseFloat(t.s.toFixed(2)),n=parseFloat(t.l.toFixed(2)),a=parseFloat(t.a.toFixed(2));return"hsla(".concat(e,",").concat(i,"%,").concat(n,"%,").concat(a,")")}return""}var Lh=function(){function t(){a(this,t),this._colorSpace=oh,this._value="",this._alpha=1}return r(t,[{key:"clone",value:function(){var t=new this.constructor;return t.value=this.value,t.alpha=this.alpha,t}},{key:"isSimilarTo",value:function(t,e){if(null===this.rgb&&(!t||null===t.rgb))return!0;if(!t||null===t.rgb||null===this.rgb)return!1;var i=1,n=.01;!1===e&&(i=0,n=0);var a=this.rgb,o=t.rgb,r=Math.abs(o.r-a.r),s=Math.abs(o.g-a.g),l=Math.abs(o.b-a.b),c=Math.abs(this.alpha-t.alpha);return r<=i&&s<=i&&l<=i&&c<=n}},{key:"calculateTintColors",value:function(t){var e=[],i=null,n=this.rgb;if(n)for(var a=n.r,o=n.g,r=n.b,s=1,l=1;l<=t;l++)s=l/(t+1),(i=this.clone()).rgb={r:a+(255-a)*s,g:o+(255-o)*s,b:r+(255-r)*s},e.push(i);return e}},{key:"calculateShadeColors",value:function(t){var e=[],i=null,n=this.rgb;if(n)for(var a=n.r,o=n.g,r=n.b,s=1,l=1;l<=t;l++)s=l/(t+1),(i=this.clone()).rgb={r:a*(1-s),g:o*(1-s),b:r*(1-s)},e.push(i);return e}},{key:"value",get:function(){return this._value},set:function(t){var e=function(t){var e=uh(t,"rgba(");if(4!==e.length)return null;var i=parseInt(e[0],10),n=parseInt(e[1],10),a=parseInt(e[2],10),o=parseFloat(e[3]);return isNaN(i)||isNaN(n)||isNaN(a)||isNaN(o)||i<0||i>255||n<0||n>255||a<0||a>255||o<0||o>1?null:{r:i,g:n,b:a,a:o}}(t),i=function(t){var e=uh(t,"hsla(");if(4!==e.length)return null;var i=parseFloat(e[0]),n=parseFloat(e[1]),a=parseFloat(e[2]),o=parseFloat(e[3]);return isNaN(i)||isNaN(n)||isNaN(a)||i<0||i>360||n<0||n>100||a<0||a>100||o<0||o>1?null:{h:i,s:n,l:a,a:o}}(t),n=hh(t),a=mh(t),o=Ch(t),r=xh(t),s=gh(t);null!==e?(this._colorSpace=ah,this.alpha=e.a,t=dh({r:e.r,g:e.g,b:e.b})):null!==i?(this._colorSpace=lh,this.alpha=i.a,t=Th({h:i.h,s:i.s,l:i.l})):null!==n?this._colorSpace=ah:null!==a?this._colorSpace=rh:null!==o?this._colorSpace=sh:null!==r?this._colorSpace=lh:null!==s?this._colorSpace=oh:(this._colorSpace=oh,t=""),this._value=t}},{key:"alpha",get:function(){return this._alpha},set:function(t){isNaN(t)||t<0||t>1||(this._alpha=Ua.number(t))}},{key:"rgb",get:function(){var t=null;if(this._colorSpace===ah)t=hh(this.value);else if(this._colorSpace===oh){t=vh(gh(this.value))}else if(this._colorSpace===rh){t=bh(mh(this.value))}else if(this._colorSpace===sh){t=kh(Ch(this.value))}else if(this._colorSpace===lh){t=Sh(xh(this.value))}return t},set:function(t){this.value=dh(t)}},{key:"rgbValue",get:function(){return dh(this.rgb)},set:function(t){this.value=t}},{key:"rgba",get:function(){var t=this.rgb;return t?{r:t.r,g:t.g,b:t.b,a:this.alpha}:null},set:function(t){this.value=ph(t)}},{key:"rgbaValue",get:function(){return ph(this.rgba)},set:function(t){this.value=t}},{key:"hex",get:function(){return(t=this.rgb)?gh(ch(t.r)+ch(t.g)+ch(t.b)):null;var t},set:function(t){this.value=_h(t)}},{key:"hexValue",get:function(){return _h(this.hex)},set:function(t){this.value=t}},{key:"cmyk",get:function(){var t=null;if(this._colorSpace===ah)t=yh(hh(this.value));else if(this._colorSpace===oh){t=yh(vh(gh(this.value)))}else if(this._colorSpace===rh)t=mh(this.value);else if(this._colorSpace===sh){t=yh(kh(Ch(this.value)))}else if(this._colorSpace===lh){t=yh(Sh(xh(this.value)))}return t},set:function(t){this.value=fh(t)}},{key:"cmykValue",get:function(){return fh(this.cmyk)},set:function(t){this.value=t}},{key:"hsb",get:function(){var t=null;if(this._colorSpace===ah)t=wh(hh(this.value));else if(this._colorSpace===oh){t=wh(vh(gh(this.value)))}else if(this._colorSpace===rh){t=wh(bh(mh(this.value)))}else if(this._colorSpace===sh)t=Ch(this.value);else if(this._colorSpace===lh){t=wh(Sh(xh(this.value)))}return t},set:function(t){this.value=Ah(t)}},{key:"hsbValue",get:function(){return Ah(this.hsb)},set:function(t){this.value=t}},{key:"hsl",get:function(){var t=null;if(this._colorSpace===ah)t=Eh(hh(this.value));else if(this._colorSpace===oh){t=Eh(vh(gh(this.value)))}else if(this._colorSpace===rh){t=Eh(bh(mh(this.value)))}else if(this._colorSpace===sh){t=Eh(kh(Ch(this.value)))}else this._colorSpace===lh&&(t=xh(this.value));return t},set:function(t){this.value=Th(t)}},{key:"hslValue",get:function(){return Th(this.hsl)},set:function(t){this.value=t}},{key:"hsla",get:function(){var t=this.hsl;return t?{h:t.h,s:t.s,l:t.l,a:this.alpha}:null},set:function(t){this.value=Ih(t)}},{key:"hslaValue",get:function(){return Ih(this.hsla)},set:function(t){this.value=t}}]),t}(),Nh=function(t){s(i,t);var e=d(i);function i(){return a(this,i),e.apply(this,arguments)}return r(i,[{key:"render",value:function(){m(l(i.prototype),"render",this).call(this),this.setAttribute("role","option")}},{key:"value",get:function(){return this._value||""},set:function(t){var e=new Lh;e.value=t,this._value=null!==e.rgb?t:"",this._reflectAttribute("value",this._value)}},{key:"selected",get:function(){return this._selected||!1},set:function(t){t=Ua.booleanAttr(t),this._selected=t,this._reflectAttribute("selected",this._selected),this.classList.toggle("is-selected",this._selected),this.setAttribute("aria-selected",this._selected),this.trigger("coral-colorinput-item:_selectedchanged")}}],[{key:"observedAttributes",get:function(){return m(l(i),"observedAttributes",this).concat(["selected","value"])}}]),i}(ho(HTMLElement)),Mh=function(t){return function(t){s(i,t);var e=d(i);function i(){var t;return a(this,i),(t=e.call(this))._events={"click ._coral-ColorInput-preview":"_onPreviewClicked"},t.constructor._lastValidColor=null,t}return r(i,[{key:"_onPreviewClicked",value:function(){null!==this._colorinput.valueAsColor?(this.constructor._lastValidColor=this._colorinput.valueAsColor,this._colorinput._setActiveColor(null)):null!==this.constructor._lastValidColor&&this._colorinput._setActiveColor(this.constructor._lastValidColor)}},{key:"_beforeOverlayOpen",value:function(){}},{key:"_onColorInputChange",value:function(){}},{key:"connectedCallback",value:function(){m(l(i.prototype),"connectedCallback",this).call(this);var t=this.closest("._coral-ColorInput-overlay");t&&t._colorinput&&(this.__beforeOverlayOpen=this._beforeOverlayOpen.bind(this),this.__onColorInputChange=this._onColorInputChange.bind(this),this._colorinput=t._colorinput,this._colorinput.on("coral-overlay:beforeopen",this.__beforeOverlayOpen),this._colorinput.on("coral-colorinput:_valuechange",this.__onColorInputChange),this._onColorInputChange())}},{key:"disconnectedCallback",value:function(){m(l(i.prototype),"disconnectedCallback",this).call(this),this._colorinput&&(this._colorinput.off("coral-overlay:beforeopen",this.__beforeOverlayOpen),this._colorinput.off("coral-colorinput:_valuechange",this.__onColorInputChange)),this._colorinput=null}}]),i}(t)},Oh=function(t){var e=document.createDocumentFragment(),i=this.label=document.createElement("div");i.className+=" _coral-Slider-labelContainer",i.setAttribute("handle","label");var n=document.createTextNode("\n  ");i.appendChild(n);var a=this.labelContent=document.createElement("label");a.className+=" _coral-Slider-label",a.setAttribute("handle","labelContent"),i.appendChild(a);var o=document.createTextNode("\n  ");i.appendChild(o);var r=this.labelValue=document.createElement("label");r.className+=" _coral-Slider-value",r.setAttribute("handle","labelValue"),r.setAttribute("hidden",""),i.appendChild(r);var s=document.createTextNode("\n");i.appendChild(s),e.appendChild(i);var l=document.createTextNode("\n");e.appendChild(l);var c=this.controls=document.createElement("div");c.className+=" _coral-Slider-controls",c.setAttribute("role","presentation"),c.setAttribute("handle","controls");var u=document.createTextNode("\n  ");c.appendChild(u);var h=document.createElement("div");h.className+=" _coral-Slider-track",c.appendChild(h);var d=document.createTextNode("\n  ");c.appendChild(d);var p=this.leftHandle=document.createElement("div");p.className+=" _coral-Slider-handle",p.setAttribute("handle","leftHandle");var m=document.createTextNode("\n    ");p.appendChild(m);var f=this.leftInput=document.createElement("input");f.setAttribute("handle","leftInput"),f.setAttribute("value","1"),f.setAttribute("type","range"),f.className+=" _coral-Slider-input",p.appendChild(f);var g=document.createTextNode("\n  ");p.appendChild(g),c.appendChild(p);var v=document.createTextNode("\n  ");c.appendChild(v);var _=document.createElement("div");_.className+=" _coral-Slider-track",c.appendChild(_);var b=document.createTextNode("\n");c.appendChild(b),e.appendChild(c);var y=document.createTextNode("\n");return e.appendChild(y),e},Dh={HORIZONTAL:"horizontal",VERTICAL:"vertical"},Fh=function(t){s(i,t);var e=d(i);function i(){var t;a(this,i),(t=e.call(this))._delegateEvents(da.extend(t._events,{"key:up ._coral-Slider-handle":"_handleKey","key:right ._coral-Slider-handle":"_handleKey","key:down ._coral-Slider-handle":"_handleKey","key:left ._coral-Slider-handle":"_handleKey","key:pageUp ._coral-Slider-handle":"_handleKey","key:pageDown ._coral-Slider-handle":"_handleKey","key:home ._coral-Slider-handle":"_handleKey","key:end ._coral-Slider-handle":"_handleKey",input:"_onInputChangeHandler",touchstart:"_onMouseDown",mousedown:"_onMouseDown","capture:focus":"_focus","capture:blur":"_blur"})),t._elements={},t._getTemplate().call(t._elements,{commons:da}),t._labellableElement=t._elements.leftInput,t._elements.content=t.querySelector("coral-slider-content")||document.createElement("coral-slider-content");var n=t._elements.controls;return t._elements.handles=Array.prototype.slice.call(n.querySelectorAll(".".concat("_coral-Slider-handle"))),t._elements.inputs=Array.prototype.slice.call(n.querySelectorAll(".".concat("_coral-Slider-input"))),t._onInteraction=t._onInteraction.bind(u(t)),t.items._startHandlingItems(!0),t}return r(i,[{key:"_getValueOf",value:function(t,e){return"number"==typeof this["_".concat(t)]?this["_".concat(t)]:this.hasAttribute(t)?parseFloat(this.getAttribute(t)):e}},{key:"_onMouseDown",value:function(t){if(!(this.disabled||t instanceof MouseEvent&&1!==(t.which||t.button))){if(t.preventDefault(),this._currentHandle=t.target.closest(".".concat("_coral-Slider-handle")),!this._currentHandle){var e=this._getPoint(t),i=this._getValueFromCoord(e.pageX,e.pageY,!0);this._currentHandle=this._findNearestHandle(e.pageX,e.pageY),this._updateValue(this._currentHandle,i),this._setHandleFocus(this._currentHandle)}this._currentHandle.classList.add("is-dragged"),document.body.classList.add("u-coral-closedHand"),this._draggingHandler=this._handleDragging.bind(this),this._mouseUpHandler=this._mouseUp.bind(this),pa.on("mousemove.Slider",this._draggingHandler),pa.on("mouseup.Slider",this._mouseUpHandler),pa.on("touchmove.Slider",this._draggingHandler),pa.on("touchend.Slider",this._mouseUpHandler),pa.on("touchcancel.Slider",this._mouseUpHandler),this._setHandleFocus(this._currentHandle)}}},{key:"_getPoint",value:function(t){return t.changedTouches&&t.changedTouches.length>0?t.changedTouches[0]:t.touches&&t.touches.length>0?t.touches[0]:t}},{key:"_setHandleFocus",value:function(t){t.querySelector(".".concat("_coral-Slider-input")).focus()}},{key:"_handleKey",value:function(t){t.preventDefault(),this._focus(t);var e=t.matchedTarget,i=this._elements.handles.indexOf(e),n=parseInt(this._values[i],10);t.keyCode===Ra.keyToCode("up")||t.keyCode===Ra.keyToCode("right")||t.keyCode===Ra.keyToCode("pageUp")?n+=this.step:t.keyCode===Ra.keyToCode("down")||t.keyCode===Ra.keyToCode("left")||t.keyCode===Ra.keyToCode("pageDown")?n-=this.step:t.keyCode===Ra.keyToCode("home")?n=this.min:t.keyCode===Ra.keyToCode("end")&&(n=this.max),this._updateValue(e,n)}},{key:"_findNearestHandle",value:function(t,e){var i,n=1/0;return this._elements.handles.forEach((function(a){var o,r,s,l,c,u=(o=t,r=e,s=a.getBoundingClientRect(),l=s.top+window.pageYOffset,c=s.left+window.pageXOffset,Math.floor(Math.sqrt(Math.pow(o-(c+s.width/2),2)+Math.pow(r-(l+s.height/2),2))));u<n&&(n=u,i=a)})),i}},{key:"_moveHandles",value:function(){var t=this,e=function(e){return(e-t.min)/(t.max-t.min)*100},i=[];if(1===this._elements.handles.length){var n=this._elements.handles[0],a=e(this._values[0]);n.style.left="".concat(a,"%"),n.previousElementSibling.style.width="".concat(a,"%"),n.nextElementSibling.style.width="".concat(100-a,"%"),i.push(this._getLabel(this._values[0]))}else{var o=this._elements.handles[0],r=e(this._values[0]);o.style.left="".concat(r,"%");var s=this._elements.handles[1],l=e(this._values[1]);s.style.left="".concat(l,"%"),o.previousElementSibling.style.width="".concat(r,"%"),o.nextElementSibling.style.left="".concat(r,"%");var c=100-l;o.nextElementSibling.style.right="".concat(c,"%"),s.nextElementSibling.style.width="".concat(c,"%"),i.push(this._getLabel(this._values[0])),i.push(this._getLabel(this._values[1]))}this._elements.labelValue.textContent=i.length>1?i.join(" - "):i[0]}},{key:"_onInputChange",value:function(t){void 0===t.target.oninput&&this._onInputChangeHandler(t)}},{key:"_onInputChangeHandler",value:function(t){t.stopPropagation();var e=t.target.closest(".".concat("_coral-Slider-handle"));t.target===document.activeElement&&this._focus(t),this._updateValue(e,t.target.value,!0)}},{key:"_focus",value:function(t){t.target.closest(".".concat("_coral-Slider-handle")).classList.add("is-focused"),pa.on("touchstart.Slider",this._onInteraction),pa.on("mousedown.Slider",this._onInteraction)}},{key:"_onInteraction",value:function(t){this.contains(t.target)&&t.target.blur()}},{key:"_blur",value:function(t){t.target.closest(".".concat("_coral-Slider-handle")).classList.remove("is-focused"),pa.off("touchstart.Slider"),pa.off("mousedown.Slider")}},{key:"_handleDragging",value:function(t){var e=this._getPoint(t);this._updateValue(this._currentHandle,this._getValueFromCoord(e.pageX,e.pageY)),t.preventDefault()}},{key:"_updateValue",value:function(t,e,i){var n=this._elements.handles.indexOf(t),a=this._values;a[n]=e;var o=this._values;this._values=a;var r=this._values;(i||o.join(":")!==r.join(":"))&&this.trigger("change")}},{key:"_getValueFromCoord",value:function(t,e,i){var n=this.getBoundingClientRect(),a=n.width,o=(t-n.left)/a;if(i&&(o<0||o>1))return NaN;var r=this.min+(this.max-this.min)*o;return this._snapValueToStep(r,this.min,this.max,this.step)}},{key:"_snapValueToStep",value:function(t,e,i,n){var a,o=(t-e)%(n=parseFloat(n)),r=n.toString().replace(/^(?:\d+)(?:\.(\d+))?$/g,"$1").length;return(a=2*Math.abs(o)>=n?t-Math.abs(o)+n:t-o)<e?a=e:a>i&&(a=e+Math.floor((i-e)/n)*n),r>0&&(a=parseFloat(a.toFixed(r))),a}},{key:"_mouseUp",value:function(){this._currentHandle&&(this._currentHandle.style.cursor="grab",this._currentHandle.classList.remove("is-dragged")),document.body.classList.remove("u-coral-closedHand"),pa.off("mousemove.Slider",this._draggingHandler),pa.off("touchmove.Slider",this._draggingHandler),pa.off("mouseup.Slider",this._mouseUpHandler),pa.off("touchend.Slider",this._mouseUpHandler),pa.off("touchcancel.Slider",this._mouseUpHandler),this._currentHandle=null,this._draggingHandler=null,this._mouseUpHandler=null}},{key:"_getLabel",value:function(t){for(var e,i=this.items.getAll(),n=0;n<i.length;n++)if(Ua.number(i[n].getAttribute("value"))===Ua.number(t)){e=i[n];break}return e?e.innerHTML:t}},{key:"_getTemplate",value:function(){return Oh}},{key:"render",value:function(){m(l(i.prototype),"render",this).call(this),this.classList.add("_coral-Slider"),this._min||(this.min=this.min),this._max||(this.max=this.max),this._step||(this.step=this.step),this._orientation||(this.orientation=Dh.HORIZONTAL),this.setAttribute("role","presentation");for(var t=this.querySelectorAll("._coral-Slider-labelContainer, ._coral-Slider-controls"),e=0;e<t.length;e++)t[e].remove();var n=document.createDocumentFragment();n.appendChild(this._elements.label),n.appendChild(this._elements.controls);var a=this._elements.content;if(!a.parentNode)for(;this.firstChild;){var o=this.firstChild;"CORAL-SLIDER-ITEM"===o.nodeName?n.appendChild(o):a.appendChild(o)}this.appendChild(n),this.content=a,this._moveHandles()}},{key:"content",get:function(){return this._getContentZone(this._elements.content)},set:function(t){this._setContentZone("content",t,{handle:"content",tagName:"coral-slider-content",insert:function(t){this._elements.labelContent.appendChild(t)}})}},{key:"items",get:function(){return this._items||(this._items=new rr({host:this,itemTagName:"coral-slider-item"})),this._items}},{key:"step",get:function(){return this._getValueOf("step",1)},set:function(t){var e=this;(t=Ua.number(t))>0&&(this._step=t,this._reflectAttribute("step",this._step),this._elements.inputs.forEach((function(t){t.setAttribute("step",e._step)})))}},{key:"min",get:function(){return this._getValueOf("min",1)},set:function(t){var e=this;this._min=Ua.number(t),this._reflectAttribute("min",this._min),this._elements.inputs.forEach((function(t){t.setAttribute("min",e._min)}))}},{key:"max",get:function(){return this._getValueOf("max",100)},set:function(t){var e=this;this._max=Ua.number(t),this._reflectAttribute("max",this._max),this._elements.inputs.forEach((function(t){t.setAttribute("max",e._max)}))}},{key:"tooltips",get:function(){return this.showValue},set:function(t){this.showValue=t}},{key:"showValue",get:function(){return this._showValue||!1},set:function(t){this._showValue=Ua.booleanAttr(t),this._reflectAttribute("showvalue",this._showValue),this._elements.labelValue.hidden=!this._showValue}},{key:"orientation",get:function(){return this._orientation||Dh.HORIZONTAL},set:function(t){t=Ua.string(t).toLowerCase(),this._orientation=Ba.enumeration(Dh)(t)&&t||Dh.HORIZONTAL,this._reflectAttribute("orientation",this._orientation)}},{key:"filled",get:function(){return this._filled||!1},set:function(t){this._filled=Ua.booleanAttr(t),this._reflectAttribute("filled",this._filled),this.classList.toggle("".concat("_coral-Slider","--filled"),this._filled)}},{key:"valueAsNumber",get:function(){return parseFloat(this.value)},set:function(t){this.value=Ua.float(t)}},{key:"name",get:function(){return this._elements.inputs[0].name},set:function(t){var e=this;this._reflectAttribute("name",t),this._elements.inputs.forEach((function(t){t.name=e.getAttribute("name")}))}},{key:"value",get:function(){return this._elements.inputs[0].value},set:function(t){if(t=Ua.number(t),1===this._elements.handles.length){var e=this._elements.inputs[0];t=this._snapValueToStep(t,this.min,this.max,this.step),e.value=t,e.value?(e.setAttribute("aria-valuenow",t),e.setAttribute("aria-valuetext",this._getLabel(t))):(e.removeAttribute("aria-valuenow"),e.removeAttribute("aria-valuetext")),this._moveHandles();var i=this.getAttribute("value");e[i?"setAttribute":"removeAttribute"]("value",i)}}},{key:"disabled",get:function(){return this._disabled||!1},set:function(t){var e=this;this._disabled=Ua.booleanAttr(t),this._reflectAttribute("disabled",this._disabled),this.classList.toggle("is-disabled",this._disabled),this[this._disabled?"setAttribute":"removeAttribute"]("aria-disabled",this._disabled),this._elements.inputs.forEach((function(t){t.disabled=e._disabled}))}},{key:"required",get:function(){return this._required||!1},set:function(t){var e=this;this._required=Ua.booleanAttr(t),this._reflectAttribute("required",this._required),this._elements.inputs.forEach((function(t){t.required=e._required}))}},{key:"readOnly",get:function(){return this._readOnly||!1},set:function(t){var e=this;this._readOnly=Ua.booleanAttr(t),this._reflectAttribute("readonly",this._readOnly),this._elements.inputs.forEach((function(t){t.readOnly=e._readOnly}))}},{key:"labelledBy",get:function(){return m(l(i.prototype),"labelledBy",this)},set:function(t){if(g(l(i.prototype),"labelledBy",t,this,!0),this._elements.inputs.length>1){var e=this._elements.inputs[1],n=this.labelledBy;e[n?"setAttribute":"removeAttribute"]("aria-labelledby",n)}}},{key:"_values",get:function(){return this._elements.inputs.map((function(t){return String(parseInt(t.value,10))}))},set:function(t){var e=this;t&&t.length===this._elements.handles.length&&(this._elements.inputs.forEach((function(i,n){var a=t[n]=e._snapValueToStep(t[n],e.min,e.max,e.step);i.value=a,i.value?(i.setAttribute("aria-valuenow",a),i.setAttribute("aria-valuetext",e._getLabel(a))):(i.removeAttribute("aria-valuenow"),i.removeAttribute("aria-valuetext"))})),this._moveHandles())}},{key:"_contentZones",get:function(){return{"coral-slider-content":"content"}}}],[{key:"orientation",get:function(){return Dh}},{key:"_attributePropertyMap",get:function(){return da.extend(m(l(i),"_attributePropertyMap",this),{showvalue:"showValue"})}},{key:"observedAttributes",get:function(){return m(l(i),"observedAttributes",this).concat(["step","min","max","tooltips","showvalue","orientation","filled"])}}]),i}(mo(ho(HTMLElement))),Ph=function(t){s(i,t);var e=d(i);function i(){return a(this,i),e.apply(this,arguments)}return r(i,[{key:"render",value:function(){m(l(i.prototype),"render",this).call(this),this.classList.add("_coral-Slider-item")}},{key:"value",get:function(){return this.getAttribute("value")},set:function(t){this._reflectAttribute("value",Ua.string(t))}},{key:"content",get:function(){return this},set:function(t){t instanceof HTMLElement&&(this.innerHTML=t.innerHTML)}}]),i}(ho(HTMLElement)),Rh=function(t){var e=document.createDocumentFragment(),i=t=void 0===t?{}:t;(i=t).uidMin=i.commons.getUID(),i.uidMax=i.commons.getUID(),t=i;var n=document.createTextNode("\n\n");e.appendChild(n);var a=this.label=document.createElement("div");a.className+=" _coral-Slider-labelContainer",a.setAttribute("handle","label");var o=document.createTextNode("\n  ");a.appendChild(o);var r=this.labelContent=document.createElement("label");r.className+=" _coral-Slider-label",r.setAttribute("handle","labelContent"),a.appendChild(r);var s=document.createTextNode("\n  ");a.appendChild(s);var l=this.labelValue=document.createElement("label");l.className+=" _coral-Slider-value",l.setAttribute("handle","labelValue"),l.setAttribute("hidden",""),a.appendChild(l);var c=document.createTextNode("\n");a.appendChild(c),e.appendChild(a);var u=document.createTextNode("\n");e.appendChild(u);var h=this.controls=document.createElement("div");h.className+=" _coral-Slider-controls",h.setAttribute("role","presentation"),h.setAttribute("handle","controls");var d=document.createTextNode("\n  ");h.appendChild(d);var p=document.createElement("div");p.className+=" _coral-Slider-track",h.appendChild(p);var m=document.createTextNode("\n  ");h.appendChild(m);var f=this.leftHandle=document.createElement("div");f.className+=" _coral-Slider-handle",f.setAttribute("handle","leftHandle");var g=document.createTextNode("\n    ");f.appendChild(g);var v=this.leftLabel=document.createElement("label");v.setAttribute("handle","leftLabel"),v.className+=" u-coral-screenReaderOnly",v.id=t.uidMin+"-label",v.setAttribute("for",t.uidMin),v.setAttribute("aria-hidden","true"),v.textContent="Minimum",f.appendChild(v);var _=document.createTextNode("\n    ");f.appendChild(_);var b=this.leftInput=document.createElement("input");b.setAttribute("handle","leftInput"),b.setAttribute("value","1"),b.setAttribute("type","range"),b.className+=" _coral-Slider-input",b.id=t.uidMin,f.appendChild(b);var y=document.createTextNode("\n  ");f.appendChild(y),h.appendChild(f);var C=document.createTextNode("\n  ");h.appendChild(C);var A=document.createElement("div");A.className+=" _coral-Slider-track",h.appendChild(A);var k=document.createTextNode("\n  ");h.appendChild(k);var w=this.rightHandle=document.createElement("div");w.className+=" _coral-Slider-handle",w.setAttribute("handle","rightHandle");var x=document.createTextNode("\n    ");w.appendChild(x);var T=this.rightLabel=document.createElement("label");T.setAttribute("handle","rightLabel"),T.className+=" u-coral-screenReaderOnly",T.id=t.uidMax+"-label",T.setAttribute("for",t.uidMax),T.setAttribute("aria-hidden","true"),T.textContent="Maximum",w.appendChild(T);var S=document.createTextNode("\n    ");w.appendChild(S);var E=this.rightInput=document.createElement("input");E.setAttribute("handle","rightInput"),E.setAttribute("value","100"),E.setAttribute("type","range"),E.className+=" _coral-Slider-input",E.id=t.uidMax,w.appendChild(E);var I=document.createTextNode("\n  ");w.appendChild(I),h.appendChild(w);var L=document.createTextNode("\n  ");h.appendChild(L);var N=document.createElement("div");N.className+=" _coral-Slider-track",h.appendChild(N);var M=document.createTextNode("\n");h.appendChild(M),e.appendChild(h);var O=document.createTextNode("\n");return e.appendChild(O),e},Hh=function(t){s(i,t);var e=d(i);function i(){return a(this,i),e.apply(this,arguments)}return r(i,[{key:"_getHighestValue",value:function(){return Math.max.apply(null,this.values)}},{key:"_getLowestValue",value:function(){return Math.min.apply(null,this.values)}},{key:"_updateValue",value:function(t,e){var i=this._elements.handles.indexOf(t);0===i?(e>parseFloat(this.values[1])&&(e=this.values[1]),this._elements.rightInput.min=e,this._elements.rightHandle.setAttribute("aria-valuemin",e)):(e<parseFloat(this.values[0])&&(e=this.values[0]),this._elements.leftInput.max=e,this._elements.leftHandle.setAttribute("aria-valuemax",e));var n=[this.values[0],this.values[1]];n[i]=e;var a=this.values;this.values=n;var o=this.values;a.join(":")!==o.join(":")&&this.trigger("change")}},{key:"_getTemplate",value:function(){return Rh}},{key:"clear",value:function(){this.startValue=this.min,this.endValue=this.max}},{key:"reset",value:function(){var t=this.getAttribute("startvalue")||this.getAttribute("value"),e=this.getAttribute("endvalue");this.startValue=Ua.string(t),this.endValue=Ua.string(e)}},{key:"render",value:function(){m(l(i.prototype),"render",this).call(this),this.classList.add("_coral-Slider--range"),this.setAttribute("filled","")}},{key:"filled",get:function(){return!0},set:function(t){Ua.booleanAttr(t)||da._log("warn","Coral.RangedSlider: filled can not be set to false.")}},{key:"value",get:function(){return this.startValue},set:function(t){this.startValue=t}},{key:"startValue",get:function(){return this.values[0]||"1"},set:function(t){t=String(this._snapValueToStep(Ua.number(t),this.min,this.max,this.step));var e=this.values;e[0]=t,this.values=e;var i=this._elements.inputs[0],n=this.getAttribute("startvalue")||this.getAttribute("value");i[n?"setAttribute":"removeAttribute"]("value",n)}},{key:"endValue",get:function(){return this.values[1]||"100"},set:function(t){t=String(this._snapValueToStep(Ua.number(t),this.min,this.max,this.step));var e=this.values;e[1]=t,this.values=e;var i=this._elements.inputs[1],n=this.getAttribute("endvalue");i[n?"setAttribute":"removeAttribute"]("value",n)}},{key:"values",get:function(){return this._values},set:function(t){this._values=t}}],[{key:"_attributePropertyMap",get:function(){return da.extend(m(l(i),"_attributePropertyMap",this),{startvalue:"startValue",endvalue:"endValue"})}},{key:"observedAttributes",get:function(){return m(l(i),"observedAttributes",this).concat(["startvalue","endvalue"])}}]),i}(Fh);da._define("coral-slider-item",Ph),da._define("coral-rangedslider",Hh),da._define("coral-slider",Fh),Fh.Content=function(){return document.createElement("coral-slider-content")},Fh.Item=Ph;var Uh=function(t){var e=document.createDocumentFragment(),i=this.label=document.createElement("div");i.className+=" _coral-Slider-labelContainer",i.setAttribute("handle","label");var n=document.createTextNode("\n  ");i.appendChild(n);var a=this.labelContent=document.createElement("label");a.className+=" _coral-Slider-label",a.setAttribute("handle","labelContent"),i.appendChild(a);var o=document.createTextNode("\n  ");i.appendChild(o);var r=this.labelValue=document.createElement("label");r.className+=" _coral-Slider-value",r.setAttribute("handle","labelValue"),r.setAttribute("hidden",""),i.appendChild(r);var s=document.createTextNode("\n");i.appendChild(s),e.appendChild(i);var l=document.createTextNode("\n");e.appendChild(l);var c=this.controls=document.createElement("div");c.className+=" _coral-Slider-controls u-coral-noMargin",c.setAttribute("role","presentation"),c.setAttribute("handle","controls");var u=document.createTextNode("\n  ");c.appendChild(u);var h=this.bar=document.createElement("div");h.className+=" _coral-Slider-track _coral-ColorInput-sliderBar u-coral-clearFix",h.setAttribute("handle","bar"),c.appendChild(h);var d=document.createTextNode("\n  ");c.appendChild(d);var p=this.leftHandle=document.createElement("div");p.className+=" _coral-Slider-handle _coral-ColorInput-sliderHandle",p.setAttribute("handle","leftHandle");var m=document.createTextNode("\n    ");p.appendChild(m);var f=this.leftInput=document.createElement("input");f.setAttribute("aria-orientation","horizontal"),f.setAttribute("handle","leftInput"),f.setAttribute("value","1"),f.setAttribute("type","range"),f.className+=" _coral-Slider-input",p.appendChild(f);var g=document.createTextNode("\n  ");p.appendChild(g),c.appendChild(p);var v=document.createTextNode("\n");c.appendChild(v),e.appendChild(c);var _=document.createTextNode("\n");return e.appendChild(_),e},Bh=["_coral-ColorInput-slider","_coral-Slider--color"],zh=function(t){s(i,t);var e=d(i);function i(){return a(this,i),e.apply(this,arguments)}return r(i,[{key:"_moveHandles",value:function(){var t=this,e=[];this._elements.handles.forEach((function(i,n){var a=(t._values[n]-t.min)/(t.max-t.min)*100;i.style.left="".concat(a,"%"),e.push(t._getLabel(t._values[n]))})),this._elements.labelValue.textContent=e.length>1?e.join(" - "):e[0]}},{key:"_getTemplate",value:function(){return Uh}},{key:"render",value:function(){var t;m(l(i.prototype),"render",this).call(this),(t=this.classList).add.apply(t,Bh)}},{key:"gradient",get:function(){return this._gradient||""},set:function(t){this._gradient=Ua.string(t);var e=this._elements.bar.style,i=this.gradient.split(" "),n=i.length;if(e.backgroundImage="none",e.filter="",!(n<2)){for(var a="",o=0;o<n;o++)a+=", ".concat(i[o]," ").concat(Math.abs(100*o/(n-1)),"%");e.backgroundImage="-moz-linear-gradient(to right".concat(a,")"),e.backgroundImage="-ms-linear-gradient(to right".concat(a,")"),e.backgroundImage="-o-linear-gradient(to right".concat(a,")"),e.backgroundImage="-webkit-linear-gradient(to right".concat(a,")"),e.backgroundImage="linear-gradient(to right".concat(a,")"),e.filter="progid:DXImageTransform.Microsoft.gradient(startColorstr='".concat(i[0],"', endColorstr='").concat(i[1],"', gradientType=1)")}}}],[{key:"observedAttributes",get:function(){return m(l(i),"observedAttributes",this).concat(["gradient"])}}]),i}(Fh),qh=function(t){var e=document.createDocumentFragment(),i=t=void 0===t?{}:t,n=(i=t).commons.getUID();t=i;var a=document.createTextNode("\n");e.appendChild(a);var o=this.propertiesSubview=document.createElement("div");o.className+=" _coral-ColorInput-propertiesSubview",o.setAttribute("handle","propertiesSubview"),o.setAttribute("role","group");var r=document.createTextNode("\n  ");o.appendChild(r);var s=document.createElement("div");s.className+=" _coral-ColorInput-previewView",s.setAttribute("role","presentation");var l=document.createTextNode("\n    ");s.appendChild(l);var c=document.createElement("div");c.className+=" _coral-ColorInput-preview-container",c.setAttribute("role","presentation");var u=document.createTextNode("\n      ");c.appendChild(u);var h=this.colorPreview2=document.createElement("button","coral-button");h.setAttribute("is","coral-button"),h.setAttribute("handle","colorPreview2"),h.setAttribute("variant","action"),h.className+=" _coral-ColorInput-preview",h.setAttribute("type","button"),h.setAttribute("aria-pressed","false"),c.appendChild(h);var d=document.createTextNode("\n    ");c.appendChild(d),s.appendChild(c);var p=document.createTextNode("\n    ");s.appendChild(p);var m=document.createElement("div");m.className+=" _coral-ColorInput-editHex",m.setAttribute("role","presentation");var f=document.createTextNode("\n      ");m.appendChild(f);var g=document.createElement("label");g.className+=" _coral-ColorInput-editHex-label";var v=document.createTextNode("\n        ");g.appendChild(v);var _=document.createElement("span");_.textContent="#",g.appendChild(_);var b=document.createTextNode("\n        ");g.appendChild(b);var y=this.hexInput=document.createElement("input","coral-textfield");y.className+=" _coral-ColorInput-editHex-input",y.setAttribute("type","text"),y.setAttribute("handle","hexInput"),y.setAttribute("is","coral-textfield"),y.setAttribute("aria-label",t.i18n.get("HEX")),y.setAttribute("placeholder",t.i18n.get("HEX")),y.setAttribute("maxlength","6"),y.setAttribute("value",""),y.setAttribute("variant","quiet"),g.appendChild(y);var C=document.createTextNode("\n      ");g.appendChild(C),m.appendChild(g);var A=document.createTextNode("\n    ");m.appendChild(A),s.appendChild(m);var k=document.createTextNode("\n  ");s.appendChild(k),o.appendChild(s);var w=document.createTextNode("\n  ");o.appendChild(w);var x=document.createElement("div");x.className+=" _coral-ColorInput-rgbaView _coral-ColorInput-editRgba",x.setAttribute("role","presentation");var T=document.createTextNode("\n    ");x.appendChild(T);var S=document.createElement("div");S.setAttribute("role","group"),S.className+=" _coral-ColorInput-editRgba-group";var E=document.createTextNode("\n      ");S.appendChild(E);var I=document.createElement("label");I.className+=" _coral-ColorInput-editRgba-group-label",I.id=n+"-r-label",I.setAttribute("for",n+"-r"),I.textContent=t.i18n.get("R"),S.appendChild(I);var L=document.createTextNode("\n      ");S.appendChild(L);var N=this.redSlider=document.createElement("coral-colorinput-slider");N.setAttribute("handle","redSlider"),N.setAttribute("min","0"),N.setAttribute("max","255"),N.setAttribute("value","0"),N.setAttribute("gradient","#000000 #FF0000"),N.setAttribute("labelledby",n+"-r-label"),S.appendChild(N);var M=document.createTextNode("\n      ");S.appendChild(M);var O=this.redInput=document.createElement("input","coral-textfield");O.className+=" _coral-ColorInput-editRgba-group-input",O.id=n+"-r",O.setAttribute("handle","redInput"),O.setAttribute("is","coral-textfield"),O.setAttribute("type","number"),O.setAttribute("placeholder",t.i18n.get("R")),O.setAttribute("maxlength","3"),O.setAttribute("value",""),O.setAttribute("variant","quiet"),S.appendChild(O);var D=document.createTextNode("\n    ");S.appendChild(D),x.appendChild(S);var F=document.createTextNode("\n    ");x.appendChild(F);var P=document.createElement("div");P.setAttribute("role","group"),P.className+=" _coral-ColorInput-editRgba-group";var R=document.createTextNode("\n      ");P.appendChild(R);var H=document.createElement("label");H.className+=" _coral-ColorInput-editRgba-group-label",H.id=n+"-g-label",H.setAttribute("for",n+"-g"),H.textContent=t.i18n.get("G"),P.appendChild(H);var U=document.createTextNode("\n      ");P.appendChild(U);var B=this.greenSlider=document.createElement("coral-colorinput-slider");B.setAttribute("handle","greenSlider"),B.setAttribute("min","0"),B.setAttribute("max","255"),B.setAttribute("value","0"),B.setAttribute("gradient","#000000 #00FF00"),B.setAttribute("labelledby",n+"-g-label"),P.appendChild(B);var z=document.createTextNode("\n      ");P.appendChild(z);var q=this.greenInput=document.createElement("input","coral-textfield");q.className+=" _coral-ColorInput-editRgba-group-input",q.id=n+"-g",q.setAttribute("handle","greenInput"),q.setAttribute("is","coral-textfield"),q.setAttribute("type","number"),q.setAttribute("placeholder",t.i18n.get("G")),q.setAttribute("maxlength","3"),q.setAttribute("value",""),q.setAttribute("variant","quiet"),P.appendChild(q);var V=document.createTextNode("\n    ");P.appendChild(V),x.appendChild(P);var $=document.createTextNode("\n    ");x.appendChild($);var j=document.createElement("div");j.setAttribute("role","group"),j.className+=" _coral-ColorInput-editRgba-group";var W=document.createTextNode("\n      ");j.appendChild(W);var K=document.createElement("label");K.className+=" _coral-ColorInput-editRgba-group-label",K.id=n+"-b-label",K.setAttribute("for",n+"-b"),K.textContent=t.i18n.get("B"),j.appendChild(K);var G=document.createTextNode("\n      ");j.appendChild(G);var Z=this.blueSlider=document.createElement("coral-colorinput-slider");Z.setAttribute("handle","blueSlider"),Z.setAttribute("min","0"),Z.setAttribute("max","255"),Z.setAttribute("value","0"),Z.setAttribute("gradient","#000000 #0000FF"),Z.setAttribute("labelledby",n+"-b-label"),j.appendChild(Z);var X=document.createTextNode("\n      ");j.appendChild(X);var Q=this.blueInput=document.createElement("input","coral-textfield");Q.className+=" _coral-ColorInput-editRgba-group-input",Q.id=n+"-b",Q.setAttribute("handle","blueInput"),Q.setAttribute("is","coral-textfield"),Q.setAttribute("type","number"),Q.setAttribute("placeholder",t.i18n.get("B")),Q.setAttribute("maxlength","3"),Q.setAttribute("value",""),Q.setAttribute("variant","quiet"),j.appendChild(Q);var Y=document.createTextNode("\n    ");j.appendChild(Y),x.appendChild(j);var J=document.createTextNode("\n    ");x.appendChild(J);var tt=document.createElement("div");tt.setAttribute("role","group"),tt.className+=" _coral-ColorInput-editRgba-group";var et=document.createTextNode("\n      ");tt.appendChild(et);var it=document.createElement("label");it.className+=" _coral-ColorInput-editRgba-group-label",it.id=n+"-a-label",it.setAttribute("for",n+"-a"),it.textContent=t.i18n.get("A"),tt.appendChild(it);var nt=document.createTextNode("\n      ");tt.appendChild(nt);var at=this.alphaSlider=document.createElement("coral-colorinput-slider");at.setAttribute("handle","alphaSlider"),at.setAttribute("min","0"),at.setAttribute("max","100"),at.setAttribute("value","100"),at.setAttribute("gradient","rgba(255,255,255,0) rgba(255,255,255,1)"),at.setAttribute("labelledby",n+"-a-label"),tt.appendChild(at);var ot=document.createTextNode("\n      ");tt.appendChild(ot);var rt=this.alphaInput=document.createElement("input","coral-textfield");rt.className+=" _coral-ColorInput-editRgba-group-input",rt.id=n+"-a",rt.setAttribute("handle","alphaInput"),rt.setAttribute("is","coral-textfield"),rt.setAttribute("type","number"),rt.setAttribute("placeholder",t.i18n.get("A")),rt.setAttribute("maxlength","3"),rt.setAttribute("value",""),rt.setAttribute("variant","quiet"),tt.appendChild(rt);var st=document.createTextNode("\n    ");tt.appendChild(st),x.appendChild(tt);var lt=document.createTextNode("\n  ");x.appendChild(lt),o.appendChild(x);var ct=document.createTextNode("\n");o.appendChild(ct),e.appendChild(o);var ut=document.createTextNode("\n");return e.appendChild(ut),e},Vh=function(t){s(i,t);var e=d(i);function i(){var t;return a(this,i),(t=e.call(this))._delegateEvents(da.extend(t._events,{'change [handle="redSlider"]':"_onRedSliderChange",'change [handle="greenSlider"]':"_onGreenSliderChange",'change [handle="blueSlider"]':"_onBlueSliderChange",'change [handle="alphaSlider"]':"_onAlphaSliderChange","change ._coral-ColorInput-editHex":"_onChangeHex","change ._coral-ColorInput-editRgba":"_onChangeRgba"})),t._elements={},qh.call(t._elements,{commons:da,i18n:wa}),t}return r(i,[{key:"_onColorInputChange",value:function(){var t,e=this._colorinput.valueAsColor,i=this._elements.colorPreview2;e?(t=e.rgba,i.style.backgroundColor=e.rgbValue,i.setAttribute("aria-pressed","false"),i.setAttribute("aria-label",wa.get("{value}, Color",{value:1===parseFloat(t.a)?e.value:e.rgbaValue})),this._elements.hexInput.value=e.hexValue.substr(1)):(i.setAttribute("aria-pressed","true"),i.setAttribute("aria-label",wa.get("Color not set")),this._elements.hexInput.value="");for(var n,a,o,r,s=["red","green","blue","alpha"],l=s.length,c=0;c<l;c++)a=(n=s[c]).substr(0,1),r=(o=c===l-1)?100:127,e&&(r=t?o?parseInt(100*t[a],10):t[a]:""),this._elements["".concat(n,"Slider")].value=this._elements["".concat(n,"Input")].value=r;i===document.activeElement&&(i.blur(),window.setTimeout((function(){i.focus()}),100))}},{key:"_onRedSliderChange",value:function(t){this._elements.redInput.value=this._elements.redSlider.value,this._onChangeRgba(t)}},{key:"_onGreenSliderChange",value:function(t){this._elements.greenInput.value=this._elements.greenSlider.value,this._onChangeRgba(t)}},{key:"_onBlueSliderChange",value:function(t){this._elements.blueInput.value=this._elements.blueSlider.value,this._onChangeRgba(t)}},{key:"_onAlphaSliderChange",value:function(t){this._elements.alphaInput.value=this._elements.alphaSlider.value,this._onChangeRgba(t)}},{key:"_onChangeHex",value:function(t){t.stopPropagation();var e="#".concat(this._elements.hexInput.value),i=new Lh;i.value=e,null===i.hex?(this._elements.hexInput.value="",null!==this._colorinput.valueAsColor&&(this.constructor._lastValidColor=this._colorinput.valueAsColor),this._colorinput._setActiveColor(null)):this._colorinput._setActiveColor(i)}},{key:"_onChangeRgba",value:function(t){t.stopPropagation();var e=parseInt(this._elements.redInput.value,10),i=parseInt(this._elements.greenInput.value,10),n=parseInt(this._elements.blueInput.value,10),a=parseInt(this._elements.alphaInput.value,10),o=!0;if((isNaN(e)||e<0||e>255)&&(o=!1,this._elements.redInput.value=""),(isNaN(i)||i<0||i>255)&&(o=!1,this._elements.greenInput.value=""),(isNaN(n)||n<0||n>255)&&(o=!1,this._elements.blueInput.value=""),(isNaN(a)||a<0||a>100)&&(o=!1,this._elements.alphaInput.value=""),o){var r=new Lh;r.rgba={r:e,g:i,b:n,a:a/100},this._colorinput._setActiveColor(r)}}},{key:"render",value:function(){m(l(i.prototype),"render",this).call(this),this.classList.add("_coral-ColorInput-colorProperties");var t=this.querySelector("._coral-ColorInput-propertiesSubview");t&&t.remove(),this.appendChild(this._elements.propertiesSubview)}}]),i}(Mh(ho(HTMLElement))),$h=function(t){var e=document.createDocumentFragment(),i=this.colorButton=document.createElement("button","coral-button");i.setAttribute("is","coral-button"),i.setAttribute("variant","action"),i.setAttribute("handle","colorButton"),i.setAttribute("icon","checkmark"),i.setAttribute("type","button"),i.setAttribute("role","option"),e.appendChild(i);var n=document.createTextNode("\n");e.appendChild(n),this.colorButton.label.classList.add("u-coral-screenReaderOnly");var a=document.createTextNode("\n");return e.appendChild(a),e},jh=function(t){s(i,t);var e=d(i);function i(){var t;return a(this,i),(t=e.call(this))._delegateEvents(t._events),t._elements={},$h.call(t._elements),t}return r(i,[{key:"_onColorInputChange",value:function(){this.targetColor&&(this.selected=this.targetColor.selected)}},{key:"render",value:function(){m(l(i.prototype),"render",this).call(this),this.classList.add("_coral-ColorInput-swatch","u-coral-clearFix"),this.setAttribute("role","presentation");var t=this.querySelector('[handle="colorButton"]');t&&t.remove(),this.appendChild(this._elements.colorButton)}},{key:"selected",get:function(){return this._selected||!1},set:function(t){(!(t=Ua.booleanAttr(t))||t&&!this.disabled)&&(this._selected=t,this._reflectAttribute("selected",!this.disabled&&this._selected),this.removeAttribute("aria-selected",this._selected),this.classList.toggle("is-selected",this._selected),this._elements.colorButton.setAttribute("aria-selected",this._selected),this._elements.colorButton.tabIndex=this.tabIndex,this.removeAttribute("tabindex"),this._elements.colorButton[this._selected?"setAttribute":"removeAttribute"]("aria-label","".concat(wa.get("checked")," ").concat(this._elements.colorButton.label.textContent)),this.trigger("coral-colorinput-swatch:_selectedchanged"))}},{key:"targetColor",get:function(){return this._targetColor||null},set:function(t){"string"==typeof t&&(t=this.querySelector(t)),this._targetColor=t;var e="",i="";if(this._targetColor){var n=new Lh;n.value=this._targetColor.value,e=n.rgbaValue,i=n.hexValue}e?(this._elements.colorButton.style.backgroundColor=e,this._elements.colorButton.label.textContent=i,this.setAttribute("data-value",i)):(this._elements.colorButton.classList.add("_coral-ColorInput-swatch-novalue"),this._elements.colorButton.label.textContent=wa.get("unset"),this.setAttribute("data-value",""))}},{key:"disabled",get:function(){return this._elements.colorButton.disabled},set:function(t){this._elements.colorButton.disabled=t,this._reflectAttribute("disabled",this.disabled)}},{key:"tabIndex",get:function(){return this._elements.colorButton.tabIndex},set:function(t){this._elements.colorButton.tabIndex=t,this.removeAttribute("tabindex")}}],[{key:"_attributePropertyMap",get:function(){return da.extend(m(l(i),"_attributePropertyMap",this),{tabindex:"tabIndex",targetcolor:"targetColor"})}},{key:"observedAttributes",get:function(){return m(l(i),"observedAttributes",this).concat(["selected","tabindex","disabled","targetcolor"])}}]),i}(Mh(ho(HTMLElement))),Wh=function(t){var e=document.createDocumentFragment(),i=this.swatchesSubview=document.createElement("div");i.className+=" _coral-ColorInput-swatchesSubview",i.setAttribute("role","presentation"),i.setAttribute("handle","swatchesSubview");var n=document.createTextNode("\n  ");i.appendChild(n);var a=document.createElement("div");a.className+=" _coral-ColorInput-swatches-header-title coral-Heading coral-Heading--5",a.setAttribute("role","presentation"),a.setAttribute("aria-hidden","true");var o=document.createTextNode("\n    ");a.appendChild(o);var r=this.swatchesHeaderTitle=document.createElement("span");r.setAttribute("handle","swatchesHeaderTitle"),r.id=t.commons.getUID(),r.setAttribute("role","heading"),r.setAttribute("aria-level","2"),r.textContent="\n      "+t.i18n.get("Swatches"),a.appendChild(r);var s=document.createTextNode("\n  ");a.appendChild(s),i.appendChild(a);var l=document.createTextNode("\n  ");i.appendChild(l);var c=document.createElement("div");c.className+=" _coral-ColorInput-swatches-container",c.setAttribute("role","presentation");var u=document.createTextNode("\n    ");c.appendChild(u);var h=this.swatchesContainer=document.createElement("div");h.setAttribute("handle","swatchesContainer"),h.setAttribute("role","presentation"),c.appendChild(h);var d=document.createTextNode("\n  ");c.appendChild(d),i.appendChild(c);var p=document.createTextNode("\n");i.appendChild(p),e.appendChild(i);var m=document.createTextNode("\n");return e.appendChild(m),e},Kh=function(t){s(i,t);var e=d(i);function i(){var t;return a(this,i),(t=e.call(this))._delegateEvents(da.extend(t._events,{"click coral-colorinput-swatch":"_onSwatchClicked","keydown ._coral-ColorInput-swatch":"_onKeyDown","capture:focus coral-colorinput-swatch":"_onFocus","coral-colorinput-swatch:_selectedchanged":"_onItemSelectedChanged"})),t._elements={},Wh.call(t._elements,{commons:da,i18n:wa}),t._oldSelection=null,t.items._startHandlingItems(!0),t}return r(i,[{key:"_onItemSelectedChanged",value:function(t){t.stopImmediatePropagation(),this._validateSelection(t.target)}},{key:"_validateSelection",value:function(t){var e=this,i=this.items._getAllSelected();(t=t||i[i.length-1])&&t.hasAttribute("selected")&&i.length>1&&(i.forEach((function(i){i!==t&&(e._preventTriggeringEvents=!0,i.removeAttribute("selected"))})),this._preventTriggeringEvents=!1),this._triggerChangeEvent()}},{key:"_triggerChangeEvent",value:function(){var t=this.selectedItem,e=this._oldSelection;this._preventTriggeringEvents||t===e||(t&&(this.value=t.value),this.trigger("coral-colorinput-swatches:change",{oldSelection:e,selection:t}),this._oldSelection=t)}},{key:"_beforeOverlayOpen",value:function(){var t=this._colorinput.items.getAll(),e=!1;if(this._cachedColorElements){if(this._cachedColorElements.length!==t.length)e=!0;else if(this._cachedColorElements.length===t.length)for(var i=0;i<t.length;i++)if(this._cachedColorElements[i]!==t[i]){e=!0;break}}else e=!0;this._cachedColorElements=t,e&&this._layoutColorSwatch(),this._ensureKeyboardAccess()}},{key:"_onColorInputChange",value:function(){this._ensureKeyboardAccess()}},{key:"_ensureKeyboardAccess",value:function(){if(!this.querySelector("coral-colorinput-swatch[selected]")){var t=this.querySelector("coral-colorinput-swatch");t&&(t.tabIndex=0)}}},{key:"_layoutColorSwatch",value:function(){this._elements.swatchesContainer.innerHtml="";for(var t=this._colorinput.items.getAll(),e=t.length,i=!1,n=0;n<e;n++){var a=t[n],o=new jh;this._elements.swatchesContainer.appendChild(o),o.targetColor=a,a.selected&&(o[a.selected?"setAttribute":"removeAttribute"]("selected",a.selected),i=!0),o.tabIndex=o.selected?0:-1}i||this._ensureKeyboardAccess()}},{key:"_onSwatchClicked",value:function(t){t.stopPropagation();var e=t.target.closest("coral-colorinput-swatch");if(!e.selected){var i=new Lh;i.value=e.targetColor?e.targetColor.value:"",this._colorinput._setActiveColor(i),e.selected=!0}e.firstChild.focus()}},{key:"_onKeyDown",value:function(t){var e=this._colorinput._elements.overlay;if(e.open){var i=this.items.getAll(),n=!0,a=i.indexOf(t.matchedTarget);switch(t.which){case 13:window.requestAnimationFrame((function(){e.open=!1}));break;case 37:a-=1;break;case 38:a-=4;break;case 39:a+=1;break;case 40:a+=4;break;default:n=!1}if(n){if(t.preventDefault(),a<0||a>=i.length)return;var o=i[a],r=new Lh;r.value=o.targetColor?o.targetColor.value:"",this._colorinput._setActiveColor(r),o.selected=!0,o.firstChild.focus()}}}},{key:"_onFocus",value:function(t){for(var e=this.items.getAll(),i=0;i<e.length;i++){var n=e[i];n.contains(t.matchedTarget)||(n.tabIndex=-1)}t.matchedTarget.tabIndex=0,document.activeElement!==t.matchedTarget.firstChild&&t.matchedTarget.firstChild.focus()}},{key:"render",value:function(){m(l(i.prototype),"render",this).call(this),this.classList.add("_coral-ColorInput-swatches"),this.setAttribute("role","listbox");var t=this.querySelector("._coral-ColorInput-swatchesSubview");t&&t.remove(),this.appendChild(this._elements.swatchesSubview),this.setAttribute("aria-labelledby",this._elements.swatchesHeaderTitle.id),this._preventTriggeringEvents=!0,this._validateSelection(),this._preventTriggeringEvents=!1,this._oldSelection=this.selectedItem}},{key:"items",get:function(){return this._items||(this._items=new sr({host:this,itemTagName:"coral-colorinput-swatch",onItemAdded:this._validateSelection})),this._items}},{key:"selectedItem",get:function(){return this.items._getLastSelected()}}]),i}(Mh(ho(HTMLElement))),Gh=function(t){var e=document.createDocumentFragment(),i=t=void 0===t?{}:t,n=this.defaultPalette=document.createElement("div");n.setAttribute("handle","defaultPalette");var a=document.createTextNode("\n  ");n.appendChild(a);var o=document.createElement("coral-colorinput-item");o.setAttribute("value",""),n.appendChild(o);var r=document.createTextNode("\n  ");n.appendChild(r);var s=document.createElement("coral-colorinput-item");s.setAttribute("value","#001F3F"),n.appendChild(s);var l=document.createTextNode("\n  ");n.appendChild(l);var c=document.createElement("coral-colorinput-item");c.setAttribute("value","#0074D9"),n.appendChild(c);var u=document.createTextNode("\n  ");n.appendChild(u);var h=document.createElement("coral-colorinput-item");h.setAttribute("value","#7FDBFF"),n.appendChild(h);var d=document.createTextNode("\n  ");n.appendChild(d);var p=document.createElement("coral-colorinput-item");p.setAttribute("value","#39CCCC"),n.appendChild(p);var m=document.createTextNode("\n  ");n.appendChild(m);var f=document.createElement("coral-colorinput-item");f.setAttribute("value","#3D9970"),n.appendChild(f);var g=document.createTextNode("\n  ");n.appendChild(g);var v=document.createElement("coral-colorinput-item");v.setAttribute("value","#2ECC40"),n.appendChild(v);var _=document.createTextNode("\n  ");n.appendChild(_);var b=document.createElement("coral-colorinput-item");b.setAttribute("value","#01FF70"),n.appendChild(b);var y=document.createTextNode("\n  ");n.appendChild(y);var C=document.createElement("coral-colorinput-item");C.setAttribute("value","#FFDC00"),n.appendChild(C);var A=document.createTextNode("\n  ");n.appendChild(A);var k=document.createElement("coral-colorinput-item");k.setAttribute("value","#FF851B"),n.appendChild(k);var w=document.createTextNode("\n  ");n.appendChild(w);var x=document.createElement("coral-colorinput-item");x.setAttribute("value","#FF4136"),n.appendChild(x);var T=document.createTextNode("\n  ");n.appendChild(T);var S=document.createElement("coral-colorinput-item");S.setAttribute("value","#85144B"),n.appendChild(S);var E=document.createTextNode("\n  ");n.appendChild(E);var I=document.createElement("coral-colorinput-item");I.setAttribute("value","#F012BE"),n.appendChild(I);var L=document.createTextNode("\n  ");n.appendChild(L);var N=document.createElement("coral-colorinput-item");N.setAttribute("value","#B10DC9"),n.appendChild(N);var M=document.createTextNode("\n  ");n.appendChild(M);var O=document.createElement("coral-colorinput-item");O.setAttribute("value","#111111"),n.appendChild(O);var D=document.createTextNode("\n  ");n.appendChild(D);var F=document.createElement("coral-colorinput-item");F.setAttribute("value","#AAAAAA"),n.appendChild(F);var P=document.createTextNode("\n  ");n.appendChild(P);var R=document.createElement("coral-colorinput-item");R.setAttribute("value","#DDDDDD"),n.appendChild(R);var H=document.createTextNode("\n");n.appendChild(H),e.appendChild(n);var U=document.createTextNode("\n");e.appendChild(U);var B=(i=t).commons.getUID();t=i;var z=document.createTextNode("\n");e.appendChild(z);var q=this.input=document.createElement("input","coral-textfield");q.setAttribute("handle","input"),q.setAttribute("is","coral-textfield"),q.className+=" _coral-ColorInput-input",q.setAttribute("type","text"),q.setAttribute("value",""),q.setAttribute("role","combobox"),q.setAttribute("aria-autocomplete","none"),q.setAttribute("aria-haspopup","dialog"),q.setAttribute("aria-expanded","false"),q.setAttribute("aria-controls",B),e.appendChild(q);var V=document.createTextNode("\n");e.appendChild(V);var $=this.buttonWrapper=document.createElement("div");$.className+=" _coral-ColorInput-buttonWrapper",$.setAttribute("handle","buttonWrapper"),$.setAttribute("role","presentation");var j=document.createTextNode("\n  ");$.appendChild(j);var W=this.colorPreview=document.createElement("button","coral-button");W.setAttribute("handle","colorPreview"),W.setAttribute("is","coral-button"),W.setAttribute("variant","_custom"),W.className+=" _coral-FieldButton _coral-ColorInput-button _coral-ColorInput-preview",W.setAttribute("type","button"),W.setAttribute("aria-haspopup","dialog"),W.setAttribute("aria-expanded","false"),W.setAttribute("aria-controls",B),$.appendChild(W);var K=document.createTextNode("\n  ");$.appendChild(K),i=t,this.colorPreview.label.classList.add("u-coral-screenReaderOnly"),this.colorPreview.label.innerText=i.i18n.get("Color Picker"),this.colorPreview.label.id=B+"-coral-button-label",t=i;var G=document.createTextNode("\n");$.appendChild(G),e.appendChild($);var Z=document.createTextNode("\n");e.appendChild(Z);var X=this.overlay=document.createElement("coral-popover");X.setAttribute("smart",""),X.className+=" _coral-ColorInput-overlay",X.setAttribute("role","dialog"),X.setAttribute("focusonshow","on"),X.setAttribute("trapfocus","on"),X.setAttribute("handle","overlay"),X.setAttribute("breadthoffset","50%r - 50%p"),X.setAttribute("placement","bottom"),X.id=B,X.setAttribute("aria-label",t.i18n.get("Color Picker"));var Q=document.createTextNode("\n  ");X.appendChild(Q);var Y=this.propertiesView=document.createElement("coral-colorinput-colorproperties");Y.setAttribute("handle","propertiesView"),X.appendChild(Y);var J=document.createTextNode("\n  ");X.appendChild(J);var tt=this.swatchesView=document.createElement("coral-colorinput-swatches");tt.setAttribute("handle","swatchesView"),X.appendChild(tt);var et=document.createTextNode("\n");X.appendChild(et),e.appendChild(X);var it=document.createTextNode("\n");return e.appendChild(it),e},Zh={DEFAULT:"default",SWATCH:"swatch"},Xh={OFF:"off",SHADES:"shades",TINTS:"tints"},Qh={ON:"on",OFF:"off"},Yh={ON:"on",OFF:"off"},Jh={ON:"on",OFF:"off"},td=function(t){s(i,t);var e=d(i);function i(){var t;a(this,i),(t=e.call(this))._elements={},Gh.call(t._elements,{commons:da,i18n:wa});var n=t._elements.overlay,o=n.id;n._colorinput=u(t);var r=da.extend(t._events,{"key:down ._coral-ColorInput-input:not([readonly])":"_onKeyDown",'key:down [handle="colorPreview"]':"_onKeyDown",'click [handle="colorPreview"]':"_onColorPreviewClick","key:esc input":"_onKeyEsc","key:enter input":"_onKeyEsc","coral-colorinput-item:_selectedchanged":"_onItemSelectedChanged"});return r["global:capture:coral-overlay:beforeopen #".concat(o)]="_beforeOverlayOpen",r["global:capture:coral-overlay:close #".concat(o)]="_onOverlayClose",r["global:key:esc #".concat(o)]="_onKeyEsc",t._delegateEvents(r),t._labellableElement=t._elements.input,t._oldSelection=null,t.items._startHandlingItems(!0),t}return r(i,[{key:"_onItemSelectedChanged",value:function(t){t.stopImmediatePropagation(),this._validateSelection(t.target)}},{key:"_onItemAdded",value:function(t){this._validateSelection(t),this._elements.overlay.open&&(this._elements.overlay.open=!1)}},{key:"_onItemRemoved",value:function(){this._elements.overlay.open&&(this._elements.overlay.open=!1)}},{key:"_validateSelection",value:function(t){var e=this,i=this.items._getAllSelected();(t=t||i[i.length-1])&&t.hasAttribute("selected")&&i.length>1&&(i.forEach((function(i){i!==t&&(e._preventTriggeringEvents=!0,i.removeAttribute("selected"))})),this._preventTriggeringEvents=!1),this._triggerChangeEvent()}},{key:"_triggerChangeEvent",value:function(){var t=this.selectedItem,e=this._oldSelection;this._preventTriggeringEvents||t===e||(t&&(this.value=t.getAttribute("value")),this.trigger("coral-colorinput:change",{oldSelection:e,selection:t}),this._oldSelection=t)}},{key:"_onColorPreviewClick",value:function(t){this._elements.overlay.returnFocusTo(this.variant===Zh.SWATCH?t.matchedTarget:this._elements.input)}},{key:"_onInputChange",value:function(t){if(t.target===this._elements.input){t.stopPropagation();var e=new Lh;e.value=t.target[this._eventTargetProperty],this._setActiveColor(e)}}},{key:"_onKeyDown",value:function(t){t.stopPropagation(),this._elements.overlay.returnFocusTo(this.variant===Zh.SWATCH?t.matchedTarget:this._elements.input),this._elements.overlay.open=!0}},{key:"_onKeyEsc",value:function(t){this._elements.overlay.open&&(t.stopPropagation(),this._elements.overlay.open=!1)}},{key:"_beforeOverlayOpen",value:function(){this.showProperties===Yh.ON?this._elements.overlay.focusOnShow=this._elements.propertiesView._elements.colorPreview2:this.showSwatches===Qh.ON&&(this._elements.overlay.focusOnShow=this._elements.overlay.querySelector("coral-colorinput-swatch[selected] > button")||"coral-colorinput-swatch > button"),this._elements.input.setAttribute("aria-expanded",!0),this._elements.colorPreview.setAttribute("aria-expanded",!0)}},{key:"_onOverlayClose",value:function(){this._elements.input.setAttribute("aria-expanded",!0),this._elements.colorPreview.setAttribute("aria-expanded",!1)}},{key:"_validateInputValue",value:function(){this.invalid=""!==this.value&&null===this.valueAsColor}},{key:"_showOrHideView",value:function(t,e){t.hidden=e,this._elements.overlay.classList.remove("_coral-ColorInput-onlySwatchesView","_coral-ColorInput-onlyPropertiesView"),!this._elements.propertiesView.hidden&&this._elements.swatchesView.hidden?this._elements.overlay.classList.add("_coral-ColorInput-onlyPropertiesView"):this._elements.propertiesView.hidden&&!this._elements.swatchesView.hidden&&this._elements.overlay.classList.add("_coral-ColorInput-onlySwatchesView"),this.showProperties===Yh.OFF&&this.showSwatches===Qh.ON?(this._elements.colorPreview.label.textContent=wa.get("Swatches"),this._elements.overlay.setAttribute("aria-label",wa.get("Swatches"))):(this._elements.colorPreview.label.textContent=wa.get("Color Picker"),this._elements.overlay.setAttribute("aria-label",wa.get("Color Picker")))}},{key:"_recalculateGeneratedColors",value:function(){for(var t=this.querySelectorAll("coral-colorinput-item[coral-colorinput-generatedcolor]"),e=t.length,i=0;i<e;i++)t[i].remove();if(this.autoGenerateColors!==Xh.OFF){var n=this.items.getAll(),a=null,o=null,r=0,s=0,l=null,c=[];for(r=0;r<n.length;r++)for(a=n[r],(o=new Lh).value=a.value,s=(c=this.autoGenerateColors===Xh.TINTS?o.calculateTintColors(5):o.calculateShadeColors(5)).length-1;s>=0;s--)(l=new Nh).value=c[s].rgbaValue,l.setAttribute("coral-colorinput-generatedcolor",""),a.parentNode.insertBefore(l,a.nextSibling)}}},{key:"_syncColorPreviewIcon",value:function(){var t=this._elements.colorPreview;t.icon=this.disabled&&this.variant===Zh.SWATCH?"lockClosed":"",t.iconSize=Uo.size.SMALL}},{key:"_setActiveColor",value:function(t){var e=this.valueAsColor?this.valueAsColor:new Lh;this.valueAsColor=t,e.isSimilarTo(this.valueAsColor,!1)||(this._validateInputValue(),this.trigger("change"))}},{key:"_selectColorInputColor",value:function(t){var e=!0;if(this.selectedItem){var i=new Lh;i.value=this.selectedItem.value,e=!i.isSimilarTo(t,!0)}if(e){var n=this.selectedItem;n&&n.removeAttribute("selected");for(var a=this.items.getAll(),o=a.length,r=null,s=0;s<o;s++)if((r=new Lh).value=a[s].getAttribute("value"),r.isSimilarTo(t,!0)){a[s].setAttribute("selected","");break}}}},{key:"_setDefaultSelectedItem",value:function(){var t=this.selectedItem,e=this.value;if(e&&!t){var i=new Lh;i.value=e,this._selectColorInputColor(i)}this._updateColorPreview()}},{key:"_updateColorPreview",value:function(){var t=""===this.value,e=this.valueAsColor;this._elements.colorPreview.style.backgroundColor=e?e.rgbaValue:"",this.classList.toggle("_coral-ColorInput--novalue",t);var i=this._elements.overlay.querySelector("._coral-ColorInput-preview");i&&i.classList.toggle("_coral-ColorInput-preview--novalue",t)}},{key:"connectedCallback",value:function(){m(l(i.prototype),"connectedCallback",this).call(this);var t=this._elements.overlay;t.removeAttribute("open"),t._parent&&t._parent.appendChild(t)}},{key:"render",value:function(){m(l(i.prototype),"render",this).call(this),this.classList.add("_coral-ColorInput"),this.setAttribute("role","group");var t=document.createDocumentFragment();for(t.appendChild(this._elements.defaultPalette),t.appendChild(this._elements.input),t.appendChild(this._elements.buttonWrapper),t.appendChild(this._elements.overlay);this.firstChild;){var e=this.firstChild;e.nodeType===Node.ELEMENT_NODE&&e.hasAttribute("handle")?this.removeChild(e):t.appendChild(e)}this._elements.overlay.target=this._elements.colorPreview,this.appendChild(t),this.autoGenerateColors=this.autoGenerateColors,this.showDefaultColors=this.showDefaultColors,this._preventTriggeringEvents=!0,this._validateSelection(),this._setDefaultSelectedItem(),this._preventTriggeringEvents=!1,this._oldSelection=this.selectedItem}},{key:"disconnectedCallback",value:function(){m(l(i.prototype),"disconnectedCallback",this).call(this);var t=this._elements.overlay;this.contains(t)||(t._parent=t._repositioned?document.body:this,t.remove())}},{key:"overlay",get:function(){return this._elements.overlay}},{key:"items",get:function(){return this._items||(this._items=new sr({host:this,itemTagName:"coral-colorinput-item",onItemAdded:this._onItemAdded,onItemRemoved:this._onItemRemoved})),this._items}},{key:"selectedItem",get:function(){return this.items._getLastSelected()}},{key:"variant",get:function(){return this._variant||Zh.DEFAULT},set:function(t){t=Ua.string(t).toLowerCase(),this._variant=Ba.enumeration(Zh)(t)&&t||Zh.DEFAULT,this._reflectAttribute("variant",this._variant),this._variant===Zh.SWATCH?(this.classList.add("_coral-ColorInput--swatch"),this._elements.input.setAttribute("tabindex",-1),this._elements.colorPreview.removeAttribute("tabindex")):(this.classList.remove("_coral-ColorInput--swatch"),this._elements.input.removeAttribute("tabindex"),this._elements.colorPreview.setAttribute("tabindex",-1)),this._syncColorPreviewIcon()}},{key:"valueAsColor",get:function(){this._color||(this._color=new Lh);var t=new Lh;return t.value=this.value,this._color.isSimilarTo(t,!0)||(this._color.value=t.value,this._color.alpha=t.alpha),null===this._color.rgb?null:this._color.clone()},set:function(t){this._color||(this._color=new Lh),t?(this._color=t,t.alpha<1?this.value=t.rgbaValue:this.value=t.value):(this._color.value="",this.value="")}},{key:"autoGenerateColors",get:function(){return this._autoGenerateColors||Xh.OFF},set:function(t){t=Ua.string(t).toLowerCase(),this._autoGenerateColors=Ba.enumeration(Xh)(t)&&t||Xh.OFF,this._recalculateGeneratedColors()}},{key:"showSwatches",get:function(){return this._showSwatches||Qh.ON},set:function(t){t=Ua.string(t).toLowerCase(),this._showSwatches=Ba.enumeration(Qh)(t)&&t||Qh.ON,this._showOrHideView(this._elements.swatchesView,this._showSwatches===Qh.OFF)}},{key:"showProperties",get:function(){return this._showProperties||Yh.ON},set:function(t){t=Ua.string(t).toLowerCase(),this._showProperties=Ba.enumeration(Yh)(t)&&t||Yh.ON,this._showOrHideView(this._elements.propertiesView,this._showProperties===Yh.OFF)}},{key:"showDefaultColors",get:function(){return this._showDefaultColors||Jh.ON},set:function(t){t=Ua.string(t).toLowerCase(),this._showDefaultColors=Ba.enumeration(Jh)(t)&&t||Jh.ON;var e=this._elements.defaultPalette;this._showDefaultColors===Jh.ON?e.parentNode||this.insertBefore(e,this.firstChild||null):e.parentNode&&e.parentNode.removeChild(e)}},{key:"placeholder",get:function(){return this._elements.input.placeholder},set:function(t){this._reflectAttribute("placeholder",t),this._elements.input.placeholder=t}},{key:"value",get:function(){return this._value||""},set:function(t){var e=new Lh;e.value=this.value;var i=new Lh;i.value=t,i.isSimilarTo(e,!1)||(this._value=t,this._selectColorInputColor(i),this.trigger("coral-colorinput:_valuechange")),this._elements.input.value=this.value,this._updateColorPreview()}},{key:"name",get:function(){return this._elements.input.name},set:function(t){this._reflectAttribute("name",t),this._elements.input.name=t}},{key:"disabled",get:function(){return this._disabled||!1},set:function(t){this._disabled=Ua.booleanAttr(t),this._reflectAttribute("disabled",this._disabled),this[this._disabled?"setAttribute":"removeAttribute"]("aria-disabled",this._disabled),this.classList.toggle("is-disabled",this._disabled),this._elements.input.disabled=this.disabled,this._elements.colorPreview.disabled=this._disabled||this.readOnly,this._syncColorPreviewIcon()}},{key:"invalid",get:function(){return m(l(i.prototype),"invalid",this)},set:function(t){g(l(i.prototype),"invalid",t,this,!0),this._elements.input.invalid=this.invalid}},{key:"required",get:function(){return this._required||!1},set:function(t){this._required=Ua.booleanAttr(t),this._reflectAttribute("required",this._required),this._elements.input.required=this._required}},{key:"readOnly",get:function(){return this._readOnly||!1},set:function(t){this._readOnly=Ua.booleanAttr(t),this._reflectAttribute("readonly",this._readOnly),this._elements.input.readOnly=this._readOnly,this._elements.colorPreview.disabled=this.disabled||this._readOnly}},{key:"labelledBy",get:function(){return m(l(i.prototype),"labelledBy",this)},set:function(t){g(l(i.prototype),"labelledBy",t,this,!0),this._elements.input[t?"setAttribute":"removeAttribute"]("aria-labelledby",t),this.labelledBy?(this.setAttribute("aria-labelledby",this.labelledBy),this._elements.colorPreview.setAttribute("aria-labelledby",[this.labelledBy,this._elements.colorPreview.label.id].join(" "))):(this.removeAttribute("aria-labelledby"),this._elements.colorPreview.removeAttribute("aria-labelledby"))}}],[{key:"variant",get:function(){return Zh}},{key:"autoGenerateColors",get:function(){return Xh}},{key:"showSwatches",get:function(){return Qh}},{key:"showDefaultColors",get:function(){return Jh}},{key:"showProperties",get:function(){return Yh}},{key:"_attributePropertyMap",get:function(){return da.extend(m(l(i),"_attributePropertyMap",this),{autogeneratecolors:"autoGenerateColors",showswatches:"showSwatches",showproperties:"showProperties",showdefaultcolors:"showDefaultColors"})}},{key:"observedAttributes",get:function(){return m(l(i),"observedAttributes",this).concat(["variant","autogeneratecolors","showswatches","showproperties","showdefaultcolors","placeholder"])}}]),i}(mo(ho(HTMLElement)));da.extend(ka,{"coral-component-colorinput":{"en-US":{Swatches:"Swatches",R:"R",G:"G",B:"B",A:"A",HEX:"HEX","Color Picker":"Color Picker",unset:"Not set",checked:"Checked","{value}, Color":"{value}, Color","Color not set":"Color not set"},"fr-FR":{Swatches:"Ãchantillons",R:"R",G:"G",B:"B",A:"A",HEX:"HEX","Color Picker":"SÃ©lecteur de couleurs",unset:"Non dÃ©fini",checked:"ActivÃ©","{value}, Color":"{value}, Couleur","Color not set":"Couleur non dÃ©fini"},"de-DE":{Swatches:"Muster",R:"R",G:"G",B:"B",A:"A",HEX:"HEX","Color Picker":"Farbauswahl",unset:"Nicht gesetzt",checked:"Aktiviert","{value}, Color":"{value}, Farbe","Color not set":"Farbe nicht gesetzt"},"it-IT":{Swatches:"Campioni",R:"R",G:"G",B:"B",A:"A",HEX:"HEX","Color Picker":"Selettore colori",unset:"Non impostato",checked:"Selezionato","{value}, Color":"{value}, Colore","Color not set":"Colore non impostato"},"es-ES":{Swatches:"Muestras",R:"R",G:"G",B:"B",A:"A",HEX:"HEX","Color Picker":"Selector de colores",unset:"No establecido",checked:"Activado","{value}, Color":"{value}, Color","Color not set":"Color no establecido"},"pt-BR":{Swatches:"Amostras",R:"R",G:"G",B:"B",A:"A",HEX:"HEX","Color Picker":"Seletor de cores",unset:"NÃ£o definida",checked:"Selecionado","{value}, Color":"{value}, Cor","Color not set":"Cor nÃ£o definida"},"ja-JP":{Swatches:"ã¹ã¦ã©ãã",R:"R",G:"G",B:"B",A:"A",HEX:"16 é²","Color Picker":"ã«ã©ã¼ ããã«ã¼",unset:"è¨­å®è§£é¤",checked:"é¸æ","{value}, Color":"{value}, ã«ã©ã¼","Color not set":"è²ãè¨­å®ããã¦ãã¾ãã"},"ko-KR":{Swatches:"ê²¬ë³¸",R:"R",G:"G",B:"B",A:"A",HEX:"HEX","Color Picker":"ì ì í",unset:"ì¤ì  í´ì ",checked:"ì íë¨","{value}, Color":"{value}, ì","Color not set":"ììì´ ì¤ì ëì§ ìììµëë¤."},"zh-CN":{Swatches:"è²æ¿",R:"R",G:"G",B:"B",A:"A",HEX:"åå­è¿å¶","Color Picker":"é¢è²éåå¨",unset:"åæ¶è®¾ç½®",checked:"å·²éä¸­","{value}, Color":"{value}, é¢è²","Color not set":"é¢è²æªè®¾å®"},"zh-TW":{Swatches:"è²ç¥¨",R:"R",G:"G",B:"B",A:"A",HEX:"åå­é²ä½","Color Picker":"è²å½©é¸æå¨",unset:"åæ¶è¨­å®",checked:"å·²æª¢æ¥","{value}, Color":"{value}, è²å½©","Color not set":"é¡è²æªè¨­å®"},"nl-NL":{Swatches:"Stalen",R:"R",G:"G",B:"B",A:"A",HEX:"HEX","Color Picker":"Kleurenkiezer",unset:"Niet ingesteld",checked:"Geselecteerd","{value}, Color":"{value}, Kleur","Color not set":"Kleur niet ingesteld"},"da-DK":{Swatches:"FarveprÃ¸ver",R:"R",G:"G",B:"B",A:"A",HEX:"HEX","Color Picker":"FarvevÃ¦lger",unset:"annuller indstilling",checked:"kontrolleret","{value}, Color":"{value}, Farve","Color not set":"Farve ikke indstillet"},"fi-FI":{Swatches:"VÃ¤rimallit",R:"R",G:"G",B:"B",A:"A",HEX:"HEX","Color Picker":"VÃ¤rimuokkain",unset:"poista asetus",checked:"valittu","{value}, Color":"{value}, vÃ¤ri","Color not set":"VÃ¤riÃ¤ ei ole asetettu."},"nb-NO":{Swatches:"Fargekart",R:"R",G:"G",B:"B",A:"A",HEX:"HEX","Color Picker":"Fargevelger",unset:"fjern",checked:"avmerket","{value}, Color":"{value}, farge","Color not set":"Farge ikke angitt"},"sv-SE":{Swatches:"FÃ¤rgrutor",R:"R",G:"G",B:"B",A:"A",HEX:"HEX","Color Picker":"FÃ¤rgvÃ¤ljaren",unset:"stÃ¤ll tillbaka",checked:"kontrollerade","{value}, Color":"{value}, FÃ¤rg","Color not set":"FÃ¤rg inte instÃ¤lld"},"cs-CZ":{Swatches:"VzornÃ­ky",R:"R",G:"G",B:"B",A:"A",HEX:"HEX","Color Picker":"VÃ½bÄr barvy",unset:"nenastaveno",checked:"zkontrolovÃ¡no","{value}, Color":"{value}, Barva","Color not set":"Barva nenÃ­ nastavena"},"pl-PL":{Swatches:"PrÃ³bki",R:"R",G:"G",B:"B",A:"A",HEX:"HEX","Color Picker":"PrÃ³bnik kolorÃ³w",unset:"usuÅ ustawienie",checked:"sprawdzono","{value}, Color":"{value}, kolor","Color not set":"Nie ustawiono koloru"},"ru-RU":{Swatches:"Ð¦Ð²ÐµÑÐ¾Ð²ÑÐµ Ð¾Ð±ÑÐ°Ð·ÑÑ",R:"R",G:"G",B:"B",A:"A",HEX:"HEX","Color Picker":"ÐÐ°Ð»Ð¸ÑÑÐ° ÑÐ²ÐµÑÐ¾Ð²",unset:"Ð½Ðµ Ð·Ð°Ð´Ð°Ð½Ð¾",checked:"Ð¿ÑÐ¾Ð²ÐµÑÐµÐ½Ð¾","{value}, Color":"{value}, ÑÐ²ÐµÑ","Color not set":"Ð¦Ð²ÐµÑ Ð½Ðµ Ð·Ð°Ð´Ð°Ð½"},"tr-TR":{Swatches:"Renk Ãrnekleri",R:"R",G:"G",B:"B",A:"A",HEX:"HEX","Color Picker":"Renk SeÃ§ici",unset:"ayarÄ± kaldÄ±r",checked:"denetlendi","{value}, Color":"{value}, Renk","Color not set":"Renk ayarlanmadÄ±"}}}),da._define("coral-colorinput-swatches",Kh),da._define("coral-colorinput-swatch",jh),da._define("coral-colorinput-slider",zh),da._define("coral-colorinput-colorproperties",Vh),da._define("coral-colorinput-item",Nh),da._define("coral-colorinput",td),td.Item=Nh,td.Swatches=Kh,td.Swatch=jh,td.Slider=zh,td.ColorProperties=Vh;var ed=function(t){var e=document.createDocumentFragment(),i=this.accessibilityState=document.createElement("span");i.setAttribute("handle","accessibilityState"),i.className+=" u-coral-screenReaderOnly",i.setAttribute("aria-hidden","true"),i.id=t.commons.getUID(),i.setAttribute("role","presentation"),i.setAttribute("aria-live","off"),i.setAttribute("aria-atomic","true"),e.appendChild(i);var n=document.createTextNode("\n");return e.appendChild(n),e},id=function(t){s(i,t);var e=d(i);function i(){return a(this,i),e.apply(this,arguments)}return r(i,[{key:"_deselectAndDeactivateAllExcept",value:function(t){this.getAll().forEach((function(e){(e.hasAttribute("selected")||e.hasAttribute("active"))&&(e.removeAttribute("selected"),e!==t&&e.removeAttribute("active"))}))}},{key:"_deactivateAll",value:function(){this._deselectAllExcept(null,"active")}},{key:"_deactivateAllExceptFirst",value:function(){this._deselectAllExceptFirst("active")}},{key:"_getAllActive",value:function(){return this._getAllSelected("active")}},{key:"_selectAll",value:function(){this.getAll().forEach((function(t){t.hasAttribute("selected")||t.setAttribute("selected","")}))}}]),i}(sr),nd={NONE:"none",SINGLE:"single",MULTIPLE:"multiple"},ad=function(t){s(i,t);var e=d(i);function i(){var t;return a(this,i),(t=e.call(this))._elements={accessibilityState:t.querySelector('span[handle="accessibilityState"]')},t._elements.accessibilityState||(ed.call(t._elements,{commons:da}),t._elements.accessibilityState.removeAttribute("aria-hidden"),t._elements.accessibilityState.hidden=!0),t._delegateEvents({"global:keyup":"_onGlobalKeyUp","global:keydown":"_onGlobalKeyDown","key:up":"_onKeyUp","key:down":"_onKeyDown","key:right":"_onKeyRight","key:left":"_onKeyLeft","key:shift+up":"_onKeyShiftAndUp","key:shift+down":"_onKeyShiftAndDown","key:space":"_onKeySpace","key:control+a":"_onKeyCtrlA","key:command+a":"_onKeyCtrlA","key:control+shift+a":"_onKeyCtrlShiftA","key:command+shift+a":"_onKeyCtrlShiftA","key:esc":"_onKeyCtrlShiftA","capture:focus coral-columnview-item":"_onItemFocus","coral-columnview-column:_loaditems":"_onColumnLoadItems","coral-columnview-column:_activeitemchanged":"_onColumnActiveItemChanged","coral-columnview-column:_selecteditemchanged":"_onColumnSelectedItemChanged"}),t._oldActiveItem=null,t._oldSelection=[],t._bulkSelectionChange=!1,t._observer=new MutationObserver(t._handleMutation.bind(u(t))),t._observer.observe(u(t),{childList:!0}),t.items._startHandlingItems(!0),t.columns._startHandlingItems(!0),t}return r(i,[{key:"_onColumnActiveItemChanged",value:function(t){if(t.stopImmediatePropagation(),!this._bulkSelectionChange){var e=t.target;if(this._handleKeyboardMultiselect(null),this._bulkSelectionChange=!0,t.detail.activeItem){this.items._deselectAllExcept();for(var i=e.nextElementSibling;i;)"CORAL-COLUMNVIEW-COLUMN"===i.tagName&&i.items&&i.items._deactivateAll(),i=i.nextElementSibling}else this._afterItemSelectedInColumn(e);this._bulkSelectionChange=!1,this._validateColumnViewChange()}}},{key:"_onColumnLoadItems",value:function(t){t.stopImmediatePropagation(),this._updateAriaLevel(t.target),this._ensureTabbableItem(),this.trigger("coral-columnview:loaditems",{column:t.target,start:t.detail.start,item:t.detail.item})}},{key:"_onItemAdd",value:function(){var t=this;window.requestAnimationFrame((function(){return t._ensureTabbableItem()}))}},{key:"_onItemRemoved",value:function(){var t=this;window.requestAnimationFrame((function(){return t._ensureTabbableItem()}))}},{key:"_ensureTabbableItem",value:function(){if(this._vent.off("coral-collection:add",this._onItemAdd),this._vent.off("coral-collection:remove",this._onItemRemoved),this.selectedItem||this.activeItem)this.selectedItem&&0!==this.selectedItem.tabIndex?this.selectedItem.tabIndex=0:this.activeItem&&0!==this.activeItem.tabIndex&&(this.activeItem.tabIndex=0);else{var t=this.items._getSelectableItems();t.length?(t[0].tabIndex=0,this._vent.on("coral-collection:remove",this._onItemRemoved)):(this._vent.off("coral-collection:remove",this._onItemRemoved),this._vent.on("coral-collection:add",this._onItemAdd))}}},{key:"_onColumnSelectedItemChanged",value:function(t){t.stopImmediatePropagation(),this._bulkSelectionChange||this.selectionMode===nd.NONE||(this._bulkSelectionChange=!0,this._oldSelection.forEach((function(e){-1===t.detail.selection.indexOf(e)&&e.removeAttribute("selected")})),this._bulkSelectionChange=!1,this._validateColumnViewChange())}},{key:"_onGlobalKeyUp",value:function(t){16===t.keyCode&&this.classList.remove("is-unselectable")}},{key:"_onGlobalKeyDown",value:function(t){16===t.keyCode&&this.classList.add("is-unselectable")}},{key:"_onKeyShiftAndUp",value:function(t){if(t.preventDefault(),!this._getRealMatchedTarget(t).closest("coral-columnview-preview"))if(this.selectionMode!==nd.NONE){var e=this._oldSelection;if(this._isKeyBoardMultiselect=!0,0===e.length){var i=this.activeItem;i&&i.setAttribute("selected","")}var n,a=this.items._getAllSelected(),o=this._lastSelected;if(o){if(o.item){if((n=o.item).matches(":first-child"))return void(this._isKeyBoardMultiselect=!1);o.direction&&"up"!==o.direction?(n!==o.firstSelectedItem?n.removeAttribute("selected"):o.direction="up",(n=n.previousElementSibling).setAttribute("selected","")):(n=n.previousElementSibling).setAttribute("selected","")}}else(n=a[0].previousElementSibling).setAttribute("selected","");this._lastSelected={item:n,direction:o&&o.direction?o.direction:"up",firstSelectedItem:o&&o.firstSelectedItem?o.firstSelectedItem:n.nextElementSibling},n&&n!==document.activeElement&&n.focus(),this._isKeyBoardMultiselect=!1}else this._onKeyUp(t)}},{key:"_onKeyShiftAndDown",value:function(t){if(t.preventDefault(),!this._getRealMatchedTarget(t).closest("coral-columnview-preview"))if(this.selectionMode!==nd.NONE){var e=this._oldSelection;if(this._isKeyBoardMultiselect=!0,0===e.length){var i=this.activeItem;i&&i.setAttribute("selected","")}var n,a=this.items._getAllSelected(),o=this._lastSelected;if(o){if(o.item){if((n=o.item).matches(":last-child"))return void(this._isKeyBoardMultiselect=!1);o.direction&&"down"!==o.direction?(n!==o.firstSelectedItem?n.removeAttribute("selected"):o.direction="down",(n=n.nextElementSibling).setAttribute("selected","")):(n=n.nextElementSibling).setAttribute("selected","")}}else(n=a[a.length-1].nextElementSibling).setAttribute("selected","");this._lastSelected={item:n,direction:o&&o.direction?o.direction:"down",firstSelectedItem:o&&o.firstSelectedItem?o.firstSelectedItem:n.previousElementSibling},n&&n!==document.activeElement&&n.focus(),this._isKeyBoardMultiselect=!1}else this._onKeyDown(t)}},{key:"_onKeyUp",value:function(t){t.preventDefault();var e=this._getRealMatchedTarget(t);if(!e.closest("coral-columnview-preview")){var i,n=this._oldSelection;if(0!==n.length){var a=e;(i=a.previousElementSibling)||(i=a)}else i=null===this._oldActiveItem?this.items._getLastSelectable():this._oldActiveItem.previousElementSibling;i&&i!==document.activeElement&&(i.focus(),this.selectionMode!==nd.NONE&&0!==n.length||i.click())}}},{key:"_onKeyDown",value:function(t){t.preventDefault();var e=this._getRealMatchedTarget(t);if(!e.closest("coral-columnview-preview")){var i,n=this._oldSelection;if(0!==n.length)(i=e.nextElementSibling)||(i=e);else i=null===this._oldActiveItem?this.items._getFirstSelectable():this._oldActiveItem.nextElementSibling;i&&i!==document.activeElement&&(i.focus(),this.selectionMode!==nd.NONE&&0!==n.length||i.click())}}},{key:"_onKeyRight",value:function(t){var e=this;if(t.preventDefault(),this._getRealMatchedTarget(t).variant!==i.Item.variant.DRILLDOWN)return!1;var n=this.activeItem&&this.activeItem.closest("coral-columnview-column").nextElementSibling;n&&"CORAL-COLUMNVIEW-COLUMN"===n.tagName&&da.ready(n,(function(){return e._focusAndActivateFirstSelectableItem(n)}))}},{key:"_onKeyLeft",value:function(t){var e;t.preventDefault();var i=this._oldSelection;if(0!==i.length)e=i[0].closest("coral-columnview-column").previousElementSibling;else if(this.activeItem){var n=this.activeItem.closest("coral-columnview-column");e=t.target.closest("coral-columnview-preview")?n:n.previousElementSibling}if(e&&"CORAL-COLUMNVIEW-COLUMN"===e.tagName){var a=e.activeItem||e.items._getFirstSelected()||e.items._getFirstSelectable();a&&a!==document.activeElement&&(a.focus(),a.click())}}},{key:"_onKeySpace",value:function(t){t.preventDefault();var e=this._getRealMatchedTarget(t);if(!e.closest("coral-columnview-preview")){var i,n=this._oldSelection;if(0!==n.length)(i=e).hasAttribute("selected","")?1===n.length?i.setAttribute("active",""):i.removeAttribute("selected",""):i.setAttribute("selected","");else{var a=this.activeItem||e;a&&this.selectionMode!==nd.NONE&&(a.setAttribute("selected",""),i=a)}}}},{key:"_onKeyCtrlA",value:function(t){t.preventDefault();var e=this._getRealMatchedTarget(t);e.closest("coral-columnview-preview")||(this.selectionMode===nd.MULTIPLE?e.closest("coral-columnview-column").items._selectAll():this.selectionMode===nd.SINGLE&&(e.hasAttribute("selected")||e.setAttribute("selected","")))}},{key:"_onKeyCtrlShiftA",value:function(t){t.preventDefault();var e=this._getRealMatchedTarget(t);e.closest("coral-columnview-preview")||this.selectionMode!==nd.NONE&&(e.closest("coral-columnview-column").items._deselectAndDeactivateAllExcept(e),e.hasAttribute("active")||e.setAttribute("active",""))}},{key:"_onItemFocus",value:function(t){var e=this._getRealMatchedTarget(t);e.hasAttribute("active")||this._oldSelection.length||e.setAttribute("active",""),this.items._getSelectableItems().forEach((function(t){t.tabIndex=t===e?0:-1})),e.contains(document.activeElement)&&e.focus()}},{key:"_updateAriaLevel",value:function(t){var e=this.columns.getAll().indexOf(t),i=e+1;t.items&&t.items.getAll().filter((function(e,i){return e.setAttribute("aria-posinset",i+1),e.setAttribute("aria-setsize",t.items.length),!e.hasAttribute("aria-level")})).forEach((function(t){t.setAttribute("aria-level",i)})),0!==e?t.hasAttribute("aria-labelledby")?t.getAttribute("aria-label")===(this.getAttribute("aria-label")||"â¦")&&t.removeAttribute("aria-label"):t.hasAttribute("aria-label")||t.setAttribute("aria-label",this.getAttribute("aria-label")||"â¦"):t.setAttribute("role","presentation")}},{key:"_arraysAreDifferent",value:function(t,e){var i=[];return e.length===t.length&&(i=e.filter((function(e){return-1===t.indexOf(e)}))),e.length!==t.length||0!==i.length}},{key:"_handleKeyboardMultiselect",value:function(t){this._isKeyBoardMultiselect||(this._lastSelected=void 0,t&&(this._lastSelected={item:t,direction:null,firstSelectedItem:t}))}},{key:"_scrollColumnIntoView",value:function(t,e,i){var n=this,a=0;if(this.contains(t)){if(t.getBoundingClientRect().left+t.offsetWidth>=this.offsetWidth){for(var o=t.nextElementSibling;o;)o.parentNode.removeChild(o),o=t.nextElementSibling;(function t(e,i,n,a){if(n<=0)a&&a();else{var o=(i-e.scrollLeft)/n*10;window.setTimeout((function(){e.scrollLeft=e.scrollLeft+o,e.scrollLeft===i?a&&a():t(e,i,n-10)}),10)}})(this,a=this.scrollWidth-this.offsetWidth,a-this.scrollLeft,(function(){e&&n._removeEmptyColumnsWithSmoothTransition(i)}))}else e&&this._removeEmptyColumnsWithSmoothTransition(i)}}},{key:"_afterItemSelectedInColumn",value:function(t){this._emptyColumnsNextToColumn(t),this._scrollColumnIntoView(t,!0,!0)}},{key:"_emptyColumnsNextToColumn",value:function(t){if(null!==t)for(var e=t.nextElementSibling;e&&e.innerHTML.length;)e.innerHTML="",e=e.nextElementSibling}},{key:"_removeEmptyColumnsWithSmoothTransition",value:function(t){var e=this,i=Array.prototype.filter.call(this.querySelectorAll("coral-columnview-column, coral-columnview-preview"),(function(t){return!t.firstChild}));i.length?i.forEach((function(n,a){n.style.visibility="hidden",n.classList.add("is-collapsing"),da.transitionEnd(n,(function(){n.remove(),a===i.length-1&&t&&e._validateNavigation(e.columns.last())})),n.style.width=0})):t&&this._validateNavigation(this.columns.last())}},{key:"_triggerCollectionEvents",value:function(t,e){for(var i,n=t.length,a=0;a<n;a++)i=t[a],this.activeItem&&(this.activeItem.setAttribute("aria-owns",i.id),i.setAttribute("aria-labelledby",this.activeItem.content.id),"CORAL-COLUMNVIEW-PREVIEW"===i.tagName&&this.activeItem.setAttribute("aria-describedby",i.id)),"CORAL-COLUMNVIEW-COLUMN"===i.tagName&&(i.setAttribute("_selectionmode",this.selectionMode),this.trigger("coral-collection:add",{item:i}),this._updateAriaLevel(i));for(var o=e.length,r=0;r<o;r++)"CORAL-COLUMNVIEW-COLUMN"===(i=e[r]).tagName&&this.trigger("coral-collection:remove",{item:i})}},{key:"_setStateFromDOM",value:function(){if(this._oldActiveItem=this.activeItem,this._oldSelection=this.selectedItems,!this._oldActiveItem&&!this._oldSelection.length){var t=this.items._getSelectableItems();t.length&&(t[0].tabIndex=0)}this.columns&&this.columns.first()&&this._updateAriaLevel(this.columns.first())}},{key:"_handleMutation",value:function(t){for(var e=t.length,i=0;i<e;i++){var n=t[i];this._triggerCollectionEvents(n.addedNodes,n.removedNodes)}this._setStateFromDOM()}},{key:"_validateColumnViewChange",value:function(){var t=this.activeItem,e=this._oldActiveItem;if(t!==e&&(this.trigger("coral-columnview:activeitemchange",{activeItem:t,oldActiveItem:e}),this._oldActiveItem=t),this.selectionMode!==nd.NONE){var i=this.selectedItems,n=this._oldSelection||[],a=i.filter((function(t){return-1===n.indexOf(t)}));this._handleKeyboardMultiselect(a.length>0?a[0]:null),this._arraysAreDifferent(i,n)&&(this.trigger("coral-columnview:change",{selection:i,oldSelection:n}),this._oldSelection=i,this._announceActiveElementState())}}},{key:"_validateNavigation",value:function(t){"CORAL-COLUMNVIEW-PREVIEW"===t.tagName&&0!==this._oldSelection.length||this.trigger("coral-columnview:navigate",{activeItem:this.activeItem,column:t})}},{key:"_announceActiveElementState",value:function(){var t=this,e=this._elements.accessibilityState;function i(){e.hidden=!0,e.setAttribute("aria-live","off"),e.innerHTML=""}e.setAttribute("lang",wa.locale),this.contains(e)||this.insertBefore(e,this.firstChild),i(),(this._addTimeout||this._removeTimeout)&&(clearTimeout(this._addTimeout),clearTimeout(this._removeTimeout)),this._addTimeout=window.setTimeout((function(){var n=document.activeElement.closest("coral-columnview-item")||document.activeElement;if(t.contains(n)){var a=document.createElement("span"),o=document.createElement("span"),r=!n.hasAttribute("lang")&&n.closest("[lang]")?n.closest("[lang]").getAttribute("lang"):n.getAttribute("lang");r&&r!==wa.locale&&o.setAttribute("lang",r),o.innerText=n._elements.content.innerText,a.appendChild(o),a.appendChild(document.createTextNode(wa.get(n.selected?", checked":", unchecked"))),e.hidden=!1,e.setAttribute("aria-live","assertive"),e.appendChild(a),t._removeTimeout=window.setTimeout((function(){i(),t._elements.accessibilityState=e.parentNode.removeChild(e)}),2e3)}}),20)}},{key:"_getRealMatchedTarget",value:function(t){return"CORAL-COLUMNVIEW"!==t.matchedTarget.nodeName?t.matchedTarget:t.matchedTarget.contains(document.activeElement)&&"CORAL-COLUMNVIEW-ITEM"===document.activeElement.nodeName?document.activeElement:t.matchedTarget.selectedItem?t.matchedTarget.selectedItem:t.matchedTarget.activeItem?t.matchedTarget.activeItem:void 0}},{key:"_focusAndActivateFirstSelectableItem",value:function(t){var e;t.items?e=t.items._getFirstSelectable():"CORAL-COLUMNVIEW-PREVIEW"===t.tagName&&(e=this.selectedItems[0]||this.activeItem),e&&e!==document.activeElement&&(e.focus(),this.selectionMode!==nd.NONE&&0!==this._oldSelection.length||e.click())}},{key:"focus",value:function(){var t=this.selectedItems[0]||this.activeItem;t&&t!==document.activeElement&&t.focus()}},{key:"setNextColumn",value:function(t,e,i){var n=this;i=void 0===i||i;var a=e||null,o=!1;if(null!==a&&this.contains(a)){var r=a.nextElementSibling;if(r){o=r.contains(document.activeElement),this._emptyColumnsNextToColumn(a);var s=r.nextElementSibling;this.removeChild(r),this.insertBefore(t,s)}else this.appendChild(t)}else this.appendChild(t);da.ready(t,(function(){i&&n._scrollColumnIntoView(t,!0,!1),n._validateNavigation(t),o&&!t.contains(document.activeElement)&&n._focusAndActivateFirstSelectableItem(t)}))}},{key:"render",value:function(){m(l(i.prototype),"render",this).call(this),this.classList.add("_coral-MillerColumns"),this.setAttribute("role","tree"),this.tabIndex=-1,this.hasAttribute("aria-label")||this.hasAttribute("aria-labelledby")||this.setAttribute("aria-label",wa.get("Column View")),this._selectionMode||(this._selectionMode=nd.NONE),this._setStateFromDOM()}},{key:"columns",get:function(){return this._columns||(this._columns=new id({host:this,itemTagName:"coral-columnview-column"})),this._columns}},{key:"items",get:function(){return this._items||(this._items=new id({host:this,itemTagName:"coral-columnview-item"})),this._items}},{key:"selectionMode",get:function(){return this._selectionMode||nd.NONE},set:function(t){var e=this;t=Ua.string(t).toLowerCase(),this._selectionMode=Ba.enumeration(nd)(t)&&t||nd.NONE,this._reflectAttribute("selectionmode",this._selectionMode),this.columns.getAll().forEach((function(t){t.setAttribute("_selectionmode",e._selectionMode)})),this.classList.remove("".concat("_coral-MillerColumns","--selection")),this._selectionMode!==nd.NONE&&this.classList.add("".concat("_coral-MillerColumns","--selection")),this.setAttribute("aria-multiselectable",this._selectionMode===nd.MULTIPLE)}},{key:"selectedItem",get:function(){return this.selectionMode!==nd.NONE?this.items._getFirstSelected():null}},{key:"selectedItems",get:function(){return this.selectionMode!==nd.NONE?this.items._getAllSelected():[]}},{key:"activeItem",get:function(){return this.items._getAllActive().pop()||null}}],[{key:"selectionMode",get:function(){return nd}},{key:"_attributePropertyMap",get:function(){return da.extend(m(l(i),"_attributePropertyMap",this),{selectionmode:"selectionMode"})}},{key:"observedAttributes",get:function(){return m(l(i),"observedAttributes",this).concat(["selectionmode"])}}]),i}(ho(HTMLElement)),od=!1;window.addEventListener("load",(function(){od=!0}));var rd=function(t){s(i,t);var e=d(i);function i(){var t;return a(this,i),(t=e.call(this))._delegateEvents({"capture:scroll coral-columnview-column-content":"_onContentScroll","click coral-columnview-column-content":"_onColumnContentClick","click coral-columnview-item":"_onItemClick","click [coral-columnview-itemselect]":"_onItemSelectClick","coral-columnview-item:_activechanged coral-columnview-item":"_onItemActiveChange","coral-columnview-item:_selectedchanged coral-columnview-item":"_onItemSelectedChange"}),t._elements={content:t.querySelector("coral-columnview-column-content")||document.createElement("coral-columnview-column-content")},t._bulkSelectionChange=!1,t._oldSelection=[],t._oldActiveItem=null,t._onDebouncedScroll=t._onDebouncedScroll.bind(u(t)),t._toggleItemSelection=t._toggleItemSelection.bind(u(t)),t._observer=new MutationObserver(t._handleMutation.bind(u(t))),t._observer.observe(t._elements.content,{childList:!0}),t.items._startHandlingItems(!0),t}return r(i,[{key:"_onItemClick",value:function(t){t.matchedTarget.hasAttribute("active")?this._onItemActiveChange(t):t.matchedTarget.active=!0}},{key:"_toggleItemSelection",value:function(t){t[this._selectionMode!==nd.NONE?"setAttribute":"removeAttribute"]("_selectable","")}},{key:"_onItemSelectClick",value:function(t){if(this._selectionMode&&this._selectionMode!==nd.NONE){t.stopPropagation();var e=t.matchedTarget.parentElement,i=e.hasAttribute("selected");if(!i&&t.shiftKey&&this._selectionMode===nd.MULTIPLE){var n=this._lastSelectedItems[this._lastSelectedItems.length-1];if(n){for(var a=this.items.getAll(),o=a.indexOf(n),r=a.indexOf(e),s=r<o,l=[],c=o;r!==c;)c=s?c-1:c+1,l.push(a[c]);l.forEach((function(t){t!==e&&t.set("selected",!0,!0)}))}}e[i?"removeAttribute":"setAttribute"]("selected",""),i&&!this._lastSelectedItems.length&&e.setAttribute("active","")}}},{key:"_onItemActiveChange",value:function(t){if(t.stopImmediatePropagation(),!this._bulkSelectionChange){var e=t.matchedTarget;this._bulkSelectionChange=!0,this.items._deselectAndDeactivateAllExcept(e),this._bulkSelectionChange=!1,this._validateColumnChange(e),this._loadItems(0,e)}}},{key:"_onItemSelectedChange",value:function(t){t.stopImmediatePropagation();var e=t.target,i=e.selected;if(i)this._lastSelectedItems.push(e);else{var n=this._lastSelectedItems.indexOf(e);-1!==n&&(this._lastSelectedItems=this._lastSelectedItems.splice(n,1))}this._bulkSelectionChange||(i&&(this._bulkSelectionChange=!0,this.items._deactivateAll(),this._selectionMode===nd.SINGLE&&this.items._deselectAllExcept(e),this._bulkSelectionChange=!1),this._validateColumnChange())}},{key:"_tryToLoadAdditionalItems",value:function(){var t=this;this._bulkCollectionChange||(this._bulkCollectionChange=!0,window.setTimeout((function(){t._bulkCollectionChange=!1,t._loadFittingAdditionalItems()}),0))}},{key:"_onContentScroll",value:function(){window.clearTimeout(this._scrollTimeout),this._scrollTimeout=window.setTimeout(this._onDebouncedScroll,100)}},{key:"_onColumnContentClick",value:function(t){if(t.target===t.matchedTarget){if(t.preventDefault(),this._bulkSelectionChange)return!1;this._bulkSelectionChange=!0,this.items._deselectAndDeactivateAllExcept(),this._bulkSelectionChange=!1,this._validateColumnChange()}}},{key:"_onDebouncedScroll",value:function(){this.content.scrollTop+this.offsetHeight>=this.content.scrollHeight-20&&this._loadItems(this.items.length,void 0)}},{key:"_arraysAreDifferent",value:function(t,e){var i=[];return e.length===t.length&&(i=e.filter((function(e){return-1===t.indexOf(e)}))),e.length!==t.length||0!==i.length}},{key:"_validateColumnChange",value:function(t){var e=this.activeItem,i=this._oldActiveItem||null;e===i&&t!==e||(this.trigger("coral-columnview-column:_activeitemchanged",{activeItem:e,oldActiveItem:i}),this._oldActiveItem=e);var n=this.selectedItems,a=this._oldSelection;this._arraysAreDifferent(n,a)&&(this.trigger("coral-columnview-column:_selecteditemchanged",{selection:n,oldSelection:a}),this._oldSelection=n)}},{key:"_loadFittingAdditionalItems",value:function(){var t=this.items.length;40*t<=this.offsetHeight&&this._loadItems(t,void 0)}},{key:"_loadItems",value:function(t,e){e&&!e.hasAttribute("active")||this.trigger("coral-columnview-column:_loaditems",{start:t,item:e})}},{key:"_setStateFromDOM",value:function(){this._selectionMode&&(this._selectionMode===nd.SINGLE?this.items._deselectAllExceptLast():this._selectionMode===nd.NONE&&this.items._deselectAllExcept(),this.items._deactivateAllExceptFirst())}},{key:"_handleMutation",value:function(t){for(var e=t.length,i=0;i<e;i++){var n=t[i];this._triggerCollectionEvents(n.addedNodes,n.removedNodes)}this._setStateFromDOM(),this._validateColumnChange(),this._tryToLoadAdditionalItems()}},{key:"_triggerCollectionEvents",value:function(t,e){for(var i,n=t.length,a=0;a<n;a++)"CORAL-COLUMNVIEW-ITEM"===(i=t[a]).tagName&&this.trigger("coral-collection:add",{item:i});for(var o=e.length,r=0;r<o;r++)"CORAL-COLUMNVIEW-ITEM"===(i=e[r]).tagName&&this.trigger("coral-collection:remove",{item:i})}},{key:"render",value:function(){var t=this;m(l(i.prototype),"render",this).call(this),this.classList.add("_coral-MillerColumns-item"),this.setAttribute("role","group"),this.id=this.id||da.getUID();var e=this._elements.content;if(!e.parentNode)for(;this.firstChild;)e.appendChild(this.firstChild);e.setAttribute("role","presentation"),this.content=e,this._setStateFromDOM(),this._oldSelection=this.selectedItems,this._oldActiveItem=this.activeItem,od?window.setTimeout((function(){t._loadFittingAdditionalItems()})):window.addEventListener("load",(function(){t._loadFittingAdditionalItems()}))}},{key:"activeItem",get:function(){return this.items._getAllActive()[0]||null}},{key:"content",get:function(){return this._getContentZone(this._elements.content)},set:function(t){this._setContentZone("content",t,{handle:"content",tagName:"coral-columnview-column-content",insert:function(t){t.classList.add("_coral-AssetList"),this.appendChild(t)}})}},{key:"items",get:function(){return this._items||(this._items=new id({host:this,container:this._elements.content,itemTagName:"coral-columnview-item",onItemAdded:this._toggleItemSelection})),this._items}},{key:"selectedItem",get:function(){return this._selectionMode!==nd.NONE?this.items._getFirstSelected():null}},{key:"selectedItems",get:function(){return this._selectionMode!==nd.NONE?this.items._getAllSelected():[]}},{key:"_selectionMode",get:function(){return this.__selectionMode},set:function(t){var e=this;t=Ua.string(t).toLowerCase(),this.__selectionMode=Ba.enumeration(nd)(t)&&t||null,this._reflectAttribute("_selectionmode",this.__selectionMode),this.items.getAll().forEach((function(t){return e._toggleItemSelection(t)})),this._setStateFromDOM()}},{key:"_lastSelectedItems",get:function(){return this.__lastSelectedItems||this.selectedItems},set:function(t){this.__lastSelectedItems=t}},{key:"_contentZones",get:function(){return{"coral-columnview-column-content":"content"}}}],[{key:"_attributePropertyMap",get:function(){return da.extend(m(l(i),"_attributePropertyMap",this),{_selectionmode:"_selectionMode"})}},{key:"observedAttributes",get:function(){return m(l(i),"observedAttributes",this).concat(["_selectionmode"])}}]),i}(ho(HTMLElement)),sd={DEFAULT:"default",DRILLDOWN:"drilldown"},ld=function(t){s(i,t);var e=d(i);function i(){var t,n;return a(this,i),(n=e.call(this))._elements={content:n.querySelector("coral-columnview-item-content")||document.createElement("coral-columnview-item-content"),thumbnail:n.querySelector("coral-columnview-item-thumbnail")||document.createElement("coral-columnview-item-thumbnail"),accessibilityState:n.querySelector('span[handle="accessibilityState"]')},n._elements.accessibilityState||ed.call(n._elements,{commons:da}),m((t=u(n),l(i.prototype)),"_observeLabel",t).call(t),n}return r(i,[{key:"attributeChangedCallback",value:function(t,e,n){if("_selectable"===t)if(null===n)this.classList.remove("is-selectable");else{this.classList.add("is-selectable");var a=this.querySelector("[coral-columnview-itemselect]");a||((a=new Ec).setAttribute("coral-columnview-itemselect",""),a._elements.input.tabIndex=-1,a.setAttribute("labelledby",this.content.id),this.insertBefore(a,this.firstChild))}else m(l(i.prototype),"attributeChangedCallback",this).call(this,t,e,n)}},{key:"render",value:function(){m(l(i.prototype),"render",this).call(this),this.classList.add("_coral-AssetList-item"),this.setAttribute("role","treeitem"),this.id=this.id||da.getUID(),this.tabIndex=this.active||this.selected?0:-1,this._variant||(this.variant=sd.DEFAULT);var t=this._elements.thumbnail,e=this._elements.content;if(!(e.parentNode||t.parentNode))for(;this.firstChild;)e.appendChild(this.firstChild);this.content=e,this.thumbnail=t;var n=t.querySelector("img:not([alt])");n&&n.setAttribute("alt",""),t.id=t.id||da.getUID(),e.id=e.id||da.getUID(),this._elements.accessibilityState.setAttribute("lang",wa.locale),this.setAttribute("aria-labelledby",t.id+" "+e.id)}},{key:"content",get:function(){return this._getContentZone(this._elements.content)},set:function(t){this._setContentZone("content",t,{handle:"content",tagName:"coral-columnview-item-content",insert:function(t){t.classList.add("".concat("_coral-AssetList-item","Label")),this.insertBefore(t,this.querySelector("._coral-AssetList-itemChildIndicator"))}})}},{key:"thumbnail",get:function(){return this._getContentZone(this._elements.thumbnail)},set:function(t){this._setContentZone("thumbnail",t,{handle:"thumbnail",tagName:"coral-columnview-item-thumbnail",insert:function(t){t.classList.add("".concat("_coral-AssetList-item","Thumbnail")),this.insertBefore(t,this.content||null)}})}},{key:"variant",get:function(){return this._variant||sd.DEFAULT},set:function(t){(t=Ua.string(t).toLowerCase(),this._variant=Ba.enumeration(sd)(t)&&t||sd.DEFAULT,this._reflectAttribute("variant",this._variant),this._variant===sd.DRILLDOWN)?(this.querySelector("._coral-AssetList-itemChildIndicator")||this.insertAdjacentHTML("beforeend",Uo._renderSVG("spectrum-css-icon-ChevronRightMedium",["_coral-AssetList-itemChildIndicator","_coral-UIIcon-ChevronRightMedium"])),this.classList.add("is-branch"),this.setAttribute("aria-expanded",this.active)):(this.classList.remove("is-branch"),this.removeAttribute("aria-expanded"))}},{key:"icon",get:function(){return this._icon||""},set:function(t){this._icon=Ua.string(t),this._reflectAttribute("icon",this._icon),this._icon&&(this._elements.icon||(this._elements.icon=new Uo),this._elements.icon.icon=this.icon,this._elements.icon.size=Uo.size.SMALL,this._elements.thumbnail.innerHTML="",this._elements.thumbnail.appendChild(this._elements.icon)),m(l(i.prototype),"_toggleIconAriaHidden",this).call(this)}},{key:"selected",get:function(){return this._selected||!1},set:function(t){this._selected=Ua.booleanAttr(t),this._reflectAttribute("selected",this._selected),this.classList.toggle("is-selected",this._selected),this.setAttribute("aria-selected",this._selected),this.variant===sd.DRILLDOWN&&this.setAttribute("aria-expanded",this.active);var e=this._elements.accessibilityState;this.selected?(this.removeAttribute("aria-owns"),this.removeAttribute("aria-describedby"),e.innerHTML=wa.get(", checked"),this.contains(e)||this.appendChild(e)):(this._elements.accessibilityState=e.parentNode.removeChild(e),this._elements.accessibilityState.innerHTML="");var i=this.thumbnail.id+" "+this.content.id;this.setAttribute("aria-labelledby",this.selected?"".concat(i," ").concat(e.id):i);var n=this.querySelector("coral-checkbox[coral-columnview-itemselect]");n&&n[this._selected?"setAttribute":"removeAttribute"]("checked",""),this.trigger("coral-columnview-item:_selectedchanged")}},{key:"active",get:function(){return this._active||!1},set:function(t){var e=this;if(this._active=Ua.booleanAttr(t),this._reflectAttribute("active",this._active),this.classList.toggle("is-navigated",this._active),this.setAttribute("aria-selected",this._active),this.variant===sd.DRILLDOWN){this._ariaExpandedTimeout&&(window.clearTimeout(this._ariaExpandedTimeout),this._ariaExpandedTimeout=void 0),this._ariaExpandedTimeout=window.setTimeout((function(){e.setAttribute("aria-hidden",!0),window.setTimeout((function(){e.setAttribute("aria-expanded",e._active),window.setTimeout((function(){e.removeAttribute("aria-hidden")}),50)}),50)}),50)}this._active||(this.removeAttribute("aria-owns"),this.removeAttribute("aria-describedby")),this.trigger("coral-columnview-item:_activechanged")}},{key:"_contentZones",get:function(){return{"coral-columnview-item-content":"content","coral-columnview-item-thumbnail":"thumbnail"}}}],[{key:"variant",get:function(){return sd}},{key:"observedAttributes",get:function(){return m(l(i),"observedAttributes",this).concat(["variant","icon","selected","active","_selectable"])}}]),i}(bo(ho(HTMLElement))),cd=function(t){s(i,t);var e=d(i);function i(){var t;return a(this,i),(t=e.call(this))._elements={content:t.querySelector("coral-columnview-preview-content")||document.createElement("coral-columnview-preview-content")},t}return r(i,[{key:"render",value:function(){m(l(i.prototype),"render",this).call(this),this.setAttribute("role","group"),this.id=this.id||da.getUID(),this.classList.add("_coral-MillerColumns-item");var t=this._elements.content;if(!t.parentNode)for(;this.firstChild;)t.appendChild(this.firstChild);this.content=t,this._makeAccessible()}},{key:"_makeAccessible",value:function(){var t,e,i,n=this.content.querySelectorAll("coral-columnview-preview-label + coral-columnview-preview-value"),a=n.length;for(t=0;t<a;t++)(i=(e=n[t]).previousElementSibling).id=i.id||da.getUID(),e.setAttribute("aria-labelledby",i.id),e.setAttribute("role","textbox"),e.setAttribute("tabindex","0"),e.setAttribute("aria-readonly","true"),window.cvox&&e.setAttribute("aria-valuetext",e.textContent);for(a=(n=this.content.querySelectorAll("coral-columnview-preview-separator")).length,t=0;t<a;t++)(e=n[t]).setAttribute("role","separator"),e.setAttribute("aria-orientation","horizontal");for(a=(n=this.content.querySelectorAll("coral-columnview-preview-asset > img:not([alt])")).length,t=0;t<a;t++)(e=n[t]).setAttribute("alt","")}},{key:"content",get:function(){return this._getContentZone(this._elements.content)},set:function(t){this._setContentZone("content",t,{handle:"content",tagName:"coral-columnview-preview-content",insert:function(t){t.classList.add("coral-Body--small"),this.appendChild(t)}})}},{key:"_contentZones",get:function(){return{"coral-columnview-preview-content":"content"}}}]),i}(ho(HTMLElement));da.extend(ka,{"coral-component-columnview":{"en-US":{"Column View":"Column View",", checked":", checked",", unchecked":", unchecked"},"de-DE":{"Column View":"Column View",", checked":", markiert",", unchecked":", nicht markiert"},"fr-FR":{"Column View":"Column View",", checked":", cochÃ©e",", unchecked":", pas cochÃ©e"},"it-IT":{"Column View":"Column View",", checked":", selezionata",", unchecked":", non selezionata"},"ja-JP":{"Column View":"Column View",", checked":"ããã§ãã¯",", unchecked":"ãæªãã§ãã¯"},"es-ES":{"Column View":"Column View",", checked":", marcada",", unchecked":", desmarcada"},"ko-KR":{"Column View":"Column View",", checked":", ì íë¨",", unchecked":", ì íëì§ ìì"},"zh-CN":{"Column View":"Column View",", checked":"ï¼éä¸­",", unchecked":"ï¼æªéä¸­"},"zh-TW":{"Column View":"Column View",", checked":"ï¼é¸ä¸­",", unchecked":"ï¼æªé¸ä¸­"},"pt-BR":{"Column View":"Column View",", checked":", marcada",", unchecked":", desmarcada"},"nl-NL":{"Column View":"Column View",", checked":", geselecteerd",", unchecked":", neit geselecteerd"},"da-DK":{", checked":", valgte",", unchecked":", ikke valgt"},"fi-FI":{"Column View":"Column View",", checked":", valittu",", unchecked":", valittuna"},"nb-NO":{"Column View":"Column View",", checked":", valgt",", unchecked":", ikke valgt"},"sv-SE":{"Column View":"Column View",", checked":", markerad",", unchecked":", avmarkerad"},"cs-CZ":{"Column View":"Column View",", checked":", vybrÃ¡no",", unchecked":", nenÃ­ vybrÃ¡no"},"pl-PL":{"Column View":"Column View",", checked":", zaznaczone",", unchecked":", nie zaznaczone"},"ru-RU":{"Column View":"Column View",", checked":", Ð²ÑÐ±ÑÐ°Ð½Ð½ÑÐ¹",", unchecked":", Ð½ÐµÐ¾ÑÐ¾Ð±ÑÐ°Ð½Ð½ÑÐ¹"},"tr-TR":{"Column View":"Column View",", checked":", seÃ§ilmiÅ",", unchecked":", seÃ§ilmemiÅ"}}}),da._define("coral-columnview-preview",cd),da._define("coral-columnview-column",rd),da._define("coral-columnview-item",ld),da._define("coral-columnview",ad),ad.Column=rd,ad.Column.Content=function(){return document.createElement("coral-columnview-column-content")},ad.Item=ld,ad.Item.Content=function(){return document.createElement("coral-columnview-item-content")},ad.Item.Thumbnail=function(){return document.createElement("coral-columnview-item-thumbnail")},ad.Preview=cd,ad.Preview.Asset=function(){return document.createElement("coral-columnview-preview-asset")},ad.Preview.Content=function(){return document.createElement("coral-columnview-preview-content")},ad.Preview.Label=function(){return document.createElement("coral-columnview-preview-label")},ad.Preview.Separator=function(){return document.createElement("coral-columnview-preview-separator")},ad.Preview.Value=function(){return document.createElement("coral-columnview-preview-value")};var ud={ICON:"icon",TEXT:"text",ICON_TEXT:"icontext",INHERIT:"inherit"},hd=function(t){s(i,t);var e=d(i);function i(){return a(this,i),e.apply(this,arguments)}return r(i,[{key:"render",value:function(){m(l(i.prototype),"render",this).call(this),this.setAttribute("role","menuitemradio"),this._displayMode||(this.displayMode=ud.INHERIT)}},{key:"icon",get:function(){return this._icon||""},set:function(t){this._icon=Ua.string(t),this._reflectAttribute("icon",this._icon),this.trigger("coral-cyclebutton-item:_iconchanged")}},{key:"content",get:function(){return this},set:function(t){if("object"===n(t))for(var e in t)this[e]=t[e]}},{key:"disabled",get:function(){return this._disabled||!1},set:function(t){this._disabled=Ua.booleanAttr(t),this._reflectAttribute("disabled",this._disabled),this.classList.toggle("is-disabled",this.disabled),this[this._disabled?"setAttribute":"removeAttribute"]("aria-disabled",this._disabled),this._disabled&&this.selected&&(this.selected=!1),this._disabled||this.selected||this.trigger("coral-cyclebutton-item:_validateselection")}},{key:"selected",get:function(){return this._selected||!1},set:function(t){(!(t=Ua.booleanAttr(t))||t&&!this.disabled)&&(this._selected=t,this._reflectAttribute("selected",!this.disabled&&this._selected),this.classList.toggle("is-selected",this._selected),this.setAttribute("aria-checked",this._selected),this.trigger("coral-cyclebutton-item:_selectedchanged"))}},{key:"displayMode",get:function(){return this._displayMode||ud.INHERIT},set:function(t){t=Ua.string(t).toLowerCase(),this._displayMode=Ba.enumeration(ud)(t)&&t||ud.INHERIT,this._reflectAttribute("displaymode",this._displayMode),this.trigger("coral-cyclebutton-item:_displaymodechanged")}},{key:"trackingElement",get:function(){return void 0===this._trackingElement?(this.content||this).textContent.replace(/\s{2,}/g," ").trim()||this.icon:this._trackingElement},set:function(t){g(l(i.prototype),"trackingElement",t,this,!0)}}],[{key:"displayMode",get:function(){return ud}},{key:"_attributePropertyMap",get:function(){return da.extend(m(l(i),"_attributePropertyMap",this),{displaymode:"displayMode"})}},{key:"observedAttributes",get:function(){return m(l(i),"observedAttributes",this).concat(["selected","disabled","icon","displaymode"])}}]),i}(ho(HTMLElement)),dd=function(t){var e=document.createDocumentFragment(),i=t=void 0===t?{}:t;(i=t).buttonId=i.id+"-button",i.menuId=i.id+"-menu",t=i;var n=document.createTextNode("\n");e.appendChild(n);var a=this.button=document.createElement("button","coral-button");a.setAttribute("tracking","off"),a.id=t.buttonId,a.setAttribute("handle","button"),a.className+=" _coral-CycleSelect-button",a.setAttribute("is","coral-button"),a.setAttribute("type","button"),a.setAttribute("variant","quietaction"),a.setAttribute("iconsize","S");var o=document.createTextNode("\n  ");a.appendChild(o);var r=this.label=document.createElement("coral-button-label");r.className+=" _coral-ActionButton-label",r.setAttribute("handle","label"),a.appendChild(r);var s=document.createTextNode("\n");a.appendChild(s),e.appendChild(a);var l=document.createTextNode("\n");e.appendChild(l),i=t,this.button._elements.label=this.label,this.button.insertAdjacentHTML("afterbegin",i.Icon._renderSVG("spectrum-css-icon-ChevronDownMedium",["_coral-CycleSelect-icon","_coral-UIIcon-ChevronDownMedium"])),t=i;var c=document.createTextNode("\n");e.appendChild(c);var u=this.overlay=document.createElement("coral-popover");u.setAttribute("tracking","off"),u.setAttribute("smart",""),u.id=t.menuId,u.setAttribute("handle","overlay"),u.setAttribute("focusonshow","coral-selectlist"),u.setAttribute("placement","bottom"),u.setAttribute("aria-live","off"),u.setAttribute("role","menu");var h=document.createTextNode("\n  ");u.appendChild(h);var d=this.selectList=document.createElement("coral-selectlist");d.setAttribute("role","group"),d.setAttribute("tracking","off"),d.className+=" _coral-CycleSelect-list",d.setAttribute("handle","selectList"),d.id=t.commons.getUID(),u.appendChild(d);var p=document.createTextNode("\n  ");u.appendChild(p);var m=this.separator=document.createElement("div");m.setAttribute("role","separator"),m.setAttribute("handle","separator"),m.className+=" _coral-CycleButton-separator",m.setAttribute("hidden",""),u.appendChild(m);var f=document.createTextNode("\n  ");u.appendChild(f);var g=this.actionList=document.createElement("coral-buttonlist");g.setAttribute("role","group"),g.setAttribute("tracking","off"),g.className+=" _coral-CycleSelect-buttonList",g.setAttribute("handle","actionList"),g.setAttribute("hidden",""),u.appendChild(g);var v=document.createTextNode("\n");u.appendChild(v),e.appendChild(u);var _=document.createTextNode("\n");return e.appendChild(_),e},pd={ICON:"icon",TEXT:"text",ICON_TEXT:"icontext"},md=/[\t\n\r ]+/g,fd=function(t){s(i,t);var e=d(i);function i(){var t;a(this,i),(t=e.call(this))._id=t.id||da.getUID(),t._elements={},dd.call(t._elements,{Icon:Uo,commons:da,id:t._id});var n={'click button[is="coral-button"]':"_onMouseDown","click ._coral-CycleSelect-button":"_onItemClick","click coral-cyclebutton-item":"_onItemClick","key:down ._coral-CycleSelect-button[aria-expanded=false]":"_onItemClick","coral-cyclebutton-item:_selectedchanged":"_onItemSelectedChanged","coral-cyclebutton-item:_validateselection":"_onValidateSelection","coral-cyclebutton-item:_iconchanged coral-cyclebutton-item[selected]":"_onSelectedItemPropertyChange","coral-cyclebutton-item:_displaymodechanged coral-cyclebutton-item[selected]":"_onSelectedItemPropertyChange","key:pageup coral-selectlist-item, [coral-list-item]":"_onFocusPreviousItem","key:left coral-selectlist-item, [coral-list-item]":"_onFocusPreviousItem","key:up coral-selectlist-item, [coral-list-item]":"_onFocusPreviousItem","key:pagedown coral-selectlist-item, [coral-list-item]":"_onFocusNextItem","key:right coral-selectlist-item, [coral-list-item]":"_onFocusNextItem","key:down coral-selectlist-item, [coral-list-item]":"_onFocusNextItem","key:home coral-selectlist-item, [coral-list-item]":"_onFocusFirstItem","key:end coral-selectlist-item, [coral-list-item]":"_onFocusLastItem","capture:focus coral-selectlist-item, [coral-list-item]":"_onItemFocus","capture:blur coral-selectlist-item, [coral-list-item]":"_onItemBlur","coral-overlay:open":"_onOverlayOpen","coral-overlay:close":"_onOverlayClose"},o=t._elements.overlay.id;return n["global:capture:click #".concat(o,' button[is="coral-buttonlist-item"]')]="_onActionClick",n["global:capture:coral-selectlist:beforechange #".concat(o)]="_onSelectListBeforeChange",n["global:capture:coral-selectlist:change #".concat(o)]="_onSelectListChange",n["global:keypress #".concat(o)]="_onOverlayKeyPress",t._delegateEvents(n),t._oldSelection=null,t.items._startHandlingItems(!0),t.actions._startHandlingItems(!0),t}return r(i,[{key:"_hasMenuItemRadioGroup",value:function(){return this.items.getAll().length>0&&this.actions.getAll().length>0}},{key:"_onItemAdded",value:function(t){this.selectedItem?this._validateSelection(t):t.setAttribute("selected",""),this._checkExtended()}},{key:"_onItemRemoved",value:function(){this.selectedItem||this._selectFirstItem(),this._checkExtended()}},{key:"_onItemSelectedChanged",value:function(t){t.stopImmediatePropagation(),this._validateSelection(t.target)}},{key:"_onValidateSelection",value:function(t){t.stopImmediatePropagation(),this._validateSelection()}},{key:"_selectFirstItem",value:function(){var t=this.items._getFirstSelectable();t&&t.setAttribute("selected","")}},{key:"_validateSelection",value:function(t){var e=this,i=this.items._getAllSelected();if(t)if(t.hasAttribute("selected")||i.length)t.hasAttribute("selected")&&i.length>1&&(i.forEach((function(i){i!==t&&(e._preventTriggeringEvents=!0,i.removeAttribute("selected"))})),this._preventTriggeringEvents=!1);else{var n=this.items._getNextSelectable(t);t!==n&&n.setAttribute("selected","")}else i.length>1?(t=i[i.length-1],i.forEach((function(i){i!==t&&(e._preventTriggeringEvents=!0,i.removeAttribute("selected"))})),this._preventTriggeringEvents=!1):i.length||this._selectFirstItem();this._renderSelectedItem(this.selectedItem),this._triggerChangeEvent()}},{key:"_triggerChangeEvent",value:function(){var t=this.selectedItem,e=this._oldSelection;this._preventTriggeringEvents||t===e||(this.trigger("coral-cyclebutton:change",{oldSelection:e,selection:t}),this._oldSelection=t)}},{key:"_onMouseDown",value:function(t){t.preventDefault(),t.stopPropagation(),this._trackEvent("click","coral-cyclebutton",t)}},{key:"_onItemClick",value:function(t){t.preventDefault();var e=this.items.getAll(),i=e.length;if(this._isExtended())this[this._elements.overlay.classList.contains("is-open")?"_hideOverlay":"_showOverlay"]();else if(i>1){var n=this.selectedItem.nextElementSibling,a="CORAL-CYCLEBUTTON-ITEM"===n.nodeName?n:e[0];this._selectCycleItem(a),this._focusItem(this._elements.button)}}},{key:"_renderSelectedItem",value:function(t){if(t&&t.content){var e=this.displayMode,i=t.icon||this.icon||"";if(t.displayMode!==hd.displayMode.INHERIT&&(e=t.displayMode),t.content.textContent.trim()&&i.trim()||(e=pd.ICON_TEXT),e===pd.ICON){this._elements.button.icon=i,this._elements.button.label.innerHTML="";var n=t.content.textContent.replace(md," ");this._elements.button.setAttribute("aria-label",n),this._elements.button.setAttribute("title",n),n&&""!==i&&this._elements.button._elements.icon&&this._elements.button._elements.icon.setAttribute("aria-hidden",!0)}else e===pd.TEXT&&(this._elements.button.icon=""),e===pd.ICON_TEXT&&(this._elements.button.icon=i,""!==i&&this._elements.button._elements.icon&&this._elements.button._elements.icon.setAttribute("aria-hidden",!0)),this._elements.button.label.innerHTML=t.content.innerHTML,this._elements.button.removeAttribute("aria-label"),this._elements.button.removeAttribute("title")}}},{key:"_onSelectedItemPropertyChange",value:function(t){t.stopImmediatePropagation(),this._renderSelectedItem(t.target)}},{key:"_onSelectListBeforeChange",value:function(t){t.detail.item.selected&&(t.preventDefault(),this._isPopulatingLists||this._hideOverlay())}},{key:"_onSelectListChange",value:function(t){var e;t.stopImmediatePropagation(),t.preventDefault();var i=t.detail.selection;i&&(e=i._originalItem,this._selectCycleItem(e),this._isPopulatingLists||this._hideOverlay()),this._trackEvent("selected","coral-cyclebutton-item",t,e)}},{key:"_onOverlayKeyPress",value:function(t){this._elements.selectList._onKeyPress(t)}},{key:"_onActionClick",value:function(t){t.stopPropagation();var e=t.matchedTarget;e._originalItem.trigger("click").defaultPrevented||this._hideOverlay(),this._trackEvent("selected","coral-cyclebutton-action",t,e)}},{key:"_isExtended",value:function(){var t=this.actions.getAll().length>0;return this.threshold>0&&this.items.getAll().length>=this.threshold||t}},{key:"_checkExtended",value:function(){var t=this._isExtended();this.classList.toggle("".concat("_coral-CycleSelect","--extended"),t),t?(this._elements.button.setAttribute("aria-controls",this._elements.overlay.id),this._elements.button.setAttribute("aria-haspopup",!0),this._elements.button.setAttribute("aria-expanded",!1),this._elements.overlay.target=this._elements.button,this._elements.overlay.hidden=!1,this._elements.overlay.content.setAttribute("role","presentation")):(this._elements.button.removeAttribute("aria-controls"),this._elements.button.removeAttribute("aria-haspopup"),this._elements.button.removeAttribute("aria-expanded"),this._elements.overlay.target=null,this._elements.overlay.hidden=!0)}},{key:"_focusItem",value:function(t){t&&t.focus()}},{key:"_onFocusPreviousItem",value:function(t){t.preventDefault();var e=this._getSelectableItems();if(e.length>1){var i=t.matchedTarget,n=e.indexOf(i);n>0?this._focusItem(e[n-1]):document.activeElement!==i&&this._focusItem(i)}}},{key:"_onFocusNextItem",value:function(t){t.preventDefault();var e=this._getSelectableItems();if(e.length>1){var i=t.matchedTarget,n=e.indexOf(i);n<e.length-1?this._focusItem(e[n+1]):document.activeElement!==i&&this._focusItem(i)}}},{key:"_onFocusFirstItem",value:function(t){t.preventDefault(),this._focusItem(this._getSelectableItems()[0])}},{key:"_onFocusLastItem",value:function(t){t.preventDefault();var e=this._getSelectableItems();this._focusItem(e[e.length-1])}},{key:"_getSelectableItems",value:function(){var t=this.items.getAll(),e=this.actions.getAll();return t.concat(e).map((function(t){return t._selectListItem||t._buttonListItem})).filter((function(t){!t.hasAttribute("hidden")&&!t.hasAttribute("disabled")&&null!==t.offsetParent&&(t.offsetWidth>0||t.offsetHeight)}))}},{key:"_onItemFocus",value:function(t){this._elements.selectList.classList.toggle("is-focused",!0),t.matchedTarget.classList.toggle("focus-ring",!0)}},{key:"_onItemBlur",value:function(t){this._elements.selectList.classList.toggle("is-focused",!1),t.matchedTarget.classList.toggle("focus-ring",!1)}},{key:"_onOverlayClose",value:function(){this._elements.button.setAttribute("aria-expanded",!1)}},{key:"_onOverlayOpen",value:function(){this._elements.button.setAttribute("aria-expanded",!0)}},{key:"_hideOverlay",value:function(){this._elements.overlay.hide()}},{key:"_getSelectListItem",value:function(t){var e=new Ur.Item;e.trackingElement=t.trackingElement;var i=new Ur.Item.Content;return i.innerHTML=t.content.innerHTML,e.content=i,t.icon&&(e.icon=t.icon),e.disabled=t.disabled,e.selected=t.selected,e.role=t.role,e.setAttribute("aria-checked",t.selected),e._originalItem=t,t._selectListItem=e,e}},{key:"_getActionListItem",value:function(t){var e=new Nr.Item;return e.icon=t.icon,e.disabled=t.disabled,e.role=t.role,e.tabIndex=t.tabIndex,e.trackingElement=t.trackingElement,e.content.innerHTML=t.content.innerHTML,e._originalItem=t,t._buttonListItem=e,e}},{key:"_populateLists",value:function(){var t,e,i=this,n=this._elements.selectList,a=this._elements.actionList,o=this.items.getAll(),r=this.actions.getAll(),s=o.length,l=r.length;this._isPopulatingLists=!0,n.items.clear(),a.items.clear();for(var c=0;c<s;c++){var u=o[c];(t=this._getSelectListItem(u)).icon=u.icon,t.role=u.role,t.setAttribute("aria-checked",u.selected),t._elements.icon.setAttribute("aria-hidden",!0),t.set({disabled:u.disabled,selected:u.selected},!0),n.items.add(t)}if(l>0){for(var h=0;h<l;h++){var d=r[h];(e=this._getActionListItem(d)).disabled=d.disabled,e.icon=d.icon,e.role=d.role,e._elements.icon.setAttribute("aria-hidden",!0),a.items.add(e)}this._elements.actionList.removeAttribute("hidden"),s>0&&(this._elements.separator.removeAttribute("hidden"),this._elements.selectList.setAttribute("role","group"))}else this._elements.actionList.setAttribute("hidden",""),this._elements.separator.setAttribute("hidden",""),this._elements.selectList.setAttribute("role","presentation");da.nextFrame((function(){i._isPopulatingLists=!1}))}},{key:"_selectCycleItem",value:function(t){t.setAttribute("selected","")}},{key:"_showOverlay",value:function(){this._populateLists(),this._elements.overlay.show()}},{key:"attributeChangedCallback",value:function(t,e,n){if("aria-label"===t){var a=this._hasMenuItemRadioGroup();this.getAttribute("aria-labelledby")?(this._elements.button.setAttribute("aria-labelledby","".concat(this.id," ").concat(this._elements.button.id)),this._elements.overlay.setAttribute("aria-labelledby",this.id),this._elements.selectList[a?"setAttribute":"removeAttribute"]("aria-labelledby",this.id)):(this._elements.button.removeAttribute("aria-labelledby"),this._elements.overlay.setAttribute("aria-labelledby",this._elements.button.id),this._elements.selectList[a?"setAttribute":"removeAttribute"]("aria-labelledby",this._elements.button.id))}else"aria-labelledby"===t?!n&&this.getAttribute("aria-label")||(this._elements.button.setAttribute("aria-labelledby","".concat(n," ").concat(this._elements.button.id)),this._elements.overlay.setAttribute("aria-labelledby",n||this._elements.button.id),this._elements.selectList[this._hasMenuItemRadioGroup()?"setAttribute":"removeAttribute"]("aria-labelledby",n||this._elements.button.id)):m(l(i.prototype),"attributeChangedCallback",this).call(this,t,e,n)}},{key:"connectedCallback",value:function(){m(l(i.prototype),"connectedCallback",this).call(this);var t=this._elements.overlay;t.removeAttribute("open"),t._parent&&t._parent.appendChild(t)}},{key:"render",value:function(){var t=this;m(l(i.prototype),"render",this).call(this),this.id||(this.id=this._id),this.classList.add("_coral-CycleSelect"),void 0===this._threshold&&(this.threshold=3),this._displayMode||(this.displayMode=pd.ICON),this.setAttribute("role","presentation"),this._checkExtended(),["button","overlay"].forEach((function(e){var i=t.querySelector('[handle="'.concat(e,'"]'));i&&i.remove()}));var e=document.createDocumentFragment();e.appendChild(this._elements.button),e.appendChild(this._elements.overlay),this.appendChild(e),this._preventTriggeringEvents=!0,this._validateSelection(),this._preventTriggeringEvents=!1,this._oldSelection=this.selectedItem}},{key:"disconnectedCallback",value:function(){m(l(i.prototype),"disconnectedCallback",this).call(this);var t=this._elements.overlay;this.contains(t)||(t._parent=t._repositioned?document.body:this,t.remove())}},{key:"overlay",get:function(){return this._elements.overlay}},{key:"items",get:function(){return this._items||(this._items=new sr({host:this,itemTagName:"coral-cyclebutton-item",onItemAdded:this._onItemAdded,onItemRemoved:this._onItemRemoved})),this._items}},{key:"selectedItem",get:function(){return this.items._getLastSelected()}},{key:"icon",get:function(){return this._icon||""},set:function(t){this._icon=Ua.string(t),this._reflectAttribute("icon",this._icon);var e=this.selectedItem;e&&this._renderSelectedItem(e)}},{key:"threshold",get:function(){return"number"==typeof this._threshold?this._threshold:3},set:function(t){(t=Ua.number(t))>-1&&(this._threshold=t,this._checkExtended())}},{key:"actions",get:function(){return this._actions||(this._actions=new sr({host:this,itemTagName:"coral-cyclebutton-action",itemSelector:"coral-cyclebutton-action",onCollectionChange:this._checkExtended})),this._actions}},{key:"displayMode",get:function(){return this._displayMode||pd.ICON},set:function(t){t=Ua.string(t).toLowerCase(),this._displayMode=Ba.enumeration(pd)(t)&&t||pd.ICON,this._reflectAttribute("displaymode",this._displayMode);var e=this.selectedItem;e&&this._renderSelectedItem(e)}}],[{key:"displayMode",get:function(){return pd}},{key:"_attributePropertyMap",get:function(){return da.extend(m(l(i),"_attributePropertyMap",this),{displaymode:"displayMode"})}},{key:"observedAttributes",get:function(){return m(l(i),"observedAttributes",this).concat(["icon","threshold","displaymode","aria-label","aria-labelledby"])}}]),i}(ho(HTMLElement)),gd=function(t){s(i,t);var e=d(i);function i(){return a(this,i),e.apply(this,arguments)}return r(i,[{key:"render",value:function(){m(l(i.prototype),"render",this).call(this),this.setAttribute("role","menuitem"),this.tabIndex=-1}},{key:"icon",get:function(){return this._icon||""},set:function(t){this._icon=Ua.string(t),this._reflectAttribute("icon",this._icon)}},{key:"content",get:function(){return this},set:function(t){if("object"===n(t))for(var e in t)this[e]=t[e]}},{key:"trackingElement",get:function(){return void 0===this._trackingElement?(this.content||this).textContent.replace(/\s{2,}/g," ").trim()||this.icon:this._trackingElement},set:function(t){g(l(i.prototype),"trackingElement",t,this,!0)}}],[{key:"observedAttributes",get:function(){return m(l(i),"observedAttributes",this).concat(["icon"])}}]),i}(ho(HTMLElement));da._define("coral-cyclebutton-action",gd),da._define("coral-cyclebutton-item",hd),da._define("coral-cyclebutton",fd),fd.Item=hd,fd.Action=gd;var vd=function(t){var e=document.createDocumentFragment(),i=this.overlay=document.createElement("coral-popover");i.setAttribute("tracking","off"),i.setAttribute("smart",""),i.className+=" _coral-Datepicker-overlay",i.setAttribute("handle","overlay"),i.id=t.commons.getUID(),i.setAttribute("breadthoffset","50%r - 50%p"),i.setAttribute("placement","bottom"),e.appendChild(i);var n=document.createTextNode("\n");e.appendChild(n);var a=this.hiddenInput=document.createElement("input");a.setAttribute("type","hidden"),a.setAttribute("handle","hiddenInput"),e.appendChild(a);var o=document.createTextNode("\n");e.appendChild(o);var r=this.input=document.createElement("input","coral-textfield");r.setAttribute("tracking","off"),r.setAttribute("is","coral-textfield"),r.setAttribute("type","text"),r.setAttribute("handle","input"),r.className+=" _coral-InputGroup-field",r.setAttribute("role","textbox"),e.appendChild(r);var s=document.createTextNode("\n");e.appendChild(s);var l=this.toggle=document.createElement("button","coral-button");l.setAttribute("tracking","off"),l.setAttribute("is","coral-button"),l.setAttribute("variant","_custom"),l.className+=" _coral-InputGroup-button _coral-FieldButton",l.setAttribute("type","button"),l.setAttribute("handle","toggle"),l.setAttribute("aria-haspopup","dialog"),l.setAttribute("aria-label",t.i18n.get("Calendar")),l.setAttribute("title",t.i18n.get("Calendar"));var c=document.createTextNode("\n  ");l.appendChild(c);var u=this.icon=document.createElement("coral-icon");u.setAttribute("icon","calendar"),u.setAttribute("iconsize","S"),u.className+=" u-coral-noMargin",u.setAttribute("handle","icon"),l.appendChild(u);var h=document.createTextNode("\n  ");l.appendChild(h);var d=document.createElement("coral-button-label");l.appendChild(d);var p=document.createTextNode("\n");l.appendChild(p),e.appendChild(l);var m=document.createTextNode("\n");return e.appendChild(m),e},_d=function(t){var e=document.createDocumentFragment(),i=t=void 0===t?{}:t,n=(i=t).commons.getUID();t=i;var a=document.createTextNode("\n");e.appendChild(a);var o=this.calendar=document.createElement("coral-calendar");o.setAttribute("handle","calendar"),o.className+=" _coral-Datepicker-calendar",o.setAttribute("aria-labelledby",n+"-calendar");var r=document.createTextNode("\n  ");o.appendChild(r);var s=document.createElement("span");s.id=n+"-calendar",s.className+=" u-coral-screenReaderOnly",s.setAttribute("hidden",""),s.textContent=t.i18n.get("Calendar"),o.appendChild(s);var l=document.createTextNode("\n");o.appendChild(l),e.appendChild(o);var c=document.createTextNode("\n");e.appendChild(c);var u=this.clock=document.createElement("coral-clock");u.setAttribute("handle","clock"),u.className+=" _coral-Datepicker-clock",u.setAttribute("aria-labelledby",n+"-clock");var h=document.createTextNode("\n  ");u.appendChild(h);var d=document.createElement("span");d.id=n+"-clock",d.className+=" u-coral-screenReaderOnly",d.setAttribute("hidden",""),d.textContent=t.i18n.get("Time"),u.appendChild(d);var p=document.createTextNode("\n");u.appendChild(p),e.appendChild(u);var m=document.createTextNode("\n");return e.appendChild(m),e},bd={DEFAULT:"default",QUIET:"quiet"},yd=[];for(var Cd in bd)yd.push("".concat("_coral-InputGroup","--").concat(bd[Cd]));var Ad={DATE:"date",DATETIME:"datetime",TIME:"time"},kd=null!==navigator.userAgent.match(/iPhone|iPad|iPod|Android/i),wd={date:"YYYY-MM-DD",datetime:"YYYY-MM-DD[T]HH:mmZ",time:"HH:mm"},xd=function(t){var e=!1;for(var i in wd)t===wd[i]&&(e=!0);return e},Td=function(t){s(i,t);var e=d(i);function i(){var t;a(this,i),(t=e.call(this))._elements={},vd.call(t._elements,{commons:da,i18n:wa}),t._calendarFragment=_d.call(t._elements,{commons:da,i18n:wa}),t._labellableElement=t._elements.input;var n=t._elements.overlay.id,o={};return o["global:capture:click #".concat(n," coral-calendar")]="_onCalendarDayClick",o["global:capture:change #".concat(n)]="_onChange",o["global:capture:coral-overlay:beforeopen #".concat(n)]="_onPopoverBeforeOpen",o["global:capture:coral-overlay:open #".concat(n)]="_onPopoverOpenOrClose",o["global:capture:coral-overlay:close #".concat(n)]="_onPopoverOpenOrClose",o['key:alt+down [handle="input"],[handle="toggle"]']="_onAltDownKey",o['key:down [handle="toggle"]']="_onAltDownKey",o['change coral-datepicker > input[is="coral-textfield"]']="_onInputChange",t._delegateEvents(da.extend(t._events,o)),t}return r(i,[{key:"_onPopoverBeforeOpen",value:function(){this._elements.overlay.returnFocusTo(this._elements.input),this._elements.calendar._validateCalendar(),this._renderCalendar()}},{key:"_onPopoverOpenOrClose",value:function(t){this._elements.overlay.open?(this.type===Ad.TIME?this._elements.clock.focus():this._elements.calendar.focus(),this._elements.input.setAttribute("aria-expanded","true"),this._elements.toggle.setAttribute("aria-expanded","true"),this._trackEvent("open","coral-datepicker",t)):(this._elements.input.setAttribute("aria-expanded","false"),this._elements.toggle.setAttribute("aria-expanded","false"),this._trackEvent("close","coral-datepicker",t))}},{key:"_onCalendarDayClick",value:function(t){"A"===t.target.tagName&&(this._elements.overlay.open=!1,this._trackEvent("click","coral-datepicker",t))}},{key:"_onInputChange",value:function(t){t.stopPropagation(),this.value=new Dc.Moment(t.target.value,this.displayFormat),this._validateValue(),this.trigger("change"),this._trackEvent("change","coral-datepicker",t)}},{key:"_onChange",value:function(t){"CORAL-CALENDAR"!==t.target.tagName&&"CORAL-CLOCK"!==t.target.tagName||(t.stopPropagation(),this.value=this._mergeCalendarAndClockDates(!0),this._validateValue(),this.trigger("change"))}},{key:"_onAltDownKey",value:function(t){t.preventDefault(),this._elements.overlay.open||(this._elements.overlay.open=!0)}},{key:"_validateValue",value:function(){this._elements.calendar._validateCalendar(),this.type===Ad.DATE?this.invalid=this._elements.calendar.invalid:this.type===Ad.TIME?this.invalid=this._elements.clock.invalid:this.invalid=this._elements.calendar.invalid||this._elements.clock.invalid}},{key:"_mergeCalendarAndClockDates",value:function(t){var e=new Dc.Moment(this._elements.calendar.valueAsDate),i=this._elements.clock.valueAsDate;return t&&e&&!i&&this.type===Ad.DATETIME&&(i=(new Dc.Moment).toDate()),i&&(e.isValid()||(e=new Dc.Moment),e.hours(i.getHours()),e.minutes(i.getMinutes())),e}},{key:"_getValueAsString",value:function(t,e){return t&&t.isValid()?t.format(e):""}},{key:"_renderCalendar",value:function(){""===this._elements.overlay.content.innerHTML&&(this._elements.overlay.content.appendChild(this._calendarFragment),this._calendarFragment=void 0)}},{key:"connectedCallback",value:function(){m(l(i.prototype),"connectedCallback",this).call(this);var t=this._elements.overlay;t.removeAttribute("open"),t._parent&&t._parent.appendChild(t)}},{key:"render",value:function(){for(m(l(i.prototype),"render",this).call(this),this.classList.add("_coral-InputGroup"),this.setAttribute("role","group"),this._elements.input.setAttribute("role","combobox"),this._elements.input.setAttribute("aria-autocomplete","none"),this._elements.input.setAttribute("aria-haspopup","dialog"),this._elements.input.setAttribute("aria-expanded","false"),this._elements.input.setAttribute("aria-controls",this._elements.overlay.id),this._elements.toggle.setAttribute("aria-haspopup","dialog"),this._elements.toggle.setAttribute("aria-expanded","false"),this._elements.toggle.setAttribute("aria-controls",this._elements.overlay.id),this._useNativeInput=kd,this._variant||(this.variant=bd.DEFAULT),this._type||(this.type=Ad.DATE);this.firstChild;)this.removeChild(this.firstChild);var t=document.createDocumentFragment();t.appendChild(this._elements.hiddenInput),t.appendChild(this._elements.input),t.appendChild(this._elements.toggle),t.appendChild(this._elements.overlay),this._elements.overlay.target=this._elements.toggle,this.appendChild(t)}},{key:"disconnectedCallback",value:function(){m(l(i.prototype),"disconnectedCallback",this).call(this);var t=this._elements.overlay;this.contains(t)||(t._parent=t._repositioned?document.body:this,t.remove())}},{key:"overlay",get:function(){return this._elements.overlay}},{key:"type",get:function(){return this._type||Ad.DATE},set:function(t){this._typeFormatChanged=void 0===this._type,t=Ua.string(t).toLowerCase(),this._type=Ba.enumeration(Ad)(t)&&t||Ad.DATE,this._reflectAttribute("type",this._type);var e=wd[this._type],i=this._type===Ad.TIME,n=this._type===Ad.DATE;this._elements.icon.icon=i?"clock":"calendar";var a=i?wa.get("Time"):wa.get("Calendar");this._elements.toggle.setAttribute("aria-label",a),this._elements.toggle.setAttribute("title",a),this._elements.clock.hidden=n,this._elements.clock.setAttribute("aria-hidden",n),this._elements.calendar.hidden=i,this._elements.calendar.setAttribute("aria-hidden",i),xd(this.valueFormat)&&(this.valueFormat=e),xd(this.displayFormat)&&(this.displayFormat=e),this._useNativeInput=this._useNativeInput,this._typeFormatChanged=!1}},{key:"displayFormat",get:function(){return this._useNativeInput&&this.type!==Ad.DATETIME||void 0===this._displayFormat?wd[this.type]:this._displayFormat},set:function(t){t=Ua.string(t).trim();var e=this.getAttribute("displayformat");this._typeFormatChanged&&e&&e!==t&&(t=e),this._displayFormat=""===t?wd[this.type]:t,this._reflectAttribute("displayformat",this._displayFormat),this._elements.clock.displayFormat=this._displayFormat,this._elements.input.value=this._getValueAsString(this._value,this._displayFormat)}},{key:"valueFormat",get:function(){return void 0===this._valueFormat?wd[this.type]:this._valueFormat},set:function(t){var e=this,i=function(t){e._valueFormat=""===t?wd[e.type]:t,e._reflectAttribute("valueformat",e._valueFormat)};t=Ua.string(t).trim();var n=this.getAttribute("valueformat");this._typeFormatChanged&&n&&n!==t&&(t=n),!this._valueFormat&&this._originalValue?(i(t),this.value=this._originalValue):i(t),this._elements.calendar.valueFormat=this._valueFormat,this._elements.hiddenInput.value=this.value}},{key:"valueAsDate",get:function(){var t=this._value;return"date"===this.type&&t&&(t=t.startOf("day")),t?t.toDate():null},set:function(t){this._valueAsDate=t instanceof Date?new Dc.Moment(t):"",this.value=this._valueAsDate}},{key:"min",get:function(){return this._elements.calendar.min},set:function(t){this._elements.calendar.min=t}},{key:"max",get:function(){return this._elements.calendar.max},set:function(t){this._elements.calendar.max=t}},{key:"headerFormat",get:function(){return this._elements.calendar.headerFormat},set:function(t){this._elements.calendar.headerFormat=t}},{key:"startDay",get:function(){return this._elements.calendar.startDay},set:function(t){this._elements.calendar.startDay=t}},{key:"value",get:function(){return this._getValueAsString(this._value,this.valueFormat)},set:function(t){this._originalValue=t,this._value=function(t,e){if("today"===t)return new Dc.Moment;if(Dc.Moment.isMoment(t))return t.isValid()?t.clone():null;var i=new Dc.Moment(t,t instanceof Date?null:e);return i.isValid()?i:null}(t,this.valueFormat),this._elements.calendar.valueAsDate=this.valueAsDate,this._elements.clock.valueAsDate=this.valueAsDate,this._elements.input.value=this._getValueAsString(this._value,this.displayFormat),this._elements.hiddenInput.value=this.value}},{key:"placeholder",get:function(){return this._elements.input.placeholder},set:function(t){this._elements.input.placeholder=t,this._reflectAttribute("placeholder",this.placeholder)}},{key:"variant",get:function(){return this._variant||bd.DEFAULT},set:function(t){var e;t=Ua.string(t).toLowerCase(),this._variant=Ba.enumeration(bd)(t)&&t||bd.DEFAULT,this._elements.input.variant=this._variant,this._elements.toggle.classList.toggle("_coral-FieldButton--quiet",this._variant===bd.QUIET),(e=this.classList).remove.apply(e,yd),this._variant!==bd.DEFAULT&&this.classList.add("".concat("_coral-InputGroup","--").concat(this._variant))}},{key:"name",get:function(){return this._elements.hiddenInput.name},set:function(t){this._reflectAttribute("name",t),this._elements.hiddenInput.name=t}},{key:"disabled",get:function(){return this._disabled||!1},set:function(t){this._disabled=Ua.booleanAttr(t),this._reflectAttribute("disabled",this._disabled),this[this._disabled?"setAttribute":"removeAttribute"]("aria-disabled",this._disabled),this.classList.toggle("is-disabled",this._disabled),this._elements.input.disabled=this._disabled,this._elements.hiddenInput.disabled=this._disabled,this._elements.toggle.disabled=this._disabled}},{key:"invalid",get:function(){return m(l(i.prototype),"invalid",this)},set:function(t){g(l(i.prototype),"invalid",t,this,!0),this.classList.toggle("is-invalid",this.invalid),this._elements.toggle.classList.toggle("is-invalid",this.invalid),this._elements.input.invalid=this.invalid,this._elements.input.setAttribute("aria-invalid",this.invalid)}},{key:"required",get:function(){return this._required||!1},set:function(t){this._required=Ua.booleanAttr(t),this._reflectAttribute("required",this._required),this._elements.toggle.classList.toggle("is-invalid",this._required),this._elements.input.required=this._required}},{key:"readOnly",get:function(){return this._readOnly||!1},set:function(t){this._readOnly=Ua.booleanAttr(t),this._reflectAttribute("readonly",this._readOnly),this._elements.hiddenInput.readOnly=this.readOnly,this._elements.input.readOnly=this._readOnly,this._elements.toggle.disabled=this._readOnly}},{key:"labelled",get:function(){return m(l(i.prototype),"labelled",this)},set:function(t){g(l(i.prototype),"labelled",t,this,!0),this[this.labelled?"setAttribute":"removeAttribute"]("aria-label",this.labelled),this._elements.overlay[this.labelled?"setAttribute":"removeAttribute"]("aria-label",this.labelled),this._elements.calendar[this.labelled?"setAttribute":"removeAttribute"]("labelled",this.labelled)}},{key:"labelledBy",get:function(){return m(l(i.prototype),"labelledBy",this)},set:function(t){g(l(i.prototype),"labelledBy",t,this,!0),this[this.labelledBy?"setAttribute":"removeAttribute"]("aria-labelledby",this.labelledBy),this._elements.overlay[this.labelledBy?"setAttribute":"removeAttribute"]("aria-labelledby",this.labelledBy),this._elements.calendar[this.labelledBy?"setAttribute":"removeAttribute"]("aria-labelledby",this.labelledBy)}},{key:"_useNativeInput",get:function(){return this.__useNativeInput},set:function(t){this.__useNativeInput=t,this.__useNativeInput&&this.type!==Ad.DATETIME?(this._elements.toggle.hidden=!0,this._elements.input.setAttribute("type",this.type),this._elements.overlay.hidden=!0,this._elements.input.removeAttribute("role"),this._elements.input.removeAttribute("aria-autocomplete"),this._elements.input.removeAttribute("aria-haspopup"),this._elements.input.removeAttribute("aria-expanded"),this._elements.input.removeAttribute("aria-controls")):(this._elements.toggle.hidden=!1,this._elements.input.setAttribute("type","text"),this._elements.overlay.hidden=!1,this._elements.input.setAttribute("role","combobox"),this._elements.input.setAttribute("aria-autocomplete","none"),this._elements.input.setAttribute("aria-haspopup","dialog"),this._elements.input.setAttribute("aria-expanded",this._elements.overlay.open),this._elements.input.setAttribute("aria-controls",this._elements.overlay.id),this._elements.toggle.setAttribute("aria-haspopup","dialog"),this._elements.toggle.setAttribute("aria-expanded",this._elements.overlay.open),this._elements.toggle.setAttribute("aria-controls",this._elements.overlay.id))}}],[{key:"variant",get:function(){return bd}},{key:"type",get:function(){return Ad}},{key:"_attributePropertyMap",get:function(){return da.extend(m(l(i),"_attributePropertyMap",this),{startday:"startDay",headerformat:"headerFormat",displayformat:"displayFormat",valueformat:"valueFormat"})}},{key:"observedAttributes",get:function(){return m(l(i),"observedAttributes",this).concat(["min","max","type","placeholder","startday","headerFormat","displayformat","valueformat","variant"])}}]),i}(mo(ho(HTMLElement)));da.extend(ka,{"coral-component-datepicker":{"en-US":{Time:"Time",Calendar:"Calendar"},"de-DE":{Time:"Zeit",Calendar:"Kalender"},"fr-FR":{Time:"Heure",Calendar:"Calendrier"},"it-IT":{Time:"Ora",Calendar:"Calendario"},"ja-JP":{Time:"æé",Calendar:"ã«ã¬ã³ãã¼"},"es-ES":{Time:"Hora",Calendar:"Calendario"},"ko-KR":{Time:"ìê°",Calendar:"ë¬ë ¥"},"zh-CN":{Time:"æ¶é´",Calendar:"æ¥å"},"zh-TW":{Time:"æé",Calendar:"æ¥æ"},"pt-BR":{Time:"Hora",Calendar:"CalendÃ¡rio"},"nl-NL":{Time:"Tijd",Calendar:"Kalender"},"da-DK":{Time:"Tid",Calendar:"Kalender"},"fi-FI":{Time:"Aika",Calendar:"Kalenteri"},"nb-NO":{Time:"Klokkeslett",Calendar:"Kalender"},"sv-SE":{Time:"Tid",Calendar:"Kalender"},"cs-CZ":{Time:"Äas",Calendar:"KalendÃ¡Å"},"pl-PL":{Time:"Czas",Calendar:"Kalendarz"},"ru-RU":{Time:"ÐÑÐµÐ¼Ñ",Calendar:"ÐÐ°Ð»ÐµÐ½Ð´Ð°ÑÑ"},"tr-TR":{Time:"Zaman",Calendar:"Takvim"}}}),da._define("coral-datepicker",Td);var Sd=function(t){var e=document.createDocumentFragment(),i=t=void 0===t?{}:t,n=(i=t).commons.getUID(),a=i.commons.getUID();t=i;var o=document.createTextNode("\n");e.appendChild(o);var r=this.slider=document.createElement("div");r.setAttribute("handle","slider"),r.className+=" _coral-Drawer-slider";var s=document.createTextNode("\n  ");r.appendChild(s);var l=this.contentWrapper=document.createElement("div");l.setAttribute("handle","contentWrapper"),l.className+=" _coral-Drawer-content",l.id=a,l.setAttribute("aria-labelledby",n),l.setAttribute("role","region"),r.appendChild(l);var c=document.createTextNode("\n");r.appendChild(c),e.appendChild(r);var u=document.createTextNode("\n");e.appendChild(u);var h=this.toggle=document.createElement("div");h.className+=" _coral-Drawer-toggle",h.setAttribute("handle","toggle");var d=document.createTextNode("\n  ");h.appendChild(d);var p=this.toggleButton=document.createElement("button","coral-button");p.id=n,p.setAttribute("aria-controls",a),p.setAttribute("aria-label",t.i18n.get("More")),p.className+=" _coral-Drawer-toggleButton",p.setAttribute("type","button"),p.setAttribute("handle","toggleButton"),p.setAttribute("is","coral-button"),p.setAttribute("variant","quiet"),h.appendChild(p);var m=document.createTextNode("\n");h.appendChild(m),e.appendChild(h);var f=document.createTextNode("\n");return e.appendChild(f),e},Ed={DOWN:"down",UP:"up"},Id=[];for(var Ld in Ed)Id.push("".concat("_coral-Drawer","--").concat(Ed[Ld]));var Nd=function(t){s(i,t);var e=d(i);function i(){var t;return a(this,i),(t=e.call(this))._elements={content:t.querySelector("coral-drawer-content")||document.createElement("coral-drawer-content")},Sd.call(t._elements,{commons:da,i18n:wa}),t._delegateEvents({"click ._coral-Drawer-toggleButton":"_onClick"}),t}return r(i,[{key:"_onClick",value:function(){this.open=!this.open}},{key:"render",value:function(){m(l(i.prototype),"render",this).call(this),this.classList.add("_coral-Drawer","coral-Well"),this._direction||(this.direction=Ed.DOWN),this._open||(this.open=!1);var t=document.createDocumentFragment(),e=["slider","toggle"];t.appendChild(this._elements.slider),t.appendChild(this._elements.toggle);for(var n=this._elements.content;this.firstChild;){var a=this.firstChild;a.nodeType===Node.TEXT_NODE||a.nodeType===Node.ELEMENT_NODE&&-1===e.indexOf(a.getAttribute("handle"))?n.appendChild(a):this.removeChild(a)}this.appendChild(t),this.content=n}},{key:"disabled",get:function(){return this._disabled||!1},set:function(t){this._disabled=Ua.booleanAttr(t),this._reflectAttribute("disabled",this._disabled),this[this._disabled?"setAttribute":"removeAttribute"]("aria-disabled",this._disabled),this._elements.toggle.hidden=this._disabled}},{key:"content",get:function(){return this._getContentZone(this._elements.content)},set:function(t){this._setContentZone("content",t,{handle:"content",tagName:"coral-drawer-content",insert:function(t){this._elements.contentWrapper.appendChild(t)}})}},{key:"direction",get:function(){return this._direction||Ed.DOWN},set:function(t){var e;t=Ua.string(t).toLowerCase(),this._direction=Ba.enumeration(Ed)(t)&&t||Ed.DOWN,this._reflectAttribute("direction",this._direction),(e=this.classList).remove.apply(e,Id),this.classList.add("".concat("_coral-Drawer","--").concat(this._direction))}},{key:"open",get:function(){return this._open||!1},set:function(t){var e=this,i=this._silenced;this._open=Ua.booleanAttr(t),this._reflectAttribute("open",this._open),this._elements.toggleButton.setAttribute("aria-expanded",this._open);var n=this._elements.slider;this._animate?(da.transitionEnd(n,(function(){e._silenced=i,e._open&&(n.style.height=""),e.trigger("coral-drawer:".concat(e._open?"open":"close")),e._silenced=!1})),this._open||(n.style.height="".concat(n.scrollHeight,"px")),window.setTimeout((function(){n.style.height=e._open?"".concat(n.scrollHeight,"px"):0}),10)):(this._animate=!0,this._open||(n.style.height=0))}},{key:"_contentZones",get:function(){return{"coral-drawer-content":"content"}}}],[{key:"direction",get:function(){return Ed}},{key:"observedAttributes",get:function(){return m(l(i),"observedAttributes",this).concat(["disabled","direction","open"])}}]),i}(ho(HTMLElement));da.extend(ka,{"coral-component-drawer":{"en-US":{More:"More"},"de-DE":{More:"Mehr"},"fr-FR":{More:"Plus"},"it-IT":{More:"Altro"},"ja-JP":{More:"ãã®ä»"},"es-ES":{More:"MÃ¡s"},"ko-KR":{More:"ìì¸í"},"zh-CN":{More:"æ´å¤"},"zh-TW":{More:"æ´å¤"},"pt-BR":{More:"Mais"},"nl-NL":{More:"Meer"},"da-DK":{More:"Mere"},"fi-FI":{More:"LisÃ¤Ã¤"},"nb-NO":{More:"Mer"},"sv-SE":{More:"Mer"},"cs-CZ":{More:"VÃ­ce"},"pl-PL":{More:"WiÄcej"},"ru-RU":{More:"ÐÐ¾Ð¿Ð¾Ð»Ð½Ð¸ÑÐµÐ»ÑÐ½Ð¾"},"tr-TR":{More:"Daha Fazla"}}}),da._define("coral-drawer",Nd),Nd.Content=function(){return document.createElement("coral-drawer-content")};var Md={".123":"application/vnd.lotus-1-2-3",".3dml":"text/vnd.in3d.3dml",".3g2":"video/3gpp2",".3gp":"video/3gpp",".a":"application/octet-stream",".aab":"application/x-authorware-bin",".aac":"audio/x-aac",".aam":"application/x-authorware-map",".aas":"application/x-authorware-seg",".abw":"application/x-abiword",".acc":"application/vnd.americandynamics.acc",".ace":"application/x-ace-compressed",".acu":"application/vnd.acucobol",".acutc":"application/vnd.acucorp",".adp":"audio/adpcm",".aep":"application/vnd.audiograph",".afm":"application/x-font-type1",".afp":"application/vnd.ibm.modcap",".ai":"application/postscript",".aif":"audio/x-aiff",".aifc":"audio/x-aiff",".aiff":"audio/x-aiff",".air":"application/vnd.adobe.air-application-installer-package+zip",".ami":"application/vnd.amiga.ami",".apk":"application/vnd.android.package-archive",".application":"application/x-ms-application",".apr":"application/vnd.lotus-approach",".asc":"application/pgp-signature",".asf":"video/x-ms-asf",".asm":"text/x-asm",".aso":"application/vnd.accpac.simply.aso",".asx":"video/x-ms-asf",".atc":"application/vnd.acucorp",".atom":"application/atom+xml",".atomcat":"application/atomcat+xml",".atomsvc":"application/atomsvc+xml",".atx":"application/vnd.antix.game-component",".au":"audio/basic",".avi":"video/x-msvideo",".aw":"application/applixware",".azf":"application/vnd.airzip.filesecure.azf",".azs":"application/vnd.airzip.filesecure.azs",".azw":"application/vnd.amazon.ebook",".bat":"application/x-msdownload",".bcpio":"application/x-bcpio",".bdf":"application/x-font-bdf",".bdm":"application/vnd.syncml.dm+wbxml",".bh2":"application/vnd.fujitsu.oasysprs",".bin":"application/octet-stream",".bmi":"application/vnd.bmi",".bmp":"image/bmp",".book":"application/vnd.framemaker",".box":"application/vnd.previewsystems.box",".boz":"application/x-bzip2",".bpk":"application/octet-stream",".btif":"image/prs.btif",".bz":"application/x-bzip",".bz2":"application/x-bzip2",".c":"text/x-c",".c4d":"application/vnd.clonk.c4group",".c4f":"application/vnd.clonk.c4group",".c4g":"application/vnd.clonk.c4group",".c4p":"application/vnd.clonk.c4group",".c4u":"application/vnd.clonk.c4group",".cab":"application/vnd.ms-cab-compressed",".car":"application/vnd.curl.car",".cat":"application/vnd.ms-pki.seccat",".cc":"text/x-c",".cct":"application/x-director",".ccxml":"application/ccxml+xml",".cdbcmsg":"application/vnd.contact.cmsg",".cdf":"application/x-netcdf",".cdkey":"application/vnd.mediastation.cdkey",".cdx":"chemical/x-cdx",".cdxml":"application/vnd.chemdraw+xml",".cdy":"application/vnd.cinderella",".cer":"application/pkix-cert",".cgm":"image/cgm",".chat":"application/x-chat",".chm":"application/vnd.ms-htmlhelp",".chrt":"application/vnd.kde.kchart",".cif":"chemical/x-cif",".cii":"application/vnd.anser-web-certificate-issue-initiation",".cil":"application/vnd.ms-artgalry",".cla":"application/vnd.claymore",".class":"application/java-vm",".clkk":"application/vnd.crick.clicker.keyboard",".clkp":"application/vnd.crick.clicker.palette",".clkt":"application/vnd.crick.clicker.template",".clkw":"application/vnd.crick.clicker.wordbank",".clkx":"application/vnd.crick.clicker",".clp":"application/x-msclip",".cmc":"application/vnd.cosmocaller",".cmdf":"chemical/x-cmdf",".cml":"chemical/x-cml",".cmp":"application/vnd.yellowriver-custom-menu",".cmx":"image/x-cmx",".cod":"application/vnd.rim.cod",".com":"application/x-msdownload",".conf":"text/plain",".cpio":"application/x-cpio",".cpp":"text/x-c",".cpt":"application/mac-compactpro",".crd":"application/x-mscardfile",".crl":"application/pkix-crl",".crt":"application/x-x509-ca-cert",".csh":"application/x-csh",".csml":"chemical/x-csml",".csp":"application/vnd.commonspace",".css":"text/css",".cst":"application/x-director",".csv":["text/csv","application/vnd.ms-excel"],".cu":"application/cu-seeme",".curl":"text/vnd.curl",".cww":"application/prs.cww",".cxt":"application/x-director",".cxx":"text/x-c",".daf":"application/vnd.mobius.daf",".dataless":"application/vnd.fdsn.seed",".davmount":"application/davmount+xml",".dcr":"application/x-director",".dcurl":"text/vnd.curl.dcurl",".dd2":"application/vnd.oma.dd2+xml",".ddd":"application/vnd.fujixerox.ddd",".deb":"application/x-debian-package",".def":"text/plain",".deploy":"application/octet-stream",".der":"application/x-x509-ca-cert",".dfac":"application/vnd.dreamfactory",".dic":"text/x-c",".diff":"text/plain",".dir":"application/x-director",".dis":"application/vnd.mobius.dis",".dist":"application/octet-stream",".distz":"application/octet-stream",".djv":"image/vnd.djvu",".djvu":"image/vnd.djvu",".dll":"application/x-msdownload",".dmg":"application/octet-stream",".dms":"application/octet-stream",".dna":"application/vnd.dna",".doc":"application/msword",".docm":"application/vnd.ms-word.document.macroenabled.12",".docx":"application/vnd.openxmlformats-officedocument.wordprocessingml.document",".dot":"application/msword",".dotm":"application/vnd.ms-word.template.macroenabled.12",".dotx":"application/vnd.openxmlformats-officedocument.wordprocessingml.template",".dp":"application/vnd.osgi.dp",".dpg":"application/vnd.dpgraph",".dsc":"text/prs.lines.tag",".dtb":"application/x-dtbook+xml",".dtd":"application/xml-dtd",".dts":"audio/vnd.dts",".dtshd":"audio/vnd.dts.hd",".dump":"application/octet-stream",".dvi":"application/x-dvi",".dwf":"model/vnd.dwf",".dwg":"image/vnd.dwg",".dxf":"image/vnd.dxf",".dxp":"application/vnd.spotfire.dxp",".dxr":"application/x-director",".ecelp4800":"audio/vnd.nuera.ecelp4800",".ecelp7470":"audio/vnd.nuera.ecelp7470",".ecelp9600":"audio/vnd.nuera.ecelp9600",".ecma":"application/ecmascript",".edm":"application/vnd.novadigm.edm",".edx":"application/vnd.novadigm.edx",".efif":"application/vnd.picsel",".ei6":"application/vnd.pg.osasli",".elc":"application/octet-stream",".eml":"message/rfc822",".emma":"application/emma+xml",".eol":"audio/vnd.digital-winds",".eot":"application/vnd.ms-fontobject",".eps":"application/postscript",".epub":"application/epub+zip",".es3":"application/vnd.eszigno3+xml",".esf":"application/vnd.epson.esf",".et3":"application/vnd.eszigno3+xml",".etx":"text/x-setext",".exe":"application/x-msdownload",".ext":"application/vnd.novadigm.ext",".ez":"application/andrew-inset",".ez2":"application/vnd.ezpix-album",".ez3":"application/vnd.ezpix-package",".f":"text/x-fortran",".f4v":"video/x-f4v",".f77":"text/x-fortran",".f90":"text/x-fortran",".fbs":"image/vnd.fastbidsheet",".fdf":"application/vnd.fdf",".fe_launch":"application/vnd.denovo.fcselayout-link",".fg5":"application/vnd.fujitsu.oasysgp",".fgd":"application/x-director",".fh":"image/x-freehand",".fh4":"image/x-freehand",".fh5":"image/x-freehand",".fh7":"image/x-freehand",".fhc":"image/x-freehand",".fig":"application/x-xfig",".fli":"video/x-fli",".flo":"application/vnd.micrografx.flo",".flv":"video/x-flv",".flw":"application/vnd.kde.kivio",".flx":"text/vnd.fmi.flexstor",".fly":"text/vnd.fly",".fm":"application/vnd.framemaker",".fnc":"application/vnd.frogans.fnc",".for":"text/x-fortran",".fpx":"image/vnd.fpx",".frame":"application/vnd.framemaker",".fsc":"application/vnd.fsc.weblaunch",".fst":"image/vnd.fst",".ftc":"application/vnd.fluxtime.clip",".fti":"application/vnd.anser-web-funds-transfer-initiation",".fvt":"video/vnd.fvt",".fzs":"application/vnd.fuzzysheet",".g3":"image/g3fax",".gac":"application/vnd.groove-account",".gdl":"model/vnd.gdl",".geo":"application/vnd.dynageo",".gex":"application/vnd.geometry-explorer",".ggb":"application/vnd.geogebra.file",".ggt":"application/vnd.geogebra.tool",".ghf":"application/vnd.groove-help",".gif":"image/gif",".gim":"application/vnd.groove-identity-message",".gmx":"application/vnd.gmx",".gnumeric":"application/x-gnumeric",".gph":"application/vnd.flographit",".gqf":"application/vnd.grafeq",".gqs":"application/vnd.grafeq",".gram":"application/srgs",".gre":"application/vnd.geometry-explorer",".grv":"application/vnd.groove-injector",".grxml":"application/srgs+xml",".gsf":"application/x-font-ghostscript",".gtar":"application/x-gtar",".gtm":"application/vnd.groove-tool-message",".gtw":"model/vnd.gtw",".gv":"text/vnd.graphviz",".gz":"application/x-gzip",".h":"text/x-c",".h261":"video/h261",".h263":"video/h263",".h264":"video/h264",".hbci":"application/vnd.hbci",".hdf":"application/x-hdf",".hh":"text/x-c",".hlp":"application/winhlp",".hpgl":"application/vnd.hp-hpgl",".hpid":"application/vnd.hp-hpid",".hps":"application/vnd.hp-hps",".hqx":"application/mac-binhex40",".htke":"application/vnd.kenameaapp",".htm":"text/html",".html":"text/html",".hvd":"application/vnd.yamaha.hv-dic",".hvp":"application/vnd.yamaha.hv-voice",".hvs":"application/vnd.yamaha.hv-script",".icc":"application/vnd.iccprofile",".ice":"x-conference/x-cooltalk",".icm":"application/vnd.iccprofile",".ico":"image/x-icon",".ics":"text/calendar",".ief":"image/ief",".ifb":"text/calendar",".ifm":"application/vnd.shana.informed.formdata",".iges":"model/iges",".igl":"application/vnd.igloader",".igs":"model/iges",".igx":"application/vnd.micrografx.igx",".iif":"application/vnd.shana.informed.interchange",".imp":"application/vnd.accpac.simply.imp",".ims":"application/vnd.ms-ims",".in":"text/plain",".ipk":"application/vnd.shana.informed.package",".irm":"application/vnd.ibm.rights-management",".irp":"application/vnd.irepository.package+xml",".iso":"application/octet-stream",".itp":"application/vnd.shana.informed.formtemplate",".ivp":"application/vnd.immervision-ivp",".ivu":"application/vnd.immervision-ivu",".jad":"text/vnd.sun.j2me.app-descriptor",".jam":"application/vnd.jam",".jar":"application/java-archive",".java":"text/x-java-source",".jisp":"application/vnd.jisp",".jlt":"application/vnd.hp-jlyt",".jnlp":"application/x-java-jnlp-file",".joda":"application/vnd.joost.joda-archive",".jpe":"image/jpeg",".jpeg":"image/jpeg",".jpg":"image/jpeg",".jpgm":"video/jpm",".jpgv":"video/jpeg",".jpm":"video/jpm",".js":"application/javascript",".json":"application/json",".kar":"audio/midi",".karbon":"application/vnd.kde.karbon",".kfo":"application/vnd.kde.kformula",".kia":"application/vnd.kidspiration",".kil":"application/x-killustrator",".kml":"application/vnd.google-earth.kml+xml",".kmz":"application/vnd.google-earth.kmz",".kne":"application/vnd.kinar",".knp":"application/vnd.kinar",".kon":"application/vnd.kde.kontour",".kpr":"application/vnd.kde.kpresenter",".kpt":"application/vnd.kde.kpresenter",".ksh":"text/plain",".ksp":"application/vnd.kde.kspread",".ktr":"application/vnd.kahootz",".ktz":"application/vnd.kahootz",".kwd":"application/vnd.kde.kword",".kwt":"application/vnd.kde.kword",".latex":"application/x-latex",".lbd":"application/vnd.llamagraphics.life-balance.desktop",".lbe":"application/vnd.llamagraphics.life-balance.exchange+xml",".les":"application/vnd.hhe.lesson-player",".lha":"application/octet-stream",".link66":"application/vnd.route66.link66+xml",".list":"text/plain",".list3820":"application/vnd.ibm.modcap",".listafp":"application/vnd.ibm.modcap",".log":"text/plain",".lostxml":"application/lost+xml",".lrf":"application/octet-stream",".lrm":"application/vnd.ms-lrm",".ltf":"application/vnd.frogans.ltf",".lvp":"audio/vnd.lucent.voice",".lwp":"application/vnd.lotus-wordpro",".lzh":"application/octet-stream",".m13":"application/x-msmediaview",".m14":"application/x-msmediaview",".m1v":"video/mpeg",".m2a":"audio/mpeg",".m2v":"video/mpeg",".m3a":"audio/mpeg",".m3u":"audio/x-mpegurl",".m4u":"video/vnd.mpegurl",".m4v":"video/x-m4v",".ma":"application/mathematica",".mag":"application/vnd.ecowin.chart",".maker":"application/vnd.framemaker",".man":"text/troff",".mathml":"application/mathml+xml",".mb":"application/mathematica",".mbk":"application/vnd.mobius.mbk",".mbox":"application/mbox",".mc1":"application/vnd.medcalcdata",".mcd":"application/vnd.mcd",".mcurl":"text/vnd.curl.mcurl",".mdb":"application/x-msaccess",".mdi":"image/vnd.ms-modi",".me":"text/troff",".mesh":"model/mesh",".mfm":"application/vnd.mfmp",".mgz":"application/vnd.proteus.magazine",".mht":"message/rfc822",".mhtml":"message/rfc822",".mid":"audio/midi",".midi":"audio/midi",".mif":"application/vnd.mif",".mime":"message/rfc822",".mj2":"video/mj2",".mjp2":"video/mj2",".mlp":"application/vnd.dolby.mlp",".mmd":"application/vnd.chipnuts.karaoke-mmd",".mmf":"application/vnd.smaf",".mmr":"image/vnd.fujixerox.edmics-mmr",".mny":"application/x-msmoney",".mobi":"application/x-mobipocket-ebook",".mov":"video/quicktime",".movie":"video/x-sgi-movie",".mp2":"audio/mpeg",".mp2a":"audio/mpeg",".mp3":"audio/mpeg",".mp4":"video/mp4",".mp4a":"audio/mp4",".mp4s":"application/mp4",".mp4v":"video/mp4",".mpa":"video/mpeg",".mpc":"application/vnd.mophun.certificate",".mpe":"video/mpeg",".mpeg":"video/mpeg",".mpg":"video/mpeg",".mpg4":"video/mp4",".mpga":"audio/mpeg",".mpkg":"application/vnd.apple.installer+xml",".mpm":"application/vnd.blueice.multipass",".mpn":"application/vnd.mophun.application",".mpp":"application/vnd.ms-project",".mpt":"application/vnd.ms-project",".mpy":"application/vnd.ibm.minipay",".mqy":"application/vnd.mobius.mqy",".mrc":"application/marc",".ms":"text/troff",".mscml":"application/mediaservercontrol+xml",".mseed":"application/vnd.fdsn.mseed",".mseq":"application/vnd.mseq",".msf":"application/vnd.epson.msf",".msh":"model/mesh",".msi":"application/x-msdownload",".msl":"application/vnd.mobius.msl",".msty":"application/vnd.muvee.style",".mts":"model/vnd.mts",".mus":"application/vnd.musician",".musicxml":"application/vnd.recordare.musicxml+xml",".mvb":"application/x-msmediaview",".mwf":"application/vnd.mfer",".mxf":"application/mxf",".mxl":"application/vnd.recordare.musicxml",".mxml":"application/xv+xml",".mxs":"application/vnd.triscape.mxs",".mxu":"video/vnd.mpegurl",".n-gage":"application/vnd.nokia.n-gage.symbian.install",".nb":"application/mathematica",".nc":"application/x-netcdf",".ncx":"application/x-dtbncx+xml",".ngdat":"application/vnd.nokia.n-gage.data",".nlu":"application/vnd.neurolanguage.nlu",".nml":"application/vnd.enliven",".nnd":"application/vnd.noblenet-directory",".nns":"application/vnd.noblenet-sealer",".nnw":"application/vnd.noblenet-web",".npx":"image/vnd.net-fpx",".nsf":"application/vnd.lotus-notes",".nws":"message/rfc822",".o":"application/octet-stream",".oa2":"application/vnd.fujitsu.oasys2",".oa3":"application/vnd.fujitsu.oasys3",".oas":"application/vnd.fujitsu.oasys",".obd":"application/x-msbinder",".obj":"application/octet-stream",".oda":"application/oda",".odb":"application/vnd.oasis.opendocument.database",".odc":"application/vnd.oasis.opendocument.chart",".odf":"application/vnd.oasis.opendocument.formula",".odft":"application/vnd.oasis.opendocument.formula-template",".odg":"application/vnd.oasis.opendocument.graphics",".odi":"application/vnd.oasis.opendocument.image",".odp":"application/vnd.oasis.opendocument.presentation",".ods":"application/vnd.oasis.opendocument.spreadsheet",".odt":"application/vnd.oasis.opendocument.text",".oga":"audio/ogg",".ogg":"audio/ogg",".ogv":"video/ogg",".ogx":"application/ogg",".onepkg":"application/onenote",".onetmp":"application/onenote",".onetoc":"application/onenote",".onetoc2":"application/onenote",".opf":"application/oebps-package+xml",".oprc":"application/vnd.palm",".org":"application/vnd.lotus-organizer",".osf":"application/vnd.yamaha.openscoreformat",".osfpvg":"application/vnd.yamaha.openscoreformat.osfpvg+xml",".otc":"application/vnd.oasis.opendocument.chart-template",".otf":"application/x-font-otf",".otg":"application/vnd.oasis.opendocument.graphics-template",".oth":"application/vnd.oasis.opendocument.text-web",".oti":"application/vnd.oasis.opendocument.image-template",".otm":"application/vnd.oasis.opendocument.text-master",".otp":"application/vnd.oasis.opendocument.presentation-template",".ots":"application/vnd.oasis.opendocument.spreadsheet-template",".ott":"application/vnd.oasis.opendocument.text-template",".oxt":"application/vnd.openofficeorg.extension",".p":"text/x-pascal",".p10":"application/pkcs10",".p12":"application/x-pkcs12",".p7b":"application/x-pkcs7-certificates",".p7c":"application/pkcs7-mime",".p7m":"application/pkcs7-mime",".p7r":"application/x-pkcs7-certreqresp",".p7s":"application/pkcs7-signature",".pas":"text/x-pascal",".pbd":"application/vnd.powerbuilder6",".pbm":"image/x-portable-bitmap",".pcf":"application/x-font-pcf",".pcl":"application/vnd.hp-pcl",".pclxl":"application/vnd.hp-pclxl",".pct":"image/x-pict",".pcurl":"application/vnd.curl.pcurl",".pcx":"image/x-pcx",".pdb":"application/vnd.palm",".pdf":"application/pdf",".pfa":"application/x-font-type1",".pfb":"application/x-font-type1",".pfm":"application/x-font-type1",".pfr":"application/font-tdpfr",".pfx":"application/x-pkcs12",".pgm":"image/x-portable-graymap",".pgn":"application/x-chess-pgn",".pgp":"application/pgp-encrypted",".pic":"image/x-pict",".pkg":"application/octet-stream",".pki":"application/pkixcmp",".pkipath":"application/pkix-pkipath",".pl":"text/plain",".plb":"application/vnd.3gpp.pic-bw-large",".plc":"application/vnd.mobius.plc",".plf":"application/vnd.pocketlearn",".pls":"application/pls+xml",".pml":"application/vnd.ctc-posml",".png":"image/png",".pnm":"image/x-portable-anymap",".portpkg":"application/vnd.macports.portpkg",".pot":"application/vnd.ms-powerpoint",".potm":"application/vnd.ms-powerpoint.template.macroenabled.12",".potx":"application/vnd.openxmlformats-officedocument.presentationml.template",".ppa":"application/vnd.ms-powerpoint",".ppam":"application/vnd.ms-powerpoint.addin.macroenabled.12",".ppd":"application/vnd.cups-ppd",".ppm":"image/x-portable-pixmap",".pps":"application/vnd.ms-powerpoint",".ppsm":"application/vnd.ms-powerpoint.slideshow.macroenabled.12",".ppsx":"application/vnd.openxmlformats-officedocument.presentationml.slideshow",".ppt":"application/vnd.ms-powerpoint",".pptm":"application/vnd.ms-powerpoint.presentation.macroenabled.12",".pptx":"application/vnd.openxmlformats-officedocument.presentationml.presentation",".pqa":"application/vnd.palm",".prc":"application/x-mobipocket-ebook",".pre":"application/vnd.lotus-freelance",".prf":"application/pics-rules",".ps":"application/postscript",".psb":"application/vnd.3gpp.pic-bw-small",".psd":"image/vnd.adobe.photoshop",".psf":"application/x-font-linux-psf",".ptid":"application/vnd.pvi.ptid1",".pub":"application/x-mspublisher",".pvb":"application/vnd.3gpp.pic-bw-var",".pwn":"application/vnd.3m.post-it-notes",".pwz":"application/vnd.ms-powerpoint",".py":"text/x-python",".pya":"audio/vnd.ms-playready.media.pya",".pyc":"application/x-python-code",".pyo":"application/x-python-code",".pyv":"video/vnd.ms-playready.media.pyv",".qam":"application/vnd.epson.quickanime",".qbo":"application/vnd.intu.qbo",".qfx":"application/vnd.intu.qfx",".qps":"application/vnd.publishare-delta-tree",".qt":"video/quicktime",".qwd":"application/vnd.quark.quarkxpress",".qwt":"application/vnd.quark.quarkxpress",".qxb":"application/vnd.quark.quarkxpress",".qxd":"application/vnd.quark.quarkxpress",".qxl":"application/vnd.quark.quarkxpress",".qxt":"application/vnd.quark.quarkxpress",".ra":"audio/x-pn-realaudio",".ram":"audio/x-pn-realaudio",".rar":"application/x-rar-compressed",".ras":"image/x-cmu-raster",".rcprofile":"application/vnd.ipunplugged.rcprofile",".rdf":"application/rdf+xml",".rdz":"application/vnd.data-vision.rdz",".rep":"application/vnd.businessobjects",".res":"application/x-dtbresource+xml",".rgb":"image/x-rgb",".rif":"application/reginfo+xml",".rl":"application/resource-lists+xml",".rlc":"image/vnd.fujixerox.edmics-rlc",".rld":"application/resource-lists-diff+xml",".rm":"application/vnd.rn-realmedia",".rmi":"audio/midi",".rmp":"audio/x-pn-realaudio-plugin",".rms":"application/vnd.jcp.javame.midlet-rms",".rnc":"application/relax-ng-compact-syntax",".roff":"text/troff",".rpm":"application/x-rpm",".rpss":"application/vnd.nokia.radio-presets",".rpst":"application/vnd.nokia.radio-preset",".rq":"application/sparql-query",".rs":"application/rls-services+xml",".rsd":"application/rsd+xml",".rss":"application/rss+xml",".rtf":"application/rtf",".rtx":"text/richtext",".s":"text/x-asm",".saf":"application/vnd.yamaha.smaf-audio",".sbml":"application/sbml+xml",".sc":"application/vnd.ibm.secure-container",".scd":"application/x-msschedule",".scm":"application/vnd.lotus-screencam",".scq":"application/scvp-cv-request",".scs":"application/scvp-cv-response",".scurl":"text/vnd.curl.scurl",".sda":"application/vnd.stardivision.draw",".sdc":"application/vnd.stardivision.calc",".sdd":"application/vnd.stardivision.impress",".sdkd":"application/vnd.solent.sdkm+xml",".sdkm":"application/vnd.solent.sdkm+xml",".sdp":"application/sdp",".sdw":"application/vnd.stardivision.writer",".see":"application/vnd.seemail",".seed":"application/vnd.fdsn.seed",".sema":"application/vnd.sema",".semd":"application/vnd.semd",".semf":"application/vnd.semf",".ser":"application/java-serialized-object",".setpay":"application/set-payment-initiation",".setreg":"application/set-registration-initiation",".sfd-hdstx":"application/vnd.hydrostatix.sof-data",".sfs":"application/vnd.spotfire.sfs",".sgl":"application/vnd.stardivision.writer-global",".sgm":"text/sgml",".sgml":"text/sgml",".sh":"application/x-sh",".shar":"application/x-shar",".shf":"application/shf+xml",".si":"text/vnd.wap.si",".sic":"application/vnd.wap.sic",".sig":"application/pgp-signature",".silo":"model/mesh",".sis":"application/vnd.symbian.install",".sisx":"application/vnd.symbian.install",".sit":"application/x-stuffit",".sitx":"application/x-stuffitx",".skd":"application/vnd.koan",".skm":"application/vnd.koan",".skp":"application/vnd.koan",".skt":"application/vnd.koan",".sl":"text/vnd.wap.sl",".slc":"application/vnd.wap.slc",".sldm":"application/vnd.ms-powerpoint.slide.macroenabled.12",".sldx":"application/vnd.openxmlformats-officedocument.presentationml.slide",".slt":"application/vnd.epson.salt",".smf":"application/vnd.stardivision.math",".smi":"application/smil+xml",".smil":"application/smil+xml",".snd":"audio/basic",".snf":"application/x-font-snf",".so":"application/octet-stream",".spc":"application/x-pkcs7-certificates",".spf":"application/vnd.yamaha.smaf-phrase",".spl":"application/x-futuresplash",".spot":"text/vnd.in3d.spot",".spp":"application/scvp-vp-response",".spq":"application/scvp-vp-request",".spx":"audio/ogg",".src":"application/x-wais-source",".srx":"application/sparql-results+xml",".sse":"application/vnd.kodak-descriptor",".ssf":"application/vnd.epson.ssf",".ssml":"application/ssml+xml",".stc":"application/vnd.sun.xml.calc.template",".std":"application/vnd.sun.xml.draw.template",".stf":"application/vnd.wt.stf",".sti":"application/vnd.sun.xml.impress.template",".stk":"application/hyperstudio",".stl":"application/vnd.ms-pki.stl",".str":"application/vnd.pg.format",".stw":"application/vnd.sun.xml.writer.template",".sus":"application/vnd.sus-calendar",".susp":"application/vnd.sus-calendar",".sv4cpio":"application/x-sv4cpio",".sv4crc":"application/x-sv4crc",".svd":"application/vnd.svd",".svg":"image/svg+xml",".svgz":"image/svg+xml",".swa":"application/x-director",".swf":"application/x-shockwave-flash",".swi":"application/vnd.arastra.swi",".sxc":"application/vnd.sun.xml.calc",".sxd":"application/vnd.sun.xml.draw",".sxg":"application/vnd.sun.xml.writer.global",".sxi":"application/vnd.sun.xml.impress",".sxm":"application/vnd.sun.xml.math",".sxw":"application/vnd.sun.xml.writer",".t":"text/troff",".tao":"application/vnd.tao.intent-module-archive",".tar":"application/x-tar",".tcap":"application/vnd.3gpp2.tcap",".tcl":"application/x-tcl",".teacher":"application/vnd.smart.teacher",".tex":"application/x-tex",".texi":"application/x-texinfo",".texinfo":"application/x-texinfo",".text":"text/plain",".tfm":"application/x-tex-tfm",".tgz":"application/x-gzip",".tif":"image/tiff",".tiff":"image/tiff",".tmo":"application/vnd.tmobile-livetv",".torrent":"application/x-bittorrent",".tpl":"application/vnd.groove-tool-template",".tpt":"application/vnd.trid.tpt",".tr":"text/troff",".tra":"application/vnd.trueapp",".trm":"application/x-msterminal",".tsv":"text/tab-separated-values",".ttc":"application/x-font-ttf",".ttf":"application/x-font-ttf",".twd":"application/vnd.simtech-mindmapper",".twds":"application/vnd.simtech-mindmapper",".txd":"application/vnd.genomatix.tuxedo",".txf":"application/vnd.mobius.txf",".txt":"text/plain",".u32":"application/x-authorware-bin",".udeb":"application/x-debian-package",".ufd":"application/vnd.ufdl",".ufdl":"application/vnd.ufdl",".umj":"application/vnd.umajin",".unityweb":"application/vnd.unity",".uoml":"application/vnd.uoml+xml",".uri":"text/uri-list",".uris":"text/uri-list",".urls":"text/uri-list",".ustar":"application/x-ustar",".utz":"application/vnd.uiq.theme",".uu":"text/x-uuencode",".vcd":"application/x-cdlink",".vcf":"text/x-vcard",".vcg":"application/vnd.groove-vcard",".vcs":"text/x-vcalendar",".vcx":"application/vnd.vcx",".vis":"application/vnd.visionary",".viv":"video/vnd.vivo",".vor":"application/vnd.stardivision.writer",".vox":"application/x-authorware-bin",".vrml":"model/vrml",".vsd":"application/vnd.visio",".vsf":"application/vnd.vsf",".vss":"application/vnd.visio",".vst":"application/vnd.visio",".vsw":"application/vnd.visio",".vtu":"model/vnd.vtu",".vxml":"application/voicexml+xml",".w3d":"application/x-director",".wad":"application/x-doom",".wav":"audio/x-wav",".wax":"audio/x-ms-wax",".wbmp":"image/vnd.wap.wbmp",".wbs":"application/vnd.criticaltools.wbs+xml",".wbxml":"application/vnd.wap.wbxml",".wcm":"application/vnd.ms-works",".wdb":"application/vnd.ms-works",".wiz":"application/msword",".wks":"application/vnd.ms-works",".wm":"video/x-ms-wm",".wma":"audio/x-ms-wma",".wmd":"application/x-ms-wmd",".wmf":"application/x-msmetafile",".wml":"text/vnd.wap.wml",".wmlc":"application/vnd.wap.wmlc",".wmls":"text/vnd.wap.wmlscript",".wmlsc":"application/vnd.wap.wmlscriptc",".wmv":"video/x-ms-wmv",".wmx":"video/x-ms-wmx",".wmz":"application/x-ms-wmz",".wpd":"application/vnd.wordperfect",".wpl":"application/vnd.ms-wpl",".wps":"application/vnd.ms-works",".wqd":"application/vnd.wqd",".wri":"application/x-mswrite",".wrl":"model/vrml",".wsdl":"application/wsdl+xml",".wspolicy":"application/wspolicy+xml",".wtb":"application/vnd.webturbo",".wvx":"video/x-ms-wvx",".x32":"application/x-authorware-bin",".x3d":"application/vnd.hzn-3d-crossword",".xap":"application/x-silverlight-app",".xar":"application/vnd.xara",".xbap":"application/x-ms-xbap",".xbd":"application/vnd.fujixerox.docuworks.binder",".xbm":"image/x-xbitmap",".xdm":"application/vnd.syncml.dm+xml",".xdp":"application/vnd.adobe.xdp+xml",".xdw":"application/vnd.fujixerox.docuworks",".xenc":"application/xenc+xml",".xer":"application/patch-ops-error+xml",".xfdf":"application/vnd.adobe.xfdf",".xfdl":"application/vnd.xfdl",".xht":"application/xhtml+xml",".xhtml":"application/xhtml+xml",".xhvml":"application/xv+xml",".xif":"image/vnd.xiff",".xla":"application/vnd.ms-excel",".xlam":"application/vnd.ms-excel.addin.macroenabled.12",".xlb":"application/vnd.ms-excel",".xlc":"application/vnd.ms-excel",".xlm":"application/vnd.ms-excel",".xls":"application/vnd.ms-excel",".xlsb":"application/vnd.ms-excel.sheet.binary.macroenabled.12",".xlsm":"application/vnd.ms-excel.sheet.macroenabled.12",".xlsx":"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet",".xlt":"application/vnd.ms-excel",".xltm":"application/vnd.ms-excel.template.macroenabled.12",".xltx":"application/vnd.openxmlformats-officedocument.spreadsheetml.template",".xlw":"application/vnd.ms-excel",".xml":"application/xml",".xo":"application/vnd.olpc-sugar",".xop":"application/xop+xml",".xpdl":"application/xml",".xpi":"application/x-xpinstall",".xpm":"image/x-xpixmap",".xpr":"application/vnd.is-xpr",".xps":"application/vnd.ms-xpsdocument",".xpw":"application/vnd.intercon.formnet",".xpx":"application/vnd.intercon.formnet",".xsl":"application/xml",".xslt":"application/xslt+xml",".xsm":"application/vnd.syncml+xml",".xspf":"application/xspf+xml",".xul":"application/vnd.mozilla.xul+xml",".xvm":"application/xv+xml",".xvml":"application/xv+xml",".xwd":"image/x-xwindowdump",".xyz":"chemical/x-xyz",".zaz":"application/vnd.zzazz.deck+xml",".zip":"application/zip",".zir":"application/vnd.zul",".zirz":"application/vnd.zul",".zmm":"application/vnd.handheld-entertainment+xml"},Od={TEXT:"text",ARRAY_BUFFER:"arraybuffer",BLOB:"blob",DOCUMENT:"document",JSON:"json"},Dd=/(.+)\/(.+)$/,Fd=/\.(.+)$/,Pd=/.*/,Rd=function(){function t(e){a(this,t),this._originalFile=e,this._xhr=null}return r(t,[{key:"_isMimeTypeAllowed",value:function(t){var e=!1,i=this.file.type||"application/unknown";return!!i.match(Dd)&&t.split(",").some((function(t){if("*"===(t=t.trim())||".*"===t||"*/*"===t||"application/unknown"===i)e=!0;else if(t.match(Dd))e="audio/*"===t?0===i.indexOf("audio/*".slice(0,-1)):"image/*"===t?0===i.indexOf("image/*".slice(0,-1)):"video/*"===t?0===i.indexOf("video/*".slice(0,-1)):i===t;else if(t.match(Fd)){var n=Md[t];e=Array.isArray(n)?n.some((function(t){return i===t})):i===Md[t]}else t.match(Pd)&&(e=i.split("/")[0]===t);return e}))}},{key:"file",get:function(){return this._originalFile}},{key:"parameters",get:function(){return this._parameters||[]},set:function(t){Array.isArray(t)&&t.every((function(t){return t&&t.name}))&&(this._parameters=t)}},{key:"withCredentials",get:function(){return this._withCredentials||!1},set:function(t){this._withCredentials=Ua.boolean(t)}},{key:"timeout",get:function(){return this._timeout||0},set:function(t){var e=Ua.number(t);null!==e&&(this._timeout=e,this._xhr&&(this._xhr.timeout=e))}},{key:"responseType",get:function(){return this._responseType||Od.TEXT},set:function(t){t=Ua.string(t).toLowerCase(),this._responseType=Ba.enumeration(Od)(t)&&t||Od.TEXT,this._xhr&&(this._xhr.responseType=t)}},{key:"readyState",get:function(){return this._xhr?this._xhr.readyState:this._readyState||0}},{key:"response",get:function(){return this._xhr?this._xhr.response:this._response||""}},{key:"responseText",get:function(){return this._xhr?this._xhr.responseText:this._responseText||""}},{key:"responseXML",get:function(){return this._xhr?this._xhr.responseXML:this._responseXML||null}},{key:"status",get:function(){return this._xhr?this._xhr.status:this._status||0}},{key:"statusText",get:function(){return this._xhr?this._xhr.statusText:this._statusText||""}}],[{key:"responseType",get:function(){return Od}}]),t}(),Hd=function(t){var e=document.createDocumentFragment(),i=this.input=document.createElement("input");i.id=t.commons.getUID(),i.setAttribute("handle","input"),i.className+=" _coral-FileUpload-input is-unselectable",i.setAttribute("tabindex","-1"),i.setAttribute("name",""),i.setAttribute("type","file"),i.setAttribute("accept",""),e.appendChild(i);var n=document.createTextNode("\n");return e.appendChild(n),e},Ud=["loadstart","progress","load","error","loadend","readystatechange","abort","timeout"],Bd={POST:"POST",PUT:"PUT",PATCH:"PATCH"},zd=function(t){s(i,t);var e=d(i);function i(){var t;return a(this,i),(t=e.call(this))._delegateEvents(da.extend(t._events,{"click [coral-fileupload-submit]":"_onSubmitButtonClick","click [coral-fileupload-clear]":"clear","click [coral-fileupload-select]":"_showFileDialog","click [coral-fileupload-abort]":"abort","click [coral-fileupload-abortfile]":"_onAbortFileClick","click [coral-fileupload-removefile]":"_onRemoveFileClick","click [coral-fileupload-uploadfile]":"_onUploadFileClick","dragenter [coral-fileupload-dropzone]":"_onDragAndDrop","dragover [coral-fileupload-dropzone]":"_onDragAndDrop",'dragleave [handle="input"]':"_onDragAndDrop",'drop [handle="input"]':"_onDragAndDrop","capture:focus [coral-fileupload-select]":"_onButtonFocusIn",'capture:focus [handle="input"]':"_onInputFocusIn",'capture:blur [handle="input"]':"_onInputFocusOut"})),t._elements={},Hd.call(t._elements,{commons:da}),t._labellableElement=t._elements.input,t._uploadQueue=[],t._doAddDragClass=t._doAddDragClass.bind(u(t)),t._doRemoveDragClass=t._doRemoveDragClass.bind(u(t)),t._positionInputOnDropZone=t._positionInputOnDropZone.bind(u(t)),t._observer=new MutationObserver(t._positionInputOnDropZone),t._observer.observe(u(t),{childList:!0,attributes:!0,attributeFilter:["coral-fileupload-dropzone"],subtree:!0}),t}return r(i,[{key:"_onButtonFocusIn",value:function(t){var e=this._elements.input,i=t.matchedTarget;i.parentNode.insertBefore(e,i.nextElementSibling),window.setTimeout((function(){e.focus()}),100)}},{key:"_onInputFocusIn",value:function(){var t=this.querySelector("[coral-fileupload-select]");t&&(t.tabIndex=-1,t.setAttribute("aria-hidden",!0),t.classList.add("is-focused"))}},{key:"_onInputFocusOut",value:function(){var t=this.querySelector("[coral-fileupload-select].is-focused");t.classList.remove("is-focused"),window.requestAnimationFrame((function(){t.tabIndex=0,t.removeAttribute("aria-hidden")}))}},{key:"_onAbortFileClick",value:function(t){if(!this.async)throw new Error("Coral.FileUpload does not support aborting file(s) upload on synchronous mode.");var e=t.target.getAttribute("coral-fileupload-abortfile");e&&this._abortFile(e)}},{key:"_onRemoveFileClick",value:function(t){if(!this.async)throw new Error("Coral.FileUpload does not support removing a file from the queue on synchronous mode.");var e=t.target.getAttribute("coral-fileupload-removefile");e&&this._clearFile(e)}},{key:"_onUploadFileClick",value:function(t){if(!this.async)throw new Error("Coral.FileUpload does not support uploading a file from the queue on synchronous mode.");var e=t.target.getAttribute("coral-fileupload-uploadfile");e&&this.upload(e)}},{key:"_onDragAndDrop",value:function(t){"dragenter"===t.type||"dragover"===t.type?this._addDragClass():"dragleave"!==t.type&&"drop"!==t.type||this._removeDragClass(),this.trigger("coral-fileupload:".concat(t.type))}},{key:"_addDragClass",value:function(){window.clearTimeout(this._removeClassTimeout),this._removeClassTimeout=window.setTimeout(this._doAddDragClass,10)}},{key:"_doAddDragClass",value:function(){this.classList.add("is-dragging");var t=this.querySelector("[coral-fileupload-dropzone]");t&&t.classList.add("is-dragging"),this._elements.input.classList.remove("is-unselectable")}},{key:"_removeDragClass",value:function(){window.clearTimeout(this._removeClassTimeout),this._removeClassTimeout=window.setTimeout(this._doRemoveDragClass,10)}},{key:"_doRemoveDragClass",value:function(){this.classList.remove("is-dragging");var t=this.querySelector("[coral-fileupload-dropzone]");t&&t.classList.remove("is-dragging"),this._elements.input.classList.add("is-unselectable")}},{key:"_onSubmitButtonClick",value:function(t){var e=t.matchedTarget;this._buttonAction=e.getAttribute("formaction");var i=Ua.string(e.getAttribute("formmethod")).toUpperCase();this._buttonMethod=Ba.enumeration(Bd)(i)&&i||null,this.upload()}},{key:"_onInputChange",value:function(t){var e=this;if(t.stopPropagation(),!this.disabled){var i=[],n=[];if(t.target.files&&t.target.files.length)this._clearQueue(),i=t.target.files,this.multiple||(i=[i[0]]);else{if(!(t.dataTransfer&&t.dataTransfer.files&&t.dataTransfer.files.length))return;this._clearQueue(),i=t.dataTransfer.files,this.multiple||(i=[i[0]])}for(var a=0;a<i.length;a++)n.push(new Rd(i[a]));n.forEach((function(t){e._getQueueItemByFilename(t.file.name)||(e.sizeLimit&&t.file.size>e.sizeLimit?e.trigger("coral-fileupload:filesizeexceeded",{item:t}):e.accept&&!t._isMimeTypeAllowed(e.accept)?e.trigger("coral-fileupload:filemimetyperejected",{item:t}):(e._uploadQueue.push(t),e.trigger("coral-fileupload:fileadded",{item:t})))})),this.autoStart&&this.upload(),this._triggerChangeEvent&&this.trigger("change"),this.async&&this._clearFileInputValue()}}},{key:"_setElementState",value:function(){var t=this;Array.prototype.forEach.call(this.querySelectorAll("[coral-fileupload-select],[coral-fileupload-dropzone],[coral-fileupload-submit],[coral-fileupload-clear],[coral-fileupload-abort],[coral-fileupload-abortfile],[coral-fileupload-removefile],[coral-fileupload-uploadfile]"),(function(e){e.classList.toggle("is-invalid",t.invalid),e.classList.toggle("is-disabled",t.disabled),e.classList.toggle("is-required",t.required),e.classList.toggle("is-readOnly",t.readOnly),e[t.disabled||t.readOnly?"setAttribute":"removeAttribute"]("disabled","")}))}},{key:"_clearQueue",value:function(){var t=this;this._uploadQueue.slice().forEach((function(e){t._clearFile(e.file.name)}))}},{key:"_clearFileInputValue",value:function(){this._elements.input.value=""}},{key:"_clearFile",value:function(t){var e=this._getQueueItemByFilename(t);e&&(this._abortFile(t),this._uploadQueue.splice(this._getQueueIndex(t),1),this.trigger("coral-fileupload:fileremoved",{item:e}))}},{key:"_uploadFile",value:function(t){var e=this._getQueueItemByFilename(t);e&&(this._abortFile(t),this._ajaxUpload(e))}},{key:"_showFileDialog",value:function(){this._elements.input.click()}},{key:"_abortFile",value:function(t){var e=this._getQueueItemByFilename(t);e&&e._xhr&&(e._xhr.abort(),e._xhr=null)}},{key:"_ajaxUpload",value:function(t){var e=this,i=this._buttonAction||this.action,n=this._buttonMethod?this._buttonMethod.toUpperCase():this.method,a=this.parameters.concat(t.parameters),o=new FormData;a.forEach((function(t){o.append(t.name,t.value)})),o.append("_charset_","utf-8"),o.append(this.name,t._originalFile),t._xhr=new XMLHttpRequest,t._xhr.open(n,i),t._xhr.timeout=t.timeout,t._xhr.responseType=t.responseType,t._xhr.withCredentials=t.withCredentials,Ud.forEach((function(a){var o="progress"===a;(o?t._xhr.upload:t._xhr).addEventListener(a,(function(r){var s={item:t,action:i,method:n};o&&(s.lengthComputable=r.lengthComputable,s.loaded=r.loaded,s.total=r.total),e.trigger("coral-fileupload:".concat(a),s)}))})),t._xhr.send(o)}},{key:"_getLabellableElement",value:function(){return this}},{key:"_getQueueItemByFilename",value:function(t){return this._getQueueItem(this._getQueueIndex(t))}},{key:"_getQueueItem",value:function(t){return t>-1?this._uploadQueue[t]:null}},{key:"_getQueueIndex",value:function(t){var e=-1;return this._uploadQueue.some((function(i,n){return i.file.name===t&&(e=n,!0)})),e}},{key:"_getTargetChangeInput",value:function(){return this._elements.input}},{key:"_positionInputOnDropZone",value:function(){var t=this._elements.input,e=this.querySelector("[coral-fileupload-dropzone]");if(e){var i=e.getBoundingClientRect();t.style.top="".concat(parseInt(e.offsetTop,10),"px"),t.style.left="".concat(parseInt(e.offsetLeft,10),"px"),t.style.width="".concat(parseInt(i.width,10),"px"),t.style.height="".concat(parseInt(i.height,10),"px")}else t.style.width="0",t.style.height="0"}},{key:"upload",value:function(t){var e=this;if(this.async)"string"==typeof t?this._uploadFile(t):this._uploadQueue.forEach((function(t){e._abortFile(t.file.name),e._ajaxUpload(t)}));else{if("string"==typeof t)throw new Error("Coral.FileUpload does not support uploading a file from the queue on synchronous mode.");var i=this.closest("form");i||((i=document.createElement("form")).method=this.method.toLowerCase(),i.enctype="multipart/form-data",i.action=this.action,i.hidden=!0,i.appendChild(this._elements.input),Array.prototype.forEach.call(this.querySelectorAll('input[type="hidden"]'),(function(t){i.appendChild(t)})),this.appendChild(i));var n=document.createElement("input");n.type="hidden",n.name="_charset_",n.value="utf-8",i.submit()}}},{key:"clear",value:function(t){if(this.async)"string"==typeof t?this._clearFile(t):this._clearQueue();else{if("string"==typeof t)throw new Error("Coral.FileUpload does not support removing a file from the queue on synchronous mode.");this._clearQueue(),this._clearFileInputValue()}}},{key:"abort",value:function(t){var e=this;if(!this.async)throw new Error("Coral.FileUpload does not support aborting file(s) upload on synchronous mode.");"string"==typeof t?this._abortFile(t):this._uploadQueue.forEach((function(t){e._abortFile(t.file.name)}))}},{key:"render",value:function(){var t=this;m(l(i.prototype),"render",this).call(this),this.classList.add("_coral-FileUpload");var e=this.querySelector("[coral-fileupload-select]");e&&(e.id=e.id||da.getUID()),this.labelledBy=this.labelledBy;var n=[];Array.prototype.forEach.call(this.querySelectorAll('input[type="hidden"]'),(function(t){n.push({name:t.name,value:t.value})})),this.parameters=n;var a=this.querySelector('[handle="input"]');a&&a.parentNode.removeChild(a),this.appendChild(this._elements.input),window.requestAnimationFrame((function(){da.addResizeListener(t,t._positionInputOnDropZone)}))}},{key:"name",get:function(){return this._elements.input.name},set:function(t){this._reflectAttribute("name",t),this._elements.input.name=t}},{key:"value",get:function(){var t=this._uploadQueue?this._getQueueItem(0):null;return t?"C:\\fakepath\\".concat(t.file.name):""},set:function(t){if(""!==t&&null!==t)throw new Error("Coral.FileUpload accepts a filename, which may only be programmatically set to empty string.");this._clearQueue(),this._clearFileInputValue()}},{key:"disabled",get:function(){return this._elements.input.disabled},set:function(t){this._elements.input.disabled=Ua.booleanAttr(t),this._reflectAttribute("disabled",this.disabled),this.classList.toggle("is-disabled",this.disabled),this._setElementState()}},{key:"invalid",get:function(){return m(l(i.prototype),"invalid",this)},set:function(t){g(l(i.prototype),"invalid",t,this,!0),this._elements.input.setAttribute("aria-invalid",this.invalid),this._setElementState()}},{key:"required",get:function(){return this._elements.input.required},set:function(t){this._elements.input.required=Ua.booleanAttr(t),this._reflectAttribute("required",this.required),this.classList.toggle("is-required",this.required),this._setElementState()}},{key:"readOnly",get:function(){return this._readOnly||!1},set:function(t){this._readOnly=Ua.booleanAttr(t),this._reflectAttribute("readonly",this._readOnly),this._setElementState()}},{key:"values",get:function(){var t=this._uploadQueue.map((function(t){return"C:\\fakepath\\".concat(t.file.name)}));return t.length&&!this.multiple&&(t=[t[0]]),t},set:function(t){Array.isArray(t)&&(t.length?this.value=t[0]:this.value="")}},{key:"labelledBy",get:function(){return m(l(i.prototype),"labelledBy",this)},set:function(t){g(l(i.prototype),"labelledBy",t,this,!0);var e=this.labelledBy,n=[],a=this.querySelector("[coral-fileupload-select]");if(a&&n.push(a.id),e&&n.unshift(e),this._elements.input.setAttribute("aria-labelledby",n.join(" ")),e){var o=document.getElementById(e);o&&"LABEL"===o.tagName&&(o.setAttribute("for",this._elements.input.id),this._labelElement=o)}else this._labelElement&&this._labelElement.removeAttribute("for")}},{key:"parameters",get:function(){return this._parameters||[]},set:function(t){var e=this;Array.isArray(t)&&t.every((function(t){return t&&t.name}))&&(this._parameters=t,this.async||(Array.prototype.forEach.call(this.querySelectorAll('input[type="hidden"]'),(function(t){t.parentNode.removeChild(t)})),this.parameters.forEach((function(t){var i=document.createElement("input");i.type="hidden",i.name=t.name,i.value=t.value,e.appendChild(i)}))))}},{key:"async",get:function(){return this._async||!1},set:function(t){this._async=Ua.booleanAttr(t),this._reflectAttribute("async",this._async),this._async||(this.parameters=this.parameters),this._uploadQueue&&(this._clearQueue(),this._clearFileInputValue())}},{key:"action",get:function(){return this._action||""},set:function(t){this._action=Ua.string(t),this._reflectAttribute("action",this._action),this._buttonAction=null}},{key:"method",get:function(){return this._method||Bd.POST},set:function(t){t=Ua.string(t).toUpperCase(),this._method=Ba.enumeration(Bd)(t)&&t||Bd.POST,this._reflectAttribute("method",this._method),this._buttonMethod=null}},{key:"multiple",get:function(){return this._elements.input.multiple},set:function(t){this._elements.input.multiple=Ua.booleanAttr(t),this._reflectAttribute("multiple",this.multiple)}},{key:"sizeLimit",get:function(){return this._sizeLimit||0},set:function(t){this._sizeLimit=Ua.number(t),this._reflectAttribute("sizelimit",this._sizeLimit)}},{key:"accept",get:function(){return this._elements.input.accept},set:function(t){this._elements.input.accept=t,this._reflectAttribute("accept",this.accept)}},{key:"autoStart",get:function(){return this._autoStart||!1},set:function(t){this._autoStart=Ua.booleanAttr(t),this._reflectAttribute("autostart",this._autoStart)}},{key:"uploadQueue",get:function(){return this._uploadQueue}}],[{key:"_attributePropertyMap",get:function(){return da.extend(m(l(i),"_attributePropertyMap",this),{sizelimit:"sizeLimit",autostart:"autoStart"})}},{key:"observedAttributes",get:function(){return m(l(i),"observedAttributes",this).concat(["async","action","method","multiple","sizelimit","accept","autostart"])}}]),i}(mo(ho(HTMLElement)));da._define("coral-fileupload",zd),zd.Item=Rd;var qd=function(t){var e=document.createDocumentFragment(),i=this.quickactions=document.createElement("div");i.setAttribute("handle","quickactions"),i.className+=" _coral-Masonry-item-quickActions";var n=document.createTextNode("\n  ");i.appendChild(n);var a=this.check=document.createElement("coral-checkbox");a.setAttribute("handle","check"),i.appendChild(a);var o=document.createTextNode("\n");i.appendChild(o),e.appendChild(i);var r=document.createTextNode("\n");return e.appendChild(r),e},Vd=function(t){s(i,t);var e=d(i);function i(){var t;return a(this,i),(t=e.call(this))._masonry=null,t._dragAction=null,t._elements={},qd.call(t._elements),t}return r(i,[{key:"_insert",value:function(){var t=this;this.classList.contains("is-beforeInserting")&&(this.classList.remove("is-beforeInserting"),this.classList.add("is-inserting"),da.transitionEnd(this,(function(){t.classList.remove("is-inserting")})))}},{key:"_setTabbable",value:function(t){this.setAttribute("tabindex",t?0:-1)}},{key:"_updateDragAction",value:function(t){var e;t&&(null!==this.getAttribute("coral-masonry-draghandle")?e=this:(e=this.querySelector("[coral-masonry-draghandle]"))||(t=!1)),t?(this._dragAction||(this._dragAction=new Tl(this),this._dragAction.dropZone=this.parentNode),this._dragAction.handle=e):this._dragAction&&(this._dragAction.destroy(),this._dragAction=null)}},{key:"attributeChangedCallback",value:function(t,e,n){var a=this;"_removing"===t?window.requestAnimationFrame((function(){a.classList.toggle("is-removing",null!==n)})):"_orderable"===t?this._updateDragAction(null!==n):m(l(i.prototype),"attributeChangedCallback",this).call(this,t,e,n)}},{key:"connectedCallback",value:function(){m(l(i.prototype),"connectedCallback",this).call(this),this.trigger("coral-masonry-item:_connected")}},{key:"render",value:function(){m(l(i.prototype),"render",this).call(this),this.classList.add("_coral-Masonry-item"),this.setAttribute("tabindex","-1");var t=this.querySelector("._coral-Masonry-item-quickActions");t&&t.remove(),this.insertBefore(this._elements.quickactions,this.firstChild),this._elements.check._labellableElement.tabIndex=-1}},{key:"disconnectedCallback",value:function(){m(l(i.prototype),"disconnectedCallback",this).call(this);var t=this._masonry;t&&t._onItemDisconnected(this)}},{key:"content",get:function(){return this},set:function(t){if("object"===n(t))for(var e in t)this[e]=t[e]}},{key:"selected",get:function(){return this._selected||!1},set:function(t){this._selected=Ua.booleanAttr(t),this._reflectAttribute("selected",this._selected),this.setAttribute("aria-selected",this._selected),this.classList.toggle("is-selected",this._selected),this._elements.check[this._selected?"setAttribute":"removeAttribute"]("checked",""),this.trigger("coral-masonry-item:_selectedchanged")}}],[{key:"observedAttributes",get:function(){return m(l(i),"observedAttributes",this).concat(["selected","_removing","_orderable"])}}]),i}(ho(HTMLElement)),$d={NONE:"none",SINGLE:"single",MULTIPLE:"multiple"},jd={FIXED_CENTERED:"fixed-centered",FIXED_SPREAD:"fixed-spread",VARIABLE:"variable",DASHBOARD:"dashboard"},Wd="on",Kd="off";document.addEventListener("error",(function(t){var e=t.target;e&&"IMG"===e.tagName&&(e._loadError=!0)}),!0);var Gd=function(t){return t&&"CORAL-MASONRY-ITEM"===t.tagName&&!t.hasAttribute("_removing")},Zd=function(t){return t.hasAttribute("_removing")||!t.parentNode},Xd=function(t,e){var i=t.getBoundingClientRect(),n=e.getBoundingClientRect();return{left:n.left-i.left,top:n.top-i.top}},Qd=function(t,e,i,n,a,o){return Math.sqrt(Math.pow((i-t)/a,2)+Math.pow((n-e)/o,2))},Yd=function(t){var e=t.previousElementSibling;return Gd(e)?e:null},Jd=function(t){s(i,t);var e=d(i);function i(){var t;return a(this,i),(t=e.call(this))._loaded=!1,t._layouted=!1,t._layoutScheduled=!1,t._forceDebounce=!1,t._debounceId=null,t._newItems=[],t._tabbableItem=null,t._defaultAriaRole="group",t._ariaGrid=Kd,t._preservedAriaRole=t._defaultAriaRole,t._preservedParentAriaRole=null,t._delegateEvents({"global:resize":"_onWindowResize","global:load":"_updateLoaded","capture:load img":"_updateLoaded","capture:error img":"_updateLoaded","coral-dragaction:dragstart coral-masonry-item":"_onItemDragStart","coral-dragaction:dragover coral-masonry-item":"_onItemDragMove","coral-dragaction:dragend coral-masonry-item":"_onItemDragEnd","capture:focus coral-masonry-item":"_onItemFocus","click coral-masonry-item":"_onItemClick","key:space coral-masonry-item":"_onItemClick","coral-masonry-item:_connected":"_onItemConnected","coral-masonry-item:_selectedchanged":"_onItemSelectedChanged"}),t._observer=new MutationObserver(t._scheduleLayout.bind(u(t),"mutation")),t._observer.observe(u(t),{childList:!0,subtree:!0,characterData:!0,attributes:!0}),t._oldSelection=[],t.items._startHandlingItems(!0),t}return r(i,[{key:"_onItemSelectedChanged",value:function(t){t.stopImmediatePropagation(),this._validateSelection(t.target)}},{key:"_updateAriaRoleForParent",value:function(t){this.parentElement&&(t===Wd?(this._preservedParentAriaRole=this.parentElement.getAttribute("role"),this.parentElement.setAttribute("role","grid"),this.ariaLabel&&this.parentElement.getAttribute("aria-label")!==this.ariaLabel&&(this._preservedParentAriaLabel=this.parentElement.getAttribute("aria-label"),this.parentElement.setAttribute("aria-label",this.ariaLabel)),this.ariaLabelledby&&this.parentElement.getAttribute("aria-labelledby")!==this.ariaLabelledby&&(this._preservedParentAriaLabelledby=this.parentElement.getAttribute("aria-labelledby"),this.parentElement.setAttribute("aria-labelledby",this.ariaLabelledby))):(this._preservedParentAriaRole?this.parentElement.setAttribute("role",this._preservedParentAriaRole):this.parentElement.removeAttribute("role"),this._preservedParentAriaLabel?(this.parentElement.setAttribute("aria-label",this._preservedParentAriaLabel),this._preservedParentAriaLabel=void 0):this.parentElement.removeAttribute("aria-label"),void 0!==this._preservedParentAriaLabelledby?this.parentElement.setAttribute("aria-labelledby",this._preservedParentAriaLabelledby):this.parentElement.removeAttribute("aria-labelledby"),this.parentElement.removeAttribute("aria-colcount")))}},{key:"_updateAriaRoleForItems",value:function(t){var e=this,i=1;this.items.getAll().forEach((function(n){e._updateAriaRoleForItem(n,i++,t)}))}},{key:"_updateAriaRoleForItem",value:function(t,e,i){i===Wd?(t.setAttribute("role","gridcell"),t.setAttribute("aria-colindex",e)):(t.removeAttribute("role"),t.removeAttribute("aria-colindex"))}},{key:"_updateAriaColumnCountForParent",value:function(t){this.parentElement&&(t===Wd?this.parentElement.setAttribute("aria-colcount",this.items.length):this.parentElement.removeAttribute("aria-colcount"))}},{key:"_validateSelection",value:function(t){var e=this,i=this.selectedItems;this.selectionMode===$d.NONE?i.forEach((function(t){e._preventTriggeringEvents=!0,t.removeAttribute("selected")})):this.selectionMode===$d.SINGLE&&(t=t||i[i.length-1])&&t.hasAttribute("selected")&&i.length>1&&(i.forEach((function(i){i!==t&&(e._preventTriggeringEvents=!0,i.removeAttribute("selected"))})),this._preventTriggeringEvents=!1),this._triggerChangeEvent()}},{key:"_triggerChangeEvent",value:function(){var t=this.selectedItems,e=this._oldSelection;!this._preventTriggeringEvents&&this._arraysAreDifferent(t,e)&&(this.selectionMode===$d.MULTIPLE?this.trigger("coral-masonry:change",{oldSelection:e,selection:t}):this.trigger("coral-masonry:change",{oldSelection:e.length>1?e:e[0]||null,selection:t[0]||null}),this._oldSelection=t)}},{key:"_arraysAreDifferent",value:function(t,e){var i=[];return e.length===t.length&&(i=e.filter((function(e){return-1===t.indexOf(e)}))),e.length!==t.length||0!==i.length}},{key:"_onItemClick",value:function(t){if(this.selectionMode!==$d.NONE){t.preventDefault();var e=t.matchedTarget;e[e.hasAttribute("selected")?"removeAttribute":"setAttribute"]("selected","")}}},{key:"_setAllSelected",value:function(t){for(var e=this.items.getAll(),i=0;i<e.length;i++){var n=e[i];n.hasAttribute("selected")!==t&&n[t?"setAttribute":"removeAttribute"]("selected","")}}},{key:"_scheduleLayout",value:function(){var t=this;this._forceDebounce||this._layoutScheduled||(window.requestAnimationFrame((function(){t._layoutScheduled&&(t._doLayout(),t._layoutScheduled=!1)})),this._layoutScheduled=!0)}},{key:"_scheduleDebouncedLayout",value:function(t){var e=this;t&&this._layouted&&(this._forceDebounce=!0),window.clearTimeout(this._debounceId),this._debounceId=window.setTimeout((function(){e._forceDebounce=!1,e._scheduleLayout("window resize")}),500)}},{key:"_onResize",value:function(){this._layouted?this._scheduleDebouncedLayout(!1):this._doLayout("became visible")}},{key:"_onWindowResize",value:function(){this._scheduleDebouncedLayout(!0)}},{key:"_doLayout",value:function(){var t=!!this.offsetParent,e=this.constructor._layouts[this.layout];if(!this._forceDebounce&&e&&t){var i;this._layoutInstance?this._layoutInstance.name!==this.layout&&(this._layoutInstance.destroy(),this._layoutInstance=new e(this)):this._layoutInstance=new e(this);var n=this._newItems;for(i=0;i<n.length;i++)n[i]._insert();for(this._layoutInstance.layout(),this._layouted=!0,i=0;i<n.length;i++)n[i].classList.add("is-managed");n.length=0,this.classList.toggle("is-loaded",this._loaded);var a=this._tabbableItem;a&&!Zd(a)||this._setTabbableItem(this.items.first());var o=this._focusedItem;o&&(Zd(o)&&this._focusedItemNext?this._focusedItemNext.focus():o!==document.activeElement&&(this._focusedItem=null,this._focusedItemNext=null)),this._updateAriaRoleForItems(this.ariaGrid),this._updateAriaColumnCountForParent(this.ariaGrid),this._observer.takeRecords()}}},{key:"_updateLoaded",value:function(){if(!this._loaded&&"complete"===document.readyState){for(var t=!0,e=this.querySelectorAll("img"),i=0;i<e.length;i++){var n=e[i];if(n.src&&!n.complete&&!n._loadError){t=!1;break}}this._loaded=t}this._scheduleLayout()}},{key:"_onItemConnected",value:function(t){t.stopImmediatePropagation();var e=t.target;this._prepareItem(e)}},{key:"_prepareItem",value:function(t){var e=this;document.body.contains(this)&&(t.hasAttribute("_removing")||this===t._masonry||t.hasAttribute("_placeholder")||(t._masonry=this,t.classList.add("is-beforeInserting"),window.requestAnimationFrame((function(){e._onItemAdded(t)}))))}},{key:"_onItemDisconnected",value:function(t){document.body.contains(this)&&(t._dropping||(t.hasAttribute("_removing")?(t.removeAttribute("_removing"),t._masonry=null,this._onItemRemoved(t)):(t.setAttribute("_removing",""),this.appendChild(t),da.transitionEnd(t,(function(){t.remove()})))))}},{key:"_onItemAdded",value:function(t){t._updateDragAction(this.orderable),this._newItems.push(t),this._attaching&&null===t.nextElementSibling&&this._doLayout("last item attached")}},{key:"_onItemRemoved",value:function(t){t._updateDragAction(!1),t.classList.remove("is-managed")}},{key:"_onItemFocus",value:function(t){var e=t.target;e===t.matchedTarget&&(this._setTabbableItem(e),this._focusedItem=e,this._focusedItemNext=[e.nextElementSibling,e.previousElementSibling].filter(Gd)[0])}},{key:"_setTabbableItem",value:function(t){this._tabbableItem&&this._tabbableItem._setTabbable(!1),t&&t._setTabbable(!0),this._tabbableItem=t}},{key:"_isApproachingPlaceholder",value:function(t,e,i){var n=Xd(this,i),a=i.offsetWidth,o=i.offsetHeight,r=n.left+a/2,s=n.top+o/2;return Qd(r,s,t.left,t.top,a,o)<=Qd(r,s,e.left,e.top,a,o)}},{key:"_onItemDragStart",value:function(t){var e=t.target;if(e===t.matchedTarget){this._layoutInstance.detach(e),e._oldBefore=Yd(e);var i=e._dropPlaceholder=new Vd;i.setAttribute("_placeholder","");var n=document.createElement("div");n.style.width="".concat(e.clientWidth,"px"),n.style.height="".concat(e.clientHeight,"px"),i.appendChild(n),i.classList.add("_coral-Masonry-item--placeholder"),this.insertBefore(i,e)}}},{key:"_onItemDragMove",value:function(t){var e=t.target,i=e._dropPlaceholder;if(e===t.matchedTarget&&i){var n=e._prevDragPos,a=Xd(this,e);if(!n||!this._isApproachingPlaceholder(a,n,i)){var o=this._layoutInstance.itemAt(a.left,a.top);o&&o!==i&&(i.compareDocumentPosition(o)&document.DOCUMENT_POSITION_PRECEDING?o.parentNode.insertBefore(i,o):o.parentNode.insertBefore(i,o.nextSibling))}e._prevDragPos=a}}},{key:"_onItemDragEnd",value:function(t){var e=t.target,i=e._dropPlaceholder;e===t.matchedTarget&&i&&(e._dropping=!0,this.replaceChild(e,i),e._dropping=!1,e.trigger("coral-masonry:order",{item:e,oldBefore:e._oldBefore,before:Yd(e)},!0,!1),this._layoutInstance.reattach(e),e.classList.add("is-dropping"),da.transitionEnd(e,(function(){e.classList.remove("is-dropping")})),this._updateAriaRoleForItems(this.ariaGrid)),e._oldBefore=null,e._dropPlaceholder=null,e._prevDragPos=null}},{key:"render",value:function(){var t=this;m(l(i.prototype),"render",this).call(this),this.classList.add("_coral-Masonry"),this._ariaGrid===Kd&&this.setAttribute("role",this._defaultAriaRole),this._layout||(this.layout=jd.FIXED_CENTERED),this._selectionMode||(this.selectionMode=$d.NONE),this._preventTriggeringEvents=!0,this._validateSelection(),this._preventTriggeringEvents=!1,this._oldSelection=this.selectedItems,da.addResizeListener(this,this._onResize.bind(this)),this.items.getAll().forEach((function(e){t._prepareItem(e)})),this._attaching=!0,window.requestAnimationFrame((function(){t._attaching=!1,t._updateLoaded()}))}},{key:"items",get:function(){return this._items||(this._items=new sr({host:this,itemTagName:"coral-masonry-item",itemSelector:":scope > coral-masonry-item:not([_removing]):not([_placeholder])",onItemAdded:this._validateSelection,onItemRemoved:this._validateSelection})),this._items}},{key:"selectionMode",get:function(){return this._selectionMode||$d.NONE},set:function(t){t=Ua.string(t).toLowerCase(),this._selectionMode=Ba.enumeration($d)(t)&&t||$d.NONE,this._reflectAttribute("selectionmode",this._selectionMode),this._selectionMode===$d.NONE?(this.classList.remove("is-selectable"),this.removeAttribute("aria-multiselectable")):(this.classList.add("is-selectable"),this.setAttribute("aria-multiselectable",this._selectionMode===$d.MULTIPLE)),this._validateSelection()}},{key:"layoutInstance",get:function(){return this._layoutInstance}},{key:"layout",get:function(){return this._layout||jd.FIXED_CENTERED},set:function(t){t=Ua.string(t);var e=this.constructor._layouts;""===t&&(t=Object.keys(e)[0]),t!==this._layout&&(e[t]?(this._layout=t,this._reflectAttribute("layout",this._layout),this._scheduleLayout("new layout")):da._log("Coral.Masonry: Unknown layout:",t))}},{key:"selectedItem",get:function(){return this.items._getFirstSelected()}},{key:"selectedItems",get:function(){return this.items._getAllSelected()}},{key:"spacing",get:function(){return this._spacing||null},set:function(t){t=Ua.number(t),this._spacing=null!==t?Math.max(0,t):null,this._scheduleLayout("spacing")}},{key:"orderable",get:function(){return this._orderable||!1},set:function(t){this._orderable=Ua.booleanAttr(t);for(var e=this.items.getAll(),i=0;i<e.length;i++)e[i][this._orderable?"setAttribute":"removeAttribute"]("_orderable","")}},{key:"ariaGrid",get:function(){return this._ariaGrid||Kd},set:function(t){(t=Ua.string(t))!==Wd&&t!==Kd&&(console.warn("Coral.Masonry: Unsupported ariaGrid value: ",t,". Will fallback to ",Kd),t=Kd),this._ariaGrid=t,this._reflectAttribute("ariagrid",this._ariaGrid),this._ariaGrid===Wd?(this._preservedAriaRole=this.getAttribute("role"),this.setAttribute("role","row")):this._ariaGrid==Kd&&(this._preservedAriaRole?this.setAttribute("role",this._preservedAriaRole):this.removeAttribute("role")),this._updateAriaRoleForParent(this._ariaGrid),this._updateAriaColumnCountForParent(this._ariaGrid),this._updateAriaRoleForItems(this._ariaGrid)}},{key:"ariaLabel",get:function(){return this.getAttribute("aria-label")},set:function(t){""===(t=Ua.string(t))?this.removeAttribute("aria-label"):this._reflectAttribute("aria-label",t),this.parentElement&&this._ariaGrid!==Kd&&(this.ariaLabel?this.parentElement.setAttribute("aria-label",this.ariaLabel):this.parentElement.removeAttribute("aria-label"))}},{key:"ariaLabelledby",get:function(){return this.getAttribute("aria-labelledby")},set:function(t){""===(t=Ua.string(t))?this.removeAttribute("aria-labelledby"):this._reflectAttribute("aria-labelledby",t),this.parentElement&&this._ariaGrid!==Kd&&(this.ariaLabelledby?this.parentElement.setAttribute("aria-labelledby",this.ariaLabelledby):this.parentElement.removeAttribute("aria-labelledby"))}}],[{key:"registerLayout",value:function(t,e){e.defineName(t),this._layouts[t]=e}},{key:"_layouts",get:function(){return this.__layouts||(this.__layouts={}),this.__layouts}},{key:"layouts",get:function(){return jd}},{key:"selectionMode",get:function(){return $d}},{key:"_attributePropertyMap",get:function(){return da.extend(m(l(i),"_attributePropertyMap",this),{selectionmode:"selectionMode",ariagrid:"ariaGrid","aria-label":"ariaLabel","aria-labelledby":"ariaLabelledby"})}},{key:"observedAttributes",get:function(){return m(l(i),"observedAttributes",this).concat(["selectionmode","layout","spacing","orderable","ariagrid","aria-label","aria-labelledby"])}}]),i}(ho(HTMLElement)),tp=function(){function t(e){a(this,t),this._masonry=e}return r(t,[{key:"layout",value:function(){}},{key:"destroy",value:function(){}},{key:"detach",value:function(t){}},{key:"reattach",value:function(t){}},{key:"itemAt",value:function(t,e){}},{key:"name",get:function(){return this._name||this.constructor._name},set:function(t){this._name=t}}],[{key:"defineName",value:function(t){this._name=t}}]),t}(),ep=function(t,e){t.style.setProperty("-webkit-transform",e),t.style.setProperty("-ms-transform",e),t.style.transform=e},ip=function(t,e){t.style.setProperty("-webkit-transition",e),t.style.setProperty("-ms-transition",e),t.style.transition=e},np=function(t,e){for(var i=0,n=0;n<e.length;n++){if((i+=e[n]._layoutData.colspan)>=t.length)return t.length}return i},ap=function(t,e){return parseFloat(window.getComputedStyle(t)[e],10)},op=function(t,e,i,n){var a=t[e];return void 0===a&&(a=t.getAttribute(i)),((a=parseInt(a,10))<=0||isNaN(a))&&(a=n),a},rp=function(t){s(i,t);var e=d(i);function i(t){var n;a(this,i),(n=e.call(this,t))._columns=[];var o=n._moveFocusVertically.bind(u(n),!0),r=n._moveFocusVertically.bind(u(n),!1),s=n._moveFocusHorizontally.bind(u(n),!0),l=n._moveFocusHorizontally.bind(u(n),!1),c=n._moveFocusHomeEnd.bind(u(n),!0),h=n._moveFocusHomeEnd.bind(u(n),!1),d=n._keys=new Ra(t,{context:u(n)});return d.on("up",o).on("k",o),d.on("down",r).on("j",r),d.on("left",s).on("h",s),d.on("right",l).on("l",l),d.on("home",c),d.on("end",h),n}return r(i,[{key:"_resetItem",value:function(t){}},{key:"_init",value:function(t){var e=t[0],i=this._masonry;this._columnWidth=op(i,"columnWidth","columnwidth",200),this._zeroOffsetLeft=-ap(e,"marginLeft"),this._masonryInnerWidth=i.clientWidth;var n=this._masonry.spacing;"number"==typeof n?(this._horSpacing=n,this._verSpacing=n,this._offsetLeft=n+this._zeroOffsetLeft,this._offsetTop=n-ap(e,"marginTop"),this._verPadding=2*n,this._masonryAvailableWidth=i.clientWidth-n):(this._horSpacing=ap(e,"marginLeft")+ap(e,"marginRight"),this._verSpacing=ap(e,"marginTop")+ap(e,"marginBottom"),this._offsetLeft=ap(i,"paddingLeft"),this._offsetTop=ap(i,"paddingTop"),this._verPadding=this._offsetTop+this._verSpacing+ap(i,"paddingBottom"),this._masonryAvailableWidth=i.clientWidth-this._offsetLeft-ap(i,"paddingRight"));var a=Math.max(1,Math.floor(this._masonryAvailableWidth/(this._columnWidth+this._horSpacing)));this._columns.length=a;for(var o=0;o<a;o++)this._columns[o]={height:this._offsetTop,items:[]};for(var r=0;r<t.length;r++){var s=t[r],l=s._layoutData;l||(s._layoutData=l={}),l.colspan=Math.min(op(s,"colspan","colspan",1),this._columns.length)}}},{key:"_writeStyles",value:function(t){for(var e=0;e<t.length;e++){var i=t[e],n=i._layoutData,a=Math.round(this._getItemWidth(n.colspan));n.width!==a&&(i.style.width="".concat(a,"px"),n.width=a),this._writeItemStyle(i)}}},{key:"_getItemWidth",value:function(t){}},{key:"_writeItemStyle",value:function(t){}},{key:"_readStyles",value:function(t){for(var e=0;e<t.length;e++){var i=t[e],n=i._layoutData;n.height=Math.round(i.getBoundingClientRect().height),n.ignored=n.detached||!i.offsetParent}}},{key:"_positionItems",value:function(t){for(var e,i=0;i<t.length;i++){var n=t[i],a=n._layoutData;if(!a.ignored){var o=this._columns.length-(a.colspan-1),r=-1,s=void 0;for(e=0;e<o;e++){for(var l=this._offsetTop,c=0;c<a.colspan;c++)l=Math.max(l,this._columns[e+c].height);(-1===r||l<s)&&(r=e,s=l)}var u=s,h=Math.round(this._getItemLeft(r));a.left===h&&a.top===u||(a.columnIndex=r,a.itemIndex=this._columns[r].items.length,a.left=h,a.top=u,ep(n,"translate(".concat(h,"px, ").concat(u,"px)")));var d=u+a.height+this._verSpacing;for(e=0;e<a.colspan;e++){var p=this._columns[r+e];p.height=d,p.items.push(n)}}}}},{key:"_getItemLeft",value:function(t){}},{key:"_getContentHeight",value:function(){return this._columns.reduce((function(t,e){return Math.max(t,e.height)}),0)-this._offsetTop}},{key:"_postLayout",value:function(t){}},{key:"_moveFocusVertically",value:function(t,e){var i=e.target._layoutData;if(i){var n=i.itemIndex+(t?-1:1),a=this._columns[i.columnIndex].items[n];if(a)a.focus(),e.preventDefault();else{var o=i.columnIndex;if(t){if(o>0){var r=this._columns[o-1];r&&(a=r.items[r.items.length-1])}}else{var s=this._columns.length,l=o+i.colspan;l<s&&(a=this._columns[l].items[0])}a&&(a.focus(),e.preventDefault())}}}},{key:"_moveFocusHorizontally",value:function(t,e){if(e.target._layoutData){var i,n=this._masonry.items.getAll(),a=n.indexOf(e.target);t?a>0&&(i=n[a-1]):a<n.length-1&&(i=n[a+1]),i&&(i.focus(),e.preventDefault())}}},{key:"_moveFocusHomeEnd",value:function(t,e){if(e.target._layoutData){var i,n=this._columns;if(t)i=n[0]&&n[0].items[0];else for(var a=n.length-1;a>-1;a--)if(n[a].items.length>0){i=n[a].items[n[a].items.length-1];break}i&&(i.focus(),e.preventDefault())}}},{key:"layout",value:function(t){var e=this._masonry,i=e.items.getAll();i.length>0?(this._init(i),this._writeStyles(i),this._readStyles(i),this._positionItems(i)):this._columns.length=0;var n=this._getContentHeight();e.style.height="".concat(n-this._verSpacing+this._verPadding,"px"),t||this._masonryInnerWidth===e.clientWidth?this._postLayout(n):this.layout(!0)}},{key:"destroy",value:function(){this._keys.destroy();for(var t=this._masonry.items.getAll(),e=0;e<t.length;e++){var i=t[e];i._layoutData=void 0,ep(i,""),this._resetItem(i)}}},{key:"detach",value:function(t){t._layoutData.detached=!0}},{key:"reattach",value:function(t){var e=t._layoutData;e.detached=!1;var i=t.getBoundingClientRect();ip(t,"none"),t.style.left="",t.style.top="",ep(t,"");var n=t.getBoundingClientRect();e.left=i.left-n.left,e.top=i.top-n.top,ep(t,"translate(".concat(e.left,"px, ").concat(e.top,"px)")),t.getBoundingClientRect(),ip(t,"")}},{key:"itemAt",value:function(t,e){for(var i=this._masonry.items.getAll(),n=0;n<i.length;n++){var a=i[n],o=a._layoutData;if(o&&!o.ignored&&o.left<=t&&o.left+o.width>=t&&o.top<=e&&o.top+o.height>=e)return a}return null}}]),i}(tp),sp=function(t){s(i,t);var e=d(i);function i(){return a(this,i),e.apply(this,arguments)}return r(i,[{key:"_writeStyles",value:function(t){this._outerColumnWidth=this._columnWidth+this._horSpacing;var e=np(this._columns,t);this._offsetLeft+=(this._masonryAvailableWidth-e*this._outerColumnWidth)/2,m(l(i.prototype),"_writeStyles",this).call(this,t)}},{key:"_getItemWidth",value:function(t){return this._columnWidth*t+this._horSpacing*(t-1)}},{key:"_getItemLeft",value:function(t){return this._offsetLeft+this._outerColumnWidth*t}}]),i}(rp),lp=function(t){s(i,t);var e=d(i);function i(){return a(this,i),e.apply(this,arguments)}return r(i,[{key:"_writeStyles",value:function(t){var e=this._columns;if(this._alignLeft=np(e,t)<e.length,!this._alignLeft){var n=this._masonryInnerWidth-this._columnWidth*e.length;this._horSpacing=n/(e.length+1)}m(l(i.prototype),"_writeStyles",this).call(this,t)}},{key:"_getItemWidth",value:function(t){return this._columnWidth*t+this._horSpacing*(t-1)}},{key:"_getItemLeft",value:function(t){return this._zeroOffsetLeft+this._columnWidth*t+this._horSpacing*(t+1)}}]),i}(rp),cp=function(t){s(i,t);var e=d(i);function i(){return a(this,i),e.apply(this,arguments)}return r(i,[{key:"_getItemWidth",value:function(t){return this._masonryAvailableWidth/this._columns.length*t-this._horSpacing}},{key:"_getItemLeft",value:function(t){return this._offsetLeft+this._masonryAvailableWidth*t/this._columns.length}}]),i}(rp),up=function(t){s(i,t);var e=d(i);function i(){return a(this,i),e.apply(this,arguments)}return r(i,[{key:"_writeItemStyle",value:function(t){this._resetItem(t)}},{key:"_postLayout",value:function(t){for(var e=0;e<this._columns.length;e++)for(var i=this._columns[e],n=t+this._offsetTop,a=i.items.length-1;a>=0;a--){var o=i.items[a],r=o._layoutData;if(r.columnIndex===e){var s=n-r.top-this._verSpacing;o.style.height="".concat(s,"px")}n=r.top}}},{key:"_resetItem",value:function(t){t.style.height=""}}]),i}(cp);Jd.registerLayout(Jd.layouts.FIXED_CENTERED,sp),Jd.registerLayout(Jd.layouts.FIXED_SPREAD,lp),Jd.registerLayout(Jd.layouts.VARIABLE,cp),Jd.registerLayout(Jd.layouts.DASHBOARD,up),da._define("coral-masonry-item",Vd),da._define("coral-masonry",Jd),Jd.Item=Vd,Jd.Layout=tp;var hp=function(t){s(i,t);var e=d(i);function i(){return a(this,i),e.apply(this,arguments)}return r(i,[{key:"add",value:function(t,e){if(this._container&&this._itemTagName)return t instanceof HTMLElement||(t=document.createElement(this._itemTagName).set(t)),e||(e=this.last())&&(e=e.nextElementSibling),this._container.insertBefore(t,e||this._container.firstChild),t}}]),i}(rr),dp="content"in document.createElement("template"),pp=function(t){s(i,t);var e=d(i);function i(){var t;return a(this,i),(t=e.call(this))._delegateEvents({"coral-dragaction:dragstart coral-multifield-item":"_onDragStart","coral-dragaction:drag coral-multifield-item":"_onDrag","coral-dragaction:dragend coral-multifield-item":"_onDragEnd","click [coral-multifield-add]":"_onAddItemClick","click ._coral-Multifield-remove":"_onRemoveItemClick","change coral-multifield-item-content > input":"_onInputChange"}),t.setAttribute("id",t.id||da.getUID()),t._elements={template:t.querySelector("#".concat(t.id," > template[coral-multifield-template]"))||document.createElement("template")},t._elements.template.setAttribute("coral-multifield-template",""),t._handleTemplateSupport(t._elements.template),t._observer=new MutationObserver((function(e){e.forEach((function(e){for(var i=0;i<e.addedNodes.length;i++){var n=e.addedNodes[i],a=t.template;a.contains(n)&&a!==n&&(a.content.appendChild(n),t.items.getAll().forEach((function(e){t._renderTemplate(e)})))}}))})),t._observer.observe(u(t),{childList:!0,subtree:!0}),t.items._startHandlingItems(!0),t}return r(i,[{key:"_handleTemplateSupport",value:function(t){if(!dp&&!t.content){for(var e=document.createDocumentFragment();t.firstChild;)e.appendChild(t.firstChild);t.content=e}}},{key:"_onAddItemClick",value:function(t){var e=this;t.matchedTarget.closest("coral-multifield")===this&&(this.items.add(document.createElement("coral-multifield-item")),window.requestAnimationFrame((function(){e.trigger("change"),e._trackEvent("click","add item button",t)})))}},{key:"_onRemoveItemClick",value:function(t){if(t.matchedTarget.closest("coral-multifield")===this){var e=t.matchedTarget.closest("coral-multifield-item");e&&e.remove(),this.trigger("change"),this._trackEvent("click","remove item button",t)}}},{key:"_onInputChange",value:function(t){this._trackEvent("change","input",t)}},{key:"_onDragStart",value:function(t){if(t.target.closest("coral-multifield")===this){document.body.classList.add("u-coral-closedHand");var e=t.detail.dragElement,i=this.items.getAll(),n=i.indexOf(e);e.classList.add("is-dragging"),i.forEach((function(t,e){e<n?t.classList.add("is-before"):e>n&&t.classList.add("is-after")}))}}},{key:"_onDrag",value:function(t){if(t.target.closest("coral-multifield")===this){var e=this.items.getAll(),i=0;e.length&&(i=parseFloat(window.getComputedStyle(e[0]).marginBottom)),e.forEach((function(n){if(!n.classList.contains("is-dragging")){var a=t.detail.dragElement,o=a.getBoundingClientRect(),r=n.getBoundingClientRect(),s=o.top<r.top,l="".concat(o.height+i,"px");if(n.classList.toggle("is-after",s),n.classList.toggle("is-before",!s),n.classList.contains("is-after")&&(n.style.top=e.indexOf(n)<e.indexOf(a)?l:""),n.classList.contains("is-before")){var c=e.indexOf(n)>e.indexOf(a);n.style.top=c?"-".concat(l):""}}}))}}},{key:"_onDragEnd",value:function(t){if(t.target.closest("coral-multifield")===this){document.body.classList.remove("u-coral-closedHand");var e=t.detail.dragElement,i=this.items.getAll(),n=[],a=[];i.forEach((function(t){t.classList.contains("is-after")?a.push(t):t.classList.contains("is-before")&&n.push(t),t.classList.remove("is-dragging","is-after","is-before"),t.style.top="",t.style.position=""}));var o=e.previousElementSibling,r=a.shift(),s=n.pop();this.trigger("coral-multifield:beforeitemorder",{item:e,oldBefore:o,before:r}).defaultPrevented||(r&&this.insertBefore(e,r),s&&this.insertBefore(e,s.nextElementSibling),this.trigger("coral-multifield:itemorder",{item:e,oldBefore:o,before:r}),this.trigger("change"))}}},{key:"_onItemAdded",value:function(t){t.parentNode===this&&this._renderTemplate(t)}},{key:"_renderTemplate",value:function(t){var e=t.content||t.querySelector("coral-multifield-item-content")||t;if(!e.firstChild){if(!dp){var i=this.template.content.querySelectorAll("template[coral-multifield-template]");Array.prototype.forEach.call(i,(function(t){for(;t.content.firstChild;)t.appendChild(t.content.firstChild)}))}e.appendChild(document.importNode(this.template.content,!0))}}},{key:"render",value:function(){var t=this;m(l(i.prototype),"render",this).call(this),this.classList.add("_coral-Multifield","coral-Well"),this.setAttribute("role","list"),this.template=this._elements.template,this.items.getAll().forEach((function(e){t._renderTemplate(e)}))}},{key:"items",get:function(){return this._items||(this._items=new hp({host:this,itemTagName:"coral-multifield-item",itemSelector:":scope > coral-multifield-item",onItemAdded:this._onItemAdded})),this._items}},{key:"template",get:function(){return this._getContentZone(this._elements.template)},set:function(t){this._setContentZone("template",t,{handle:"template",tagName:"template",insert:function(t){this.appendChild(t)},set:function(t){this._handleTemplateSupport(t)}})}},{key:"_contentZones",get:function(){return{template:"template"}}}]),i}(ho(HTMLElement)),mp=function(t){var e=document.createDocumentFragment(),i=this.remove=document.createElement("button","coral-button");i.setAttribute("tracking","off"),i.setAttribute("type","button"),i.setAttribute("is","coral-button"),i.setAttribute("handle","remove"),i.setAttribute("variant","quietaction"),i.setAttribute("icon","delete"),i.setAttribute("iconsize","S"),i.setAttribute("iconautoarialabel","on"),i.className+=" _coral-Multifield-remove",i.setAttribute("coral-multifield-remove",""),e.appendChild(i);var n=document.createTextNode("\n");e.appendChild(n);var a=this.move=document.createElement("button","coral-button");a.setAttribute("tracking","off"),a.setAttribute("type","button"),a.setAttribute("is","coral-button"),a.setAttribute("handle","move"),a.setAttribute("variant","quietaction"),a.setAttribute("icon","moveUpDown"),a.setAttribute("iconsize","S"),a.setAttribute("iconautoarialabel","on"),a.className+=" _coral-Multifield-move u-coral-openHand",a.setAttribute("coral-multifield-move",""),e.appendChild(a);var o=document.createTextNode("\n");return e.appendChild(o),e},fp=function(t){s(i,t);var e=d(i);function i(){var t;return a(this,i),(t=e.call(this))._elements={content:t.querySelector("coral-multifield-item-content")||document.createElement("coral-multifield-item-content")},mp.call(t._elements),t}return r(i,[{key:"render",value:function(){m(l(i.prototype),"render",this).call(this),this.classList.add("_coral-Multifield-item"),this.setAttribute("role","listitem");var t=document.createDocumentFragment(),e=["move","remove"];t.appendChild(this._elements.move),t.appendChild(this._elements.remove);var n=this._elements.content;for(n.parentNode&&this.removeChild(n);this.firstChild;){var a=this.firstChild;a.nodeType===Node.TEXT_NODE||a.nodeType===Node.ELEMENT_NODE&&-1===e.indexOf(a.getAttribute("handle"))?n.appendChild(a):this.removeChild(a)}this.appendChild(t),this.content=n;var o=new Tl(this);o.axis="vertical",o.handle=this._elements.move}},{key:"content",get:function(){return this._getContentZone(this._elements.content)},set:function(t){this._setContentZone("content",t,{handle:"content",tagName:"coral-multifield-item-content",insert:function(t){this.insertBefore(t,this.firstChild)}})}},{key:"_contentZones",get:function(){return{"coral-multifield-item-content":"content"}}}]),i}(ho(HTMLElement));da._define("coral-multifield-item",fp),da._define("coral-multifield",pp),pp.Item=fp,pp.Item.Content=function(){return document.createElement("coral-multifield-item-content")};var gp=function(t){s(i,t);var e=d(i);function i(){var t;return a(this,i),(t=e.call(this))._delegateEvents({"coral-panel:_selectedchanged":"_onItemSelectedChanged"}),t._oldSelection=null,t.items._startHandlingItems(!0),t}return r(i,[{key:"_onItemSelectedChanged",value:function(t){t.stopImmediatePropagation(),this._validateSelection(t.target)}},{key:"_validateSelection",value:function(t){var e=this,i=this.items._getAllSelected();(t=t||i[i.length-1])&&t.hasAttribute("selected")&&i.length>1&&(i.forEach((function(i){i!==t&&(e._preventTriggeringEvents=!0,i.removeAttribute("selected"))})),this._preventTriggeringEvents=!1),this._triggerChangeEvent()}},{key:"_triggerChangeEvent",value:function(){var t=this.selectedItem,e=this._oldSelection;this._preventTriggeringEvents||t===e||(this.trigger("coral-panelstack:change",{oldSelection:e,selection:t}),this._oldSelection=t)}},{key:"render",value:function(){m(l(i.prototype),"render",this).call(this),this.classList.add("_coral-PanelStack"),this.setAttribute("role","presentation"),this._preventTriggeringEvents=!0,this._validateSelection(),this._preventTriggeringEvents=!1,this._oldSelection=this.selectedItem}},{key:"items",get:function(){return this._items||(this._items=new sr({host:this,itemTagName:"coral-panel",itemSelector:":scope > coral-panel",onItemAdded:this._validateSelection,onItemRemoved:this._validateSelection})),this._items}},{key:"selectedItem",get:function(){return this.items._getLastSelected()}}]),i}(ho(HTMLElement)),vp=function(t){s(i,t);var e=d(i);function i(){var t;return a(this,i),(t=e.call(this))._elements={content:t.querySelector("coral-panel-content")||document.createElement("coral-panel-content")},t}return r(i,[{key:"render",value:function(){m(l(i.prototype),"render",this).call(this),this.classList.add("_coral-Panel"),this.hasAttribute("role")||this.setAttribute("role","region");var t=this._elements.content;if(!t.parentNode)for(;this.firstChild;)t.appendChild(this.firstChild);this.content=t}},{key:"content",get:function(){return this._getContentZone(this._elements.content)},set:function(t){this._setContentZone("content",t,{handle:"content",tagName:"coral-panel-content",insert:function(t){this.appendChild(t)}})}},{key:"selected",get:function(){return this._selected||!1},set:function(t){this._selected=Ua.booleanAttr(t),this._reflectAttribute("selected",this._selected),this.classList.toggle("is-selected",this._selected),this.setAttribute("aria-hidden",!this.selected),this.trigger("coral-panel:_selectedchanged")}},{key:"_contentZones",get:function(){return{"coral-panel-content":"content"}}}],[{key:"observedAttributes",get:function(){return m(l(i),"observedAttributes",this).concat(["selected"])}}]),i}(ho(HTMLElement));da._define("coral-panelstack",gp),da._define("coral-panel",vp),vp.Content=function(){return document.createElement("coral-panel-content")};var _p=function(t){var e=document.createDocumentFragment(),i=this.percentage=document.createElement("div");i.className+=" _coral-BarLoader-percentage",i.setAttribute("handle","percentage"),i.setAttribute("aria-hidden","true"),i.setAttribute("style","visibility: hidden"),e.appendChild(i);var n=document.createTextNode("\n");e.appendChild(n);var a=this.bar=document.createElement("div");a.setAttribute("handle","bar"),a.className+=" _coral-BarLoader-track";var o=document.createTextNode("\n  ");a.appendChild(o);var r=this.status=document.createElement("div");r.className+=" _coral-BarLoader-fill",r.setAttribute("handle","status"),a.appendChild(r);var s=document.createTextNode("\n");a.appendChild(s),e.appendChild(a);var l=document.createTextNode("\n");return e.appendChild(l),e},bp={SMALL:"S",MEDIUM:"M",LARGE:"L"},yp={LEFT:"left",RIGHT:"right",SIDE:"side",BOTTOM:"bottom"},Cp=function(t){s(i,t);var e=d(i);function i(){var t;return a(this,i),(t=e.call(this))._elements={label:t.querySelector("coral-progress-label")||document.createElement("coral-progress-label")},_p.call(t._elements),t._observer=new MutationObserver(t._toggleLabelVisibility.bind(u(t))),t._observer.observe(t._elements.label,{characterData:!0,childList:!0,subtree:!0}),t}return r(i,[{key:"_toggleLabelVisibility",value:function(){var t=this._elements.percentage,e=this._elements.label,i=this.labelPosition===yp.SIDE;this.showPercent?(t.style.visibility="visible",t.setAttribute("aria-hidden","false"),i&&(t.hidden=!1)):(t.style.visibility="hidden",t.setAttribute("aria-hidden","true"),i&&(t.hidden=!0)),e.textContent.length>0?(e.style.visibility="visible",e.setAttribute("aria-hidden","false"),i&&(e.hidden=!1),this.showPercent||this.setAttribute("aria-valuetext",e.textContent)):(e.style.visibility="hidden",e.setAttribute("aria-hidden","true"),i&&(e.hidden=!0),this.removeAttribute("aria-valuetext"))}},{key:"_setPercentage",value:function(t){this._elements.percentage.textContent=t,this[this.showPercent?"removeAttribute":"setAttribute"]("aria-valuetext",t)}},{key:"attributeChangedCallback",value:function(t,e,n){"indeterminate"===t&&Ua.booleanAttr(n)&&(this._oldValue=this._value||0),m(l(i.prototype),"attributeChangedCallback",this).call(this,t,e,n)}},{key:"render",value:function(){m(l(i.prototype),"render",this).call(this),this.classList.add("_coral-BarLoader"),this._value||(this.value=this.value),this._size||(this.size=bp.MEDIUM),this._labelPosition||(this.labelPosition=yp.LEFT);var t=document.createDocumentFragment(),e=["bar","percentage"];t.appendChild(this._elements.percentage),t.appendChild(this._elements.bar);var n=this._elements.label;for(n.parentNode&&n.parentNode.removeChild(n);this.firstChild;){var a=this.firstChild;a.nodeType===Node.TEXT_NODE||a.nodeType===Node.ELEMENT_NODE&&-1===e.indexOf(a.getAttribute("handle"))?n.appendChild(a):this.removeChild(a)}this.appendChild(t),this.label=n,this._toggleLabelVisibility(),this.setAttribute("role","progressbar"),this.setAttribute("aria-valuenow","0"),this.setAttribute("aria-valuemin","0"),this.setAttribute("aria-valuemax","100")}},{key:"value",get:function(){return this.indeterminate?0:this._value||0},set:function(t){(t=Ua.number(t)||0)>100?t=100:t<0&&(t=0),this._value=t,this._reflectAttribute("value",this._value),this.indeterminate?this._elements.status.style.width="":(this._elements.status.style.width="".concat(this.value,"%"),this.setAttribute("aria-valuenow",this._value),this.showPercent&&this._setPercentage("".concat(this._value,"%"))),this.trigger("coral-progress:change")}},{key:"indeterminate",get:function(){return this._indeterminate||!1},set:function(t){this._indeterminate=Ua.booleanAttr(t),this._reflectAttribute("indeterminate",this._indeterminate),this._indeterminate?(this.classList.add("".concat("_coral-BarLoader","--indeterminate")),this.removeAttribute("aria-valuenow"),this.removeAttribute("aria-valuemin"),this.removeAttribute("aria-valuemax"),this.value=0):(this.classList.remove("".concat("_coral-BarLoader","--indeterminate")),this.setAttribute("aria-valuemin","0"),this.setAttribute("aria-valuemax","100"),this.value=this._oldValue)}},{key:"size",get:function(){return this._size||bp.MEDIUM},set:function(t){t=Ua.string(t).toUpperCase(),this._size=Ba.enumeration(bp)(t)&&t||bp.MEDIUM,this._reflectAttribute("size",this._size),this.classList.toggle("".concat("_coral-BarLoader","--small"),this._size===bp.SMALL)}},{key:"showPercent",get:function(){return this._showPercent||!1},set:function(t){if(this._showPercent=Ua.booleanAttr(t),this._reflectAttribute("showpercent",this._showPercent),this._showPercent){var e=this.indeterminate?"":"".concat(this.value,"%");this._setPercentage(e)}this._toggleLabelVisibility()}},{key:"label",get:function(){return this._getContentZone(this._elements.label)},set:function(t){this._setContentZone("label",t,{handle:"label",tagName:"coral-progress-label",insert:function(t){t.classList.add("".concat("_coral-BarLoader","-label")),this.appendChild(t)}})}},{key:"labelPosition",get:function(){return this._labelPosition||yp.LEFT},set:function(t){var e=this;t=Ua.string(t).toLowerCase(),this._labelPosition=Ba.enumeration(yp)(t)&&t||yp.LEFT,this._reflectAttribute("labelposition",this._labelPosition),this.classList.toggle("_coral-BarLoader--sideLabel",this._labelPosition===yp.SIDE),(this.labelPosition===yp.SIDE?["label","bar","percentage"]:["label","percentage","bar"]).forEach((function(t,i){e._elements[t].style.order=i})),this._toggleLabelVisibility()}},{key:"_contentZones",get:function(){return{"coral-progress-label":"label"}}}],[{key:"labelPosition",get:function(){return yp}},{key:"size",get:function(){return bp}},{key:"_attributePropertyMap",get:function(){return da.extend(m(l(i),"_attributePropertyMap",this),{showpercent:"showPercent",labelposition:"labelPosition"})}},{key:"observedAttributes",get:function(){return m(l(i),"observedAttributes",this).concat(["value","indeterminate","size","showpercent","labelposition"])}}]),i}(ho(HTMLElement));da._define("coral-progress",Cp),Cp.Label=function(){return document.createElement("coral-progress-label")};var Ap={BUTTON:"button",ANCHOR:"anchor"},kp=function(t){s(i,t);var e=d(i);function i(){var t;return a(this,i),(t=e.call(this))._elements={},t._observer=new MutationObserver(t._onMutation.bind(u(t))),t._observer.observe(u(t),{characterData:!0,childList:!0,subtree:!0}),t}return r(i,[{key:"_onMutation",value:function(){this.trigger("coral-quickactions-item:_contentchanged")}},{key:"render",value:function(){m(l(i.prototype),"render",this).call(this),this._type||(this.type=Ap.BUTTON)}},{key:"content",get:function(){return this},set:function(t){if("object"===n(t))for(var e in t)this[e]=t[e]}},{key:"href",get:function(){return this._href||""},set:function(t){this._href=Ua.string(t),this._reflectAttribute("href",this._href),this.trigger("coral-quickactions-item:_hrefchanged")}},{key:"icon",get:function(){return this._icon||""},set:function(t){this._icon=Ua.string(t),this._reflectAttribute("icon",this._icon),this.trigger("coral-quickactions-item:_iconchanged")}},{key:"type",get:function(){return this._type||Ap.BUTTON},set:function(t){t=Ua.string(t).toLowerCase(),this._type=Ba.enumeration(Ap)(t)&&t||Ap.BUTTON,this._reflectAttribute("type",this._type),this.trigger("coral-quickactions-item:_typechanged")}},{key:"trackingElement",get:function(){return void 0===this._trackingElement?this.textContent&&this.textContent.replace(/\s{2,}/g," ").trim()||this.icon:this._trackingElement},set:function(t){g(l(i.prototype),"trackingElement",t,this,!0)}}],[{key:"type",get:function(){return Ap}},{key:"observedAttributes",get:function(){return m(l(i),"observedAttributes",this).concat(["href","icon","type"])}}]),i}(ho(HTMLElement)),wp=function(t){var e=document.createDocumentFragment(),i=this.moreButton=document.createElement("button","coral-button");i.setAttribute("tracking","off"),i.className+=" _coral-QuickActions-item _coral-QuickActions-item-more",i.setAttribute("variant","quietaction"),i.setAttribute("is","coral-button"),i.setAttribute("type","button"),i.setAttribute("icon","more"),i.setAttribute("iconsize","S"),i.setAttribute("handle","moreButton"),i.setAttribute("title",t.i18n.get("More actions")),i.setAttribute("role","menuitem"),i.setAttribute("aria-haspopup","menu"),i.setAttribute("aria-expanded","false"),i.setAttribute("aria-label",t.i18n.get("More actions")),e.appendChild(i);var n=document.createTextNode("\n");e.appendChild(n);var a=this.overlay=document.createElement("coral-popover");a.className+=" _coral-QuickActions-moreOverlay",a.setAttribute("tracking","off"),a.setAttribute("smart",""),a.id=t.commons.getUID(),a.setAttribute("breadthoffset","50%p - 50%"),a.setAttribute("placement","bottom"),a.setAttribute("handle","overlay"),a.setAttribute("role","presentation");var o=document.createTextNode("\n  ");a.appendChild(o);var r=this.buttonList=document.createElement("coral-buttonlist");r.setAttribute("tracking","off"),r.id=t.commons.getUID(),r.className+=" _coral-QuickActions-buttonList",r.setAttribute("handle","buttonList"),r.setAttribute("role","menu"),r.setAttribute("tabindex","-1"),a.appendChild(r);var s=document.createTextNode("\n");a.appendChild(s),e.appendChild(a);var l=document.createTextNode("\n");return e.appendChild(l),e},xp="on",Tp={PARENT:"_parent",PREVIOUS:"_prev",NEXT:"_next"},Sp={TOP:"top",CENTER:"center",BOTTOM:"bottom"},Ep=function(t){s(i,t);var e=d(i);function i(){var t;a(this,i),(t=e.call(this))._overlayAnimationTime=Cl.FADETIME,t._alignMy=Cl.align.CENTER_TOP,t._alignAt=Cl.align.CENTER_TOP,t._lengthOffset=10,t._inner=!0,t._target=Tp.PREVIOUS,t._placement=Sp.TOP,t._focusOnShow=Cl.focusOnShow.OFF,t._scrollOnFocus=Cl.scrollOnFocus.OFF,t.id||(t.id=da.getUID()),t._openedBefore=!1,t._timeout=null,wp.call(t._elements,{commons:da,i18n:wa});var n={"global:resize":"_onWindowResize",mouseout:"_onMouseOut","key:home":"_onHomeKeypress","key:end":"_onEndKeypress","key:pagedown":"_onButtonKeypressNext","key:right":"_onButtonKeypressNext","key:down":"_onButtonKeypressNext","key:pageup":"_onButtonKeypressPrevious","key:left":"_onButtonKeypressPrevious","key:up":"_onButtonKeypressPrevious","capture:focus":"_onFocus","capture:blur":"_onBlur",'click > ._coral-QuickActions-item:not([handle="moreButton"])':"_onButtonClick",'click > ._coral-QuickActions-item[handle="moreButton"]':"_onMoreButtonClick","coral-quickactions-item:_contentchanged":"_onItemChange","coral-quickactions-item:_iconchanged":"_onItemChange","coral-quickactions-item:_hrefchanged":"_onItemChange","coral-quickactions-item:_typechanged":"_onItemTypeChange"},o=t._elements.overlay.id;return n["global:capture:coral-overlay:beforeopen #".concat(o)]="_onOverlayBeforeOpen",n["global:capture:coral-overlay:beforeclose #".concat(o)]="_onOverlayBeforeClose",n["global:capture:coral-overlay:open #".concat(o)]="_onOverlayOpen",n["global:capture:coral-overlay:close"]="_onOverlayClose",n["global:capture:coral-overlay:positioned #".concat(o)]="_onOverlayPositioned",n["global:capture:coral-overlay:_animate #".concat(o)]="_onAnimate",n["global:capture:mouseout #".concat(o)]="_onMouseOut",n["global:capture:click #".concat(o," [coral-list-item]")]="_onButtonListItemClick",t._onTargetMouseEnter=t._onTargetMouseEnter.bind(u(t)),t._onTargetKeyUp=t._onTargetKeyUp.bind(u(t)),t._onTargetMouseLeave=t._onTargetMouseLeave.bind(u(t)),t._delegateEvents(n),t.items._startHandlingItems(!0),t}return r(i,[{key:"_getButtonWidth",value:function(){return this.closest(".coral--large")?50:40}},{key:"_getTarget",value:function(t){if((t=t||this.target)instanceof Node)return t;var e=null;return"string"==typeof t&&(e=t===Tp.PARENT?this.parentNode:m(l(i.prototype),"_getTarget",this).call(this,t)),e}},{key:"_addTargetEventListeners",value:function(t){(t=t||this._getTarget())&&this.interaction===xp&&(t.addEventListener("mouseenter",this._onTargetMouseEnter),t.addEventListener("keyup",this._onTargetKeyUp),t.addEventListener("keydown",this._onTargetKeyDown),t.addEventListener("mouseleave",this._onTargetMouseLeave))}},{key:"_removeTargetEventListeners",value:function(t){(t=t||this._getTarget())&&(t.removeEventListener("mouseenter",this._onTargetMouseEnter),t.removeEventListener("keyup",this._onTargetKeyUp),t.removeEventListener("keydown",this._onTargetKeyDown),t.removeEventListener("mouseleave",this._onTargetMouseLeave))}},{key:"_toggleTabbable",value:function(t,e){t&&(e?t.hasAttribute("tabIndex")&&t.removeAttribute("tabIndex"):t.setAttribute("tabIndex","-1"))}},{key:"_getFocusableNeighbour",value:function(t,e){var i=Array.prototype.slice.call(this._getFocusableButtons()),n=i.indexOf(t);if(n>=0)if(e){if(0!==n)return i[n-1]}else if(n<i.length-1)return i[n+1]}},{key:"_getButtons",value:function(t){var e="._coral-QuickActions-item";return e=t?"".concat(e,':not([handle="moreButton"])'):e,this.querySelectorAll(e)}},{key:"_getFocusableButtons",value:function(){return this.querySelectorAll("._coral-QuickActions-item:not([disabled]):not([hidden])")}},{key:"_getFirstFocusableButton",value:function(){return this.querySelector("._coral-QuickActions-item:not([disabled]):not([hidden])")}},{key:"_getLastFocusableButton",value:function(){var t=this._getFocusableButtons();return t[t.length-1]}},{key:"_proxyClick",value:function(t){t.trigger("click").defaultPrevented||this.interaction!==xp||this._hideAll()}},{key:"_getItemData",value:function(t){return{htmlContent:t.innerHTML,textContent:t.textContent,icon:t.getAttribute("icon")||""}}},{key:"_attachItem",value:function(t,e){if(t._elements&&t._elements.button)this._updateItem(t);else{void 0===e&&(e=Array.prototype.indexOf.call(this.items.getAll(),t));var i,n,a=this._getItemData(t),o=kp.type;t.type===o.BUTTON?i=(new Yo).set({icon:a.icon,iconsize:Uo.size.SMALL,type:"button",tracking:"off"},!0):t.type===o.ANCHOR&&(i=(new Vc).set({icon:a.icon,iconsize:Uo.size.SMALL,href:t.href,tracking:"off"},!0)),i.variant=Yo.variant.QUIET_ACTION,i.classList.add("_coral-QuickActions-item"),i.setAttribute("tabindex","-1"),i.setAttribute("title",a.textContent.trim()),i.setAttribute("aria-label",a.textContent.trim()),i.setAttribute("role","menuitem"),this.insertBefore(i,this.children[e]),t.type===o.BUTTON?n=new Nr.Item:t.type===o.ANCHOR&&((n=new Ir.Item).href=t.href);var r=this._elements.buttonList;r.insertBefore(n,r.children[e]),n.tabIndex=-1,n.content.innerHTML=a.htmlContent,n.icon=a.icon,n.setAttribute("role","menuitem"),t._elements.button=i,t._elements.buttonListItem=n,n._elements.quickActionsItem=t,i._elements.quickActionsItem=t}}},{key:"_layout",value:function(){this._setWidth();var t=this._getButtons(!0);if(t.length){var e=this._elements.buttonList.items.getAll(),i=this.style.display,n=!1;this.open||(this.style.left-=1e4,this.style.top-=1e4,this.style.display="block",n=!0);for(var a=this.offsetWidth,o=0,r=0,s=this._getButtonWidth();a>r;)a>(r+=s)&&o++;o--;var l,c=this.threshold,u=c>0,h=u&&t.length>c,d=t.length>o||h;l=d?d&&u&&c+1<o?c+1:o:t.length;for(var p=0;p<t.length;p++)this._toggleTabbable(t[p],!1),t[p].hidden=!1,e[p]&&(e[p].hidden=!1);if(this._toggleTabbable(this._elements.moreButton,!1),d){if(l>0){for(var m=l-1;m<t.length;m++)t[m].hide();for(var f=0;f<l-1;f++)e[f].hide();this._toggleTabbable(t[0],!0)}else this._toggleTabbable(this._elements.moreButton,!0);this._elements.moreButton.show()}else this._toggleTabbable(t[0],!0),this._elements.moreButton.hide();this._setWidth(!0),n&&(this.style.left+=1e4,this.style.top+=1e4,this.style.display=i),this.reposition()}}},{key:"_setWidth",value:function(t){var e=0,i=this._getTarget();if(i){var n=i.offsetWidth;if(t){var a=this.querySelectorAll("._coral-QuickActions-item:not([hidden])"),o=this._getButtonWidth();if(a.length){for(var r=0;r<a.length&&e<=n;r++)e+=o;this.style.width="".concat(e,"px")}}else this.style.width="".concat(n,"px")}}},{key:"_setButtonListHeight",value:function(){this._elements.buttonList.style.height="";var t=window.getComputedStyle(this._elements.buttonList),e=parseInt(t.height,10);e<parseInt(t.maxHeight,10)&&(this._elements.buttonList.style.height="".concat(e-1,"px"))}},{key:"_isInternalToComponent",value:function(t){var e=this._getTarget();return t&&(this.contains(t)||this._elements.overlay.contains(t)||e&&e.contains(t))}},{key:"_onWindowResize",value:function(){this._layout()}},{key:"_handleEscape",value:function(t){var e=this;void 0===this._isTop&&(this._isTop=this._isTopOverlay()),null!==this._timeout&&window.clearTimeout(this._timeout),this._timeout=window.setTimeout((function(){e._isTop&&m(l(i.prototype),"_handleEscape",e).call(e,t),e._isTop=void 0}))}},{key:"_onMouseOut",value:function(t){var e=t.toElement||t.relatedTarget;this._isInternalToComponent(e)||this.interaction!==xp||this._hideAll()}},{key:"_hideAll",value:function(){this.hide(),this._elements.overlay.hide()}},{key:"_onTargetMouseEnter",value:function(t){var e=t.fromElement||t.relatedTarget;this.open||this._isInternalToComponent(e)||(this.show(),this._trackEvent("display","coral-quickactions",t))}},{key:"_onTargetKeyUp",value:function(t){var e=t.keyCode;(t.shiftKey&&121===e||t.ctrlKey&&32===e)&&(this.open||(this.interaction===xp&&(this._previousTrapFocus=this.trapFocus,this._previousReturnFocus=this.returnFocus,this._previousFocusOnShow=this.focusOnShow,this.trapFocus=this.constructor.trapFocus.ON,this.returnFocus=this.constructor.returnFocus.ON,this.focusOnShow=this.constructor.focusOnShow.ON),this.show()))}},{key:"_onTargetKeyDown",value:function(t){var e=t.keyCode;(t.shiftKey&&121===e||t.ctrlKey&&32===e)&&t.preventDefault()}},{key:"_onTargetMouseLeave",value:function(t){var e=t.toElement||t.relatedTarget;this._isInternalToComponent(e)||this._hideAll()}},{key:"_onHomeKeypress",value:function(t){t.preventDefault();var e=this._getFirstFocusableButton();e&&e.focus()}},{key:"_onEndKeypress",value:function(t){t.preventDefault();var e=this._getLastFocusableButton();e&&e.focus()}},{key:"_onButtonKeypressNext",value:function(t){if(t.preventDefault(),document.activeElement===this){var e=this._getFirstFocusableButton();e&&e.focus()}else{var i=this._getFocusableNeighbour(t.matchedTarget);i?i.focus():"ArrowDown"===t.key&&document.activeElement===this._elements.moreButton&&this._elements.moreButton.click()}}},{key:"_onButtonKeypressPrevious",value:function(t){if(t.preventDefault(),document.activeElement===this){var e=this._getLastFocusableButton();e&&e.focus()}else{var i=this._getFocusableNeighbour(t.matchedTarget,!0);i&&i.focus()}}},{key:"_onButtonClick",value:function(t){var e=this;if(t.stopPropagation(),!this._preventClick){var i=t.matchedTarget._elements.quickActionsItem;this._proxyClick(i),window.setTimeout((function(){e._preventClick=!1}),this._overlayAnimationTime),this._preventClick=!0,this._trackEvent("click","coral-quickactions-item",t,i)}}},{key:"_onMoreButtonClick",value:function(t){var e=t.matchedTarget._elements.quickActionsItem;this._trackEvent("click","coral-quickactions-more",t,e)}},{key:"_onFocus",value:function(){if(this._focusOnShow===this.constructor.focusOnShow.OFF&&this._returnFocus!==this.constructor.returnFocus.ON){var t=this._getTarget();t&&(this._previousReturnFocus||(this._previousReturnFocus=this._returnFocus,this.returnFocus=this.constructor.returnFocus.ON),this._previousElementToFocusWhenHidden||(this._previousElementToFocusWhenHidden=this._elementToFocusWhenHidden,this._elementToFocusWhenHidden=t))}}},{key:"_onBlur",value:function(){this._focusOnShow===this.constructor.focusOnShow.OFF&&(this._previousReturnFocus&&(this.returnFocus=this._previousReturnFocus,this._previousReturnFocus=void 0),this._previousElementToFocusWhenHidden&&(this._elementToFocusWhenHidden=this._previousElementToFocusWhenHidden,this._previousElementToFocusWhenHidden=void 0))}},{key:"_onOverlayBeforeOpen",value:function(t){t.target===this?(this._preventClick=!1,this._layout()):t.target===this._elements.overlay&&(t.stopImmediatePropagation(),this._setButtonListHeight())}},{key:"_onOverlayBeforeClose",value:function(t){t.target===this._elements.overlay&&t.stopImmediatePropagation()}},{key:"_onOverlayOpen",value:function(t){t.target===this._elements.overlay&&(t.stopImmediatePropagation(),this._elements.moreButton.setAttribute("aria-expanded","true"))}},{key:"_onOverlayClose",value:function(t){var e=this;t.target===this?(this._elements.overlay.open=!1,window.requestAnimationFrame((function(){e._previousTrapFocus&&(e.trapFocus=e._previousTrapFocus,e.trapFocus!==e.constructor.trapFocus.ON&&e.removeAttribute("tabindex"),e._previousTrapFocus=void 0),e._previousReturnFocus&&(e.returnFocus=e._previousReturnFocus,e._previousReturnFocus=void 0),e._previousFocusOnShow&&(e.focusOnShow=e._previousFocusOnShow,e._previousFocusOnShow=void 0)}))):t.target===this._elements.overlay&&(t.stopImmediatePropagation(),this._elements.moreButton.setAttribute("aria-expanded","false"))}},{key:"_onOverlayPositioned",value:function(t){t.target===this._elements.overlay&&t.stopImmediatePropagation()}},{key:"_onAnimate",value:function(t){t.target===this&&(this.placement===Sp.BOTTOM?this.style.marginTop="".concat(8-parseFloat(this.lengthOffset),"px"):this.style.marginTop="".concat(parseFloat(this.lengthOffset)-8,"px"))}},{key:"_onButtonListItemClick",value:function(t){t.stopImmediatePropagation();var e=t.matchedTarget;if(e){var i=e._elements.quickActionsItem;this._proxyClick(i),this._trackEvent("click","coral-quickactions-item",t,i)}}},{key:"_onItemRemoved",value:function(t){this._removeItemElements(t)}},{key:"_onCollectionChange",value:function(t){if(this._openedBefore){for(var e,i=this.items.getAll(),n=0,a=t.length;n<a;n++)e=Array.prototype.indexOf.call(i,t[n]),this._attachItem(t[n],e);this._layout()}}},{key:"_onItemChange",value:function(t){t.stopImmediatePropagation(),this._updateItem(t.target)}},{key:"_onItemTypeChange",value:function(t){t.stopImmediatePropagation();var e=t.target;this._removeItemElements(e),this._attachItem(e),this._layout()}},{key:"_removeItemElements",value:function(t){t._elements.button&&(t._elements.button.remove(),t._elements.button._elements.quickActionsItem=void 0,t._elements.button=void 0),t._elements.buttonListItem&&(t._elements.buttonListItem.remove(),t._elements.buttonListItem._elements.quickActionsItem=null,t._elements.buttonListItem=void 0)}},{key:"_updateItem",value:function(t){var e=this._getItemData(t),i=kp.type,n=t._elements.button;n&&(n.icon=e.icon,n.setAttribute("title",e.textContent.trim()),n.setAttribute("aria-label",e.textContent.trim()),n[t.type===i.ANCHOR?"setAttribute":"removeAttribute"]("href",t.href));var a=t._elements.buttonListItem;a&&(a.content.innerHTML=e.htmlContent,a[t.type===i.ANCHOR?"setAttribute":"removeAttribute"]("href",t.href),a.icon=e.icon)}},{key:"_toggleCenterPlacement",value:function(t){t?this.placement===Sp.CENTER&&(this._placement=Cl.placement.RIGHT,this._oldInner=this._inner,this._inner=!1,this._oldLengthOffset=this._lengthOffset,this._lengthOffset="-50%r - 50%p"):this._placement===Cl.placement.RIGHT&&(this._placement=Sp.CENTER,this._inner=this._oldInner,this._lengthOffset=this._oldLengthOffset)}},{key:"reposition",value:function(){this._toggleCenterPlacement(!0),m(l(i.prototype),"reposition",this).call(this),this._toggleCenterPlacement(!1),this._openedOnce&&(this.placement===Sp.BOTTOM?this.style.marginTop="-".concat(parseFloat(this.lengthOffset),"px"):this.placement===Sp.TOP?this.style.marginTop="".concat(parseFloat(this.lengthOffset),"px"):this.placement===Sp.CENTER&&(this.style.marginTop="".concat(parseFloat(this.lengthOffset)-4,"px")))}},{key:"connectedCallback",value:function(){m(l(i.prototype),"connectedCallback",this).call(this);var t=this._elements.overlay;t.removeAttribute("open"),t._parent&&t._parent.appendChild(t)}},{key:"render",value:function(){var t=this;m(l(i.prototype),"render",this).call(this),this.classList.add("_coral-QuickActions"),this.setAttribute("role","menu"),["moreButton","overlay"].forEach((function(e){var i=t.querySelector('[handle="'.concat(e,'"]'));i&&i.remove()}));var e=document.createDocumentFragment();e.appendChild(this._elements.moreButton),e.appendChild(this._elements.overlay),this._elements.overlay.target=this._elements.moreButton,this.appendChild(e)}},{key:"disconnectedCallback",value:function(){m(l(i.prototype),"disconnectedCallback",this).call(this);var t=this._elements.overlay;this.contains(t)||(t._parent=t._repositioned?document.body:this,t.remove())}},{key:"overlay",get:function(){return this._elements.overlay}},{key:"items",get:function(){return this._items||(this._items=new rr({host:this,itemTagName:"coral-quickactions-item",onItemRemoved:this._onItemRemoved,onCollectionChange:this._onCollectionChange})),this._items}},{key:"threshold",get:function(){return"number"==typeof this._threshold?this._threshold:4},set:function(t){this._threshold=Ua.number(t),this._reflectAttribute("threshold",this._threshold)}},{key:"placement",get:function(){return m(l(i.prototype),"placement",this)},set:function(t){t=Ua.string(t).toLowerCase(),this._placement=Ba.enumeration(Sp)(t)&&t||Sp.TOP,this.reposition()}},{key:"interaction",get:function(){return m(l(i.prototype),"interaction",this)},set:function(t){g(l(i.prototype),"interaction",t,this,!0),this.interaction===xp?this._addTargetEventListeners():this._removeTargetEventListeners()}},{key:"target",get:function(){return m(l(i.prototype),"target",this)},set:function(t){g(l(i.prototype),"target",t,this,!0);var e=this._getTarget(t),n=e!==this._previousTarget;if(e&&n){if(this._previousTarget){var a=this._getTarget(this._previousTarget);a&&(this._removeTargetEventListeners(a),e.removeAttribute("aria-haspopup"),e.removeAttribute("aria-owns"))}this._addTargetEventListeners(),e.setAttribute("aria-haspopup","true");var o=e.getAttribute("aria-owns");o=o&&o.length?"".concat(o.trim(),"  ").concat(this.id):this.id,e.setAttribute("aria-owns",o),this._previousTarget=e}}},{key:"open",get:function(){return m(l(i.prototype),"open",this)},set:function(t){var e=this;t&&this._focusOnShow!==this.constructor.focusOnShow.OFF&&this.returnFocusTo(document.activeElement),g(l(i.prototype),"open",t,this,!0),this._openedOnce=!0,window.requestAnimationFrame((function(){if(e.open&&!e._openedBefore){for(var t=e.items.getAll(),i=0,n=t.length;i<n;i++)e._attachItem(t[i],i);e._openedBefore=!0}e.open&&e._layout();var a=e._getTarget();a&&a.classList.toggle("is-selected",e.open)}))}}],[{key:"placement",get:function(){return Sp}},{key:"target",get:function(){return Tp}},{key:"observedAttributes",get:function(){return m(l(i),"observedAttributes",this).concat(["threshold"])}}]),i}(Cl);da.extend(ka,{"coral-component-quickactions":{"en-US":{"More actions":"More actions"},"fr-FR":{"More actions":"Autres actions"},"de-DE":{"More actions":"Weitere Aktionen"},"it-IT":{"More actions":"Altre azioni"},"es-ES":{"More actions":"MÃ¡s acciones"},"pt-BR":{"More actions":"Mais aÃ§Ãµes"},"ja-JP":{"More actions":"ãã®ä»ã®ã¢ã¯ã·ã§ã³"},"ko-KR":{"More actions":"ì¶ê° ìì"},"zh-CN":{"More actions":"æ´å¤æä½"},"zh-TW":{"More actions":"æ´å¤åä½"},"nl-NL":{"More actions":"Meer acties"},"da-DK":{"More actions":"Flere handlinger"},"fi-FI":{"More actions":"LisÃ¤Ã¤ toimintoja"},"nb-NO":{"More actions":"Flere handlinger"},"sv-SE":{"More actions":"Fler Ã¥tgÃ¤rder"},"cs-CZ":{"More actions":"DalÅ¡Ã­ akce"},"pl-PL":{"More actions":"WiÄcej czynnoÅci"},"ru-RU":{"More actions":"ÐÑÑÐ³Ð¸Ðµ Ð´ÐµÐ¹ÑÑÐ²Ð¸Ñ"},"tr-TR":{"More actions":"Daha fazla iÅlem"}}}),da._define("coral-quickactions-item",kp),da._define("coral-quickactions",Ep),Ep.Item=kp;var Ip=function(t){s(i,t);var e=d(i);function i(){var t;return a(this,i),(t=e.call(this))._elements={header:t.querySelector("coral-shell-header")||document.createElement("coral-shell-header"),content:t.querySelector("coral-shell-content")||document.createElement("coral-shell-content")},t}return r(i,[{key:"render",value:function(){var t=this;m(l(i.prototype),"render",this).call(this),this.classList.add("_coral-Shell");var e=this._elements.header,n=this.menus.getAll(),a=this._elements.content;if(!a.parentNode)for(e.parentNode&&e.parentNode.removeChild(e),this.menus.clear();this.firstChild;)a.appendChild(this.firstChild);this.header=e,n.forEach((function(e){return t.menus.add(e)})),this.content=a}},{key:"menus",get:function(){return this._menus||(this._menus=new rr({host:this,itemTagName:"coral-shell-menu"})),this._menus}},{key:"header",get:function(){return this._getContentZone(this._elements.header)},set:function(t){this._setContentZone("header",t,{handle:"header",tagName:"coral-shell-header",insert:function(t){this.insertBefore(t,this.firstChild)}})}},{key:"content",get:function(){return this._getContentZone(this._elements.content)},set:function(t){this._setContentZone("content",t,{handle:"content",tagName:"coral-shell-content",insert:function(t){this.appendChild(t)}})}},{key:"_contentZones",get:function(){return{"coral-shell-header":"header","coral-shell-content":"content"}}}]),i}(ho(HTMLElement)),Lp=function(t){s(i,t);var e=d(i);function i(){var t;return a(this,i),(t=e.call(this))._elements={home:t.querySelector("coral-shell-header-home")||document.createElement("coral-shell-header-home"),actions:t.querySelector("coral-shell-header-actions")||document.createElement("coral-shell-header-actions"),content:t.querySelector("coral-shell-header-content")||document.createElement("coral-shell-header-content")},Cl._OverlayManager.push(u(t)),t}return r(i,[{key:"render",value:function(){m(l(i.prototype),"render",this).call(this),this.classList.add("_coral-Shell-header"),this.classList.add("coral--darkest","u-coral-clearFix");var t=this._elements.home,e=this._elements.actions,n=this._elements.content;for(t.parentNode&&t.remove(),e.parentNode&&e.remove(),n.parentNode&&n.remove();this.firstChild;)n.appendChild(this.firstChild);this.home=t,this.actions=e,this.content=n}},{key:"home",get:function(){return this._getContentZone(this._elements.home)},set:function(t){this._setContentZone("home",t,{handle:"home",tagName:"coral-shell-header-home",insert:function(t){this.appendChild(t)}})}},{key:"content",get:function(){return this._getContentZone(this._elements.content)},set:function(t){this._setContentZone("content",t,{handle:"content",tagName:"coral-shell-header-content",insert:function(t){this.appendChild(t)}})}},{key:"actions",get:function(){return this._getContentZone(this._elements.actions)},set:function(t){this._setContentZone("actions",t,{handle:"actions",tagName:"coral-shell-header-actions",insert:function(t){this.appendChild(t)}})}},{key:"_contentZones",get:function(){return{"coral-shell-header-home":"home","coral-shell-header-content":"content","coral-shell-header-actions":"actions"}}}]),i}(ho(HTMLElement)),Np=function(t){var e=document.createDocumentFragment(),i=this.icon=document.createElement("coral-icon");i.setAttribute("handle","icon"),i.className+=" _coral-Shell-homeAnchor-icon",i.setAttribute("size","M"),i.setAttribute("alt",""),e.appendChild(i);var n=document.createTextNode("\n");return e.appendChild(n),e},Mp=function(t){s(i,t);var e=d(i);function i(){var t;return a(this,i),(t=e.call(this))._elements={label:t.querySelector("coral-shell-homeanchor-label")||document.createElement("coral-shell-homeanchor-label")},Np.call(t._elements),t}return r(i,[{key:"render",value:function(){m(l(i.prototype),"render",this).call(this),this.classList.add("_coral-Shell-homeAnchor");var t=document.createDocumentFragment(),e=this._elements.label;for(e.parentNode&&this.removeChild(e);this.firstChild;){var n=this.firstChild;n.nodeType===Node.TEXT_NODE?e.appendChild(n):"CORAL-ICON"===n.nodeName?t.childNodes.length?this.removeChild(n):(this._elements.icon=n,t.appendChild(n)):this.removeChild(n)}this.appendChild(t),this.icon=this.icon,this.label=e}},{key:"label",get:function(){return this._getContentZone(this._elements.label)},set:function(t){this._setContentZone("label",t,{handle:"label",tagName:"coral-shell-homeanchor-label",insert:function(t){this.appendChild(t)}})}},{key:"icon",get:function(){return this._elements.icon.icon},set:function(t){this._elements.icon.icon=t,""===this.icon?this._elements.icon.remove():this.contains(this._elements.icon)||this.insertBefore(this._elements.icon,this.firstChild)}},{key:"_contentZones",get:function(){return{"coral-shell-homeanchor-label":"label"}}}],[{key:"observedAttributes",get:function(){return m(l(i),"observedAttributes",this).concat(["icon"])}}]),i}(ho(HTMLAnchorElement)),Op=function(t){var e=document.createDocumentFragment(),i=t=void 0===t?{}:t,n=this.input=document.createElement("input","coral-textfield");n.setAttribute("type","search"),n.className+=" _coral-Search-input",n.setAttribute("is","coral-textfield"),n.setAttribute("handle","input"),e.appendChild(n);var a=document.createTextNode("\n");e.appendChild(a);var o=this.clearButton=document.createElement("button","coral-button");o.setAttribute("type","button"),o.setAttribute("aria-label",t.i18n.get("Clear search")),o.setAttribute("is","coral-button"),o.setAttribute("variant","_custom"),o.className+=" _coral-Search-clear _coral-ClearButton",o.setAttribute("handle","clearButton");var r=document.createTextNode("\n  ");o.appendChild(r);var s=this.clearButtonLabel=document.createElement("coral-button-label");s.setAttribute("handle","clearButtonLabel"),o.appendChild(s);var l=document.createTextNode("\n  ");o.appendChild(l),i=t,this.clearButton._elements.label=this.clearButtonLabel,this.clearButton.insertAdjacentHTML("beforeend",i.Icon._renderSVG("spectrum-css-icon-CrossSmall",["_coral-UIIcon-CrossSmall"])),t=i;var c=document.createTextNode("\n");o.appendChild(c),e.appendChild(o);var u=document.createTextNode("\n");return e.appendChild(u),e},Dp={DEFAULT:"default",QUIET:"quiet"},Fp=function(t){s(i,t);var e=d(i);function i(){var t;return a(this,i),(t=e.call(this))._delegateEvents(da.extend(t._events,{"keydown [handle=input]":"_onEnterKey","keyup [handle=input]":"_onKeyUp","input [handle=input]":"_triggerInputEvent","key:escape [handle=input]":"_clearInput","click [handle=clearButton]:not(:disabled)":"_clearInput"})),t._elements={},Op.call(t._elements,{i18n:wa,Icon:Uo}),t._labellableElement=t._elements.input,t}return r(i,[{key:"_triggerInputEvent",value:function(){this.trigger("coral-search:input")}},{key:"_onEnterKey",value:function(t){if(13===t.which){if(t.preventDefault(),this.disabled)return;this.trigger("coral-search:submit")}}},{key:"_onKeyUp",value:function(){this._updateClearButton()}},{key:"_updateClearButton",value:function(){this._elements.clearButton.style.display=""===this._elements.input.value?"none":""}},{key:"_clearInput",value:function(){this._elements.input.value="",this._updateClearButton(),this._elements.input.focus(),this.trigger("coral-search:clear")}},{key:"reset",value:function(){this._elements.input.reset(),this._updateClearButton()}},{key:"clear",value:function(){this._elements.input.clear(),this._updateClearButton()}},{key:"render",value:function(){m(l(i.prototype),"render",this).call(this),this.classList.add("_coral-Search"),this._icon||(this.icon="search"),this._variant||(this.variant=Dp.DEFAULT);for(var t=this.querySelectorAll("._coral-Search-input, ._coral-Search-icon, ._coral-Search-clear"),e=0;e<t.length;e++)t[e].remove();var n=document.createDocumentFragment();n.appendChild(this._elements.input),n.appendChild(this._elements.clearButton),this.appendChild(n),this._elements.input.insertAdjacentHTML("afterend",Uo._renderSVG("spectrum-css-icon-Magnifier",["_coral-Search-icon","_coral-UIIcon-Magnifier"])),this._updateClearButton()}},{key:"name",get:function(){return this._elements.input.name},set:function(t){this._reflectAttribute("name",t),this._elements.input.name=t}},{key:"value",get:function(){return this._elements.input.value||""},set:function(t){this._elements.input.value=t,this._updateClearButton()}},{key:"disabled",get:function(){return this._disabled||!1},set:function(t){this._disabled=Ua.booleanAttr(t),this._reflectAttribute("disabled",this._disabled),this[this._disabled?"setAttribute":"removeAttribute"]("aria-disabled",this._disabled),this.classList.toggle("is-disabled",this._disabled),this._elements.input.disabled=this._disabled,this._elements.clearButton.disabled=this._disabled}},{key:"required",get:function(){return this._required||!1},set:function(t){this._required=Ua.booleanAttr(t),this._reflectAttribute("required",this._required),this._elements.input.required=this._required}},{key:"readOnly",get:function(){return this._readOnly||!1},set:function(t){this._readOnly=Ua.booleanAttr(t),this._reflectAttribute("readonly",this._readOnly),this._elements.input.readOnly=this._readOnly,this._elements.clearButton.disabled=this._readOnly}},{key:"labelledBy",get:function(){return m(l(i.prototype),"labelledBy",this)},set:function(t){g(l(i.prototype),"labelledBy",t,this,!0),this[this.labelledBy?"setAttribute":"removeAttribute"]("aria-labelledby",this.labelledBy)}},{key:"placeholder",get:function(){return this._elements.input.placeholder||""},set:function(t){t=Ua.string(t),this._reflectAttribute("placeholder",t),this._elements.input.placeholder=t}},{key:"maxLength",get:function(){return this._elements.input.maxLength},set:function(t){this._elements.input.maxLength=t,this._reflectAttribute("maxlength",this.maxLength)}},{key:"variant",get:function(){return this._variant||Dp.DEFAULT},set:function(t){t=Ua.string(t).toLowerCase(),this._variant=Ba.enumeration(Dp)(t)&&t||Dp.DEFAULT,this._reflectAttribute("variant",this._variant),this._elements.input.variant=t}},{key:"icon",get:function(){return this._icon||"search"},set:function(t){this._icon=Ua.string(t),this._reflectAttribute("icon",this._icon)}},{key:"invalid",get:function(){return m(l(i.prototype),"invalid",this)},set:function(t){g(l(i.prototype),"invalid",t,this,!0)}}],[{key:"variant",get:function(){return Dp}},{key:"_attributePropertyMap",get:function(){return da.extend(m(l(i),"_attributePropertyMap",this),{maxlength:"maxLength"})}},{key:"observedAttributes",get:function(){return m(l(i),"observedAttributes",this).concat(["placeholder","icon","variant","maxlength"])}}]),i}(mo(ho(HTMLElement)));da.extend(ka,{"coral-component-search":{"it-IT":{"Clear search":"Azzera ricerca"},"ja-JP":{"Clear search":"æ¤ç´¢ãã¯ãªã¢"},"es-ES":{"Clear search":"Borrar bÃºsqueda"},"ko-KR":{"Clear search":"ê²ì ì§ì°ê¸°"},"zh-CN":{"Clear search":"æ¸é¤æç´¢"},"zh-TW":{"Clear search":"æ¸é¤æå°"},"pt-BR":{"Clear search":"Limpar busca"},"nl-NL":{"Clear search":"Zoekopdracht wissen"},"en-US":{"Clear search":"Clear search"},"de-DE":{"Clear search":"Suche lÃ¶schen"},"fr-FR":{"Clear search":"Effacer la recherche"},"da-DK":{"Clear search":"Slet sÃ¸gning"},"fi-FI":{"Clear search":"TyhjennÃ¤ haku"},"nb-NO":{"Clear search":"Fjern sÃ¸k"},"sv-SE":{"Clear search":"Rensa sÃ¶kningen"},"cs-CZ":{"Clear search":"Vymazat hledÃ¡nÃ­"},"pl-PL":{"Clear search":"WyczyÅÄ wyniki wyszukiwania"},"ru-RU":{"Clear search":"ÐÑÐ¸ÑÑÐ¸ÑÑ Ð¿Ð¾Ð¸ÑÐº"},"tr-TR":{"Clear search":"AramayÄ± temizle"}}}),da._define("coral-search",Fp);var Pp=function(t){var e=document.createDocumentFragment(),i=t=void 0===t?{}:t,n=(i=t).commons.getUID();t=i;var a=document.createTextNode("\n");e.appendChild(a);var o=this.contentWrapper=document.createElement("div");o.setAttribute("handle","contentWrapper");var r=document.createTextNode("\n  ");o.appendChild(r);var s=document.createElement("label");s.className+=" u-coral-screenReaderOnly",s.id=n,s.textContent=t.i18n.get("Search for Help"),o.appendChild(s);var l=document.createTextNode("\n  ");o.appendChild(l);var c=this.search=document.createElement("coral-search");c.className+=" _coral-Shell-help-search",c.setAttribute("handle","search"),c.setAttribute("placeholder",t.i18n.get("Search for Help")),c.setAttribute("labelledby",n),o.appendChild(c);var u=document.createTextNode("\n  ");o.appendChild(u);var h=this.items=document.createElement("div");h.className+=" _coral-Shell-help-items",h.setAttribute("handle","items"),o.appendChild(h);var d=document.createTextNode("\n  ");o.appendChild(d);var p=this.results=document.createElement("coral-anchorlist");p.className+=" _coral-Shell-help-results",p.setAttribute("handle","results"),p.setAttribute("hidden",""),o.appendChild(p);var m=document.createTextNode("\n  ");o.appendChild(m);var f=this.resultMessage=document.createElement("div");f.className+=" _coral-Shell-help-resultMessage",f.setAttribute("handle","resultMessage"),f.setAttribute("role","status"),f.setAttribute("hidden",""),o.appendChild(f);var g=document.createTextNode("\n  ");o.appendChild(g);var v=this.loading=document.createElement("div");v.className+=" _coral-Shell-help-loading",v.setAttribute("handle","loading"),v.setAttribute("role","status"),v.setAttribute("hidden","");var _=document.createTextNode("\n    ");v.appendChild(_);var b=document.createElement("coral-wait");b.setAttribute("size","M"),b.className+=" _coral-Shell-help-loading-wait",v.appendChild(b);var y=document.createTextNode("\n    ");v.appendChild(y);var C=this.loadingMessage=document.createElement("span");C.className+=" coral-Heading--2 _coral-Shell-help-loading-info",C.setAttribute("handle","loadingMessage"),C.textContent=t.i18n.get("Searching Helpâ¦"),v.appendChild(C);var A=document.createTextNode("\n  ");v.appendChild(A),o.appendChild(v);var k=document.createTextNode("\n");o.appendChild(k),e.appendChild(o);var w=document.createTextNode("\n");return e.appendChild(w),e},Rp=function(t){var e=document.createDocumentFragment(),i=document.createElement("coral-list-item-content"),n=document.createTextNode(t.title+"\n  ");i.appendChild(n);var a=document.createElement("div");a.className+=" _coral-Shell-help-result-description",a.textContent=t.description,i.appendChild(a);var o=document.createTextNode("\n");i.appendChild(o),e.appendChild(i);var r=document.createTextNode("\n");return e.appendChild(r),e},Hp=function(t){var e=document.createDocumentFragment(),i=document.createElement("div");i.className+=" _coral-Shell-help-resultMessage-container";var n=document.createTextNode("\n  ");i.appendChild(n);var a=document.createElement("div");a.className+=" coral-Heading--1 _coral-Shell-help-resultMessage-heading",a.textContent=t.i18n.get("Error fetching results"),i.appendChild(a);var o=document.createTextNode("\n");i.appendChild(o),e.appendChild(i);var r=document.createTextNode("\n");return e.appendChild(r),e},Up=function(t){var e=document.createDocumentFragment(),i=document.createElement("div");i.className+=" _coral-Shell-help-resultMessage-container";var n=document.createTextNode("\n  ");i.appendChild(n);var a=document.createElement("h2");a.className+=" coral-heading coral-Heading--2 _coral-Shell-help-resultMessage-heading",a.textContent=t.i18n.get("No results found"),i.appendChild(a),e.appendChild(i);var o=document.createTextNode("\n");return e.appendChild(o),e},Bp=["_coral-Menu","_coral-AnchorList","_coral-Shell-help"],zp=function(t){s(i,t);var e=d(i);function i(){var t;return a(this,i),(t=e.call(this))._elements={},Pp.call(t._elements,{commons:da,i18n:wa}),t._delegateEvents({"coral-search:clear":"_showItems","coral-search:submit":"_performSearch"}),t.items._startHandlingItems(!0),t}return r(i,[{key:"_moveItems",value:function(){var t=this;this.setAttribute("id",this.id||da.getUID());var e="#".concat(this.id,' > a[is="coral-shell-help-item"], coral-shell-help-separator');Array.prototype.forEach.call(this.querySelectorAll(e),(function(e){t._elements.items.appendChild(e)}))}},{key:"_performSearch",value:function(t){t.stopPropagation(),this._elements.items.hidden=!0,this._showLoading(),this._elements.resultMessage.hidden=!0,this._elements.results.hidden=!0;var e=this._elements.search.value;this.trigger("coral-shell-help:search",{value:e})}},{key:"_showItems",value:function(t){t.stopPropagation(),this._elements.results.hidden=!0,this._hideLoading(),this._elements.resultMessage.hidden=!0,this._elements.items.hidden=!1}},{key:"_clearTimeout",value:function(t){this[t]&&(window.clearTimeout(this[t]),this[t]=void 0)}},{key:"_showMessage",value:function(t,e){var i=this._elements[t],n="_".concat(t,"Timeout");i.hidden=!1,this._clearTimeout(n),this[n]=window.setTimeout((function(){return i.appendChild(e)}),150)}},{key:"_showLoading",value:function(){this._elements.loading.hidden&&(this._elements.loading.contains(this._elements.loadingMessage)&&(this._elements.loadingMessage=this._elements.loading.removeChild(this._elements.loadingMessage)),this._showMessage("loading",this._elements.loadingMessage))}},{key:"_hideLoading",value:function(){this._elements.loading.hidden||(this._elements.loading.hidden=!0,this._clearTimeout("_loadingTimeout"),this._elements.loading.contains(this._elements.loadingMessage)&&(this._elements.loadingMessage=this._elements.loading.removeChild(this._elements.loadingMessage)))}},{key:"showError",value:function(){this._hideLoading(),this._elements.resultMessage.innerHTML="",this._showMessage("resultMessage",Hp.call(this._elements,{i18n:wa}))}},{key:"showResults",value:function(t,e,i){var n=this;if(this._hideLoading(),this._showResultsTimeout&&(window.clearTimeout(this._showResultsTimeout),this._showResultsTimeout=void 0),t&&0!==e){if(this._elements.results.innerHTML="",t.forEach((function(t){var e=t.tags.join(" & "),i=(new Ir.Item).set({href:t.href,target:t.target});i.classList.add("_coral-Shell-help-result-item"),i.content=Rp.call(n._elements,{title:t.title,description:e}).firstElementChild,n._elements.results.appendChild(i)})),this._elements.results.hidden=!1,e>1){var a=(new Ir.Item).set({href:i,content:{innerHTML:wa.get("See all {0} results",e)},target:"_blank"});a.content.classList.add("coral-Link"),this._elements.results.appendChild(a)}}else this._elements.resultMessage.innerHTML="",this._showMessage("resultMessage",Up.call(this._elements,{i18n:wa}))}},{key:"render",value:function(){var t,e=this;m(l(i.prototype),"render",this).call(this),(t=this.classList).add.apply(t,Bp),this._moveItems();var n=this.querySelector('[handle="contentWrapper"]');n?(this._elements.contentWrapper=n,["search","result","items","results","resultMessage","loading"].forEach((function(t){e._elements[t]=e.querySelector('[handle="'.concat(t,'"]'))})),this._items._container=this._elements.items):this.appendChild(this._elements.contentWrapper)}},{key:"items",get:function(){return this._items||(this._items=new rr({host:this,itemTagName:"coral-shell-help-item",itemBaseTagName:"a",container:this._elements.items})),this._items}},{key:"placeholder",get:function(){return this._elements.search.placeholder},set:function(t){this._elements.search.placeholder=t}}],[{key:"observedAttributes",get:function(){return m(l(i),"observedAttributes",this).concat(["placeholder"])}}]),i}(ho(HTMLElement)),qp=function(t){s(i,t);var e=d(i);function i(){return a(this,i),e.apply(this,arguments)}return r(i,[{key:"render",value:function(){m(l(i.prototype),"render",this).call(this),this.classList.add("_coral-Shell-help-item")}}]),i}(Ir.Item),Vp=function(t){s(i,t);var e=d(i);function i(){return a(this,i),e.apply(this,arguments)}return r(i,[{key:"render",value:function(){m(l(i.prototype),"render",this).call(this),this.classList.add("_coral-Shell-menu"),this.trigger("coral-shell-menu:_connected")}},{key:"within",get:function(){return document.querySelector("coral-shell")||"coral-shell"},set:function(t){g(l(i.prototype),"within",t,this,!0)}},{key:"placement",get:function(){return this.constructor.placement.BOTTOM},set:function(t){g(l(i.prototype),"placement",t,this,!0)}},{key:"full",get:function(){return this._full||!1},set:function(t){this._full=Ua.booleanAttr(t),this._reflectAttribute("full",this._full),this.classList.toggle("".concat("_coral-Shell-menu","--full"),this._full)}}],[{key:"observedAttributes",get:function(){return m(l(i),"observedAttributes",this).concat(["full"])}}]),i}(Wl),$p=function(t){s(i,t);var e=d(i);function i(){var t;return a(this,i),(t=e.call(this)).setAttribute("role","list"),t.items._startHandlingItems(!0),t}return r(i,[{key:"render",value:function(){m(l(i.prototype),"render",this).call(this),this.classList.add("_coral-Shell-menubar")}},{key:"items",get:function(){return this._items||(this._items=new rr({host:this,itemTagName:"coral-shell-menubar-item"})),this._items}}]),i}(ho(HTMLElement)),jp=function(t){var e=document.createDocumentFragment(),i=this.shellMenuButton=document.createElement("button","coral-button");i.setAttribute("is","coral-button"),i.setAttribute("variant","quietaction"),i.setAttribute("iconsize","S"),i.className+=" _coral-Shell-menu-button",i.setAttribute("handle","shellMenuButton"),i.setAttribute("type","button");var n=document.createTextNode("\n  ");i.appendChild(n);var a=this.shellMenuButtonLabel=document.createElement("coral-button-label");a.setAttribute("handle","shellMenuButtonLabel"),i.appendChild(a);var o=document.createTextNode("\n");i.appendChild(o),e.appendChild(i);var r=document.createTextNode("\n");return e.appendChild(r),e},Wp={DEFAULT:"default",CIRCLE:"circle"},Kp="_coral-Shell-menubar-item",Gp=[];for(var Zp in Wp)Gp.push("".concat(Kp,"--").concat(Wp[Zp]));var Xp=function(t){s(i,t);var e=d(i);function i(){var t;return a(this,i),(t=e.call(this))._elements={},jp.call(t._elements),t._delegateEvents({'click [handle="shellMenuButton"]':"_handleButtonClick","global:coral-overlay:close":"_handleOverlayEvent","global:coral-overlay:beforeclose":"_handleOverlayBeforeEvent","global:coral-overlay:open":"_handleOverlayEvent","global:coral-overlay:beforeopen":"_handleOverlayBeforeEvent"}),t}return r(i,[{key:"_handleOverlayBeforeEvent",value:function(t){var e=t.target;if(e===this._getMenu()){var i=this._elements.shellMenuButton;i.classList.toggle("is-selected",!e.open),i.setAttribute("aria-expanded",e.open)}}},{key:"_handleOverlayEvent",value:function(t){var e=t.target;e===this._getMenu()&&this.open!==e.open&&(this.open=e.open,this._elements.shellMenuButton.setAttribute("aria-expanded",e.open))}},{key:"_handleButtonClick",value:function(){this.open=!this.open}},{key:"_getMenu",value:function(t){if((t=t||this.menu)instanceof Node)return t;var e=null;return"string"==typeof t&&(e=document.querySelector(t)),e}},{key:"focus",value:function(){this._elements.shellMenuButton.focus()}},{key:"attributeChangedCallback",value:function(t,e,n){"aria-label"===t?n&&""===this._elements.shellMenuButton.textContent.trim()&&this._elements.shellMenuButton.setAttribute("aria-label",n):m(l(i.prototype),"attributeChangedCallback",this).call(this,t,e,n)}},{key:"render",value:function(){m(l(i.prototype),"render",this).call(this),this.setAttribute("role","listitem"),this.classList.add(Kp);var t=this.querySelector("._coral-Shell-menu-button");if(t)this._elements.shellMenuButton=t,this._elements.shellMenuButtonLabel=this.querySelector("coral-button-label");else{for(;this.firstChild;)this._elements.shellMenuButtonLabel.appendChild(this.firstChild);this.appendChild(this._elements.shellMenuButton)}this.label=this._elements.shellMenuButtonLabel,null!==this.menu&&(this.menu=this.menu)}},{key:"icon",get:function(){return this._elements.shellMenuButton.icon},set:function(t){this._elements.shellMenuButton.icon=t}},{key:"iconSize",get:function(){return this._elements.shellMenuButton.iconSize},set:function(t){this._elements.shellMenuButton.iconSize=t,this._reflectAttribute("iconsize",this.iconSize)}},{key:"iconVariant",get:function(){return this._iconVariant||Wp.DEFAULT},set:function(t){var e;t=Ua.string(t).toLowerCase(),this._iconVariant=Ba.enumeration(Wp)(t)&&t||Wp.DEFAULT,(e=this.classList).remove.apply(e,Gp),this.variant!==Wp.DEFAULT&&this.classList.add("".concat(Kp,"--").concat(this._iconVariant))}},{key:"badge",get:function(){return this._elements.shellMenuButton.getAttribute("badge")||""},set:function(t){this._elements.shellMenuButton[t&&"0"!==t?"setAttribute":"removeAttribute"]("badge",t)}},{key:"open",get:function(){return this._open||!1},set:function(t){var e=this._getMenu();null!==e&&(this._open=Ua.booleanAttr(t),this._reflectAttribute("open",this._open),e.open!==this._open&&(e.open=this._open,this._elements.shellMenuButton.setAttribute("aria-expanded",this._open)),this.trigger("coral-shell-menubar-item:".concat(this._open?"open":"close")))}},{key:"label",get:function(){return this._getContentZone(this._elements.shellMenuButtonLabel)},set:function(t){this._setContentZone("label",t,{handle:"shellMenuButtonLabel",tagName:"coral-button-label",insert:function(t){this._elements.shellMenuButton.label=t}})}},{key:"menu",get:function(){return this._menu||null},set:function(t){var e;if(t instanceof HTMLElement?(this._menu=t,e=this._menu):(this._menu=String(t),e=document.querySelector(this._menu)),e){this.id=this.id||da.getUID(),e.setAttribute("target","#".concat(this.id));var i=this._elements.shellMenuButton;i.setAttribute("aria-haspopup",e.getAttribute("role")||"dialog"),i.setAttribute("aria-expanded",this.open)}}},{key:"_contentZones",get:function(){return{"coral-button-label":"label"}}}],[{key:"iconVariant",get:function(){return Wp}},{key:"_attributePropertyMap",get:function(){return da.extend(m(l(i),"_attributePropertyMap",this),{iconsize:"iconSize",iconvariant:"iconVariant"})}},{key:"observedAttributes",get:function(){return m(l(i),"observedAttributes",this).concat(["icon","iconsize","iconvariant","badge","open","menu","aria-label"])}}]),i}(ho(HTMLElement)),Qp=function(t){var e=document.createDocumentFragment(),i=this.container=document.createElement("div");i.className+=" _coral-Shell-user-container",i.setAttribute("handle","container");var n=document.createTextNode("\n  ");i.appendChild(n);var a=this.image=document.createElement("div");a.className+=" _coral-Shell-user-image",a.setAttribute("handle","image");var o=document.createTextNode("\n    ");a.appendChild(o);var r=this.avatar=document.createElement("coral-icon");r.setAttribute("icon",t.icon),r.className+=" _coral-Shell-user-avatar",r.setAttribute("size","XL"),r.setAttribute("handle","avatar"),a.appendChild(r);var s=document.createTextNode("\n  ");a.appendChild(s),i.appendChild(a);var l=document.createTextNode("\n");i.appendChild(l),e.appendChild(i);var c=document.createTextNode("\n");return e.appendChild(c),e},Yp={DEFAULT:"UserCircleColor_Light"},Jp=function(t){s(i,t);var e=d(i);function i(){var t;return a(this,i),(t=e.call(this))._elements={name:t.querySelector("coral-shell-user-name")||document.createElement("coral-shell-user-name"),heading:t.querySelector("coral-shell-user-heading")||document.createElement("coral-shell-user-heading"),subheading:t.querySelector("coral-shell-user-subheading")||document.createElement("coral-shell-user-subheading"),content:t.querySelector("coral-shell-user-content")||document.createElement("coral-shell-user-content"),footer:t.querySelector("coral-shell-user-footer")||document.createElement("coral-shell-user-footer")},Qp.call(t._elements,{icon:Yp.DEFAULT}),t}return r(i,[{key:"render",value:function(){m(l(i.prototype),"render",this).call(this),this.classList.add("_coral-Shell-user");var t=document.createDocumentFragment();for(var e in t.appendChild(this._elements.container),this._contentZones){var n=this._elements[this._contentZones[e]];n.parentNode&&n.parentNode.removeChild(n)}for(;this.firstChild;){var a=this.firstChild;a.nodeType===Node.TEXT_NODE||a.nodeType===Node.ELEMENT_NODE&&"container"!==a.getAttribute("handle")?this._elements.content.appendChild(a):this.removeChild(a)}for(var o in this.appendChild(t),this._contentZones){var r=this._contentZones[o],s=this._elements[this._contentZones[o]];this[r]=s}}},{key:"avatar",get:function(){return this._elements.avatar.icon},set:function(t){this._elements.avatar.icon=t}},{key:"name",get:function(){return this._getContentZone(this._elements.name)},set:function(t){this._setContentZone("content",t,{handle:"name",tagName:"coral-shell-user-name",insert:function(t){this._elements.container.appendChild(t)}})}},{key:"heading",get:function(){return this._getContentZone(this._elements.heading)},set:function(t){this._setContentZone("heading",t,{handle:"heading",tagName:"coral-shell-user-heading",insert:function(t){this._elements.container.appendChild(t)}})}},{key:"subheading",get:function(){return this._getContentZone(this._elements.subheading)},set:function(t){this._setContentZone("subheading",t,{handle:"subheading",tagName:"coral-shell-user-subheading",insert:function(t){this._elements.container.appendChild(t)}})}},{key:"content",get:function(){return this._getContentZone(this._elements.content)},set:function(t){this._setContentZone("content",t,{handle:"content",tagName:"coral-shell-user-content",insert:function(t){""===t.innerHTML.trim()&&(t.innerHTML=""),this.appendChild(t)}})}},{key:"footer",get:function(){return this._getContentZone(this._elements.footer)},set:function(t){this._setContentZone("footer",t,{handle:"footer",tagName:"coral-shell-user-footer",insert:function(t){this.appendChild(t)}})}},{key:"_contentZones",get:function(){return{"coral-shell-user-name":"name","coral-shell-user-heading":"heading","coral-shell-user-subheading":"subheading","coral-shell-user-content":"content","coral-shell-user-footer":"footer"}}}],[{key:"observedAttributes",get:function(){return m(l(i),"observedAttributes",this).concat(["avatar"])}},{key:"avatar",get:function(){return Yp}}]),i}(ho(HTMLElement)),tm=function(t){s(i,t);var e=d(i);function i(){var t;return a(this,i),(t=e.call(this))._delegateEvents({'key:down [is="coral-shell-workspace"]':"_focusNextItem",'key:right [is="coral-shell-workspace"]':"_focusNextItem",'key:left [is="coral-shell-workspace"]':"_focusPreviousItem",'key:up [is="coral-shell-workspace"]':"_focusPreviousItem",'key:pageup [is="coral-shell-workspace"]':"_focusPreviousItem",'key:pagedown [is="coral-shell-workspace"]':"_focusNextItem",'key:home [is="coral-shell-workspace"]':"_focusFirstItem",'key:end [is="coral-shell-workspace"]':"_focusLastItem","coral-shell-workspace:_selectedchanged":"_onItemSelectedChanged","change ._coral-Shell-workspaces-select":"_onSelectChanged"}),t._elements={select:(new tc).set({variant:"quiet"})},t._elements.select.classList.add("_coral-Shell-workspaces-select"),t._oldSelection=null,t.items._startHandlingItems(!0),t}return r(i,[{key:"_validateSelection",value:function(t){var e=this.items._getAllSelected(),i=e.length;if(0===i){var n=this.items._getFirstSelectable();n&&n.setAttribute("selected","")}else if(i>1){t=t||e[e.length-1];for(var a=0;a<i;a++)e[a]!==t&&(this._preventTriggeringEvents=!0,e[a].removeAttribute("selected"));this._preventTriggeringEvents=!1}this._renderSelectItems(),this._triggerChangeEvent()}},{key:"_renderSelectItems",value:function(){var t=this;this._elements.select.items.clear(),this.items.getAll().forEach((function(e){t._elements.select.items.add({content:{innerHTML:e.innerHTML},selected:e.hasAttribute("selected"),_workspace:e})}))}},{key:"_onSelectChanged",value:function(t){t.stopImmediatePropagation(),this._elements.select.selectedItem._workspace.selected=!0}},{key:"_triggerChangeEvent",value:function(){var t=this.selectedItem,e=this._oldSelection;this._preventTriggeringEvents||t===e||(this.trigger("coral-shell-workspaces:change",{oldSelection:e,selection:t}),this._oldSelection=t)}},{key:"_onItemSelectedChanged",value:function(t){t.stopImmediatePropagation();var e=t.target;this._validateSelection(e)}},{key:"_eventIsAtTarget",value:function(t){var e=t.target===t.matchedTarget;return e&&(t.preventDefault(),t.stopPropagation()),e}},{key:"_focusNextItem",value:function(t){if(this._eventIsAtTarget(t)){var e=t.matchedTarget;e.nextElementSibling?e.nextElementSibling.focus():this.items.first().focus()}}},{key:"_focusPreviousItem",value:function(t){if(this._eventIsAtTarget(t)){var e=t.matchedTarget;e.previousElementSibling?e.previousElementSibling.focus():this.items.last().focus()}}},{key:"_focusFirstItem",value:function(t){this._eventIsAtTarget(t)&&this.items.first().focus()}},{key:"_focusLastItem",value:function(t){this._eventIsAtTarget(t)&&this.items.last().focus()}},{key:"render",value:function(){m(l(i.prototype),"render",this).call(this),this.classList.add("_coral-Shell-workspaces"),this._preventTriggeringEvents=!0,this._validateSelection(),this._preventTriggeringEvents=!1,this._oldSelection=this.selectedItem;var t=this.querySelector("._coral-Shell-workspaces-select");t&&t.remove(),this.appendChild(this._elements.select)}},{key:"items",get:function(){return this._items||(this._items=new sr({host:this,itemTagName:"coral-shell-workspace",itemBaseTagName:"a",onItemAdded:this._validateSelection,onItemRemoved:this._validateSelection})),this._items}},{key:"selectedItem",get:function(){return this.items._getLastSelected()}}]),i}(ho(HTMLElement)),em=function(t){s(i,t);var e=d(i);function i(){var t;return a(this,i),(t=e.call(this))._delegateEvents({click:"_onClick"}),t}return r(i,[{key:"_onClick",value:function(){this.selected||(this.selected=!0)}},{key:"render",value:function(){m(l(i.prototype),"render",this).call(this),this.classList.add("_coral-Shell-workspaces-workspace")}},{key:"selected",get:function(){return this._selected||!1},set:function(t){this._selected=Ua.booleanAttr(t),this._reflectAttribute("selected",this._selected),this.setAttribute("aria-selected",this._selected),this.classList.toggle("is-selected",this._selected),this.trigger("coral-shell-workspace:_selectedchanged")}}],[{key:"observedAttributes",get:function(){return m(l(i),"observedAttributes",this).concat(["selected"])}}]),i}(ho(HTMLAnchorElement)),im=function(t){var e=document.createDocumentFragment(),i=this.container=document.createElement("div");i.setAttribute("handle","container"),i.className+=" _coral-Shell-solutions-container",e.appendChild(i);var n=document.createTextNode("\n");return e.appendChild(n),e},nm=function(t){s(i,t);var e=d(i);function i(){var t;return a(this,i),(t=e.call(this))._elements={},im.call(t._elements),new MutationObserver((function(e){e.forEach((function(e){for(var i=0;i<e.addedNodes.length;i++){var n=e.addedNodes[i];"CORAL-SHELL-SOLUTIONS"!==n.nodeName||n.hasAttribute("secondary")||t._elements.container.appendChild(n)}}))})).observe(u(t),{childList:!0}),t}return r(i,[{key:"render",value:function(){m(l(i.prototype),"render",this).call(this),this.classList.add("_coral-Shell-solutionSwitcher"),this.classList.add("coral--darkest");var t=this.querySelector("._coral-Shell-solutions-container")||this._elements.container;t.parentNode&&t.remove(),Array.prototype.forEach.call(this.querySelectorAll("coral-shell-solutions:not([secondary])"),(function(e){t.appendChild(e)})),this.insertBefore(t,this.firstChild)}},{key:"items",get:function(){return this._items||(this._items=new rr({host:this,itemTagName:"coral-shell-solutions"})),this._items}}]),i}(ho(HTMLElement)),am=function(t){s(i,t);var e=d(i);function i(){return a(this,i),e.apply(this,arguments)}return r(i,[{key:"_sortSolutions",value:function(){var t=this;if(this.items.length>1){var e=[],i=[],n=this.hasAttribute("secondary");this.items.getAll().forEach((function(t,a){n&&0===a||(t.hasAttribute("linked")?e.push(t):i.push(t))}));var a=function(t,e){var i=t.textContent.trim().toLowerCase(),n=e.textContent.trim().toLowerCase();return i<n?-1:i>n?1:0};e.sort(a),i.sort(a),e.forEach((function(e){t.appendChild(e)})),i.forEach((function(e){t.appendChild(e)}))}}},{key:"render",value:function(){m(l(i.prototype),"render",this).call(this),this.classList.add("_coral-Shell-solutions"),this._sortSolutions()}},{key:"items",get:function(){return this._items||(this._items=new rr({host:this,itemTagName:"coral-shell-solution",itemBaseTagName:"a"})),this._items}},{key:"secondary",get:function(){return this._secondary||!1},set:function(t){this._secondary=Ua.booleanAttr(t),this._reflectAttribute("secondary",this._secondary),this.classList.toggle("".concat("_coral-Shell-solutions","--secondary"),this._secondary)}}],[{key:"observedAttributes",get:function(){return m(l(i),"observedAttributes",this).concat(["secondary"])}}]),i}(ho(HTMLElement)),om=function(t){var e=document.createDocumentFragment(),i=this.icon=document.createElement("coral-icon");i.setAttribute("size","XL"),i.setAttribute("handle","icon"),i.className+=" _coral-Shell-solution-icon",i.setAttribute("alt",""),e.appendChild(i);var n=document.createTextNode("\n");return e.appendChild(n),e},rm=function(t){s(i,t);var e=d(i);function i(){var t;return a(this,i),(t=e.call(this))._elements={label:t.querySelector("coral-shell-solution-label")||document.createElement("coral-shell-solution-label")},om.call(t._elements),t}return r(i,[{key:"render",value:function(){m(l(i.prototype),"render",this).call(this),this.classList.add("_coral-Shell-solution");var t=document.createDocumentFragment();t.appendChild(this._elements.icon);var e=this._elements.label;for(e&&e.remove();this.firstChild;){var n=this.firstChild;n.nodeType===Node.TEXT_NODE||n.nodeType===Node.ELEMENT_NODE&&"icon"!==n.getAttribute("handle")?e.appendChild(n):this.removeChild(n)}this.appendChild(t),this.label=e}},{key:"icon",get:function(){return this._elements.icon.icon},set:function(t){this._elements.icon.icon=t}},{key:"label",get:function(){return this._getContentZone(this._elements.label)},set:function(t){this._setContentZone("label",t,{handle:"label",tagName:"coral-shell-solution-label",insert:function(t){this.appendChild(t)}})}},{key:"linked",get:function(){return this._linked||!1},set:function(t){this._linked=Ua.booleanAttr(t),this._reflectAttribute("linked",this._linked),this.classList.toggle("".concat("_coral-Shell-solution","--linked"),this._linked)}},{key:"_contentZones",get:function(){return{"coral-shell-solution-label":"label"}}}],[{key:"observedAttributes",get:function(){return m(l(i),"observedAttributes",this).concat(["icon","linked"])}}]),i}(ho(HTMLAnchorElement)),sm=function(t){var e=document.createDocumentFragment(),i=t=void 0===t?{}:t,n=(i=t).commons.getUID();t=i;var a=document.createTextNode("\n");e.appendChild(a);var o=this.container=document.createElement("div");o.setAttribute("handle","container");var r=document.createTextNode("\n  ");o.appendChild(r);var s=document.createElement("label");s.className+=" u-coral-screenReaderOnly",s.id=n,s.textContent=t.i18n.get("Search Organizations"),o.appendChild(s);var l=document.createTextNode("\n  ");o.appendChild(l);var c=this.search=document.createElement("coral-search");c.className+=" _coral-Shell-orgSwitcher-search",c.setAttribute("handle","search"),c.setAttribute("placeholder",t.i18n.get("Search Organizations")),c.setAttribute("labelledby",n),o.appendChild(c);var u=document.createTextNode("\n  ");o.appendChild(u);var h=this.items=document.createElement("div");h.className+=" _coral-Shell-orgSwitcher-items",h.setAttribute("handle","items"),o.appendChild(h);var d=document.createTextNode("\n  ");o.appendChild(d);var p=this.resultMessage=document.createElement("div");p.className+=" _coral-Shell-orgSwitcher-resultMessage",p.setAttribute("handle","resultMessage"),p.setAttribute("hidden","");var m=document.createTextNode("\n    ");p.appendChild(m);var f=document.createElement("div");f.className+=" _coral-Shell-orgSwitcher-resultMessage-container";var g=document.createTextNode("\n      ");f.appendChild(g);var v=document.createElement("h2");v.className+=" coral-Heading coral-Heading--2",v.textContent=t.i18n.get("No organizations found."),f.appendChild(v);var _=document.createTextNode("\n    ");f.appendChild(_),p.appendChild(f);var b=document.createTextNode("\n  ");p.appendChild(b),o.appendChild(p);var y=document.createTextNode("\n");o.appendChild(y),e.appendChild(o);var C=document.createTextNode("\n");return e.appendChild(C),e},lm=function(t){s(i,t);var e=d(i);function i(){var t;return a(this,i),(t=e.call(this))._delegateEvents({"coral-search:clear":"_showAll","coral-search:input":"_performSearch","coral-search:submit":"_selectFirst","coral-shell-organization:change":"_onOrganizationChange","coral-shell-organization:_selectedchanged":"_onItemSelectedChanged","coral-shell-suborganization:_selectedchanged":"_onSubItemSelectedChanged"}),t._elements={footer:t.querySelector("coral-shell-orgswitcher-footer")||document.createElement("coral-shell-orgswitcher-footer")},sm.call(t._elements,{commons:da,i18n:wa}),t._oldSelection=null,t.items._startHandlingItems(!0),t}return r(i,[{key:"_onItemSelectedChanged",value:function(t){t.stopImmediatePropagation();var e=t.target;this._validateSelection(e)}},{key:"_onSubItemSelectedChanged",value:function(t){var e=this;t.stopImmediatePropagation(),t.target.hasAttribute("selected")&&(this.items._getAllSelected().forEach((function(t){"CORAL-SHELL-ORGANIZATION"===t.tagName&&(e._preventTriggeringEvents=!0,t.removeAttribute("selected"))})),this._preventTriggeringEvents=!1)}},{key:"_onOrganizationChange",value:function(){this._triggerChangeEvent()}},{key:"_selectFirst",value:function(t){t.stopPropagation();var e=this.items.first();e&&e.setAttribute("selected","")}},{key:"_validateSelection",value:function(t){var e=this.items._getAllSelected(),i=e.length;if(i>1){for(var n=0;n<i;n++)e[n]!==t&&(this._preventTriggeringEvents=!0,e[n].removeAttribute("selected"));this._preventTriggeringEvents=!1}this._triggerChangeEvent()}},{key:"_triggerChangeEvent",value:function(){var t=this.selectedItem,e=this._oldSelection;this._preventTriggeringEvents||t===e||(this.trigger("coral-shell-orgswitcher:change",{oldSelection:e,selection:t}),this._oldSelection=t)}},{key:"_showAll",value:function(t){t.stopPropagation(),this._elements.resultMessage.hidden=!0,this.items.getAll().forEach((function(t){t.hidden=!1,t.items&&t.items.getAll().forEach((function(t){t.hidden=!1}))}))}},{key:"_performSearch",value:function(t){t.stopPropagation();var e=this._elements.search.value.toLowerCase();this._elements.resultMessage.hidden=!0;var i=0;this.items.getAll().forEach((function(t){var n=-1!==t.content.textContent.toLowerCase().indexOf(e),a=!1;t.items&&t.items.getAll().forEach((function(t){var i=-1!==t.content.textContent.toLowerCase().indexOf(e);a=a||i,t.hidden=!i})),n=n||a,t.hidden=!n,n&&i++})),0===i&&(this._elements.resultMessage.hidden=!1)}},{key:"_moveItems",value:function(){var t=this;this.setAttribute("id",this.id||da.getUID()),Array.prototype.forEach.call(this.querySelectorAll("#".concat(this.id," > coral-shell-organization")),(function(e){t._elements.items.appendChild(e)}))}},{key:"_onCollectionChange",value:function(t){this._moveItems(),this._validateSelection(t),this.items.length<=6?this._elements.search.hide():this._elements.search.show()}},{key:"render",value:function(){m(l(i.prototype),"render",this).call(this),this.classList.add("_coral-Shell-orgSwitcher"),this._moveItems();var t=this.querySelector('[handle="container"]');t?(this._elements.container=t,this._elements.items=this.querySelector("._coral-Shell-orgSwitcher-items"),this._elements.search=this.querySelector("._coral-Shell-orgSwitcher-search"),this._elements.resultMessage=this.querySelector("._coral-Shell-orgSwitcher-resultMessage"),this._items._container=this._elements.items):this.appendChild(this._elements.container),this.footer=this._elements.footer,this._preventTriggeringEvents=!0,this._validateSelection(),this._preventTriggeringEvents=!1,this._oldSelection=this.selectedItem}},{key:"items",get:function(){return this._items||(this._items=new sr({host:this,itemTagName:"coral-shell-organization",itemSelector:"coral-shell-organization, coral-shell-suborganization",container:this._elements.items,onItemAdded:this._onCollectionChange,onItemRemoved:this._onCollectionChange})),this._items}},{key:"placeholder",get:function(){return this._elements.search.placeholder},set:function(t){this._elements.search.placeholder=t}},{key:"footer",get:function(){return this._getContentZone(this._elements.footer)},set:function(t){this._setContentZone("content",t,{handle:"footer",tagName:"coral-shell-orgswitcher-footer",insert:function(t){this.appendChild(t)}})}},{key:"_itemTagName",get:function(){return"coral-shell-organization"}},{key:"selectedItem",get:function(){return this.items._getLastSelected()}},{key:"_contentZones",get:function(){return{"coral-shell-orgswitcher-footer":"footer"}}}],[{key:"observedAttributes",get:function(){return m(l(i),"observedAttributes",this).concat(["placeholder"])}}]),i}(Tr),cm=function(t){var e=document.createDocumentFragment(),i=t=void 0===t?{}:t,n=this.checkmark=document.createElement("span");n.setAttribute("handle","checkmark"),n.setAttribute("hidden",""),n.className+=" _coral-Shell-orgSwitcher-checkmark";var a=document.createTextNode("\n  ");n.appendChild(a),i=t,this.checkmark.innerHTML=i.Icon._renderSVG("spectrum-css-icon-CheckmarkMedium",["_coral-UIIcon-CheckmarkMedium","_coral-Menu-checkmark"]),t=i;var o=document.createTextNode("\n");n.appendChild(o),e.appendChild(n);var r=document.createTextNode("\n");e.appendChild(r);var s=this.items=document.createElement("div");s.setAttribute("handle","items"),s.className+=" _coral-Shell-orgSwitcher-subitems",e.appendChild(s);var l=document.createTextNode("\n\n");return e.appendChild(l),e},um=function(t){s(i,t);var e=d(i);function i(){var t;a(this,i),(t=e.call(this))._delegateEvents({click:"_onClick","key:enter":"_onClick","key:space":"_onClick","coral-shell-suborganization:_selectedchanged":"_onItemSelectedChanged"});var n={};return cm.call(n,{Icon:Uo}),da.extend(t._elements,n),t._oldSelection=null,t.items._startHandlingItems(!0),t}return r(i,[{key:"_onItemSelectedChanged",value:function(t){if("CORAL-SHELL-ORGANIZATION"===this.tagName){var e=t.target;this._validateSelection(e)}}},{key:"_onItemAdded",value:function(t){this._moveItems(),this._validateSelection(t)}},{key:"_onItemRemoved",value:function(t){this._setParent(),this._validateSelection(t)}},{key:"_validateSelection",value:function(t){var e=this.items._getAllSelected(),i=e.length;if(i>1){for(var n=0;n<i;n++)e[n]!==t&&(this._preventTriggeringEvents=!0,e[n].removeAttribute("selected"));this._preventTriggeringEvents=!1}this._triggerChangeEvent()}},{key:"_triggerChangeEvent",value:function(){var t=this.selectedItem,e=this._oldSelection;this._preventTriggeringEvents||t===e||(this.trigger("".concat(this.tagName.toLowerCase(),":change"),{oldSelection:e,selection:t}),this._oldSelection=t)}},{key:"_moveItems",value:function(){var t=this;Array.prototype.forEach.call(this.querySelectorAll("coral-shell-suborganization"),(function(e){t._elements.items.contains(e)||t._elements.items.appendChild(e)}))}},{key:"_setParent",value:function(){var t=0!==this.items.length;t?(this.removeAttribute("role"),this.removeAttribute("tabindex")):(this.setAttribute("role","button"),this.setAttribute("tabindex",0)),this.classList.toggle("is-parent",t)}},{key:"_onClick",value:function(){0===this.items.length&&(this.selected=!0)}},{key:"render",value:function(){m(l(i.prototype),"render",this).call(this),this.classList.add("_coral-Shell-orgSwitcher-item"),this._moveItems(),this.setAttribute("id",this.id||da.getUID());var t=this.querySelector("#".concat(this.id," > ._coral-Shell-orgSwitcher-subitems"));t&&t.remove();var e=this.querySelector("#".concat(this.id," > ._coral-Shell-orgSwitcher-checkmark"));e&&e.remove();var n=document.createDocumentFragment();n.appendChild(this._elements.checkmark),n.appendChild(this._elements.items),this.appendChild(n),this._preventTriggeringEvents=!0,this._validateSelection(),this._preventTriggeringEvents=!1,this._oldSelection=this.selectedItem,this._setParent()}},{key:"items",get:function(){return this._items||(this._items=new sr({host:this,itemTagName:"coral-shell-suborganization",container:this._elements.items,onItemAdded:this._onItemAdded,onItemRemoved:this._onItemRemoved})),this._items}},{key:"selectedItem",get:function(){return this.items._getLastSelected()}},{key:"selected",get:function(){return this._selected||!1},set:function(t){if(this._selected=Ua.booleanAttr(t),this._reflectAttribute("selected",this._selected),this.setAttribute("aria-selected",this._selected),this.classList.toggle("is-selected",this._selected),this._elements.checkmark.hidden=!this._selected,this.items){var e=this.selectedItem;this.classList.toggle("is-child-selected",e),!this._selected&&e&&e.removeAttribute("selected")}this.trigger("".concat(this.tagName.toLowerCase(),":_selectedchanged"))}},{key:"name",get:function(){return this._name||""},set:function(t){this._name=Ua.string(t),this._reflectAttribute("name",this._name)}}],[{key:"observedAttributes",get:function(){return m(l(i),"observedAttributes",this).concat(["name","selected"])}}]),i}(Tr.Item),hm=function(t){s(i,t);var e=d(i);function i(){return a(this,i),e.apply(this,arguments)}return r(i,[{key:"render",value:function(){m(l(i.prototype),"render",this).call(this),this.classList.add("_coral-Shell-orgSwitcher-subitem"),this._elements.icon.size=Uo.size.SMALL,this.setAttribute("role","button"),this.setAttribute("tabindex",0)}}]),i}(um);da.extend(ka,{"coral-component-shell-help":{"en-US":{"Search for Help":"Search for Help","Searching Helpâ¦":"Searching Helpâ¦","Error fetching results":"Error fetching results","No results found":"No results found","See all {0} results":"See all {0} results"},"fr-FR":{"Search for Help":"Rechercher de lâaide","Searching Helpâ¦":"Recherche dans lâaideâ¦","Error fetching results":"Erreur lors de la rÃ©cupÃ©ration des rÃ©sultats","No results found":"Aucun rÃ©sultat trouvÃ©","See all {0} results":"Voir les {0} rÃ©sultats"},"de-DE":{"Search for Help":"Nach Hilfe suchen","Searching Helpâ¦":"Suche nach Hilfe â¦","Error fetching results":"Fehler beim Abruf von Ergebnissen","No results found":"Keine Ergebnisse gefunden","See all {0} results":"Alle {0} Ergebnisse anzeigen"},"it-IT":{"Search for Help":"Cerca informazioni nell'Aiuto","Searching Helpâ¦":"Ricerca aiutoâ¦","Error fetching results":"Errore durante il recupero dei risultati","No results found":"Nessun risultato trovato","See all {0} results":"Visualizza tutti i {0} risultati"},"es-ES":{"Search for Help":"Buscar ayuda","Searching Helpâ¦":"Buscando ayudaâ¦","Error fetching results":"Error al obtener los resultados","No results found":"No se han encontrado resultados","See all {0} results":"Ver los {0} resultados"},"pt-BR":{"Search for Help":"Procurar nas seÃ§Ãµes de Ajuda","Searching Helpâ¦":"Procurando ajudaâ¦","Error fetching results":"Erro ao obter resultados","No results found":"Nenhum resultado encontrado","See all {0} results":"Ver todos os resultados de {0}"},"ja-JP":{"Search for Help":"ãã«ããæ¤ç´¢","Searching Helpâ¦":"ãã«ããæ¤ç´¢ä¸­â¦","Error fetching results":"çµæãåå¾ä¸­ã«ã¨ã©ã¼ãçºçãã¾ãã","No results found":"çµæãè¦ã¤ããã¾ããã§ãã","See all {0} results":"ãã¹ã¦ã® {0} çµæãç¢ºèª"},"ko-KR":{"Search for Help":"ëìë§ ê²ì","Searching Helpâ¦":"ëìë§ ê²ì ì¤â¦","Error fetching results":"ê²°ê³¼ë¥¼ ê°ì ¸ì¤ë ì¤ ì¤ë¥ ë°ì","No results found":"ê²°ê³¼ë¥¼ ì°¾ì ì ììµëë¤","See all {0} results":"ì´ {0}ê° ê²°ê³¼ ë³´ê¸°"},"zh-CN":{"Search for Help":"æç´¢å¸®å©","Searching Helpâ¦":"æ­£å¨æç´¢å¸®å©â¦","Error fetching results":"è·åç»ææ¶åºé","No results found":"æ¾ä¸å°ä»»ä½ç»æ","See all {0} results":"æ¥çå¨é¨ {0} ä¸ªç»æ"},"zh-TW":{"Search for Help":"æå°èªªæ","Searching Helpâ¦":"æ­£å¨æå°èªªæâ¦","Error fetching results":"æ·åçµææç¼çé¯èª¤","No results found":"æ¾ä¸å°çµæ","See all {0} results":"æ¥çå¨é¨ {0} åçµæ"},"nl-NL":{"Search for Help":"Zoeken naar hulp","Searching Helpâ¦":"Hulp zoekenâ¦","Error fetching results":"Fout bij ophalen resultaten","No results found":"Geen resultaten gevonden","See all {0} results":"Alle {0} resultaten bekijken"},"da-DK":{"Search for Help":"SÃ¸g efter HjÃ¦lp...","Searching Helpâ¦":"SÃ¸ger i HjÃ¦lp...","Error fetching results":"Fejl ved hentning af resultater","No results found":"Ingen resultater fundet","See all {0} results":"Se alle {0} resultater"},"fi-FI":{"Search for Help":"Hae ohjeita","Searching Helpâ¦":"Haun ohjeâ¦","Error fetching results":"Tuloksia haettaessa tapahtui virhe.","No results found":"Tuloksia ei lÃ¶ytynyt.","See all {0} results":"NÃ¤ytÃ¤ kaikki {0} tulosta"},"nb-NO":{"Search for Help":"SÃ¸k etter hjelp","Searching Helpâ¦":"SÃ¸ker i Hjelp â¦","Error fetching results":"Kan ikke hente resultater","No results found":"Finner ingen resultater","See all {0} results":"Vis alle de {0} resultatene"},"sv-SE":{"Search for Help":"SÃ¶k efter hjÃ¤lp","Searching Helpâ¦":"SÃ¶khjÃ¤lpâ¦","Error fetching results":"Det gick inte att hÃ¤mta resultat","No results found":"Inga resultat funna","See all {0} results":"Se alla {0} resultat"},"cs-CZ":{"Search for Help":"Vyhledat nÃ¡povÄdu","Searching Helpâ¦":"NÃ¡povÄda hledÃ¡nÃ­â¦","Error fetching results":"PÅi shromaÅ¾ÄovÃ¡nÃ­ vÃ½sledkÅ¯ doÅ¡lo k chybÄ","No results found":"Nebyly nalezeny Å¾Ã¡dnÃ© vÃ½sledky","See all {0} results":"Zobrazit vÅ¡echny vÃ½sledky: {0}"},"pl-PL":{"Search for Help":"Szukaj pomocy","Searching Helpâ¦":"Trwa przeszukiwanie Pomocy...","Error fetching results":"BÅÄd pobierania wynikÃ³w","No results found":"Nie znaleziono Å¼adnych wynikÃ³w","See all {0} results":"Zobacz wszystkie {0} wynikÃ³w"},"ru-RU":{"Search for Help":"ÐÐ¾Ð¸ÑÐº ÑÐ¿ÑÐ°Ð²ÐºÐ¸","Searching Helpâ¦":"ÐÐ¾Ð¸ÑÐº Ð¿Ð¾ ÑÐ¿ÑÐ°Ð²ÐºÐµâ¦","Error fetching results":"ÐÑÐ¸Ð±ÐºÐ° Ð¿Ð¾Ð»ÑÑÐµÐ½Ð¸Ñ ÑÐµÐ·ÑÐ»ÑÑÐ°ÑÐ¾Ð²","No results found":"Ð ÐµÐ·ÑÐ»ÑÑÐ°ÑÑ Ð½Ðµ Ð½Ð°Ð¹Ð´ÐµÐ½Ñ","See all {0} results":"ÐÐ¾ÑÐ¼Ð¾ÑÑÐµÑÑ Ð²ÑÐµ ÑÐµÐ·ÑÐ»ÑÑÐ°ÑÑ ({0})"},"tr-TR":{"Search for Help":"YardÄ±m Ara","Searching Helpâ¦":"YardÄ±m AranÄ±yor...","Error fetching results":"SonuÃ§lar alÄ±nÄ±rken hata oluÅtu","No results found":"SonuÃ§ bulunamadÄ±","See all {0} results":"TÃ¼m {0} sonuÃ§larÄ±nÄ± gÃ¶r"}},"coral-component-shell-orgswitcher":{"en-US":{"Search Organizations":"Search Organizations","No organizations found&period;":"No organizations found."},"fr-FR":{"Search Organizations":"Rechercher des organisations","No organizations found&period;":"Aucune organisation trouvÃ©e."},"de-DE":{"Search Organizations":"Organisationen durchsuchen","No organizations found&period;":"Keine Organisationen gefunden."},"it-IT":{"Search Organizations":"Cerca organizzazioni","No organizations found&period;":"Nessuna organizzazione trovata."},"es-ES":{"Search Organizations":"Buscar organizaciones","No organizations found&period;":"No se ha encontrado ninguna organizaciÃ³n."},"pt-BR":{"Search Organizations":"Procurar organizaÃ§Ãµes","No organizations found&period;":"Nenhuma organizaÃ§Ã£o encontrada."},"ja-JP":{"Search Organizations":"çµç¹ãæ¤ç´¢","No organizations found&period;":"çµç¹ãè¦ã¤ããã¾ããã§ããã"},"ko-KR":{"Search Organizations":"ì¡°ì§ ê²ì","No organizations found&period;":"ì¡°ì§ì ì°¾ì ì ììµëë¤."},"zh-CN":{"Search Organizations":"æç´¢ç»ç»","No organizations found&period;":"æ¾ä¸å°ä»»ä½ç»ç»ã"},"zh-TW":{"Search Organizations":"æå°çµç¹","No organizations found&period;":"æ¾ä¸å°çµç¹ã"},"nl-NL":{"Search Organizations":"Organisaties zoeken","No organizations found&period;":"Geen organisaties gevonden."},"da-DK":{"Search Organizations":"SÃ¸g i virksomheder","No organizations found&period;":"Ingen virksomheder fundet."},"fi-FI":{"Search Organizations":"Hae organisaatioita","No organizations found&period;":"Organisaatioita ei lÃ¶ytynyt."},"nb-NO":{"Search Organizations":"SÃ¸k etter organisasjoner","No organizations found&period;":"Finner ingen organisasjoner."},"sv-SE":{"Search Organizations":"SÃ¶korganisationer","No organizations found&period;":"Inga organisationer funna."},"cs-CZ":{"Search Organizations":"Hledat ve spoleÄnostech","No organizations found&period;":"Nebyly nalezeny Å¾Ã¡dnÃ© spoleÄnosti."},"pl-PL":{"Search Organizations":"Wyszukaj organizacje","No organizations found&period;":"Nie znaleziono Å¼adnych organizacji."},"ru-RU":{"Search Organizations":"ÐÑÐºÐ°ÑÑ Ð¾ÑÐ³Ð°Ð½Ð¸Ð·Ð°ÑÐ¸Ð¸","No organizations found&period;":"ÐÑÐ³Ð°Ð½Ð¸Ð·Ð°ÑÐ¸Ð¸ Ð½Ðµ Ð½Ð°Ð¹Ð´ÐµÐ½Ñ."},"tr-TR":{"Search Organizations":"KuruluÅlarÄ± ara","No organizations found&period;":"KuruluÅ bulunamadÄ±."}}}),da._define("coral-shell-header",Lp),da._define("coral-shell-homeanchor",Mp,{extends:"a"}),da._define("coral-shell-help-item",qp,{extends:"a"}),da._define("coral-shell-help",zp),da._define("coral-shell-menubar-item",Xp),da._define("coral-shell-menubar",$p),da._define("coral-shell-menu",Vp),da._define("coral-shell-user",Jp),da._define("coral-shell-workspace",em,{extends:"a"}),da._define("coral-shell-workspaces",tm),da._define("coral-shell-solution",rm,{extends:"a"}),da._define("coral-shell-solutions",am),da._define("coral-shell-solutionswitcher",nm),da._define("coral-shell-suborganization",hm),da._define("coral-shell-organization",um),da._define("coral-shell-orgswitcher",lm),da._define("coral-shell",Ip),Ip.Content=function(){return document.createElement("coral-shell-content")},Ip.Header=Lp,Ip.HomeAnchor=Mp,Ip.HomeAnchor.Label=function(){return document.createElement("coral-shell-homeanchor-label")},Ip.Help=zp,Ip.Help.Item=qp,Ip.Help.Separator=function(){return document.createElement("coral-shell-help-separator")},Ip.Menu=Vp,Ip.MenuBar=$p,Ip.MenuBar.Item=Xp,Ip.User=Jp,Ip.User.Content=function(){return document.createElement("coral-shell-user-content")},Ip.User.Footer=function(){return document.createElement("coral-shell-user-footer")},Ip.User.Heading=function(){return document.createElement("coral-shell-user-heading")},Ip.User.Name=function(){return document.createElement("coral-shell-user-name")},Ip.User.Subheading=function(){return document.createElement("coral-shell-user-subheading")},Ip.Workspaces=tm,Ip.Workspace=em,Ip.SolutionSwitcher=nm,Ip.Solutions=am,Ip.Solutions.Header=function(){return da._log("warn","Coral.Shell.Solutions.Header: coral-shell-solutions-header is deprecated."),document.createElement("coral-shell-solutions-header")},Ip.Solution=rm,Ip.Solution.Label=function(){return document.createElement("coral-shell-solution-label")},Ip.OrgSwitcher=lm,Ip.OrgSwitcher.Footer=function(){return document.createElement("coral-shell-orgswitcher-footer")},Ip.Organization=um,Ip.Suborganization=hm;var dm=function(t){return"CORAL-SIDENAV-LEVEL"===t.nodeName},pm=function(t){return"CORAL-SIDENAV-HEADING"===t.nodeName},mm=function(t){return"A"===t.nodeName&&"coral-sidenav-item"===t.getAttribute("is")},fm={DEFAULT:"default",MULTI_LEVEL:"multilevel"},gm=function(t){s(i,t);var e=d(i);function i(){var t;return a(this,i),(t=e.call(this))._delegateEvents({'click a[is="coral-sidenav-item"]':"_onItemClick",'capture:focus a[is="coral-sidenav-item"].focus-ring':"_onItemFocusIn",'capture:blur a[is="coral-sidenav-item"]':"_onItemFocusOut","coral-sidenav-item:_selectedchanged":"_onItemSelectedChanged"}),t._oldSelection=null,t._levels=t.getElementsByTagName("coral-sidenav-level"),t._headings=t.getElementsByTagName("coral-sidenav-heading"),t.items._startHandlingItems(!0),t._observer=new MutationObserver(t._handleMutations.bind(u(t))),t._observer.observe(u(t),{childList:!0,subtree:!0}),t}return r(i,[{key:"_onItemClick",value:function(t){var e=t.matchedTarget;e.selected||(e.selected=!0)}},{key:"_onItemFocusIn",value:function(t){t.matchedTarget._elements.container.classList.add("focus-ring")}},{key:"_onItemFocusOut",value:function(t){t.matchedTarget._elements.container.classList.remove("focus-ring")}},{key:"_onItemSelectedChanged",value:function(t){t.stopImmediatePropagation(),this._validateSelection(t.target)}},{key:"_validateSelection",value:function(t){var e=this,i=this.items._getAllSelected();(t=t||i[i.length-1])&&t.hasAttribute("selected")&&i.length>1&&(i.forEach((function(i){i!==t&&(e._preventTriggeringEvents=!0,i.removeAttribute("selected"))})),this._preventTriggeringEvents=!1),this._expandLevels(),this._triggerChangeEvent()}},{key:"_expandLevels",value:function(){var t=this.selectedItem;if(t){for(var e=t.closest("coral-sidenav-level");e;){e.setAttribute("_expanded","on");var i=e.previousElementSibling;i&&i.matches('a[is="coral-sidenav-item"]')&&i.setAttribute("aria-expanded","true"),e=e.parentNode&&e.parentNode.closest("coral-sidenav-level")}(e=t.nextElementSibling)&&"CORAL-SIDENAV-LEVEL"===e.tagName&&(e.setAttribute("_expanded","on"),t.setAttribute("aria-expanded","true"))}}},{key:"_triggerChangeEvent",value:function(){var t=this.selectedItem,e=this._oldSelection;this._preventTriggeringEvents||t===e||(this.trigger("coral-sidenav:change",{oldSelection:e,selection:t}),this._oldSelection=t)}},{key:"_syncLevel",value:function(t,e){if(e){if(t.id&&dm(t)){var i=this.querySelector('a[is="coral-sidenav-item"][aria-controls="'.concat(t.id,'"]'));i&&i.removeAttribute("aria-controls")}else if(t.id&&(pm(t)||mm(t))){var n=this.querySelector('coral-sidenav-level[aria-labelledby="'.concat(t.id,'"]'));n&&n.removeAttribute("aria-labelledby"),this._syncLevel(n)}}else if(dm(t)){var a=t.previousElementSibling;a&&(pm(a)||mm(a))&&(a.id=a.id||da.getUID(),t.setAttribute("aria-labelledby",a.id),mm(a)&&(t.id=t.id||da.getUID(),a.setAttribute("aria-controls",t.id)))}else if(pm(t)||mm(t)){var o=t.nextElementSibling;o&&dm(o)&&(t.id=t.id||da.getUID(),o.setAttribute("aria-labelledby",t.id),mm(t)&&(o.id=o.id||da.getUID(),t.setAttribute("aria-controls",o.id)))}}},{key:"_syncHeading",value:function(t){t.classList.add("".concat("_coral-SideNav","-heading")),t.setAttribute("role","heading")}},{key:"_handleMutations",value:function(t){var e=this;t.forEach((function(t){for(var i=0;i<t.addedNodes.length;i++){var n=t.addedNodes[i];e._syncLevel(n),pm(n)&&e._syncHeading(n),dm(n)&&e._validateSelection(n.querySelector('a[is="coral-sidenav-item"][selected]'))}for(var a=0;a<t.removedNodes.length;a++){var o=t.removedNodes[a];e._syncLevel(o,!0),dm(o)&&e._validateSelection()}}))}},{key:"render",value:function(){m(l(i.prototype),"render",this).call(this),this.classList.add("_coral-SideNav"),this._variant||(this.variant=fm.DEFAULT);for(var t=0;t<this._levels.length;t++)this._syncLevel(this._levels[t]);for(var e=0;e<this._headings.length;e++)this._syncHeading(this._headings[e]);this._preventTriggeringEvents=!0,this._validateSelection(),this._preventTriggeringEvents=!1,this._oldSelection=this.selectedItem}},{key:"items",get:function(){return this._items||(this._items=new sr({host:this,itemTagName:"coral-sidenav-item",itemBaseTagName:"a",onItemAdded:this._validateSelection,onItemRemoved:this._validateSelection})),this._items}},{key:"selectedItem",get:function(){return this.items._getFirstSelected()}},{key:"variant",get:function(){return this._variant||fm.DEFAULT},set:function(t){if(t=Ua.string(t).toLowerCase(),this._variant=Ba.enumeration(fm)(t)&&t||fm.DEFAULT,this._reflectAttribute("variant",this._variant),this.classList.toggle("".concat("_coral-SideNav","--multiLevel"),this._variant===fm.MULTI_LEVEL),this.variant===fm.MULTI_LEVEL)for(var e=this.selectedItem,i=e&&e.parentNode,n=0;n<this._levels.length;n++)this._levels[n]!==i&&this._levels[n].setAttribute("_expanded","off")}}],[{key:"variant",get:function(){return fm}},{key:"observedAttributes",get:function(){return m(l(i),"observedAttributes",this).concat(["variant"])}}]),i}(ho(HTMLElement)),vm=function(t){var e=document.createDocumentFragment(),i=this.container=document.createElement("div");i.className+=" _coral-SideNav-itemLink",i.setAttribute("handle","container");var n=document.createTextNode("\n  ");i.appendChild(n);var a=this.icon=document.createElement("coral-icon");a.setAttribute("hidden",""),a.className+=" _coral-UIIcon-Star _coral-SideNav-itemIcon",a.setAttribute("handle","icon"),i.appendChild(a);var o=document.createTextNode("\n");i.appendChild(o),e.appendChild(i);var r=document.createTextNode("\n");return e.appendChild(r),e},_m=function(t){s(i,t);var e=d(i);function i(){var t,n;return a(this,i),(n=e.call(this))._elements={content:n.querySelector("coral-sidenav-item-content")||document.createElement("coral-sidenav-item-content")},vm.call(n._elements),m((t=u(n),l(i.prototype)),"_observeLabel",t).call(t),n}return r(i,[{key:"render",value:function(){m(l(i.prototype),"render",this).call(this),this.classList.add("_coral-SideNav-item");var t=document.createDocumentFragment();t.appendChild(this._elements.container);var e=this._elements.content;for(e.parentNode&&e.parentNode.removeChild(e);this.firstChild;){var n=this.firstChild;n.nodeType===Node.TEXT_NODE||n.nodeType===Node.ELEMENT_NODE&&"container"!==n.getAttribute("handle")?e.appendChild(n):this.removeChild(n)}this.appendChild(t),this.content=e}},{key:"content",get:function(){return this._getContentZone(this._elements.content)},set:function(t){this._setContentZone("content",t,{handle:"content",tagName:"coral-sidenav-item-content",insert:function(t){this._elements.container.appendChild(t)}})}},{key:"icon",get:function(){return this._elements.icon.icon},set:function(t){this._elements.icon.icon=t,this._elements.icon.hidden=""===this._elements.icon.icon,m(l(i.prototype),"_toggleIconAriaHidden",this).call(this)}},{key:"selected",get:function(){return this._selected||!1},set:function(t){this._selected=Ua.booleanAttr(t),this._reflectAttribute("selected",this._selected),this.classList.toggle("is-selected",this._selected),this.trigger("coral-sidenav-item:_selectedchanged")}},{key:"_contentZones",get:function(){return{"coral-sidenav-item-label":"content"}}}],[{key:"observedAttributes",get:function(){return m(l(i),"observedAttributes",this).concat(["selected","icon"])}}]),i}(bo(ho(HTMLAnchorElement))),bm=function(t){s(i,t);var e=d(i);function i(){return a(this,i),e.apply(this,arguments)}return r(i,[{key:"attributeChangedCallback",value:function(t,e,n){var a=this;if("_expanded"===t){var o="on"===n;if(e===n)return;this.classList.toggle("is-expanded",o),window.requestAnimationFrame((function(){if(a._animate){da.transitionEnd(a,(function(){o?a.style.height="":a.hidden=!0})),o?a.hidden=!1:a.style.height="".concat(a.scrollHeight,"px");a.offsetHeight;a.style.height=o?"".concat(a.scrollHeight,"px"):0}else a._animate=!0,o||(a.style.height=0,a.hidden=!0)}))}else m(l(i.prototype),"attributeChangedCallback",this).call(this,t,e,n)}},{key:"render",value:function(){m(l(i.prototype),"render",this).call(this),this.classList.add("_coral-SideNav"),this.setAttribute("role","region")}}],[{key:"observedAttributes",get:function(){return m(l(i),"observedAttributes",this).concat(["_expanded"])}}]),i}(ho(HTMLElement));da._define("coral-sidenav-level",bm),da._define("coral-sidenav-item",_m,{extends:"a"}),da._define("coral-sidenav",gm,{extends:"nav"}),gm.Item=_m,gm.Item.Content=function(){return document.createElement("coral-sidenav-item-content")},gm.Heading=function(){return document.createElement("coral-sidenav-heading")},gm.Level=bm;var ym={DEFAULT:"default",CTA:"cta",SECONDARY:"secondary"},Cm=function(t){s(i,t);var e=d(i);function i(){var t;return a(this,i),(t=e.call(this))._observer=new MutationObserver((function(){t._updateLeftVariant(),t._updateInnerButtons(),t._updateInnerButtonsVariant(t.variant)})),t._observer.observe(u(t),{subtree:!0,childList:!0}),t}return r(i,[{key:"_getInnerButtons",value:function(){return{action:this.querySelector("[coral-splitbutton-action]"),trigger:this.querySelector("[coral-splitbutton-trigger]")}}},{key:"_updateLeftVariant",value:function(){for(var t=0;t<this.children.length;t++){var e=this.children[t];if(e.hasAttribute("coral-splitbutton-trigger"))return void this.classList.add("_coral-SplitButton--left");if(e.hasAttribute("coral-splitbutton-action"))return void this.classList.remove("_coral-SplitButton--left")}}},{key:"_updateInnerButtonsVariant",value:function(t){var e=this._getInnerButtons(),i=e.action,n=e.trigger;i&&i.setAttribute("variant",t),n&&n.setAttribute("variant",t)}},{key:"_updateInnerButtons",value:function(){var t=this._getInnerButtons(),e=t.action,i=t.trigger;e&&e.classList.add("_coral-SplitButton-action"),i&&(i.classList.add("_coral-SplitButton-trigger"),i.setAttribute("aria-haspopup","true"),e&&(e.id=e.id||da.getUID(),i.setAttribute("aria-labelledby",e.id)))}},{key:"render",value:function(){m(l(i.prototype),"render",this).call(this),this.classList.add("_coral-SplitButton"),this.setAttribute("role","group"),this._variant||(this.variant=ym.DEFAULT),this._updateLeftVariant(),this._updateInnerButtons()}},{key:"variant",get:function(){return this._variant||ym.DEFAULT},set:function(t){t=Ua.string(t).toLowerCase(),this._variant=Ba.enumeration(ym)(t)&&t||ym.DEFAULT,this._reflectAttribute("variant",this._variant),this._updateInnerButtonsVariant(this._variant)}}],[{key:"variant",get:function(){return ym}},{key:"observedAttributes",get:function(){return m(l(i),"observedAttributes",this).concat(["variant"])}}]),i}(ho(HTMLElement));da._define("coral-splitbutton",Cm);var Am={NEUTRAL:"neutral",ERROR:"error",WARNING:"warning",SUCCESS:"success",INFO:"info"},km={DEFAULT:"",CELERY:"celery",YELLOW:"yellow",FUCHSIA:"fuchsia",INDIGO:"indigo",SEA_FOAM:"seafoam",CHARTREUSE:"chartreuse",MAGENTA:"magenta",PURPLE:"purple"},wm="_coral-StatusLight",xm={SUCCESS:"positive",ERROR:"negative",WARNING:"notice"},Tm=[];for(var Sm in Am)Tm.push("".concat(wm,"--").concat(xm[Sm]||Am[Sm]));var Em=[];for(var Im in km)Em.push("".concat(wm,"--").concat(km[Im]));var Lm=function(t){s(i,t);var e=d(i);function i(){var t;return a(this,i),(t=e.call(this))._elements={label:t.querySelector("coral-status-label")||document.createElement("coral-status-label")},t}return r(i,[{key:"render",value:function(){m(l(i.prototype),"render",this).call(this),this.classList.add(wm),this._variant||(this.variant=Am.NEUTRAL),this._color||(this.color=km.DEFAULT);var t=this._elements.label;if(!t.parentNode)for(;this.firstChild;)t.appendChild(this.firstChild);this.label=t}},{key:"disabled",get:function(){return this._disabled||!1},set:function(t){this._disabled=Ua.booleanAttr(t),this._reflectAttribute("disabled",this._disabled),this[this._disabled?"setAttribute":"removeAttribute"]("aria-disabled",this._disabled)}},{key:"variant",get:function(){return this._variant||Am.NEUTRAL},set:function(t){var e;t=Ua.string(t).toLowerCase(),this._variant=Ba.enumeration(Am)(t)&&t||Am.NEUTRAL,this._reflectAttribute("variant",this._variant),(e=this.classList).remove.apply(e,Tm),this.classList.add("".concat(wm,"--").concat(xm[this._variant.toUpperCase()]||this._variant))}},{key:"color",get:function(){return this._color||km.DEFAULT},set:function(t){var e;t=Ua.string(t).toLowerCase(),this._color=Ba.enumeration(km)(t)&&t||km.DEFAULT,this._reflectAttribute("color",this._color),(e=this.classList).remove.apply(e,Em),this._color!==km.DEFAULT&&this.classList.add("".concat(wm,"--").concat(this._color))}},{key:"label",get:function(){return this._getContentZone(this._elements.label)},set:function(t){this._setContentZone("label",t,{handle:"label",tagName:"coral-status-label",insert:function(t){this.appendChild(t)}})}},{key:"_contentZones",get:function(){return{"coral-status-label":"label"}}}],[{key:"variant",get:function(){return Am}},{key:"color",get:function(){return km}},{key:"observedAttributes",get:function(){return m(l(i),"observedAttributes",this).concat(["variant","color","disabled"])}}]),i}(ho(HTMLElement));function Nm(t){if(t instanceof Node)return t;var e=null;return"string"==typeof t&&""!==t.trim()&&(e=document.querySelector(t)),e}da._define("coral-status",Lm),Lm.Label=function(){return document.createElement("coral-status-label")};var Mm={ON:"on",OFF:"off"},Om={SMALL:"S",LARGE:"L"},Dm=function(t){s(i,t);var e=d(i);function i(){var t;return a(this,i),(t=e.call(this))._delegateEvents({'click > coral-step > [handle="link"]':"_onStepClick","capture:focus > coral-step":"_onStepMouseEnter",'capture:mouseenter > coral-step > [handle="link"]':"_onStepMouseEnter","capture:blur > coral-step":"_onStepMouseLeave",'capture:mouseleave > coral-step > [handle="link"]':"_onStepMouseLeave",'key:enter > coral-step > [handle="link"]':"_onStepKeyboardSelect",'key:space > coral-step > [handle="link"]':"_onStepKeyboardSelect",'key:home > coral-step > [handle="link"]':"_onHomeKey",'key:end > coral-step > [handle="link"]':"_onEndKey",'key:pagedown > coral-step > [handle="link"]':"_selectNextItem",'key:right > coral-step > [handle="link"]':"_selectNextItem",'key:down > coral-step > [handle="link"]':"_selectNextItem",'key:pageup > coral-step > [handle="link"]':"_selectPreviousItem",'key:left > coral-step > [handle="link"]':"_selectPreviousItem",'key:up > coral-step > [handle="link"]':"_selectPreviousItem","coral-step:_selectedchanged":"_onItemSelectedChanged"}),t._oldSelection=null,t.items._startHandlingItems(!0),t}return r(i,[{key:"_syncItemTabIndex",value:function(t){t._syncTabIndex(this.interaction===Mm.ON)}},{key:"_onItemSelectedChanged",value:function(t){t.stopImmediatePropagation();var e=t.target;this._syncItemTabIndex(e),this._validateSelection(e)}},{key:"_validateSelection",value:function(t){var e=this.items._getAllSelected(),i=e.length;if(0===i){var n=this.items._getFirstSelectable();n&&n.setAttribute("selected","")}else if(i>1){t=t||e[e.length-1];for(var a=0;a<i;a++)e[a]!==t&&(this._preventTriggeringEvents=!0,e[a].removeAttribute("selected"));this._preventTriggeringEvents=!1}this._setStateClasses(),this._triggerChangeEvent()}},{key:"_triggerChangeEvent",value:function(){var t=this.selectedItem,e=this._oldSelection;this._preventTriggeringEvents||t===e||(this.trigger("coral-steplist:change",{oldSelection:e,selection:t}),this._oldSelection=t)}},{key:"_setStateClasses",value:function(){var t=1/0;this.items.getAll().forEach((function(e,i){if(e.hasAttribute("selected")&&(t=i),e.classList.toggle("is-complete",i<t),e._elements){var n=wa.get("not completed: ");i<t?n=wa.get("completed: "):i===t&&(n=wa.get("current: ")),e._elements.accessibilityLabel.innerHTML=n}}))}},{key:"_onStepKeyboardSelect",value:function(t){if(this.interaction===Mm.ON){t.preventDefault(),t.stopPropagation();var e=t.matchedTarget.closest("coral-step");this._selectAndFocusItem(e),this._trackEvent("click","coral-steplist-item",t,e)}}},{key:"_onStepClick",value:function(t){if(this.interaction===Mm.ON){t.preventDefault(),t.stopPropagation();var e=t.matchedTarget.closest("coral-step");if(e.disabled)return;this._selectAndFocusItem(e),this._trackEvent("click","coral-steplist-item",t,e)}}},{key:"_onStepMouseEnter",value:function(){if(this.size===Om.SMALL){var t=event.target.closest("coral-step");""!==t._elements.label.innerHTML.trim()&&(t._elements.overlay.content.innerHTML=t._elements.label.innerHTML,t._elements.overlay.open=!0)}}},{key:"_onStepMouseLeave",value:function(t){this.size===Om.SMALL&&(t.target.closest("coral-step")._elements.overlay.open=!1)}},{key:"_onHomeKey",value:function(t){if(this.interaction===Mm.ON){t.preventDefault();var e=this.items._getFirstSelectable();this._selectAndFocusItem(e)}}},{key:"_onEndKey",value:function(t){if(this.interaction===Mm.ON){t.preventDefault();var e=this.items._getLastSelectable();this._selectAndFocusItem(e)}}},{key:"_selectNextItem",value:function(t){this.interaction===Mm.ON&&(t.preventDefault(),this.next())}},{key:"_selectPreviousItem",value:function(t){this.interaction===Mm.ON&&(t.preventDefault(),this.previous())}},{key:"_selectAndFocusItem",value:function(t){t&&(t.setAttribute("selected",""),t.focus())}},{key:"next",value:function(){var t=this.selectedItem;t&&(t=this.items._getNextSelectable(t),this._selectAndFocusItem(t))}},{key:"previous",value:function(){var t=this.selectedItem;t&&(t=this.items._getPreviousSelectable(t),this._selectAndFocusItem(t))}},{key:"render",value:function(){m(l(i.prototype),"render",this).call(this),this.classList.add("_coral-Steplist"),this._interaction||(this.interaction=Mm.OFF),this._size||(this.size=Om.LARGE),this.setAttribute("role","list"),this.hasAttribute("aria-label")||this.hasAttribute("aria-labelledby")||this.setAttribute("aria-label",wa.get("Step List")),this._preventTriggeringEvents=!0,this._validateSelection(),this._preventTriggeringEvents=!1,this._oldSelection=this.selectedItem}},{key:"items",get:function(){return this._items||(this._items=new sr({host:this,itemTagName:"coral-step",onItemAdded:this._validateSelection,onItemRemoved:this._validateSelection})),this._items}},{key:"selectedItem",get:function(){return this.items._getLastSelected()}},{key:"target",get:function(){return this._target||null},set:function(t){var e=this;(null===t||"string"==typeof t||t instanceof Node)&&(this._target=t,window.requestAnimationFrame((function(){var t=Nm(e._target);if(t)for(var i,n,a=e.items.getAll(),o=t.items?t.items.getAll():t.children,r=Math.max(a.length,o.length),s=0;s<r;s++)i=a[s],n=o[s],i&&i.target&&""!==i.target.trim()||(n&&n.setAttribute("role","region"),i&&n?(i.id=i.id||da.getUID(),n.id=n.id||da.getUID(),i.setAttribute("aria-controls",n.id),n.setAttribute("aria-labelledby",i.id)):i?i.removeAttribute("aria-controls"):n.removeAttribute("aria-labelledby"))})))}},{key:"size",get:function(){return this._size||Om.LARGE},set:function(t){var e=this;if(t=Ua.string(t).toUpperCase(),this._size=Ba.enumeration(Om)(t)&&t||Om.LARGE,this._reflectAttribute("size",this._size),this.classList.toggle("".concat("_coral-Steplist","--small"),this._size===Om.SMALL),this.items.length){var i=function(){for(var t=e.items.getAll(),i=t.length,n=0;n<i;n++){var a=t[n];""!==a._elements.label.textContent.trim()&&(e.size===Om.SMALL?a.setAttribute("labelled",a._elements.label.textContent):a.removeAttribute("labelled"))}},n=this.items.last();"function"==typeof n._syncTabIndex?i():da.ready(n,i)}}},{key:"interaction",get:function(){return this._interaction||Mm.OFF},set:function(t){var e=this;t=Ua.string(t).toLowerCase(),this._interaction=Ba.enumeration(Mm)(t)&&t||Mm.OFF,this._reflectAttribute("interaction",this._interaction);var i=this._interaction===Mm.ON;if(this.classList.toggle("".concat("_coral-Steplist","--interactive"),i),this.items.length){var n=function(){for(var t=e.items.getAll(),n=t.length,a=0;a<n;a++)t[a]._syncTabIndex(i),t[a]._syncSizeAndCurrentIndex(a+1,n)},a=this.items.last();"function"==typeof a._syncTabIndex?n():da.ready(a,n)}}}],[{key:"size",get:function(){return Om}},{key:"interaction",get:function(){return Mm}},{key:"observedAttributes",get:function(){return m(l(i),"observedAttributes",this).concat(["target","size","interaction"])}}]),i}(ho(HTMLElement)),Fm=function(t){var e=document.createDocumentFragment(),i=this.link=document.createElement("a");i.className+=" _coral-Steplist-link",i.setAttribute("handle","link");var n=document.createTextNode("\n  ");i.appendChild(n);var a=this.accessibilityLabel=document.createElement("span");a.className+=" u-coral-screenReaderOnly _coral-Steplist-accessibilityLabel",a.setAttribute("handle","accessibilityLabel"),i.appendChild(a);var o=document.createTextNode("\n  ");i.appendChild(o);var r=this.stepMarkerContainer=document.createElement("span");r.className+=" _coral-Steplist-markerContainer",r.setAttribute("handle","stepMarkerContainer"),r.setAttribute("role","img"),r.setAttribute("aria-hidden","true");var s=document.createTextNode("\n    ");r.appendChild(s);var l=document.createElement("span");l.className+=" _coral-Steplist-marker",r.appendChild(l);var c=document.createTextNode("\n  ");r.appendChild(c),i.appendChild(r);var u=document.createTextNode("\n  ");i.appendChild(u);var h=this.overlay=document.createElement("coral-tooltip");h.setAttribute("tracking","off"),h.setAttribute("smart",""),h.setAttribute("focusonshow","off"),h.setAttribute("handle","overlay"),h.setAttribute("placement","top"),h.setAttribute("variant","inspect"),h.setAttribute("interaction","off"),h.setAttribute("breadthoffset","1"),i.appendChild(h);var d=document.createTextNode("\n");i.appendChild(d),e.appendChild(i);var p=document.createTextNode("\n");e.appendChild(p);var m=this.line=document.createElement("span");m.className+=" _coral-Steplist-segment",m.setAttribute("handle","line"),e.appendChild(m);var f=document.createTextNode("\n");return e.appendChild(f),e},Pm=function(t){s(i,t);var e=d(i);function i(){var t;return a(this,i),(t=e.call(this))._elements={label:t.querySelector("coral-step-label")||document.createElement("coral-step-label")},Fm.call(t._elements),t}return r(i,[{key:"_isHybrid",value:function(){var t=this.label,e=this.label.clientWidth;t.style.position="relative",t.style.whiteSpace="inherit",t.style.display="inline",this._labelIsHidden=t.getBoundingClientRect().width>e,t.style.position="",t.style.whiteSpace="",t.style.display=""}},{key:"focus",value:function(){this._elements.link.focus()}},{key:"blur",value:function(){this._elements.link.blur()}},{key:"_syncTabIndex",value:function(t){this.removeAttribute("tabindex"),t?(this._elements.link.setAttribute("role","link"),this.disabled?(this._elements.link.removeAttribute("tabindex"),this._elements.link.setAttribute("aria-disabled",!0)):(this._elements.link.removeAttribute("aria-disabled"),this._elements.link.setAttribute("tabindex",this.selected?"0":"-1"))):(this._elements.link.removeAttribute("tabindex"),this._elements.link.removeAttribute("role"))}},{key:"_syncSizeAndCurrentIndex",value:function(t,e){this.setAttribute("aria-setsize",e),this.setAttribute("aria-posinset",t)}},{key:"connectedCallback",value:function(){m(l(i.prototype),"connectedCallback",this).call(this);var t=this._elements.overlay;t.removeAttribute("open"),t._parent&&t._parent.appendChild(t)}},{key:"render",value:function(){m(l(i.prototype),"render",this).call(this),this.classList.add("_coral-Steplist-item"),this.setAttribute("id",this.id||da.getUID()),this.setAttribute("role","listitem");var t=document.createDocumentFragment();this._elements.link=this.querySelector('[handle="link"]')||this._elements.link,this._elements.accessibilityLabel=this.querySelector('[handle="accessibilityLabel"]')||this._elements.accessibilityLabel,this._elements.stepMarkerContainer=this.querySelector('[handle="stepMarkerContainer"]')||this._elements.stepMarkerContainer,this._elements.line=this.querySelector('[handle="line"]')||this._elements.line,this._elements.overlay=this.querySelector("coral-tooltip")||this._elements.overlay,t.appendChild(this._elements.link),this._elements.link.appendChild(this._elements.stepMarkerContainer),this._elements.link.appendChild(this._elements.overlay),t.appendChild(this._elements.line);var e=["link","accessibilityLabel","stepMarkerContainer","overlay","line"],n=this._elements.label;for(n.parentNode&&n.remove();this.firstChild;){var a=this.firstChild;a.nodeType===Node.TEXT_NODE||a.nodeType===Node.ELEMENT_NODE&&-1===e.indexOf(a.getAttribute("handle"))?n.appendChild(a):this.removeChild(a)}this._elements.overlay.target=this._elements.stepMarkerContainer,this.appendChild(t),this.label=n,this._isHybrid();var o=this.parentElement;o&&this._syncTabIndex(o.interaction===Dm.interaction.ON)}},{key:"disconnectedCallback",value:function(){m(l(i.prototype),"disconnectedCallback",this).call(this);var t=this._elements.overlay;this.contains(t)||(t._parent=t._repositioned?document.body:this,t.remove())}},{key:"label",get:function(){return this._getContentZone(this._elements.label)},set:function(t){this._setContentZone("label",t,{handle:"label",tagName:"coral-step-label",insert:function(t){t.classList.add("_coral-Steplist-label"),this._elements.link.insertBefore(t,this._elements.stepMarkerContainer)}})}},{key:"selected",get:function(){return this._selected||!1},set:function(t){this._selected=Ua.booleanAttr(t),this._reflectAttribute("selected",this._selected),this.classList.toggle("is-selected",this.selected),this.removeAttribute("aria-selected"),this.selected?this._elements.link.setAttribute("aria-current","step"):this._elements.link.removeAttribute("aria-current");var e,i=this.parentElement;if(this._selected)if(e=Nm(this.target))e.setAttribute("selected","");else if(i&&i.target&&(e=Nm(i.target))){var n=i.items.getAll().indexOf(this),a=(e.items?e.items.getAll():e.children)[n];a&&a.setAttribute("selected","")}this.trigger("coral-step:_selectedchanged")}},{key:"disabled",get:function(){return this._disabled||!1},set:function(t){this._disabled=Ua.booleanAttr(t),this._reflectAttribute("disabled",this._disabled),this.classList.toggle("is-disabled",this.disabled);var e=this.parentElement;e&&this._syncTabIndex(e.interaction===Dm.interaction.ON)}},{key:"labelled",get:function(){return this._labelled||this.getAttribute("labelled")||this._elements.stepMarkerContainer.getAttribute("aria-label")},set:function(t){this._labelled=Ua.string(t),this._reflectAttribute("labelled",this._labelled),t?(this._elements.stepMarkerContainer.setAttribute("aria-label",this.labelled),this._elements.stepMarkerContainer.removeAttribute("aria-hidden")):(this._elements.stepMarkerContainer.removeAttribute("aria-label"),this._elements.stepMarkerContainer.setAttribute("aria-hidden","true"))}},{key:"target",get:function(){return this._target||null},set:function(t){if(null===t||"string"==typeof t||t instanceof Node){this._target=t;var e=Nm(this._target);e&&(this.setAttribute("aria-controls",e.id),e.setAttribute("aria-labelledby",this.id))}}},{key:"trackingElement",get:function(){return void 0===this._trackingElement?(this.label||this).textContent.replace(/\s{2,}/g," ").trim():this._trackingElement},set:function(t){g(l(i.prototype),"trackingElement",t,this,!0)}},{key:"_contentZones",get:function(){return{"coral-step-label":"label"}}}],[{key:"observedAttributes",get:function(){return m(l(i),"observedAttributes",this).concat(["selected","target","disabled","labelled"])}}]),i}(ho(HTMLElement));da.extend(ka,{"coral-component-steplist":{"en-US":{"Step List":"Step List","completed: ":"completed: ","current: ":"current: ","not completed: ":"not completed: "},"de-DE":{"Step List":"Schrittliste","completed: ":"abgeschlossen: ","current: ":"aktuell: ","not completed: ":"nicht abgeschlossen: "},"fr-FR":{"Step List":"Liste des Ã©tapes","completed: ":"terminÃ© : ","current: ":"actuel : ","not completed: ":"non terminÃ© : "},"it-IT":{"Step List":"Elenco passi","completed: ":"completato: ","current: ":"corrente: ","not completed: ":"non completato: "},"ja-JP":{"Step List":"æé ãªã¹ã","completed: ":"å®äº: ","current: ":"ç¾å¨: ","not completed: ":"æªå®äº: "},"es-ES":{"Step List":"Lista de pasos","completed: ":"completado: ","current: ":"actual: ","not completed: ":"no completado: "},"ko-KR":{"Step List":"ë¨ê³ ëª©ë¡","completed: ":"ìë£ë¨: ","current: ":"íì¬: ","not completed: ":"ë¯¸ìë£: "},"zh-CN":{"Step List":"æ­¥éª¤åè¡¨","completed: ":"å·²å®æ: ","current: ":"å½å: ","not completed: ":"æªå®æ: "},"zh-TW":{"Step List":"æ­¥é©æ¸å®","completed: ":"å·²å®æ: ","current: ":"ç®å: ","not completed: ":"æªå®æ: "},"pt-BR":{"Step List":"Lista de passos","completed: ":"concluÃ­do: ","current: ":"atual: ","not completed: ":"nÃ£o concluÃ­do: "},"nl-NL":{"Step List":"Stappenlijst","completed: ":"voltooid: ","current: ":"huidige: ","not completed: ":"niet voltooid: "},"da-DK":{"Step List":"Trin liste","completed: ":"Afsluttet: ","current: ":"aktuelt: ","not completed: ":"Ikke afsluttet: "},"fi-FI":{"Step List":"Vaihe luettelo","completed: ":"Valmis: ","current: ":"nykyinen: ","not completed: ":"Ei valmis: "},"nb-NO":{"Step List":"Trinn liste","completed: ":"fullfÃ¸rt: ","current: ":"gjeldende: ","not completed: ":"ikke fullfÃ¸rt: "},"sv-SE":{"Step List":"Steg lista","completed: ":"slutfÃ¶rd: ","current: ":"aktuell: ","not completed: ":"inte slutfÃ¶rd: "},"cs-CZ":{"Step List":"Seznam krokÅ¯","completed: ":"dokonÄeno: ","current: ":"aktuÃ¡lnÃ­: ","not completed: ":"nedokonÄeno: "},"pl-PL":{"Step List":"Lista krokÃ³w","completed: ":"zakoÅczone: ","current: ":"bieÅ¼Äcy: ","not completed: ":"nieukoÅczone: "},"ru-RU":{"Step List":"Ð¡Ð¿Ð¸ÑÐ¾Ðº ÑÐ°Ð³Ð¾Ð²","completed: ":"Ð·Ð°Ð²ÐµÑÑÐµÐ½Ð¾: ","current: ":"ÑÐµÐºÑÑÐ¸Ð¹: ","not completed: ":"Ð½Ðµ Ð·Ð°Ð²ÐµÑÑÐµÐ½Ð¾: "},"tr-TR":{"Step List":"AdÄ±m listesi","completed: ":"tamamlandÄ±: ","current: ":"geÃ§erli: ","not completed: ":"tamamlanmadÄ±: "}}}),da._define("coral-step",Pm),da._define("coral-steplist",Dm),Pm.Label=function(){return document.createElement("coral-step-label")};var Rm=function(t){var e=document.createDocumentFragment(),i=this.input=document.createElement("input");i.setAttribute("type","checkbox"),i.setAttribute("handle","input"),i.className+=" _coral-ToggleSwitch-input",i.id=t.commons.getUID(),e.appendChild(i);var n=document.createTextNode("\n");e.appendChild(n);var a=this.switch=document.createElement("span");a.setAttribute("handle","switch"),a.className+=" _coral-ToggleSwitch-switch",e.appendChild(a);var o=document.createTextNode("\n");e.appendChild(o);var r=this.labelWrapper=document.createElement("label");r.className+=" _coral-ToggleSwitch-label",r.setAttribute("for",this.input.id),r.setAttribute("handle","labelWrapper");var s=document.createTextNode("\n  ");r.appendChild(s);var l=this.screenReaderOnly=document.createElement("span");l.className+=" u-coral-screenReaderOnly",l.setAttribute("handle","screenReaderOnly"),l.textContent=t.i18n.get("Select"),r.appendChild(l);var c=document.createTextNode("\n");r.appendChild(c),e.appendChild(r);var u=document.createTextNode("\n");return e.appendChild(u),e},Hm=function(t){s(i,t);var e=d(i);function i(){var t;return a(this,i),(t=e.call(this))._delegateEvents(da.extend(t._events,{"capture:focus ._coral-ToggleSwitch-input":"_onFocus","capture:blur ._coral-ToggleSwitch-input":"_onBlur"})),t._elements={label:t.querySelector("coral-switch-label")||document.createElement("coral-switch-label")},Rm.call(t._elements,{commons:da,i18n:wa}),t._labellableElement=t._elements.input,t._observer=new MutationObserver(t._hideLabelIfEmpty.bind(u(t))),t._observer.observe(t._elements.labelWrapper,{childList:!0,characterData:!0,subtree:!0}),t}return r(i,[{key:"_hideLabelIfEmpty",value:function(){var t=this._elements.label,e=!(0===t.children.length&&""===t.textContent.replace(/\s*/g,""));this._elements.labelWrapper.style.margin=e?"":"0",this._elements.screenReaderOnly.hidden=e||this.labelled}},{key:"_onFocus",value:function(){this._elements.input.classList.add("focus-ring")}},{key:"_onBlur",value:function(){this._elements.input.classList.remove("focus-ring")}},{key:"clear",value:function(){this.checked=!1}},{key:"reset",value:function(){this.checked=this._initialCheckedState}},{key:"render",value:function(){m(l(i.prototype),"render",this).call(this),this.classList.add("_coral-ToggleSwitch");var t=document.createDocumentFragment(),e=["input","switch","labelWrapper"];t.appendChild(this._elements.input),t.appendChild(this._elements.switch),t.appendChild(this._elements.labelWrapper);var n=this._elements.label;for(n&&n.parentNode&&n.parentNode.removeChild(n);this.firstChild;){var a=this.firstChild;a.nodeType===Node.TEXT_NODE||a.nodeType===Node.ELEMENT_NODE&&-1===e.indexOf(a.getAttribute("handle"))?n.appendChild(a):this.removeChild(a)}this.appendChild(t),this.label=n,this._initialCheckedState=this.checked,this._hideLabelIfEmpty()}},{key:"checked",get:function(){return this._checked||!1},set:function(t){this._checked=Ua.booleanAttr(t),this._reflectAttribute("checked",this._checked),this._elements.input.checked=this._checked}},{key:"label",get:function(){return this._getContentZone(this._elements.label)},set:function(t){this._setContentZone("label",t,{handle:"label",tagName:"coral-switch-label",insert:function(t){this._elements.labelWrapper.appendChild(t)}})}},{key:"name",get:function(){return this._elements.input.name},set:function(t){this._reflectAttribute("name",t),this._elements.input.name=t}},{key:"value",get:function(){return this._elements.input.value||"on"},set:function(t){this._elements.input.value=t}},{key:"disabled",get:function(){return this._disabled||!1},set:function(t){this._disabled=Ua.booleanAttr(t),this._reflectAttribute("disabled",this._disabled),this[this._disabled?"setAttribute":"removeAttribute"]("aria-disabled",this._disabled),this.classList.toggle("is-disabled",this._disabled),this._elements.input.disabled=this._disabled}},{key:"required",get:function(){return this._required||!1},set:function(t){this._required=Ua.booleanAttr(t),this._reflectAttribute("required",this._required),this._elements.input.required=this._required}},{key:"readOnly",get:function(){return this._readOnly||!1},set:function(t){this._readOnly=Ua.booleanAttr(t),this._reflectAttribute("readonly",this._readOnly),this.classList.toggle("is-readOnly",this._readOnly),this._elements.input.tabIndex=this._readOnly?-1:0}},{key:"labelled",get:function(){return m(l(i.prototype),"labelled",this)},set:function(t){g(l(i.prototype),"labelled",t,this,!0),this._hideLabelIfEmpty()}},{key:"_componentTargetProperty",get:function(){return"checked"}},{key:"_eventTargetProperty",get:function(){return"checked"}},{key:"_contentZones",get:function(){return{"coral-switch-label":"label"}}}],[{key:"observedAttributes",get:function(){return m(l(i),"observedAttributes",this).concat(["checked"])}}]),i}(mo(ho(HTMLElement)));da.extend(ka,{"coral-component-switch":{"en-US":{Select:"Select"},"fr-FR":{Select:"SÃ©lectionner"},"de-DE":{Select:"AuswÃ¤hlen"},"it-IT":{Select:"Seleziona"},"es-ES":{Select:"Seleccionar"},"pt-BR":{Select:"Selecionar"},"ja-JP":{Select:"é¸æ"},"ko-KR":{Select:"ì í"},"zh-CN":{Select:"éæ©"},"zh-TW":{Select:"é¸å"},"nl-NL":{Select:"Selecteren"},"da-DK":{Select:"VÃ¦lg"},"fi-FI":{Select:"Valitse"},"nb-NO":{Select:"Velg"},"sv-SE":{Select:"VÃ¤lj"},"cs-CZ":{Select:"Vybrat"},"pl-PL":{Select:"Wybierz"},"ru-RU":{Select:"ÐÑÐ±ÐµÑÐ¸ÑÐµ"},"tr-TR":{Select:"SeÃ§"}}}),da._define("coral-switch",Hm),Hm.Label=function(){return document.createElement("coral-switch-label")};var Um=function(t){return"TH"===t.nodeName&&"coral-table-headercell"===t.getAttribute("is")},Bm=function(t){return"TD"===t.nodeName&&"coral-table-cell"===t.getAttribute("is")},zm=function(t){return"TR"===t.nodeName&&"coral-table-row"===t.getAttribute("is")},qm=function(t){return"TBODY"===t.nodeName&&"coral-table-body"===t.getAttribute("is")},Vm=function(t){var e=t.parentNode;return e?Array.prototype.indexOf.call(e.children,t):-1},$m=function(t,e,i){var n=[];if(i){var a=0===i.indexOf("next")?"nextElementSibling":"previousElementSibling";if(-1!==i.indexOf("Until"))for(;t[a]&&!("string"==typeof e?t[a].matches(e):t[a]===e);)n.push(t=t[a]);else{if(-1===i.indexOf("All")){var o=t[a];return o&&o.matches(e)?o:null}for(;t[a];)(t=t[a]).matches(e)&&n.push(t)}}else["previousElementSibling","nextElementSibling"].forEach((function(i){for(var a=t;a[i];)(a=a[i]).matches(e)&&n.push(a)}));return n},jm=function(t){for(var e=[],i=0,n=e.length=t.length;i<n;i++)e[i]=t[i];return e},Wm=function(t){return jm(t.querySelectorAll('col[is="coral-table-column"]'))},Km=function(t){var e=[];return t.forEach((function(t){t&&(e=e.concat(jm(t.querySelectorAll('tr[is="coral-table-row"]'))))})),e},Gm=function(t){return jm(t.querySelectorAll('td[is="coral-table-cell"], th[is="coral-table-headercell"]'))},Zm=function(t){return jm(t.querySelectorAll('td[is="coral-table-cell"]'))},Xm=function(t){return jm(t.querySelectorAll('th[is="coral-table-headercell"]'))},Qm=function(t,e){return Gm(t).filter((function(t){return Vm(t)===e}))[0]||null},Ym={NONE:"none",ROW:"row",COLUMN:"column",CELL:"cell"},Jm={LEFT:"left",CENTER:"center",RIGHT:"right"},tf={DEFAULT:"default",ASCENDING:"ascending",DESCENDING:"descending"},ef={ALPHANUMERIC:"alphanumeric",NUMBER:"number",DATE:"date",CUSTOM:"custom"},nf=function(t){s(i,t);var e=d(i);function i(){return a(this,i),e.apply(this,arguments)}return r(i,[{key:"_sort",value:function(){var t;this.sortableDirection===tf.DEFAULT?t=tf.ASCENDING:this.sortableDirection===tf.ASCENDING?t=tf.DESCENDING:this.sortableDirection===tf.DESCENDING&&(t=tf.DEFAULT),this.trigger("coral-table-column:_beforecolumnsort",{newSortableDirection:t})}},{key:"_doSort",value:function(t){this.trigger("coral-table-column:_sort",{onInitialization:t,sortableDirection:tf,sortableType:ef})}},{key:"render",value:function(){m(l(i.prototype),"render",this).call(this),this.classList.add("_coral-Table-column"),this._sortableType||(this.sortableType=ef.ALPHANUMERIC),this._sortableDirection||(this.sortableDirection=tf.DEFAULT),this._alignment||(this.alignment=Jm.LEFT)}},{key:"alignment",get:function(){return this._alignment||Jm.LEFT},set:function(t){var e=this,i=this._alignment;t=Ua.string(t).toLowerCase(),this._alignment=Ba.enumeration(Jm)(t)&&t||Jm.LEFT,this._reflectAttribute("alignment",this._alignment),void 0===i&&this._alignment===Jm.LEFT||window.requestAnimationFrame((function(){e.trigger("coral-table-column:_alignmentchanged")}))}},{key:"fixedWidth",get:function(){return this._fixedWidth||!1},set:function(t){var e=this;this._fixedWidth=Ua.booleanAttr(t),this._reflectAttribute("fixedwidth",this._fixedWidth),window.requestAnimationFrame((function(){e.trigger("coral-table-column:_fixedwidthchanged")}))}},{key:"hidden",get:function(){return this._hidden||!1},set:function(t){var e=this;this._hidden=Ua.booleanAttr(t),this._reflectAttribute("hidden",this._hidden),window.requestAnimationFrame((function(){e.trigger("coral-table-column:_hiddenchanged")}))}},{key:"orderable",get:function(){return this._orderable||!1},set:function(t){var e=this;this._orderable=Ua.booleanAttr(t),this._reflectAttribute("orderable",this._orderable),window.requestAnimationFrame((function(){e.trigger("coral-table-column:_orderablechanged")}))}},{key:"sortable",get:function(){return this._sortable||!1},set:function(t){var e=this;this._sortable=Ua.booleanAttr(t),this._reflectAttribute("sortable",this._sortable),window.requestAnimationFrame((function(){e.trigger("coral-table-column:_sortablechanged")}))}},{key:"sortableType",get:function(){return this._sortableType||ef.ALPHANUMERIC},set:function(t){t=Ua.string(t).toLowerCase(),this._sortableType=Ba.enumeration(ef)(t)&&t||ef.ALPHANUMERIC,this._reflectAttribute("sortabletype",this._sortableType)}},{key:"sortableDirection",get:function(){return this._sortableDirection||tf.DEFAULT},set:function(t){var e=this;t=Ua.string(t).toLowerCase(),this._sortableDirection=Ba.enumeration(tf)(t)&&t||tf.DEFAULT,this._reflectAttribute("sortabledirection",this._sortableDirection),this._preventSort||(this._doSort(),window.requestAnimationFrame((function(){e.trigger("coral-table-column:_sortabledirectionchanged")})))}}],[{key:"sortableDirection",get:function(){return tf}},{key:"sortableType",get:function(){return ef}},{key:"alignment",get:function(){return Jm}},{key:"_attributePropertyMap",get:function(){return da.extend(m(l(i),"_attributePropertyMap",this),{fixedwidth:"fixedWidth",sortabletype:"sortableType",sortabledirection:"sortableDirection"})}},{key:"observedAttributes",get:function(){return m(l(i),"observedAttributes",this).concat(["fixedwidth","hidden","alignment","orderable","sortable","sortabletype","sortabledirection"])}}]),i}(ho(HTMLTableColElement)),af=function(t){s(i,t);var e=d(i);function i(){return a(this,i),e.apply(this,arguments)}return r(i,[{key:"_setHandle",value:function(t){var e=this;requestAnimationFrame((function(){e.querySelector("[".concat(t,"]"))||e.setAttribute(t,""),e._syncAriaSelectedState(),e._syncSelectHandle()}))}},{key:"_getHandle",value:function(t){return this.hasAttribute(t)?this:this.querySelector("[".concat(t,"]"))}},{key:"_toggleSelectable",value:function(t){t?this._setHandle("coral-table-cellselect"):(this.removeAttribute("coral-table-cellselect"),this.selected=!1),this._syncAriaSelectedState()}},{key:"_syncAriaSelectedState",value:function(){this.classList.toggle("is-selected",this.selected),this._getHandle("coral-table-cellselect")?this.setAttribute("aria-selected",this.selected):this.removeAttribute("aria-selected")}},{key:"_syncSelectHandle",value:function(){var t=this.querySelector("coral-checkbox");t&&t[this.selected?"setAttribute":"removeAttribute"]("checked","")}},{key:"attributeChangedCallback",value:function(t,e,n){"_selectable"===t?this._toggleSelectable(null!==n):m(l(i.prototype),"attributeChangedCallback",this).call(this,t,e,n)}},{key:"render",value:function(){m(l(i.prototype),"render",this).call(this),this.classList.add("_coral-Table-cell"),this.id=this.id||da.getUID()}},{key:"content",get:function(){return this},set:function(t){if("object"===n(t))for(var e in t)this[e]=t[e]}},{key:"selected",get:function(){return this._selected||!1},set:function(t){this.hasAttribute("coral-table-cellselect")&&this.hasAttribute("disabled")||this.querySelector("[coral-table-cellselect][disabled]")||(this.trigger("coral-table-cell:_beforeselectedchanged"),this._selected=Ua.booleanAttr(t),this._reflectAttribute("selected",this._selected),this.trigger("coral-table-cell:_selectedchanged"),this._syncAriaSelectedState(),this._syncSelectHandle())}},{key:"value",get:function(){return this.getAttribute("value")||""},set:function(t){this.setAttribute("value",Ua.string(t))}}],[{key:"observedAttributes",get:function(){return m(l(i),"observedAttributes",this).concat(["selected","_selectable"])}}]),i}(ho(HTMLTableCellElement)),of=function(t){var e=document.createDocumentFragment(),i=this.accessibilityState=document.createElement("div");i.setAttribute("handle","accessibilityState"),i.className+=" u-coral-screenReaderOnly _coral-Table-row-accessibilityState",i.setAttribute("aria-hidden","true"),i.id=t.commons.getUID(),e.appendChild(i);var n=document.createTextNode("\n");return e.appendChild(n),e},rf=function(t){s(i,t);var e=d(i);function i(){var t;return a(this,i),(t=e.call(this))._elements={},of.call(t._elements,{commons:da}),t._oldSelection=[],t._delegateEvents({"coral-table-cell:_beforeselectedchanged":"_onBeforeCellSelectionChanged","coral-table-cell:_selectedchanged":"_onCellSelectionChanged"}),t._observer=new MutationObserver(t._handleMutations.bind(u(t))),t._observer.observe(u(t),{childList:!0}),t}return r(i,[{key:"_triggerChangeEvent",value:function(){var t=this.selectedItems;this.trigger("coral-table-row:_change",{oldSelection:this._oldSelection,selection:t}),this._oldSelection=t}},{key:"_onCellSelectionChanged",value:function(t){t.stopImmediatePropagation(),this._triggerChangeEvent()}},{key:"_onBeforeCellSelectionChanged",value:function(t){t.stopImmediatePropagation();var e=this.selectedItem;this.multiple||!e||t.target.selected||e.set("selected",!1,!0)}},{key:"_syncAriaSelectedState",value:function(){var t=this;this.classList.toggle("is-selected",this.selected);var e=this.querySelector("[coral-table-rowselect]");if(this.hasAttribute("coral-table-rowselect")||e){var i=this.querySelector("[coral-table-roworder]"),n=this.querySelector("[coral-table-rowlock]"),a=this.querySelector("[coral-row-remove]"),o=this._elements.accessibilityState,r=function(){t.removeAttribute("aria-live"),t.removeAttribute("aria-atomic"),t.removeAttribute("aria-relevant"),e&&"CORAL-CHECKBOX"===e.tagName&&e.removeAttribute("aria-hidden"),i&&i.removeAttribute("aria-hidden"),n&&n.removeAttribute("aria-hidden"),a&&a.removeAttribute("aria-hidden"),o&&(o.setAttribute("aria-hidden","true"),t.selected||(o.innerHTML=""))};this.setAttribute("aria-selected",this.selected),(this._ariaLiveOnTimeout||this._ariaLiveOffTimeout)&&(clearTimeout(this._ariaLiveOnTimeout),clearTimeout(this._ariaLiveOffTimeout)),o&&(r(),this._ariaLiveOnTimeout=setTimeout((function(){(t===document.activeElement||t.contains(document.activeElement))&&(e&&"CORAL-CHECKBOX"===e.tagName&&e.setAttribute("aria-hidden","true"),i&&i.setAttribute("aria-hidden","true"),n&&n.setAttribute("aria-hidden","true"),a&&a.setAttribute("aria-hidden","true"),window.cvox||(o.removeAttribute("aria-hidden"),t.setAttribute("aria-live","assertive"),t.setAttribute("aria-atomic","true")),t._ariaLiveOnTimeout=setTimeout((function(){o.innerHTML=wa.get(t.selected?", checked":", unchecked"),t._ariaLiveOffTimeout=setTimeout(r,250)}),20))}),20),this===document.activeElement||this.contains(document.activeElement)||(o.innerHTML=wa.get(this.selected?", checked":"")))}else this.removeAttribute("aria-selected")}},{key:"_syncAriaLabelledby",value:function(){var t=this;if(this.hasAttribute("coral-table-rowselect")||this.querySelector("[coral-table-rowselect]")){var e,i=this.items.getAll().filter((function(t){return t.id&&!(t.hasAttribute("coral-table-roworder")||t.querySelector("[coral-table-roworder]")||t.hasAttribute("coral-table-rowlock")||t.querySelector("[coral-table-rowlock]")||t.hasAttribute("coral-row-remove")||t.querySelector("[coral-table-remove]"))})),n=i.map((function(i){var n=i.querySelector("[coral-table-rowselect]");if(n&&(e=i,n&&"CORAL-CHECKBOX"===n.tagName)){if(t.selected)return;return n._elements.input&&n._elements.input.id}return i.id}));!e&&i.length&&(e=i[i.length-1]),e&&e.appendChild(this._elements.accessibilityState),this._elements.accessibilityState.parentNode&&n.push(this._elements.accessibilityState.id),this.setAttribute("aria-labelledby",n.join(" "))}else this._elements.accessibilityState.parentNode&&(this.removeAttribute("aria-labelledby"),this._elements.accessibilityState=this._elements.accessibilityState.parentNode.removeChild(this._elements.accessibilityState))}},{key:"_syncSelectHandle",value:function(){var t=this,e=this.querySelector("[coral-table-rowselect]");if(e&&(void 0!==e.indeterminate&&(e.indeterminate=!1),e[this.selected?"setAttribute":"removeAttribute"]("checked",""),"CORAL-CHECKBOX"===e.tagName&&(e.labelled||(e.labelled=wa.get("Select")),this.hasAttribute("aria-labelledby")))){var i=this.getAttribute("aria-labelledby").split(" ").filter((function(i){return e._elements.input.id!==i&&t._elements.accessibilityState.id!==i})).join(" ");e.labelledBy=e._elements.input.id+" "+i}}},{key:"_toggleSelectable",value:function(t){t?this._setHandle("coral-table-rowselect"):this.set("selected",!1,!0),this._syncAriaLabelledby()}},{key:"_toggleOrderable",value:function(t){t?this._setHandle("coral-table-roworder"):this.dragAction&&this.dragAction.destroy()}},{key:"_toggleLockable",value:function(t){t&&this._setHandle("coral-table-rowlock")}},{key:"_setHandle",value:function(t){var e=this;requestAnimationFrame((function(){e.querySelector("[".concat(t,"]"))||e.setAttribute(t,""),e._syncSelectHandle(),e._syncAriaLabelledby(),e._syncAriaSelectedState()}))}},{key:"_handleMutations",value:function(t){var e=this;t.forEach((function(t){e.trigger("coral-table-row:_contentchanged",{addedNodes:t.addedNodes,removedNodes:t.removedNodes}),e._syncAriaLabelledby()}))}},{key:"attributeChangedCallback",value:function(t,e,n){"_selectable"===t?this._toggleSelectable(null!==n):"_orderable"===t?this._toggleOrderable(null!==n):"_lockable"===t?this._toggleLockable(null!==n):m(l(i.prototype),"attributeChangedCallback",this).call(this,t,e,n)}},{key:"render",value:function(){m(l(i.prototype),"render",this).call(this),this.classList.add("_coral-Table-row"),this._syncAriaLabelledby()}},{key:"locked",get:function(){return this._locked||!1},set:function(t){this._locked=Ua.booleanAttr(t),this._reflectAttribute("locked",this._locked),this.trigger("coral-table-row:_lockedchanged")}},{key:"selected",get:function(){return this._selected||!1},set:function(t){this.hasAttribute("coral-table-rowselect")&&this.hasAttribute("disabled")||this.querySelector("[coral-table-rowselect][disabled]")||(this.trigger("coral-table-row:_beforeselectedchanged"),this._selected=Ua.booleanAttr(t),this._reflectAttribute("selected",this._selected),this.trigger("coral-table-row:_selectedchanged"),this._syncSelectHandle(),this._syncAriaLabelledby(),this._syncAriaSelectedState())}},{key:"selectable",get:function(){return this._selectable||!1},set:function(t){var e=this;this._selectable=Ua.booleanAttr(t),this._reflectAttribute("selectable",this._selectable),this.items.getAll().forEach((function(t){t[e._selectable?"setAttribute":"removeAttribute"]("_selectable","")}))}},{key:"multiple",get:function(){return this._multiple||!1},set:function(t){this._multiple=Ua.booleanAttr(t),this._reflectAttribute("multiple",this._multiple),this.trigger("coral-table-row:_multiplechanged")}},{key:"selectedItems",get:function(){return this.items._getAllSelected()}},{key:"selectedItem",get:function(){return this.items._getFirstSelected()}},{key:"items",get:function(){return this._items||(this._items=new sr({host:this,itemBaseTagName:"td",itemTagName:"coral-table-cell"})),this._items}}],[{key:"observedAttributes",get:function(){return m(l(i),"observedAttributes",this).concat(["locked","selected","multiple","selectable","_selectable","_orderable","_lockable"])}}]),i}(ho(HTMLTableRowElement)),sf=[];for(var lf in Ym)sf.push("_coral-Table-divider--".concat(Ym[lf]));var cf=function(t){return function(t){s(i,t);var e=d(i);function i(){var t;return a(this,i),(t=e.call(this))._tagName=t.getAttribute("is").toLowerCase(),t}return r(i,[{key:"_toggleObserver",value:function(t){this._observer=this._observer||new MutationObserver(this._handleMutations.bind(this)),t?this._observer.observe(this,{childList:!0,subtree:!0}):this._observer.disconnect()}},{key:"_handleMutations",value:function(t){var e=this;t.forEach((function(t){e.trigger("".concat(e._tagName,":_contentchanged"),{addedNodes:t.addedNodes,removedNodes:t.removedNodes})}))}},{key:"attributeChangedCallback",value:function(t,e,n){"_observe"===t?this._toggleObserver("off"!==n):m(l(i.prototype),"attributeChangedCallback",this).call(this,t,e,n)}},{key:"render",value:function(){m(l(i.prototype),"render",this).call(this),this._divider||(this.divider=Ym.ROW)}},{key:"divider",get:function(){return this._divider||Ym.ROW},set:function(t){var e;t=Ua.string(t).toLowerCase(),this._divider=Ba.enumeration(Ym)(t)&&t||Ym.ROW,this._reflectAttribute("divider",this._divider),(e=this.classList).remove.apply(e,sf),this.classList.add("_coral-Table-divider--".concat(this.divider))}}],[{key:"observedAttributes",get:function(){return m(l(i),"observedAttributes",this).concat(["divider","_observe"])}}]),i}(t)},uf=function(t){s(i,t);var e=d(i);function i(){var t;return a(this,i),(t=e.call(this))._toggleObserver(!0),t}return r(i,[{key:"render",value:function(){m(l(i.prototype),"render",this).call(this),this.classList.add("_coral-Table-head")}},{key:"sticky",get:function(){return this._sticky||!1},set:function(t){var e=this;this._sticky=Ua.booleanAttr(t),this._reflectAttribute("sticky",this._sticky),window.requestAnimationFrame((function(){e.trigger("coral-table-head:_stickychanged")}))}}],[{key:"observedAttributes",get:function(){return m(l(i),"observedAttributes",this).concat(["sticky"])}}]),i}(cf(ho(HTMLTableSectionElement))),hf=function(t){s(i,t);var e=d(i);function i(){var t;return a(this,i),(t=e.call(this))._toggleObserver(!0),t}return r(i,[{key:"render",value:function(){m(l(i.prototype),"render",this).call(this),this.classList.add("_coral-Table-body"),0===Km([this]).length&&this.trigger("coral-table-body:_empty")}}]),i}(cf(ho(HTMLTableSectionElement))),df=function(t){s(i,t);var e=d(i);function i(){return a(this,i),e.apply(this,arguments)}return r(i,[{key:"render",value:function(){m(l(i.prototype),"render",this).call(this),this.classList.add("_coral-Table-foot")}}]),i}(cf(ho(HTMLTableSectionElement))),pf=function(t){var e=document.createDocumentFragment(),i=this.liveRegion=document.createElement("div");i.setAttribute("handle","liveRegion"),i.className+=" u-coral-screenReaderOnly _coral-Table-liveRegion",i.setAttribute("aria-hidden","true"),i.setAttribute("aria-live","off"),i.id=t.commons.getUID(),e.appendChild(i);var n=document.createTextNode("\n");e.appendChild(n);var a=this.container=document.createElement("div");a.setAttribute("handle","container"),a.className+=" _coral-Table-wrapper-container",a.setAttribute("role","presentation"),a.setAttribute("coral-table-scroll","");var o=document.createTextNode("\n  ");a.appendChild(o);var r=this.hiddenStyle=document.createElement("style");r.setAttribute("handle","hiddenStyle"),a.appendChild(r);var s=document.createTextNode("\n  ");a.appendChild(s);var l=this.alignmentStyle=document.createElement("style");l.setAttribute("handle","alignmentStyle"),a.appendChild(l);var c=document.createTextNode("\n  ");a.appendChild(c);var u=this.table=document.createElement("table");u.setAttribute("handle","table"),u.className+=" _coral-Table",u.setAttribute("role","grid"),u.setAttribute("aria-describedby",this.liveRegion.id),a.appendChild(u);var h=document.createTextNode("\n");a.appendChild(h),e.appendChild(a);var d=document.createTextNode("\n\n");return e.appendChild(d),e},mf="_coral-Table-wrapper",ff={DEFAULT:"default",QUIET:"quiet",LIST:"list"},gf=[];for(var vf in ff)gf.push("".concat(mf,"--").concat(ff[vf]));var _f=Ra.keyToCode("space"),bf=function(t){s(i,t);var e=d(i);function i(){var t;return a(this,i),(t=e.call(this))._elements={head:t.querySelector('thead[is="coral-table-head"]')||new uf,body:t.querySelector('tbody[is="coral-table-body"]')||new hf,foot:t.querySelector('tfoot[is="coral-table-foot"]')||new df,columns:t.querySelector("colgroup")||document.createElement("colgroup")},pf.call(t._elements,{commons:da}),t._delegateEvents({"global:coral-commons:_webfontactive":"_resetLayout","change [coral-table-select]":"_onSelectAll",'capture:scroll [handle="container"]':"_onScroll",'click thead[is="coral-table-head"] th[is="coral-table-headercell"]':"_onHeaderCellSort",'coral-dragaction:dragstart thead[is="coral-table-head"] th[is="coral-table-headercell"]':"_onHeaderCellDragStart",'coral-dragaction:drag thead[is="coral-table-head"] tr[is="coral-table-row"] > th[is="coral-table-headercell"]':"_onHeaderCellDrag",'coral-dragaction:dragend thead[is="coral-table-head"] tr[is="coral-table-row"] > th[is="coral-table-headercell"]':"_onHeaderCellDragEnd",'key:enter th[is="coral-table-headercell"]':"_onHeaderCellSort",'key:enter th[is="coral-table-headercell"] coral-table-headercell-content':"_onHeaderCellSort",'key:space th[is="coral-table-headercell"]':"_onHeaderCellSort",'key:space th[is="coral-table-headercell"] coral-table-headercell-content':"_onHeaderCellSort",'click tbody[is="coral-table-body"] [coral-table-rowlock]':"_onRowLock",'click tbody[is="coral-table-body"] [coral-table-rowselect]':"_onRowSelect",'click tbody[is="coral-table-body"] tr[is="coral-table-row"][selectable] [coral-table-cellselect]':"_onCellSelect",'capture:mousedown tbody[is="coral-table-body"] [coral-table-roworder]:not([disabled])':"_onRowOrder",'capture:touchstart tbody[is="coral-table-body"] [coral-table-roworder]:not([disabled])':"_onRowOrder",'coral-dragaction:dragstart tbody[is="coral-table-body"] tr[is="coral-table-row"]':"_onRowDragStart",'coral-dragaction:drag tbody[is="coral-table-body"] tr[is="coral-table-row"]':"_onRowDrag",'coral-dragaction:dragover tbody[is="coral-table-body"] tr[is="coral-table-row"]':"_onRowDragOver",'coral-dragaction:dragend tbody[is="coral-table-body"] tr[is="coral-table-row"]':"_onRowDragEnd",'mousedown tbody[is="coral-table-body"] [coral-table-rowselect]':"_onRowDown",'key:enter tbody[is="coral-table-body"] tr[is="coral-table-row"]':"_onRowSelect",'key:space tbody[is="coral-table-body"] tr[is="coral-table-row"]':"_onRowSelect",'key:pageup tbody[is="coral-table-body"] tr[is="coral-table-row"]':"_onFocusPreviousItem",'key:pagedown tbody[is="coral-table-body"] tr[is="coral-table-row"]':"_onFocusNextItem",'key:left tbody[is="coral-table-body"] tr[is="coral-table-row"]':"_onFocusPreviousItem",'key:right tbody[is="coral-table-body"] tr[is="coral-table-row"]':"_onFocusNextItem",'key:up tbody[is="coral-table-body"] tr[is="coral-table-row"]':"_onFocusPreviousItem",'key:down tbody[is="coral-table-body"] tr[is="coral-table-row"]':"_onFocusNextItem",'key:home tbody[is="coral-table-body"] tr[is="coral-table-row"]':"_onFocusFirstItem",'key:end tbody[is="coral-table-body"] tr[is="coral-table-row"]':"_onFocusLastItem",'key:shift+pageup tbody[is="coral-table-body"] tr[is="coral-table-row"]':"_onSelectPreviousItem",'key:shift+pagedown tbody[is="coral-table-body"] tr[is="coral-table-row"]':"_onSelectNextItem",'key:shift+left tbody[is="coral-table-body"] tr[is="coral-table-row"]':"_onSelectPreviousItem",'key:shift+right tbody[is="coral-table-body"] tr[is="coral-table-row"]':"_onSelectNextItem",'key:shift+up tbody[is="coral-table-body"] tr[is="coral-table-row"]':"_onSelectPreviousItem",'key:shift+down tbody[is="coral-table-body"] tr[is="coral-table-row"]':"_onSelectNextItem","coral-table-row:_multiplechanged":"_onRowMultipleChanged","coral-table-row:_beforeselectedchanged":"_onBeforeRowSelectionChanged","coral-table-row:_selectedchanged":"_onRowSelectionChanged","coral-table-row:_lockedchanged":"_onRowLockedChanged","coral-table-row:_change":"_onRowChange","coral-table-row:_contentchanged":"_onRowContentChanged","coral-table-headercell:_contentchanged":"_resetLayout","coral-table-head:_contentchanged":"_onHeadContentChanged","coral-table-body:_contentchanged":"_onBodyContentChanged","coral-table-body:_empty":"_onBodyEmpty","coral-table-column:_alignmentchanged":"_onAlignmentChanged","coral-table-column:_fixedwidthchanged":"_onFixedWidthChanged","coral-table-column:_orderablechanged":"_onColumnOrderableChanged","coral-table-column:_sortablechanged":"_onColumnSortableChanged","coral-table-column:_sortabledirectionchanged":"_onColumnSortableDirectionChanged","coral-table-column:_hiddenchanged":"_onColumnHiddenChanged","coral-table-column:_beforecolumnsort":"_onBeforeColumnSort","coral-table-column:_sort":"_onColumnSort","coral-table-head:_stickychanged":"_onHeadStickyChanged"}),t._oldSelection=[],t._lastSelectedItems={items:[],direction:null},t._allowSorting=!1,t._timeout=null,t._wait=50,t._resetLayout=t._resetLayout.bind(u(t)),t._toggleObserver(!0),t}return r(i,[{key:"_onSelectAll",value:function(t){if(this.selectable){var e=this._getSelectableItems();if(e.length)if(this.multiple){var i=t.target.checked;e.forEach((function(t){t.set("selected",i,!0)})),e=i?e:[],this._setSelectAllHandleState(i?"checked":"unchecked"),this.trigger("coral-table:change",{selection:e,oldSelection:this._oldSelection}),this._oldSelection=e,this._lastSelectedItems.items=e}else{var n=e[e.length-1];n.selected=!n.selected}}}},{key:"_triggerChangeEvent",value:function(){if(!this._preventTriggeringEvents){var t=this.selectedItems;this.trigger("coral-table:change",{oldSelection:this._oldSelection,selection:t}),this._oldSelection=t}}},{key:"_onRowOrder",value:function(t){var e=this,i=t.target.closest('tr[is="coral-table-row"]');if(i&&e.orderable){var n=e.head,a=e.body,o=n&&n.sticky,r=i.getAttribute("style"),s=Vm(i),l=i.nextElementSibling,c=new Tl(i),u=Km([a]),h=e.getBoundingClientRect(),d=i.getBoundingClientRect();i===u[0]?e.classList.add("is-draggedFirstItem"):i===u[u.length-1]&&e.classList.add("is-draggedLastItem"),c.axis="vertical",c.scroll=!1,c.handle=i.querySelector("[coral-table-roworder]");var p=i.cloneNode(!0);p.classList.add("_coral-Table-row--placeholder"),i.style.top="".concat(d.top-h.top,"px"),e._preventTriggeringEvents=!0,a.insertBefore(p,i.nextElementSibling),window.requestAnimationFrame((function(){e._preventTriggeringEvents=!1}));var m={placeholder:p,index:s,oldBefore:l,style:{row:r}};o&&(m.sticky=o,m.tableTop=h.top,m.tableSize=h.height,m.headSize=parseFloat(e._elements.container.style.marginTop),m.dragElementSize=d.height),i.dragAction._dragData=m}}},{key:"_onHeaderCellSort",value:function(t){var e=t.matchedTarget.closest("th");if(!e._isDragging){var i=this._getColumn(e);i&&i.sortable&&(t.preventDefault(),i._sort(),e.focus())}}},{key:"_onHeaderCellDragStart",value:function(t){var e=t.matchedTarget,i=t.detail.dragElement,n=e===i?'th[is="coral-table-headercell"]':'th[is="coral-table-headercell"] coral-table-headercell-content',a=this.getBoundingClientRect();i.dragAction._dragData={draggedColumnIndex:Vm(e),tableLeft:a.left,tableSize:a.width,dragElementSize:e.getBoundingClientRect().width,tableScrollWidth:this._elements.container.scrollWidth},$m(e,n,"prevAll").forEach((function(t){t.classList.add("is-before")})),$m(e,n,"nextAll").forEach((function(t){t.classList.add("is-after")}))}},{key:"_onHeaderCellDrag",value:function(t){var e=this._elements.container,i=t.matchedTarget,n=t.detail.dragElement,a=n.dragAction._dragData,o=i.parentElement,r=i===n,s=e.scrollLeft,l=document.body.scrollLeft;i._isDragging=!0;var c=n.getBoundingClientRect().left-a.tableLeft,u=a.tableSize-a.dragElementSize;c<0?e.scrollLeft-=10:c>u&&s+a.tableSize<a.tableScrollWidth&&(e.scrollLeft+=10),Xm(o).forEach((function(e){var n=r?e:e.content;if(!n.classList.contains("is-dragging")){var a=n.getBoundingClientRect().left+l,o=t.detail.pageX<a+n.offsetWidth/3;n.classList.toggle("is-after",o),n.classList.toggle("is-before",!o);var c=Vm(e),u=Vm(i);if(n.classList.contains("is-after"))if(c<u)if(r){var h=n.clientWidth;n.style.left="".concat(h,"px")}else{var d=$m(e,'th[is="coral-table-headercell"]',"next").getBoundingClientRect().left+l;n.style.left="".concat(d+s,"px")}else n.style.left="";if(n.classList.contains("is-before"))if(c>u){var p=$m(e,'th[is="coral-table-headercell"]',"prev");if(r){var m=p.clientWidth;n.style.left="".concat(-1*m,"px")}else{var f=p.getBoundingClientRect().left+l;n.style.left="".concat(f+s,"px")}}else n.style.left=""}}))}},{key:"_onHeaderCellDragEnd",value:function(t){var e=this,i=t.matchedTarget,n=t.detail.dragElement,a=n.dragAction._dragData,o=e._getColumn(i),r=Km([e.head]),s=i===n,l=i.parentElement,c=function(t){var i=[];return Km([e.body,e.foot]).forEach((function(e){var n=Qm(e,t);n&&i.push(n)})),i},u=c(Vm(i)),h=null,d=null;if(s?(h=l.querySelector('th[is="coral-table-headercell"].'.concat("is-after")),d=(d=l.querySelectorAll('th[is="coral-table-headercell"].'.concat("is-before"))).length?d[d.length-1]:null):(h=(h=l.querySelector('th[is="coral-table-headercell"] > coral-table-headercell-content.'.concat("is-after")))?h.parentNode:null,d=(d=l.querySelectorAll('th[is="coral-table-headercell"] > coral-table-headercell-content.'.concat("is-before"))).length?d[d.length-1].parentNode:null),!(h&&h.previousElementSibling===i||d&&d.nextElementSibling===i)){var p=h?e._getColumn(h):null,m=e.trigger("coral-table:beforecolumndrag",{column:o,before:p}),f=o.nextElementSibling;if(!m.defaultPrevented){if(h){var g=Vm(h),v=c(g);u.forEach((function(t,e){t.parentNode.insertBefore(t,v[e])}));var _=Wm(e.columns)[g];_&&o&&e.columns.insertBefore(o,_),l.insertBefore(i,h)}if(d){var b=Vm(d),y=c(b);u.forEach((function(t,e){t.parentNode.insertBefore(t,y[e].nextElementSibling)}));var C=Wm(e.columns)[b];C&&o&&e.columns.insertBefore(o,C.nextElementSibling),l.insertBefore(i,d.nextElementSibling)}if(a.draggedColumnIndex!==Vm(i)){var A=Wm(e.columns)[Vm(o)+1];e.trigger("coral-table:columndrag",{column:o,oldBefore:f,before:A||null})}}}r.forEach((function(t){Xm(t).forEach((function(t){(t=s?t:t.content).classList.remove("is-after"),t.classList.remove("is-before"),t.style.left=""}))})),e._resetLayout(),window.requestAnimationFrame((function(){i._isDragging=void 0,e._toggleElementTabIndex(n,null,!0)}))}},{key:"_onCellSelect",value:function(t){var e=t.target.closest('td[is="coral-table-cell"]');e&&(e.selected=!e.selected)}},{key:"_onRowSelect",value:function(t){var e=t.target.closest('tr[is="coral-table-row"]');if(e){if(this.lockable&&e.locked)return;if(this.classList.remove("is-unselectable"),this.selectable&&(Ra.filterInputs(t)||!e.hasAttribute("coral-table-rowselect"))){if(t.keyCode===_f&&t.preventDefault(),t.shiftKey){var i=this._lastSelectedItems.items[this._lastSelectedItems.items.length-1],n=this._lastSelectedItems.direction;if(!this.selectedItem){var a=this._getSelectableItems();a.length&&(i=a[0]).set("selected",!0,!0)}if(i&&Vm(e)!==Vm(i)){var o=Vm(e)<Vm(i),r=o?"prevUntil":"nextUntil";if(this._lastSelectedItems.direction=o?"up":"down",e.selected){var s=$m(i,e,r);s.some((function(t){return!t.hasAttribute("selected")}))?(s.forEach((function(t){t.set("selected",!0,!0)})),$m(e,'tr[is="coral-table-row"]:not([selected])',r).forEach((function(t){t.set("selected",!1,!0)}))):(s[o?"push":"unshift"](i),s.forEach((function(t){t.set("selected",!1,!0)})))}else{var l=$m(i,'tr[is="coral-table-row"]:not([selected])',r);l[o?"push":"unshift"](i),(!o&&"up"===n||o&&"down"===n)&&l.forEach((function(t){t.set("selected",!1,!0)}));var c=l[o?0:l.length-1];c.set("selected",!0,!0),$m(c,e,r).forEach((function(t){t.set("selected",!0,!0)}))}}}else this._lastSelectedItems.direction=null;e.selected=!!t.shiftKey||!e.selected,this._focusItem(e,t.target===t.matchedTarget||t.target.tabIndex<0)}}}},{key:"_onRowLock",value:function(t){var e=this;if(e.lockable){var i=t.target.closest('tr[is="coral-table-row"]');i&&(t.preventDefault(),t.stopPropagation(),i.locked=!i.locked,window.requestAnimationFrame((function(){e._focusItem(i,!0)})))}}},{key:"_onRowDown",value:function(t){if(this.selectedItem&&t.shiftKey){this.classList.add("is-unselectable");var e=document.onselectstart;document.onselectstart=function(){return!1},window.requestAnimationFrame((function(){document.onselectstart=e}))}}},{key:"_onRowDragStart",value:function(t){var e=this.head,i=this.body,n=t.detail.dragElement,a=n.dragAction._dragData;if(a.style.cells=[],Gm(n).forEach((function(t){a.style.cells.push(t.getAttribute("style")),t.style.width=window.getComputedStyle(t).width})),e&&!e.sticky){var o=document.scrollingElement||document.documentElement;n.style.top="".concat(n.getBoundingClientRect().top+o.scrollTop,"px")}n.style.position="absolute",n.dragAction.dropZone=i.querySelectorAll('tr[is="coral-table-row"]:not(.'.concat("is-dragging",")")),n.classList.add("is-focused")}},{key:"_onRowDrag",value:function(t){var e=this,i=e.body,n=t.detail.dragElement,a=n.dragAction._dragData,o=Km([i])[0];if(n.getBoundingClientRect().top<=o.getBoundingClientRect().top&&(e._preventTriggeringEvents=!0,i.insertBefore(a.placeholder,o),window.requestAnimationFrame((function(){e._preventTriggeringEvents=!1}))),a.sticky){var r=n.getBoundingClientRect().top-a.tableTop-a.headSize,s=a.tableSize-a.dragElementSize-a.headSize;window.requestAnimationFrame((function(){r<0?e._elements.container.scrollTop-=10:r>s&&(e._elements.container.scrollTop+=10)}))}}},{key:"_onRowDragOver",value:function(t){var e=this,i=e.body,n=t.detail.dragElement,a=t.detail.dropElement,o=n.dragAction._dragData;n.getBoundingClientRect().top>=a.getBoundingClientRect().top&&(e._preventTriggeringEvents=!0,i.insertBefore(o.placeholder,a.nextElementSibling),window.requestAnimationFrame((function(){e._preventTriggeringEvents=!1})))}},{key:"_onRowDragEnd",value:function(t){var e=this,i=e.body,n=t.detail.dragElement,a=n.dragAction._dragData,o=a.placeholder.nextElementSibling;if(e.classList.remove("is-draggedFirstItem"),e.classList.remove("is-draggedLastItem"),i.removeChild(a.placeholder),n.dragAction.destroy(),n.setAttribute("style",a.style.row||""),Gm(n).forEach((function(t,e){t.setAttribute("style",a.style.cells[e]||"")})),!e.trigger("coral-table:beforeroworder",{row:n,before:o}).defaultPrevented){var r=Km([i]).filter((function(t){return t!==n}));a.index!==r.indexOf(a.placeholder)&&(e._preventTriggeringEvents=!0,i.insertBefore(n,o),window.requestAnimationFrame((function(){e._preventTriggeringEvents=!1})),e.trigger("coral-table:roworder",{row:n,oldBefore:a.oldBefore,before:o}))}window.requestAnimationFrame((function(){n.classList.remove("is-focused"),e._focusItem(n,!0)}))}},{key:"_onRowMultipleChanged",value:function(t){t.stopImmediatePropagation();var e=this,i=t.target;if(!i.multiple){var n=i.selectedItems;e._preventTriggeringEvents=!0,n.forEach((function(t,e){t.selected=e===n.length-1})),window.requestAnimationFrame((function(){e._preventTriggeringEvents=!1,e.trigger("coral-table:rowchange",{oldSelection:n,selection:i.selectedItems,row:i})}))}}},{key:"_onBeforeRowSelectionChanged",value:function(t){t.stopImmediatePropagation();var e=this.selectedItem;this.multiple||!e||t.target.selected||(e.set("selected",!1,!0),this._removeLastSelectedItem(e))}},{key:"_syncSelectAllHandle",value:function(t,e){e.length&&t.length===e.length?this._setSelectAllHandleState("checked"):t.length?this._setSelectAllHandleState("indeterminate"):this._setSelectAllHandleState("unchecked")}},{key:"_setSelectAllHandleState",value:function(t){var e=this.querySelector("[coral-table-select]");e&&("CORAL-CHECKBOX"===e.tagName&&(e.labelled||e.setAttribute("labelled",wa.get("Select All")),e.title||e.setAttribute("title",wa.get("Select All"))),"checked"===t?(e.removeAttribute("indeterminate"),e.setAttribute("checked","")):"unchecked"===t?(e.removeAttribute("indeterminate"),e.removeAttribute("checked")):"indeterminate"===t&&e.setAttribute("indeterminate",""))}},{key:"_onRowSelectionChanged",value:function(t){t.stopImmediatePropagation(),this._triggerChangeEvent();var e=this,i=e.body,n=t.target;if(i&&i.contains(n)){var a=e.selectedItems,o=e._getSelectableItems();e._syncSelectAllHandle(a,o),e[n.selected?"_addLastSelectedItem":"_removeLastSelectedItem"](n);var r=e._lastSelectedItems.items[e._lastSelectedItems.items.length-1],s="down"===e._lastSelectedItems.direction;n.selected&&r&&r.selected&&$m(r,'tr[is="coral-table-row"][selected]',s?"next":"prev")&&$m(r,'tr[is="coral-table-row"]:not([selected])',s?"nextUntil":"prevUntil").forEach((function(t){e._addLastSelectedItem(t)}))}}},{key:"_onRowLockedChanged",value:function(t){t.stopImmediatePropagation();var e=this,i=this.body,n=t.target;if(i&&i.contains(n))if(n.locked)n._rowIndex=Vm(n),e._preventTriggeringEvents=!0,i.insertBefore(n,Km([i])[0]),window.requestAnimationFrame((function(){e._preventTriggeringEvents=!1})),e.trigger("coral-table:rowlock",{row:n});else{if(n._rowIndex>=0){var a=Km([i])[n._rowIndex];a&&(e._preventTriggeringEvents=!0,i.insertBefore(n,a.nextElementSibling),window.requestAnimationFrame((function(){e._preventTriggeringEvents=!1})))}e.trigger("coral-table:rowunlock",{row:n})}}},{key:"_onHeadContentChanged",value:function(t){t.stopImmediatePropagation();for(var e=this.head,i=t.detail.addedNodes,n=0;n<i.length;n++){var a=i[n];Um(a)&&this._toggleStickyHeaderCell(a,e.sticky)}}},{key:"_onBodyContentChanged",value:function(t){t.stopImmediatePropagation&&t.stopImmediatePropagation();for(var e=t.detail.addedNodes,i=t.detail.removedNodes,n=null,a=function(t){t.selected=t===n},o=!1,r=0;r<e.length;r++)if(n=e[r],zm(n)){o=!0,n._toggleSelectable(this.selectable),n._toggleOrderable(this.orderable),n._toggleLockable(this.lockable),this._toggleSelectionCheckbox(n);var s=this.selectedItems;n.selected&&(!this.multiple&&s.length>1&&s.forEach(a),this._triggerChangeEvent()),n.selectable&&n.trigger("coral-table-row:_contentchanged",{addedNodes:Zm(n),removedNodes:[]}),this._preventTriggeringEvents||this.trigger("coral-collection:add",{item:n}),this._toggleFocusable()}for(var l=0;l<i.length;l++){var c=i[l];if(zm(c)){if(o=!0,"0"===c.getAttribute("tabindex")){var u=Km([this.body])[0];u&&this._focusItem(u)}c.selected&&this._triggerChangeEvent();var h=this._lastSelectedItems.items.indexOf(c);-1!==h&&(this._lastSelectedItems.items=this._lastSelectedItems.items.splice(h,1)),this._preventTriggeringEvents||this.trigger("coral-collection:remove",{item:c})}}if(o){var d=this._getSelectableItems();this._syncSelectAllHandle(this.selectedItems,d),this._toggleInteractivity(0===d.length)}}},{key:"_onBodyEmpty",value:function(t){t.stopImmediatePropagation(),this._toggleInteractivity(!0)}},{key:"_onRowChange",value:function(t){t.stopImmediatePropagation(),this._preventTriggeringEvents||this.trigger("coral-table:rowchange",{oldSelection:t.detail.oldSelection,selection:t.detail.selection,row:t.target})}},{key:"_onRowContentChanged",value:function(t){t.stopImmediatePropagation();for(var e=t.target,i=t.detail.addedNodes,n=null,a=t.detail.removedNodes,o=function(t){t.selected=t===n},r=0;r<i.length;r++)if(n=i[r],Bm(n)){n._toggleSelectable(e.selectable);var s=e.selectedItems;n.selected&&(!e.multiple&&s.length>1&&s.forEach(o),e._triggerChangeEvent()),this._preventTriggeringEvents||e.trigger("coral-collection:add",{item:n})}else Um(n)&&this._setHeaderCellScope(n,e.parentNode);for(var l=0;l<a.length;l++){var c=a[l];Bm(c)&&(c.selected&&e._triggerChangeEvent(),this._preventTriggeringEvents||e.trigger("coral-collection:remove",{item:c}))}}},{key:"_toggleInteractivity",value:function(t){var e=this.querySelector("[coral-table-select]");e&&(e.disabled=t),this.classList.toggle("is-disabled",t)}},{key:"_onAlignmentChanged",value:function(t){t.stopImmediatePropagation(),this._resetAlignmentColumns()}},{key:"_onFixedWidthChanged",value:function(t){t.stopImmediatePropagation();var e=this.head,i=t.target;if(e){var n=Km([e]),a=Vm(t.target);n.forEach((function(t){var e=Qm(t,a);e&&"TH"===e.tagName&&e[i.fixedWidth?"setAttribute":"removeAttribute"]("fixedwidth","")}))}this._resetLayout()}},{key:"_onColumnOrderableChanged",value:function(t){t.stopImmediatePropagation();var e=this.head,i=t.target,n=this._getColumnHeaderCell(i);n&&(this._toggleDragActionHandle(n,e&&e.sticky),this._resetLayout())}},{key:"_onColumnSortableChanged",value:function(t){t.stopImmediatePropagation();var e=this.head,i=t.target,n=this._getColumnHeaderCell(i);n&&(n[i.sortable?"setAttribute":"removeAttribute"]("sortable",""),this._toggleHeaderCellTabIndex(n,e&&e.sticky),this._resetLayout())}},{key:"_onColumnSortableDirectionChanged",value:function(t){var e=this;t.stopImmediatePropagation();var i=t.target,n=nf.sortableDirection;this.classList.toggle("is-sorted",this._isSorted());var a=this._getColumnHeaderCell(i);if(a)if(a.setAttribute("sortabledirection",i.sortableDirection),(this.head.sticky?a.content:a).setAttribute("aria-sort",i.sortableDirection===n.DEFAULT?"none":i.sortableDirection),i.sortableDirection===n.DEFAULT)this._elements.liveRegion.innerText="";else{var o=a.content.textContent.trim();o.length&&(this._elements.liveRegion.setAttribute("aria-live","polite"),this._elements.liveRegion.removeAttribute("aria-hidden"),this._elements.liveRegion.innerText=wa.get("sorted by column {0} in ".concat(i.sortableDirection," order"),o),window.setTimeout((function(){e._elements.liveRegion.setAttribute("aria-live","off"),e._elements.liveRegion.setAttribute("aria-hidden","true")}),2500))}}},{key:"_onColumnHiddenChanged",value:function(t){t.stopImmediatePropagation(),this._resetHiddenColumns(!0)}},{key:"_onBeforeColumnSort",value:function(t){t.stopImmediatePropagation();var e=t.target,i=t.detail.newSortableDirection;this.trigger("coral-table:beforecolumnsort",{column:e,direction:i}).defaultPrevented||(e.sortableDirection=i)}},{key:"_onColumnSort",value:function(t){var e=this;if(t.stopImmediatePropagation(),this._allowSorting){var i=this,n=i.body,a=t.target,o=Vm(a),r=i._getColumnHeaderCell(a),s=t.detail.onInitialization,l=t.detail.sortableDirection,c=t.detail.sortableType,u=Km([n]),h=[];i&&(i._preventTriggeringEvents=!0),u.forEach((function(t,e){void 0===t._defaultRowIndex&&(t._defaultRowIndex=e);var i=Qm(t,o);i&&h.push(i)})),a.sortableDirection===l.ASCENDING?($m(a,'col[is="coral-table-column"]').forEach((function(t){t._preventSort=!0,t.setAttribute("sortabledirection",l.DEFAULT),t._preventSort=!1})),r&&$m(r,'th[is="coral-table-headercell"]').forEach((function(t){t.setAttribute("sortabledirection",l.DEFAULT),(i.head.sticky?t.content:t).setAttribute("aria-sort","none")})),h.sort((function(t,e){if(a.sortableType===c.ALPHANUMERIC){var i=t.value?t.value:t.textContent,n=e.value?e.value:e.textContent;return i.localeCompare(n)}return a.sortableType===c.NUMBER?parseFloat(t.value?t.value:t.textContent.replace(/\s+/g,"").replace(/,/g,"."))>parseFloat(e.value?e.value:e.textContent.replace(/\s+/g,"").replace(/,/g,"."))?1:-1:a.sortableType===c.DATE?(t.value?new Date(parseInt(t.value,10)):new Date(t.textContent))>(e.value?new Date(parseInt(e.value,10)):new Date(e.textContent))?1:-1:void 0})),a.sortableType!==c.CUSTOM&&(n&&h.forEach((function(t){var e=t.parentElement;e.locked||n.appendChild(e)})),i.trigger("coral-table:columnsort",{column:a})),u.forEach((function(t){t.dragAction&&t.dragAction.destroy()}))):a.sortableDirection===l.DESCENDING?($m(a,'col[is="coral-table-column"]').forEach((function(t){t._preventSort=!0,t.setAttribute("sortabledirection",l.DEFAULT),t._preventSort=!1})),r&&$m(r,'th[is="coral-table-headercell"]').forEach((function(t){t.setAttribute("sortabledirection",l.DEFAULT),(i.head.sticky?t.content:t).setAttribute("aria-sort","none")})),h.sort((function(t,e){if(a.sortableType===c.ALPHANUMERIC){var i=t.value?t.value:t.textContent;return(e.value?e.value:e.textContent).localeCompare(i)}return a.sortableType===c.NUMBER?parseFloat(t.value?t.value:t.textContent.replace(/\s+/g,"").replace(/,/g,"."))<parseFloat(e.value?e.value:e.textContent.replace(/\s+/g,"").replace(/,/g,"."))?1:-1:a.sortableType===c.DATE?(t.value?new Date(parseInt(t.value,10)):new Date(t.textContent))<(e.value?new Date(parseInt(e.value,10)):new Date(e.textContent))?1:-1:void 0})),a.sortableType!==c.CUSTOM&&(n&&h.forEach((function(t){var e=t.parentElement;e.locked||n.appendChild(e)})),i.trigger("coral-table:columnsort",{column:a})),u.forEach((function(t){t.dragAction&&t.dragAction.destroy()}))):a.sortableDirection!==l.DEFAULT||s||a.sortableType!==c.CUSTOM&&(u.sort((function(t,e){return t._defaultRowIndex>e._defaultRowIndex?1:-1})),u.forEach((function(t){n&&!t.locked&&n.appendChild(t)})),i.trigger("coral-table:columnsort",{column:a})),window.requestAnimationFrame((function(){if(s&&a.sortableDirection!==l.DEFAULT){var t=r.content.textContent.trim();t.length&&(e._elements.liveRegion.innerText=wa.get("sorted by column {0} in ".concat(a.sortableDirection," order"),t))}i._preventTriggeringEvents=!1}))}}},{key:"_onHeadStickyChanged",value:function(t){t.stopImmediatePropagation(),this._toggleFocusable();var e=this,i=t.target;window.requestAnimationFrame((function(){var t=i.sticky?"".concat(i.getBoundingClientRect().height,"px"):null;e._resetContainerLayout(t,e._elements.container.style.height),Km([i]).forEach((function(t){Xm(t).forEach((function(t){e._toggleStickyHeaderCell(t,i.sticky)}))})),e.classList.toggle("".concat(mf,"--sticky"),i.sticky),e._preventResetLayout=!1,e._resetLayout()}))}},{key:"_getColumnHeaderCell",value:function(t){var e=this.head,i=null;if(e){var n=Km([e]),a=Vm(t);n.length&&(i=(i=Qm(n[n.length-1],a))&&"TH"===i.tagName?i:null)}return i}},{key:"_getColumn",value:function(t){return Wm(this.columns)[Vm(t)]||null}},{key:"_toggleStickyHeaderCell",value:function(t,e){this._layoutStickyCell(t,e),this._toggleDragActionHandle(t,e),this._toggleHeaderCellTabIndex(t,e)}},{key:"_layoutStickyCell",value:function(t,e){if(e){var i=window.getComputedStyle(t);if(!t.style.minWidth){var n=!1;if(t.textContent.trim().length)n=!0;else for(var a=t.content.children,o=0;o<a.length&&!n;o++)a[0].offsetParent&&(n=!0);if(n){var r=t.content.getBoundingClientRect().width;r>0&&(t.style.minWidth="".concat(r,"px"))}}var s=parseFloat(i.width),l=parseFloat(i.paddingLeft)+parseFloat(i.paddingRight),c=parseFloat(i.borderRightWidth);t.content.style.width="".concat(s+l+c,"px")}else t.style.minWidth="",t.content.style.width="",t.content.style.height="",t.content.style.top="",t.content.style.marginLeft="",t.content.style.paddingTop=""}},{key:"_toggleDragActionHandle",value:function(t,e){var i=this._getColumn(t);if(t.dragAction&&t.dragAction.destroy(),t.content.dragAction&&t.content.dragAction.destroy(),i&&i.orderable){var n=new Tl(e?t.content:t);n.axis="horizontal",n.scroll=!1,t.setAttribute("orderable","")}else t.removeAttribute("orderable")}},{key:"_toggleFocusable",value:function(){var t=Km([this.body])[0];if(t){var e=this._getFocusableItem();this.selectable||this.lockable||this.orderable||this.head&&this.head.sticky?e||this._toggleElementTabIndex(t):e&&e.removeAttribute("tabindex")}}},{key:"_toggleElementTabIndex",value:function(t,e,i){e&&e.removeAttribute("tabindex"),t.setAttribute("tabindex","0"),i&&t.focus()}},{key:"_toggleHeaderCellTabIndex",value:function(t,e){var i=this._getColumn(t),n=i&&(i.sortable||i.orderable);t[n&&!e?"setAttribute":"removeAttribute"]("tabindex","0"),t.content[n&&e?"setAttribute":"removeAttribute"]("tabindex","0")}},{key:"_isSorted",value:function(){var t=null;return!!Wm(this.columns).some((function(e){return t=e,e.sortableDirection!==nf.sortableDirection.DEFAULT}))&&t}},{key:"_focusEdgeItem",value:function(t,e){var i=Km([this.body]);if(i.length){t.preventDefault();var n=this._getFocusableItem();n&&n.removeAttribute("tabindex"),(n=i[e?0:i.length-1]).setAttribute("tabindex","0"),n.focus()}}},{key:"_focusSiblingItem",value:function(t,e){var i=this._getFocusableItem();if(i){t.preventDefault();var n=$m(i,'tr[is="coral-table-row"]',e?"next":"prev");n&&(i.removeAttribute("tabindex"),n.setAttribute("tabindex","0"),n.focus())}}},{key:"_selectSiblingItem",value:function(t){var e=this;if(this.selectable&&this.multiple){var i=this.selectedItems,n=this._lastSelectedItems.items[this._lastSelectedItems.items.length-1];if(i.length){if(t&&n.matches(":last-of-type")||!t&&n.matches(":first-of-type"))return;var a=$m(n,'tr[is="coral-table-row"]',t?"next":"prev");a.hasAttribute("selected")||(n=a),this._lastSelectedItems.direction=t?"down":"up",n.selected=!n.selected}else if(Km([this.body]).length){var o=this._getFocusableItem();this._lastSelectedItems.direction=t?"down":"up",o.selected=!0}}window.requestAnimationFrame((function(){var t=e._lastSelectedItems.items[e._lastSelectedItems.items.length-1];t&&e._focusItem(t,!0)}))}},{key:"_getFocusableItem",value:function(){return this.body&&this.body.querySelector('tr[is="coral-table-row"][tabindex="0"]')}},{key:"_getFocusableHeaderCell",value:function(){return this.head&&this.head.querySelector('th[is="coral-table-headercell"][tabindex="0"], coral-table-headercell-label[tabindex="0"]')}},{key:"_addLastSelectedItem",value:function(t){-1===this._lastSelectedItems.items.indexOf(t)?this._lastSelectedItems.items.push(t):(this._removeLastSelectedItem(t),this._addLastSelectedItem(t))}},{key:"_removeLastSelectedItem",value:function(t){this._lastSelectedItems.items.splice(this._lastSelectedItems.items.indexOf(t),1)}},{key:"_focusItem",value:function(t,e){this._toggleElementTabIndex(t,this._getFocusableItem(),e)}},{key:"_onFocusFirstItem",value:function(t){this._focusEdgeItem(t,!0)}},{key:"_onFocusLastItem",value:function(t){this._focusEdgeItem(t,!1)}},{key:"_onFocusNextItem",value:function(t){this._focusSiblingItem(t,!0)}},{key:"_onFocusPreviousItem",value:function(t){this._focusSiblingItem(t,!1)}},{key:"_onSelectNextItem",value:function(){this._selectSiblingItem(!0)}},{key:"_onSelectPreviousItem",value:function(){this._selectSiblingItem(!1)}},{key:"resetLayout",value:function(t){!0===(t=Ua.boolean(t))?(this._doResetLayout(),this._preventResetLayout=!1):this._resetLayout()}},{key:"_doResetLayout",value:function(){this.classList.add("is-layouting"),this._resizeStickyHead(),this._resizeContainer(),this.classList.remove("is-layouting")}},{key:"_resetLayout",value:function(){var t=this;this._preventResetLayout||(null!==this._timeout&&window.clearTimeout(this._timeout),this._timeout=window.setTimeout((function(){t._timeout=null,t._doResetLayout(),t.classList.add("is-ready")}),this._wait))}},{key:"_resizeStickyHead",value:function(){var t=this,e=t.head;e&&e.sticky&&Km([e]).forEach((function(e){Xm(e).forEach((function(e){t._layoutStickyCell(e,!0)}))}))}},{key:"_resizeContainer",value:function(){var t=this,e=t.head;if(e&&e.sticky){var i=0,n=0;Km([e]).forEach((function(e,a){var o=Xm(e);if(o.length){var r=window.getComputedStyle(o[0].content),s=0,l=parseFloat(r.minHeight),c=parseFloat(r.borderTopWidth);o.forEach((function(t){t.content.style.height="",s=Math.max(s,t.content.getBoundingClientRect().height)})),i+=s,o.forEach((function(e){if(s-c!==l&&(e.content.style.height="".concat(s,"px")),e.content.textContent.trim().length&&!e.content.querySelector("coral-checkbox[coral-table-select]")){var i=e.content.getBoundingClientRect().height,o=document.createElement("span");for(t._preventResetLayout=!0;e.content.firstChild;)o.appendChild(e.content.firstChild);e.content.appendChild(o);for(var r=(i-o.getBoundingClientRect().height)/2;o.firstChild;)e.content.appendChild(o.firstChild);e.content.removeChild(o),e.content.style.paddingTop="".concat(r,"px"),window.requestAnimationFrame((function(){t._preventResetLayout=!1}))}n=n||s,e.content.style.top="".concat(a>0?n*a+c*(a-1):0,"px")}))}}));var a=window.getComputedStyle(this._elements.container),o=parseFloat(a.borderTopWidth)+parseFloat(a.borderBottomWidth),r="".concat(i,"px"),s="calc(100% - ".concat(i+o,"px)");this._resetContainerLayout(r,s)}else this._resetContainerLayout()}},{key:"_resetContainerLayout",value:function(t,e){this._elements.container.style.marginTop=t||"",this._elements.container.style.height=e||""}},{key:"_resetHiddenColumns",value:function(t){var e=this;this.id=this.id||da.getUID(),this._elements.hiddenStyle.innerHTML="",Wm(this.columns).forEach((function(t){if(t.hidden){var i=Vm(t)+1;e._elements.hiddenStyle.innerHTML+="\n           #".concat(e.id," ._coral-Table-cell:nth-child(").concat(i,"),\n           #").concat(e.id," ._coral-Table-headerCell:nth-child(").concat(i,") {\n             display: none;\n           }\n        ")}})),t&&this._resetLayout()}},{key:"_resetAlignmentColumns",value:function(){var t=this;this.id=this.id||da.getUID(),this._elements.alignmentStyle.innerHTML="",Wm(this.columns).forEach((function(e){var i=e.alignment,n=Vm(e)+1;t._elements.alignmentStyle.innerHTML+="\n         #".concat(t.id," ._coral-Table-cell:nth-child(").concat(n,"),\n         #").concat(t.id," ._coral-Table-headerCell:nth-child(").concat(n,") {\n           text-align: ").concat(i,";\n         }\n      ")}))}},{key:"_onScroll",value:function(){var t=this,e=t.head,i=t._elements.container.scrollLeft;t._lastScrollLeft!==i&&(t._lastScrollLeft=i,e&&e.sticky&&(e.style.margin="1px",window.requestAnimationFrame((function(){if(e.style.margin="",!t._preventLayoutStickyCellOnScroll){var n=e.querySelector('tr[is="coral-table-row"] th[is="coral-table-headercell"]');n&&(t._layoutStickyCellOnScroll||1===n.content.offsetLeft?(t._layoutStickyCellOnScroll=!0,Km([e]).forEach((function(t){Xm(t).forEach((function(t){var e=parseFloat(window.getComputedStyle(t).paddingLeft);t.content.style.marginLeft="-".concat(i+e,"px")}))}))):t._preventLayoutStickyCellOnScroll=!0)}}))))}},{key:"_toggleSelectionCheckbox",value:function(t){var e=Zm(t);e.forEach((function(e,i){var n,a=0===i&&e.hasAttribute("coral-table-rowselect"),o=e.hasAttribute("coral-table-cellselect")||e.querySelector("coral-checkbox[coral-table-cellselect]");(a||o)&&(a&&(n="coral-table-rowselect"),o&&(n="coral-table-cellselect"),function(t,e){t._checkbox=t._checkbox||t.querySelector("coral-checkbox"),t._checkbox||(t._checkbox=new Ec),e(t._checkbox),t.insertBefore(t._checkbox,t.firstChild)}(e,(function(i){a?(e.classList.add("_coral-Table-cell--check"),e.removeAttribute(n),i.setAttribute(n,"")):(e.setAttribute(n,""),i.removeAttribute(n)),i[(a?t:e).hasAttribute("selected")?"setAttribute":"removeAttribute"]("checked","")})))}))}},{key:"_setHeaderCellScope",value:function(t,e){var i="THEAD"===e.nodeName||"TFOOT"===e.nodeName?"col":"row";"col"===i?this.head&&this.head.sticky?(t.setAttribute("role","presentation"),t._elements.content.setAttribute("role","columnheader")):t.setAttribute("role","columnheader"):t.setAttribute("role","rowheader"),t.setAttribute("scope",i)}},{key:"_handleMutations",value:function(t){var e=this;t.forEach((function(t){for(var i=0;i<t.removedNodes.length;i++){var n=t.removedNodes[i];qm(n)&&(e.body||(e.body=new hf),e._onBodyContentChanged({target:n,detail:{addedNodes:[],removedNodes:Km([n])}}))}})),this._resetLayout()}},{key:"_getSelectableItems",value:function(){return this.items._getSelectableItems().filter((function(t){return!t.querySelector("[coral-table-rowselect][disabled]")}))}},{key:"_toggleObserver",value:function(t){this._observer=this._observer||new MutationObserver(this._handleMutations.bind(this)),t?this._observer.observe(this,{childList:!0,subtree:!0}):this._observer.disconnect()}},{key:"render",value:function(){var t=this;m(l(i.prototype),"render",this).call(this),this.classList.add(mf),this.setAttribute("role","presentation"),this._variant||(this.variant=ff.DEFAULT);var e=this._elements.head,n=this._elements.body,a=this._elements.foot,o=this._elements.columns;this._toggleObserver(!1),this._elements.head.setAttribute("_observe","off"),this._elements.body.setAttribute("_observe","off");var r=document.createDocumentFragment();r.appendChild(this._elements.container),r.appendChild(this._elements.liveRegion);var s=this.querySelector("._coral-Table-wrapper-container");s&&s.remove();var c=this.querySelector("._coral-Table-liveRegion");if(c&&c.remove(),this.appendChild(r),this.head=e,this.body=n,this.foot=a,this.columns=o,Km([this._elements.table]).forEach((function(e){Xm(e).forEach((function(i){t._setHeaderCellScope(i,e.parentNode)}))})),this.head&&this.foot){var u=Km([this.head]),h=Km([this.foot]);if(u.length===h.length){var d=!0;u.forEach((function(t,e){return Xm(t).forEach((function(t,i){var n=Xm(h[e])[i];n&&t.textContent.trim()===n.textContent.trim()||(d=!1)}))})),d&&this.foot.setAttribute("aria-hidden","true")}}da.addResizeListener(this,this._resetLayout);var p=this._getSelectableItems();if(this._toggleInteractivity(0===p.length),this.selectable){var f=this.selectedItems;this._syncSelectAllHandle(f,p),f.length&&(this._oldSelection=f,this._lastSelectedItems.items=f)}this._allowSorting=!0;var g=this._isSorted();(g&&g._doSort(!0),this.body)&&Km([this.body]).forEach((function(e){return t._toggleSelectionCheckbox(e)}));this._toggleObserver(!0),(!this.head||this.head&&!this.head.hasAttribute("sticky"))&&this.classList.add("is-ready")}},{key:"head",get:function(){return this._getContentZone(this._elements.head)},set:function(t){this._setContentZone("head",t,{handle:"head",tagName:"thead",insert:function(t){this._elements.table.tHead=t,t.setAttribute("_observe","on")}})}},{key:"body",get:function(){return this._getContentZone(this._elements.body)},set:function(t){this._setContentZone("body",t,{handle:"body",tagName:"tbody",insert:function(t){this._elements.table.appendChild(t),this.items._container=t,t.setAttribute("_observe","on")}})}},{key:"foot",get:function(){return this._getContentZone(this._elements.foot)},set:function(t){this._setContentZone("foot",t,{handle:"foot",tagName:"tfoot",insert:function(t){this._elements.table.tFoot=t}})}},{key:"columns",get:function(){return this._getContentZone(this._elements.columns)},set:function(t){this._setContentZone("columns",t,{handle:"columns",tagName:"colgroup",insert:function(t){this._elements.table.appendChild(t)}})}},{key:"variant",get:function(){return this._variant||ff.DEFAULT},set:function(t){var e;t=Ua.string(t).toLowerCase(),this._variant=Ba.enumeration(ff)(t)&&t||ff.DEFAULT,this._reflectAttribute("variant",this._variant),(e=this.classList).remove.apply(e,gf),this.classList.add("".concat(mf,"--").concat(this._variant))}},{key:"selectable",get:function(){return this._selectable||!1},set:function(t){this._selectable=Ua.booleanAttr(t),this._reflectAttribute("selectable",this._selectable);var e=Km([this.body]);this._selectable?e.forEach((function(t){t.setAttribute("_selectable","")})):(e.forEach((function(t){t.removeAttribute("_selectable")})),this.trigger("coral-table:change",{selection:[],oldSelection:this._oldSelection}),this._oldSelection=[],this._lastSelectedItems.items=[]),this._toggleFocusable()}},{key:"orderable",get:function(){return this._orderable||!1},set:function(t){var e=this;this._orderable=Ua.booleanAttr(t),this._reflectAttribute("orderable",this._orderable),Km([this.body]).forEach((function(t){t[e._orderable?"setAttribute":"removeAttribute"]("_orderable","")})),this._toggleFocusable()}},{key:"multiple",get:function(){return this._multiple||!1},set:function(t){if(this._multiple=Ua.booleanAttr(t),this._reflectAttribute("multiple",this._multiple),this._elements.table.setAttribute("aria-multiselectable",this._multiple),!this.multiple){var e=this.selectedItems;if(e.length>1){e.forEach((function(t,i){t.set("selected",i===e.length-1,!0)}));var i=this.selectedItems;i.length?this._setSelectAllHandleState("indeterminate"):this._setSelectAllHandleState("unchecked"),this.trigger("coral-table:change",{selection:i,oldSelection:e}),this._oldSelection=i,this._lastSelectedItems.items=i}}}},{key:"lockable",get:function(){return this._lockable||!1},set:function(t){var e=this;this._lockable=Ua.booleanAttr(t),this._reflectAttribute("lockable",this._lockable),Km([this.body]).forEach((function(t){t[e._lockable?"setAttribute":"removeAttribute"]("_lockable","")})),this._toggleFocusable()}},{key:"labelledBy",get:function(){return this._elements.table.getAttribute("aria-labelledby")},set:function(t){t=Ua.string(t),this._elements.table[t?"setAttribute":"removeAttribute"]("aria-labelledby",t)}},{key:"labelled",get:function(){return this._elements.table.getAttribute("aria-label")},set:function(t){t=Ua.string(t),this._elements.table[t?"setAttribute":"removeAttribute"]("aria-label",t)}},{key:"selectedItems",get:function(){return this.items._getAllSelected()}},{key:"selectedItem",get:function(){return this.items._getFirstSelected()}},{key:"items",get:function(){return this._items||(this._items=new sr({host:this,container:this.body,itemBaseTagName:"tr",itemTagName:"coral-table-row"})),this._items}},{key:"_contentZones",get:function(){return{tbody:"body",thead:"head",tfoot:"foot",colgroup:"columns"}}}],[{key:"variant",get:function(){return ff}},{key:"divider",get:function(){return Ym}},{key:"_attributePropertyMap",get:function(){return da.extend(m(l(i),"_attributePropertyMap",this),{labelledby:"labelledBy"})}},{key:"observedAttributes",get:function(){return m(l(i),"observedAttributes",this).concat(["variant","selectable","orderable","labelled","labelledby","multiple","lockable"])}}]),i}(ho(HTMLTableElement)),yf=function(t){s(i,t);var e=d(i);function i(){var t;return a(this,i),(t=e.call(this))._elements={content:t.querySelector("coral-table-headercell-content")||document.createElement("coral-table-headercell-content")},t._stickyCellObserver=new MutationObserver(t._handleMutations.bind(u(t))),t._stickyCellObserver.observe(t._elements.content,{childList:!0,subtree:!0}),t}return r(i,[{key:"_handleMutations",value:function(){this.trigger("coral-table-headercell:_contentchanged")}},{key:"render",value:function(){m(l(i.prototype),"render",this).call(this),this.classList.add("_coral-Table-headerCell");var t=this._elements.content;if(!t.parentNode)for(;this.firstChild;)t.appendChild(this.firstChild);this.content=t}},{key:"content",get:function(){return this._getContentZone(this._elements.content)},set:function(t){this._setContentZone("content",t,{handle:"content",tagName:"coral-table-headercell-content",insert:function(t){this.appendChild(t)}})}},{key:"_contentZones",get:function(){return{"coral-table-headercell-content":"content"}}}]),i}(ho(HTMLTableCellElement));da.extend(ka,{"coral-component-table":{"en-US":{Select:"Select","Select All":"Select All","sorted by column {0}, in ascending order":"sorted by column {0} in ascending order","sorted by column {0}, in descending order":"sorted by column {0} in descending order",", checked":", checked",", unchecked":", unchecked"},"de-DE":{Select:"AuswÃ¤hlen","Select All":"Alles auswÃ¤hlen","sorted by column {0}, in ascending order":"Sortiert nach Spalte {0} in aufsteigender Reihenfolge","sorted by column {0}, in descending order":"Sortiert nach Spalte {0} in absteigender Reihenfolge",", checked":", markiert",", unchecked":", nicht markiert"},"fr-FR":{Select:"SÃ©lectionner","Select All":"SÃ©lectionner tout","sorted by column {0}, in ascending order":"TriÃ© par colonne {0} dans lâordre ascendant","sorted by column {0}, in descending order":"TriÃ© par colonne {0} dans lâordre dÃ©croissant",", checked":", cochÃ©e",", unchecked":", pas cochÃ©e"},"it-IT":{Select:"Seleziona","Select All":"Seleziona tutto","sorted by column {0}, in ascending order":"Ordinato per colonna {0} in ordine crescente","sorted by column {0}, in descending order":"Ordinato per colonna {0} in ordine decrescente",", checked":", selezionata",", unchecked":", non selezionata"},"ja-JP":{Select:"é¸æ","Select All":"ãã¹ã¦ãé¸æ","sorted by column {0}, in ascending order":"å {0} ã§æé ã§ä¸¦ã¹æ¿ã","sorted by column {0}, in descending order":"å {0} ã§éé ã«ä¸¦ã¹æ¿ã",", checked":"ããã§ãã¯",", unchecked":"ãæªãã§ãã¯"},"es-ES":{Select:"Seleccionar","Select All":"Seleccionar todos","sorted by column {0}, in ascending order":"Ordenado por columna {0} en orden ascendente","sorted by column {0}, in descending order":"Ordenado por columna {0} en orden descendente",", checked":", marcada",", unchecked":", desmarcada"},"ko-KR":{Select:"ì í","Select All":"ëª¨ë ì í","sorted by column {0}, in ascending order":"ì¤ë¦ì°¨ìì¼ë¡ ì´ {0} ì ë ¬","sorted by column {0}, in descending order":"ë´ë¦¼ì°¨ìì¼ë¡ {0} ì´ë³ë¡ ì ë ¬",", checked":", ì íë¨",", unchecked":", ì íëì§ ìì"},"zh-CN":{Select:"éæ©","Select All":"å¨é","sorted by column {0}, in ascending order":"æå{0}æååºæåºr","sorted by column {0}, in descending order":"æå{0}æéåºæåº",", checked":"ï¼éä¸­",", unchecked":"ï¼æªéä¸­"},"zh-TW":{Select:"é¸å","Select All":"å¨é¸","sorted by column {0}, in ascending order":"æå{0}ææåªæåº","sorted by column {0}, in descending order":"æå{0}æéåªæåº",", checked":"ï¼é¸ä¸­",", unchecked":"ï¼æªé¸ä¸­"},"pt-BR":{Select:"Selecionar","Select All":"Selecionar tudo","sorted by column {0}, in ascending order":"Classificado por coluna {0} em ordem ascendente","sorted by column {0}, in descending order":"Classificado por coluna {0} em ordem descendente",", checked":", marcada",", unchecked":", desmarcada"},"nl-NL":{Select:"Selecteren","Select All":"Alles selecteren","sorted by column {0}, in ascending order":"Gesorteerd op kolom {0} in oplopende volgorde","sorted by column {0}, in descending order":"Gesorteerd op kolom {0} in aflopende volgorde",", checked":", geselecteerd",", unchecked":", neit geselecteerd"},"da-DK":{Select:"VÃ¦lg","Select All":"VÃ¦lg alle","sorted by column {0}, in ascending order":"Sorteret efter kolonne {0} i stigende rÃ¦kkefÃ¸lge","sorted by column {0}, in descending order":"Sorteret efter kolonne {0} i faldende rÃ¦kkefÃ¸lge",", checked":", valgte",", unchecked":", ikke valgt"},"fi-FI":{Select:"Valitse","Select All":"Valitse kaikki","sorted by column {0}, in ascending order":"Lajiteltu sarakkeen mukaan {0} nousevaan jÃ¤rjestykseen","sorted by column {0}, in descending order":"Lajiteltu sarakkeen mukaan {0} laskevassa jÃ¤rjestyksessÃ¤",", checked":", valittu",", unchecked":", valittuna"},"nb-NO":{Select:"Velg","Select All":"Velg alle","sorted by column {0}, in ascending order":"Sortert etter kolonne {0} i stigende rekkefÃ¸lge","sorted by column {0}, in descending order":"Sortert etter kolonne {0} i synkende rekkefÃ¸lge",", checked":", valgt",", unchecked":", ikke valgt"},"sv-SE":{Select:"Markera","Select All":"Markera allt","sorted by column {0}, in ascending order":"Sorterat efter kolumn {0} i stigande ordning","sorted by column {0}, in descending order":"Sorterat efter kolumn {0} i fallande ordning",", checked":", markerad",", unchecked":", avmarkerad"},"cs-CZ":{Select:"Vybrat","Select All":"Vybrat vÅ¡e","sorted by column {0}, in ascending order":"SeÅazeno podle sloupcovÃ½ch {0} ve vzestupnÃ©m poÅadÃ­","sorted by column {0}, in descending order":"SeÅazeno podle sloupcovÃ½ch {0} v sestupnÃ©m poÅadÃ­",", checked":", vybrÃ¡no",", unchecked":", nenÃ­ vybrÃ¡no"},"pl-PL":{Select:"Zaznacz","Select All":"Zaznacz wszystko","sorted by column {0}, in ascending order":"Posortowane wedÅug kolumny {0} w porzÄdku rosnÄcym","sorted by column {0}, in descending order":"Posortowane wedÅug kolumny {0} w porzÄdku malejÄcym",", checked":", zaznaczone",", unchecked":", nie zaznaczone"},"ru-RU":{Select:"ÐÑÐ±ÑÐ°ÑÑ","Select All":"ÐÑÐ±ÑÐ°ÑÑ Ð²ÑÐµ","sorted by column {0}, in ascending order":"Ð¡Ð¾ÑÑÐ¸ÑÐ¾Ð²ÐºÐ° Ð¿Ð¾ ÑÑÐ¾Ð»Ð±Ðµ {0} Ð² Ð¿Ð¾ÑÑÐ´ÐºÐµ Ð²Ð¾Ð·ÑÐ°ÑÑÐ°Ð½Ð¸Ñ","sorted by column {0}, in descending order":"Ð¡Ð¾ÑÑÐ¸ÑÐ¾Ð²ÐºÐ° Ð¿Ð¾ ÐºÐ¾Ð»Ð¾Ð½ÐºÐµ {0} Ð² Ð¿Ð¾ÑÑÐ´ÐºÐµ ÑÐ±ÑÐ²Ð°Ð½Ð¸Ñ",", checked":", Ð²ÑÐ±ÑÐ°Ð½Ð½ÑÐ¹",", unchecked":", Ð½ÐµÐ¾ÑÐ¾Ð±ÑÐ°Ð½Ð½ÑÐ¹"},"tr-TR":{Select:"SeÃ§","Select All":"TÃ¼mÃ¼nÃ¼ SeÃ§","sorted by column {0}, in ascending order":"Artan sÄ±rada {0} sÃ¼tununa gÃ¶re sÄ±ralanmÄ±Å","sorted by column {0}, in descending order":"Azalan sÄ±rada {0} sÃ¼tununa gÃ¶re sÄ±ralanmÄ±Å",", checked":", seÃ§ilmiÅ",", unchecked":", seÃ§ilmemiÅ"}}}),da._define("coral-table-column",nf,{extends:"col"}),da._define("coral-table-cell",af,{extends:"td"}),da._define("coral-table-headercell",yf,{extends:"th"}),da._define("coral-table-row",rf,{extends:"tr"}),da._define("coral-table-head",uf,{extends:"thead"}),da._define("coral-table-body",hf,{extends:"tbody"}),da._define("coral-table-foot",df,{extends:"tfoot"}),da._define("coral-table",bf,{extends:"table"}),bf.Column=nf,bf.Cell=af,bf.HeaderCell=yf,bf.HeaderCell.Content=function(){return document.createElement("coral-table-headercell-content")},bf.Row=rf,bf.Head=uf,bf.Body=hf,bf.Foot=df;var Cf=function(t){var e=document.createDocumentFragment(),i=this.icon=document.createElement("coral-icon");i.setAttribute("handle","icon"),i.setAttribute("size","XS"),i.className+=" _coral-Tabs-item-icon",i.setAttribute("alt",""),e.appendChild(i);var n=document.createTextNode("\n");return e.appendChild(n),e};function Af(t){if(t instanceof Node)return t;var e=null;return"string"==typeof t&&""!==t.trim()&&(e=document.querySelector(t)),e}var kf=function(t){s(i,t);var e=d(i);function i(){var t,n;return a(this,i),(n=e.call(this))._elements={label:n.querySelector("coral-tab-label")||document.createElement("coral-tab-label"),invalidIcon:n.querySelector("._coral-Tabs-itemInvalidIcon")||n._createInvalidIcon()},Cf.call(n._elements),n._observer=new MutationObserver((function(){var e=n._elements.icon;e&&(e.size=n._elements.label.textContent.trim().length?Uo.size.EXTRA_SMALL:Uo.size.SMALL),m((t=u(n),l(i.prototype)),"_toggleIconAriaHidden",t).call(t),n.trigger("coral-tab:_sizechanged")})),n._observer.observe(n._elements.label,{childList:!0,characterData:!0,subtree:!0}),n}return r(i,[{key:"_toggleEllipsis",value:function(){var t=this;requestAnimationFrame((function(){t.classList.toggle("is-overflowing",t._elements.label.clientWidth>t.clientWidth)}))}},{key:"_selectTarget",value:function(){var t=Af(this.target);if(t)t.setAttribute("selected","");else{var e=this.parentNode;if(e&&e.target&&(t=Af(e.target))){var i=e.items.getAll().indexOf(this),n=(t.items?t.items.getAll():t.children)[i];n&&n.setAttribute("selected","")}}}},{key:"_createInvalidIcon",value:function(){var t=document.createElement("coral-icon");return t.icon="alert",t.size=Uo.size.EXTRA_SMALL,t.setAttribute("aria-hidden","true"),t.classList.add("_coral-Tabs-itemInvalidIcon"),this._invalid||t.setAttribute("hidden","true"),t}},{key:"connectedCallback",value:function(){m(l(i.prototype),"connectedCallback",this).call(this),this.selected&&this._selectTarget()}},{key:"render",value:function(){m(l(i.prototype),"render",this).call(this),this.classList.add("_coral-Tabs-item"),this.setAttribute("role","tab"),this.setAttribute("id",this.id||da.getUID());var t=document.createDocumentFragment();this.icon&&t.appendChild(this._elements.icon),this._elements.invalidIcon&&t.append(this._elements.invalidIcon);var e=this._elements.label;for(e.parentNode&&e.parentNode.removeChild(e);this.firstChild;){var n=this.firstChild;n.nodeType===Node.TEXT_NODE||n.nodeType===Node.ELEMENT_NODE&&"icon"!==n.getAttribute("handle")?e.appendChild(n):this.removeChild(n)}this.appendChild(t),this.label=e}},{key:"label",get:function(){return this._getContentZone(this._elements.label)},set:function(t){this._setContentZone("label",t,{handle:"label",tagName:"coral-tab-label",insert:function(t){t.classList.add("".concat("_coral-Tabs-item","Label")),this.appendChild(t),this._toggleEllipsis()}})}},{key:"icon",get:function(){var t=this._elements.icon;return t?t.icon:""},set:function(t){var e=this._elements.icon;e.icon=t,""===this.icon?(e.remove(),this.trigger("coral-tab:_sizechanged")):e.parentElement||(this._elements.label.textContent.trim().length||(e.size=Uo.size.SMALL),m(l(i.prototype),"_toggleIconAriaHidden",this).call(this),this.insertBefore(e,this.firstChild),this.trigger("coral-tab:_sizechanged"))}},{key:"invalid",get:function(){return this._invalid||!1},set:function(t){this._invalid=Ua.booleanAttr(t),this._reflectAttribute("invalid",this._invalid),this.classList.toggle("is-invalid",this._invalid),this.setAttribute("aria-invalid",this._invalid),this._invalid?this._elements.invalidIcon.removeAttribute("hidden"):this._elements.invalidIcon.setAttribute("hidden","true")}},{key:"disabled",get:function(){return this._disabled||!1},set:function(t){this._disabled=Ua.booleanAttr(t),this._reflectAttribute("disabled",this._disabled),this.classList.toggle("is-disabled",this._disabled),this[this._disabled?"setAttribute":"removeAttribute"]("aria-disabled",this._disabled),this._disabled&&this.selected&&(this.selected=!1),this._disabled||this.selected||this.trigger("coral-tab:_validateselection")}},{key:"selected",get:function(){return this._selected||!1},set:function(t){(!(t=Ua.booleanAttr(t))||t&&!this.disabled)&&(this._selected=t,this._reflectAttribute("selected",!this.disabled&&this._selected),this.classList.toggle("is-selected",this._selected),this.setAttribute("tabindex",this._selected?"0":"-1"),this.setAttribute("aria-selected",this._selected),this._selected&&this._selectTarget(),this.trigger("coral-tab:_selectedchanged"))}},{key:"target",get:function(){return"string"==typeof this._target?this._target:this._target||null},set:function(t){if(null===t||"string"==typeof t||t instanceof Node){this._target=t;var e=Af(this.target);e&&(this.setAttribute("aria-controls",e.id),e.setAttribute("aria-labelledby",this.id),e.setAttribute("role","tabpanel"))}}},{key:"trackingElement",get:function(){return void 0===this._trackingElement?(this.label||this).textContent.replace(/\s{2,}/g," ").trim():this._trackingElement},set:function(t){g(l(i.prototype),"trackingElement",t,this,!0)}},{key:"_contentZones",get:function(){return{"coral-tab-label":"label"}}}],[{key:"observedAttributes",get:function(){return m(l(i),"observedAttributes",this).concat(["selected","disabled","icon","invalid","target"])}}]),i}(bo(ho(HTMLElement))),wf=function(t){var e=document.createDocumentFragment(),i=this.line=document.createElement("div");i.setAttribute("handle","line"),i.setAttribute("hidden",""),i.className+=" _coral-Tabs-selectionIndicator",e.appendChild(i);var n=document.createTextNode("\n");return e.appendChild(n),e},xf={SMALL:"S",MEDIUM:"M",LARGE:"L"},Tf={HORIZONTAL:"horizontal",VERTICAL:"vertical"},Sf=function(t){s(i,t);var e=d(i);function i(){var t;return a(this,i),(t=e.call(this))._elements={},wf.call(t._elements),t._delegateEvents({"click > coral-tab":"_onTabClick","key:home > coral-tab":"_onHomeKey","key:end > coral-tab":"_onEndKey","key:pagedown > coral-tab":"_selectNextItem","key:right > coral-tab":"_selectNextItem","key:down > coral-tab":"_selectNextItem","key:pageup > coral-tab":"_selectPreviousItem","key:left > coral-tab":"_selectPreviousItem","key:up > coral-tab":"_selectPreviousItem","global:coral-commons:_webfontactive":"_setLine","coral-tab:_selectedchanged":"_onItemSelectedChanged","coral-tab:_validateselection":"_onValidateSelection","coral-tab:_sizechanged":"_setLine"}),t._oldSelection=null,t._timeout=null,t._wait=50,t._setLine=t._setLine.bind(u(t)),t.items._startHandlingItems(!0),t}return r(i,[{key:"_onItemAdded",value:function(t){this.selectedItem?this._validateSelection(t):t.setAttribute("selected","")}},{key:"_onItemRemoved",value:function(){this.selectedItem||this._selectFirstItem()}},{key:"_onTabClick",value:function(t){t.preventDefault();var e=t.matchedTarget;this._toggleItemSelectionAndFocus(e),this._trackEvent("click","coral-tab",t,e)}},{key:"_onHomeKey",value:function(t){t.preventDefault();var e=this.items._getFirstSelectable();this._toggleItemSelectionAndFocus(e)}},{key:"_onEndKey",value:function(t){t.preventDefault();var e=this.items._getLastSelectable();this._toggleItemSelectionAndFocus(e)}},{key:"_selectNextItem",value:function(t){t.preventDefault();var e=this.selectedItem;this._toggleItemSelectionAndFocus(this.items._getNextSelectable(e))}},{key:"_selectPreviousItem",value:function(t){t.preventDefault();var e=this.selectedItem;this._toggleItemSelectionAndFocus(this.items._getPreviousSelectable(e))}},{key:"_toggleItemSelectionAndFocus",value:function(t){t&&!t.hasAttribute("selected")&&(t.setAttribute("selected",""),t.focus())}},{key:"_onItemSelectedChanged",value:function(t){t.stopImmediatePropagation(),this._validateSelection(t.target)}},{key:"_onValidateSelection",value:function(t){t.stopImmediatePropagation(),this._validateSelection()}},{key:"_selectFirstItem",value:function(){var t=this.items._getFirstSelectable();t&&t.setAttribute("selected","")}},{key:"_validateSelection",value:function(t){var e=this,i=this.items._getAllSelected();if(t)if(t.hasAttribute("selected")||i.length)t.hasAttribute("selected")&&i.length>1&&(i.forEach((function(i){i!==t&&(e._preventTriggeringEvents=!0,i.removeAttribute("selected"))})),this._preventTriggeringEvents=!1);else{var n=this.items._getNextSelectable(t);t!==n&&n.setAttribute("selected","")}else i.length>1?(t=i[i.length-1],i.forEach((function(i){i!==t&&(e._preventTriggeringEvents=!0,i.removeAttribute("selected"))})),this._preventTriggeringEvents=!1):i.length||this._selectFirstItem();this._setLine(),this._triggerChangeEvent()}},{key:"_setLine",value:function(){var t=this;null!==this._timeout&&window.clearTimeout(this._timeout),this._timeout=window.setTimeout((function(){t._timeout=null;var e=t.selectedItem;if(e){if(t.orientation===Tf.HORIZONTAL){var i=window.parseInt(window.getComputedStyle(e).paddingLeft),n=e.offsetLeft+i,a=e.clientWidth-2*i;t._previousOrientation!==t.orientation&&(t._elements.line.style.height=""),t._elements.line.style.width="".concat(a,"px"),t._elements.line.style.transform="translate(".concat(n,"px, 0)")}else if(t.orientation===Tf.VERTICAL){var o=e.offsetTop,r=e.clientHeight;t._previousOrientation!==t.orientation&&(t._elements.line.style.width=""),t._elements.line.style.height="".concat(r,"px"),t._elements.line.style.transform="translate(0, ".concat(o,"px)")}t._elements.line.hidden=!1}else t._elements.line.hidden=!0;t._previousOrientation=t.orientation}),this._wait)}},{key:"_triggerChangeEvent",value:function(){var t=this.selectedItem,e=this._oldSelection;this._preventTriggeringEvents||t===e||(this.trigger("coral-tablist:change",{oldSelection:e,selection:t}),this._oldSelection=t)}},{key:"render",value:function(){m(l(i.prototype),"render",this).call(this),this.classList.add("_coral-Tabs"),this.setAttribute("role","tablist"),this.setAttribute("aria-multiselectable","false"),this._size||(this.size=xf.MEDIUM),this._orientation||(this.orientation=Tf.HORIZONTAL);var t=this.querySelector("._coral-Tabs-selectionIndicator");t&&t.remove(),this.appendChild(this._elements.line),this._preventTriggeringEvents=!0,this._validateSelection(),this._preventTriggeringEvents=!1,this._oldSelection=this.selectedItem,da.addResizeListener(this,this._setLine)}},{key:"items",get:function(){return this._items||(this._items=new sr({host:this,itemTagName:"coral-tab",onItemAdded:this._onItemAdded,onItemRemoved:this._onItemRemoved})),this._items}},{key:"selectedItem",get:function(){return this.items._getLastSelected()}},{key:"target",get:function(){return"string"==typeof this._target?this._target:this._target||null},set:function(t){var e=this;(null===t||"string"==typeof t||t instanceof Node)&&(this._target=t,window.requestAnimationFrame((function(){var t=Af(e._target);if(t)for(var i,n,a=e.items.getAll(),o=t.items?t.items.getAll():t.children,r=Math.max(a.length,o.length),s=0;s<r;s++)i=a[s],n=o[s],i&&i.target&&""!==i.target.trim()||(i&&n?(i.id=i.id||da.getUID(),n.id=n.id||da.getUID(),i.setAttribute("aria-controls",n.id),n.setAttribute("aria-labelledby",i.id),n.setAttribute("role","tabpanel")):i?i.removeAttribute("aria-controls"):n.removeAttribute("aria-labelledby"))})))}},{key:"size",get:function(){return this._size||xf.MEDIUM},set:function(t){t=Ua.string(t).toUpperCase(),this._size=Ba.enumeration(xf)(t)&&t||xf.MEDIUM,this._reflectAttribute("size",this._size),this.classList.remove("".concat("_coral-Tabs","--compact"),"".concat("_coral-Tabs","--quiet")),this._size===xf.SMALL?this.classList.add("".concat("_coral-Tabs","--compact")):this._size===xf.LARGE&&this.classList.add("".concat("_coral-Tabs","--quiet"))}},{key:"orientation",get:function(){return this._orientation||Tf.HORIZONTAL},set:function(t){t=Ua.string(t).toLowerCase();var e=void 0===this._orientation;this._orientation=Ba.enumeration(Tf)(t)&&t||Tf.HORIZONTAL,e&&(this._previousOrientation=this._orientation),this._reflectAttribute("orientation",this._orientation),this.classList.toggle("".concat("_coral-Tabs","--vertical"),this._orientation===Tf.VERTICAL),this.classList.toggle("".concat("_coral-Tabs","--horizontal"),this._orientation===Tf.HORIZONTAL),this._setLine()}}],[{key:"size",get:function(){return xf}},{key:"orientation",get:function(){return Tf}},{key:"observedAttributes",get:function(){return m(l(i),"observedAttributes",this).concat(["target","size","orientation"])}}]),i}(ho(HTMLElement));da._define("coral-tab",kf),da._define("coral-tablist",Sf),kf.Label=function(){return document.createElement("coral-tab-label")};var Ef={HORIZONTAL:"horizontal",VERTICAL:"vertical"},If=function(t){s(i,t);var e=d(i);function i(){var t;return a(this,i),(t=e.call(this))._elements={tabList:t.querySelector("coral-tablist")||document.createElement("coral-tablist"),panelStack:t.querySelector("coral-panelstack")||document.createElement("coral-panelstack")},t._delegateEvents({"coral-tablist:change > coral-tablist":"_onTabListChange","coral-panelstack:change > coral-panelstack":"_onPanelStackChange","coral-collection:add > coral-tablist":"_syncTabListAndPanelStack","coral-collection:remove > coral-tablist":"_syncTabListAndPanelStack","coral-collection:add > coral-panelstack":"_syncTabListAndPanelStack","coral-collection:remove > coral-panelstack":"_syncTabListAndPanelStack"}),t}return r(i,[{key:"_onTabListChange",value:function(t){this.trigger("coral-tabview:change",{selection:t.detail.selection,oldSelection:t.detail.oldSelection})}},{key:"_onPanelStackChange",value:function(t){if(t.detail.selection){var e=t.detail.selection.getAttribute("aria-labelledby"),i=document.getElementById(e);i&&(i.hasAttribute("selected")?this._trackEvent("display","coral-tab",t,t.detail.selection):i.setAttribute("selected",""))}}},{key:"_syncTabListAndPanelStack",value:function(){this._elements.tabList.target=this._elements.tabList.target}},{key:"render",value:function(){m(l(i.prototype),"render",this).call(this),this.classList.add("_coral-TabView"),this._orientation||(this.orientation=this.orientation);var t=this._elements.tabList,e=this._elements.panelStack;e.id=e.id||da.getUID(),t.setAttribute("target","#".concat(e.id)),this.panelStack=e,this.tabList=t}},{key:"orientation",get:function(){return this._elements.tabList.getAttribute("orientation")||Ef.HORIZONTAL},set:function(t){this._elements.tabList.setAttribute("orientation",t),this._reflectAttribute("orientation",this.orientation),this.classList[this.orientation===Ef.VERTICAL?"add":"remove"]("".concat("_coral-TabView","--vertical"))}},{key:"tabList",get:function(){return this._getContentZone(this._elements.tabList)},set:function(t){(t instanceof HTMLElement&&!t.parentNode||t.parentNode===this)&&this._setContentZone("tabList",t,{handle:"tabList",tagName:"coral-tablist",insert:function(t){t.setAttribute("tracking","off"),this.insertBefore(t,this._elements.panelStack||null)}})}},{key:"panelStack",get:function(){return this._getContentZone(this._elements.panelStack)},set:function(t){(t instanceof HTMLElement&&!t.parentNode||t.parentNode===this)&&this._setContentZone("panelStack",t,{handle:"panelStack",tagName:"coral-panelstack",insert:function(t){this.appendChild(t)}})}},{key:"_contentZones",get:function(){return{"coral-tablist":"tabList","coral-panelstack":"panelStack"}}}],[{key:"orientation",get:function(){return Ef}},{key:"observedAttributes",get:function(){return m(l(i),"observedAttributes",this).concat(["orientation"])}}]),i}(ho(HTMLElement));da._define("coral-tabview",If);var Lf=function(t){var e=document.createDocumentFragment(),i=this.body=document.createElement("div");i.className+=" _coral-Toast-body",i.setAttribute("handle","body"),e.appendChild(i);var n=document.createTextNode("\n");e.appendChild(n);var a=this.buttons=document.createElement("div");a.className+=" _coral-Toast-buttons",a.setAttribute("handle","buttons");var o=document.createTextNode("\n  ");a.appendChild(o);var r=document.createElement("button","coral-button");r.setAttribute("tracking","off"),r.setAttribute("is","coral-button"),r.setAttribute("type","button"),r.setAttribute("variant","_custom"),r.className+=" _coral-ClearButton _coral-ClearButton--medium _coral-ClearButton--overBackground",r.setAttribute("coral-close","");var s=document.createTextNode("\n    ");r.appendChild(s);var l=document.createElement("coral-icon");l.setAttribute("icon","spectrum-css-icon-CrossMedium"),l.className+=" _coral-UIIcon-CrossMedium",r.appendChild(l);var c=document.createTextNode("\n    ");r.appendChild(c);var u=this.buttonLabel=document.createElement("coral-button-label");u.setAttribute("handle","buttonLabel"),r.appendChild(u);var h=document.createTextNode("\n  ");r.appendChild(h),a.appendChild(r);var d=document.createTextNode("\n");a.appendChild(d),e.appendChild(a);var p=document.createTextNode("\n");return e.appendChild(p),e},Nf={DEFAULT:"default",ERROR:"error",SUCCESS:"success",INFO:"info"},Mf={LEFT:"left",CENTER:"center",RIGHT:"right"},Of=[];for(var Df in Nf)Of.push("".concat("_coral-Toast","--").concat(Nf[Df]));var Ff=[],Pf=function(){var t=null;[1,2,3,4,5,6,7,8].some((function(e){return Ff.some((function(i,n){if(i.priority===e)return t={el:i.el,index:n},!0}))})),null!==t&&(Ff.splice(t.index,1),t.el.open=!0)},Rf=function(t){s(i,t);var e=d(i);function i(){var t;return a(this,i),(t=e.call(this))._wait=50,t._overlayAnimationTime=t.constructor.FADETIME,t._focusOnShow=t.constructor.focusOnShow.OFF,t._returnFocus=t.constructor.returnFocus.ON,t._elements={content:t.querySelector("coral-toast-content")||document.createElement("coral-toast-content")},Lf.call(t._elements),t._delegateEvents({"global:resize":"_debounceLayout","global:key:escape":"_onEscape","click [coral-close]":"_onCloseClick","coral-overlay:close":"_onClose"}),t._observer=new MutationObserver((function(){t._debounceLayout()})),t._observer.observe(u(t),{childList:!0,subtree:!0}),t}return r(i,[{key:"_renderVariantIcon",value:function(){this._elements.icon&&this._elements.icon.remove();var t=this.variant;if(t!==Nf.DEFAULT){var e=t===Nf.ERROR?"Alert":function(t){return t.charAt(0).toUpperCase()+t.slice(1)}(t),i=Uo._renderSVG("spectrum-css-icon-".concat(e,"Medium"),["_coral-Toast-typeIcon","_coral-UIIcon-".concat(e,"Medium")]);this.insertAdjacentHTML("afterbegin",i),this._elements.icon=this.querySelector("._coral-Toast-typeIcon")}}},{key:"_moveToDocumentBody",value:function(){document.body.contains(this)?this.parentNode!==document.body&&(this._ignoreConnectedCallback=!0,this._repositioned=!0,document.body.appendChild(this),this._ignoreConnectedCallback=!1):document.body.appendChild(this)}},{key:"_debounceLayout",value:function(){var t=this;null!==this._layoutTimeout&&clearTimeout(this._layoutTimeout),this._layoutTimeout=window.setTimeout((function(){t._layoutTimeout=null,t._position()}),this._wait)}},{key:"_position",value:function(){var t=this;this.open&&requestAnimationFrame((function(){t.placement===Mf.CENTER?(t.style.left="".concat(document.body.clientWidth/2-t.clientWidth/2,"px"),t.style.right=""):t.placement===Mf.LEFT?(t.style.left=0,t.style.right=""):t.placement===Mf.RIGHT&&(t.style.left="",t.style.right=0)}))}},{key:"_onEscape",value:function(t){this.open&&this.classList.contains("is-open")&&this._isTopOverlay()&&(t.stopPropagation(),this.open=!1)}},{key:"_onCloseClick",value:function(t){var e=t.matchedTarget.getAttribute("coral-close");e&&!this.matches(e)||(this.open=!1,t.stopPropagation())}},{key:"_onClose",value:function(){this._queued=!1,Pf()}},{key:"connectedCallback",value:function(){this._ignoreConnectedCallback||m(l(i.prototype),"connectedCallback",this).call(this)}},{key:"render",value:function(){m(l(i.prototype),"render",this).call(this),this.classList.add("_coral-Toast"),this._variant||(this.variant=Nf.DEFAULT);var t=document.createDocumentFragment(),e=["body","buttons"];t.appendChild(this._elements.body),t.appendChild(this._elements.buttons);var n=this._elements.content;n.parentNode&&n.remove();var a=this.action;for(a&&a.remove();this.firstChild;){var o=this.firstChild;o.nodeType===Node.TEXT_NODE||o.nodeType===Node.ELEMENT_NODE&&-1===e.indexOf(o.getAttribute("handle"))?n.appendChild(o):this.removeChild(o)}this.appendChild(t),this._renderVariantIcon(),this.content=this._elements.content,this.action=a}},{key:"disconnectedCallback",value:function(){var t=this;if(!this._ignoreConnectedCallback&&(m(l(i.prototype),"disconnectedCallback",this).call(this),this._queued)){var e=null;Ff.some((function(i,n){if(i.el===t)return t._queued=!1,e=n,!0})),null!==e&&Ff.splice(e,1)}}},{key:"autoDismiss",get:function(){return"number"==typeof this._autoDismiss?this._autoDismiss:5e3},set:function(t){null!==(t=Ua.number(t))&&(0!==(t=Math.abs(t))&&t<5e3&&(da._log("warn","Coral.Toast: the value for autoDismiss has to be 5 seconds minimum."),t=5e3),this._autoDismiss=t)}},{key:"action",get:function(){return this._elements.action||this.querySelector("[coral-toast-action]")},set:function(t){t&&(!function(t){return"BUTTON"===t.nodeName&&"coral-button"===t.getAttribute("is")||"A"===t.nodeName&&"coral-anchorbutton"===t.getAttribute("is")}(t)?da._log("warn","Coral.Toast: provided action is not a Coral.Button or Coral.AnchorButton."):(this._elements.action=t,t.setAttribute("coral-toast-action",""),t.setAttribute("variant",Yo.variant._CUSTOM),t.classList.add("_coral-Button","_coral-Button--overBackground","_coral-Button--quiet"),this._elements.body.appendChild(t)))}},{key:"open",get:function(){return m(l(i.prototype),"open",this)},set:function(t){var e=this;if((t=Ua.booleanAttr(t))&&!this._queued)return this._open=t,this._queued=!0,this._dimissTimeout&&clearTimeout(this._dimissTimeout),function(t){var e,i=Ua.string(t.getAttribute("variant")).toLowerCase();e=i===Nf.ERROR?t.action?1:2:i===Nf.SUCCESS?t.action?3:6:i===Nf.INFO?t.action?4:7:t.action?5:8,Ff.push({el:t,priority:e})}(this),void requestAnimationFrame((function(){e._reflectAttribute("open",!0),e._moveToDocumentBody(),requestAnimationFrame((function(){document.querySelectorAll("coral-toast[open]").length===Ff.length&&Pf()}))}));g(l(i.prototype),"open",t,this,!0),this.open&&(this._position(),this._handleFocus(),requestAnimationFrame((function(){0!==e.autoDismiss&&(e._dimissTimeout=window.setTimeout((function(){e.open&&!e.contains(document.activeElement)&&(e.open=!1)}),e.autoDismiss))})))}},{key:"variant",get:function(){return this._variant||Nf.DEFAULT},set:function(t){var e;t=Ua.string(t).toLowerCase(),this._variant=Ba.enumeration(Nf)(t)&&t||Nf.DEFAULT,this._reflectAttribute("variant",this._variant),this._renderVariantIcon(),(e=this.classList).remove.apply(e,Of),this.classList.add("".concat("_coral-Toast","--").concat(this._variant)),this.setAttribute("role",this._variant)}},{key:"content",get:function(){return this._getContentZone(this._elements.content)},set:function(t){this._setContentZone("content",t,{handle:"content",tagName:"coral-toast-content",insert:function(t){t.classList.add("".concat("_coral-Toast","-content")),this._elements.body.insertBefore(t,this._elements.body.firstChild)}})}},{key:"placement",get:function(){return this._placement||Mf.CENTER},set:function(t){t=Ua.string(t).toLowerCase(),this._placement=Ba.enumeration(Mf)(t)&&t||Mf.CENTER,this._debounceLayout()}},{key:"_contentZones",get:function(){return{"coral-toast-content":"content"}}}],[{key:"_queue",get:function(){return Ff}},{key:"placement",get:function(){return Mf}},{key:"variant",get:function(){return Nf}},{key:"_attributePropertyMap",get:function(){return da.extend(m(l(i),"_attributePropertyMap",this),{autodismiss:"autoDismiss"})}},{key:"observedAttributes",get:function(){return m(l(i),"observedAttributes",this).concat(["variant","placement","autodismiss"])}}]),i}(cs(ho(HTMLElement)));da._define("coral-toast",Rf),Rf.Content=function(){return document.createElement("coral-toast-content")};var Hf=function(t){var e=document.createDocumentFragment(),i=t=void 0===t?{}:t,n=this.header=document.createElement("div");n.className+=" _coral-TreeView-itemLink",n.setAttribute("tabindex","-1"),n.id=t.commons.getUID(),n.setAttribute("handle","header"),n.setAttribute("role","treeitem");var a=document.createTextNode("\n  ");n.appendChild(a);var o=this.selectedState=document.createElement("span");o.className+=" u-coral-screenReaderOnly",o.setAttribute("handle","selectedState"),o.setAttribute("role","presentation"),o.id=t.commons.getUID(),n.appendChild(o);var r=document.createTextNode("\n");n.appendChild(r),e.appendChild(n);var s=document.createTextNode("\n");e.appendChild(s),i=t,this.header.insertAdjacentHTML("afterbegin",i.Icon._renderSVG("spectrum-css-icon-ChevronRightMedium",["_coral-TreeView-indicator","_coral-UIIcon-ChevronRightMedium"])),t=i;var l=document.createTextNode("\n");e.appendChild(l);var c=this.subTreeContainer=document.createElement("div");c.className+=" _coral-TreeView",c.setAttribute("handle","subTreeContainer"),c.id=t.commons.getUID(),c.setAttribute("role","group"),e.appendChild(c);var u=document.createTextNode("\n");return e.appendChild(u),e},Uf={DRILLDOWN:"drilldown",LEAF:"leaf"},Bf=[];for(var zf in Uf)Bf.push("".concat("_coral-TreeView-item","--").concat(Uf[zf]));var qf="ontouchstart"in window||navigator.maxTouchPoints>0||navigator.msMaxTouchPoints>0,Vf=function(t){s(i,t);var e=d(i);function i(){var t;return a(this,i),(t=e.call(this))._elements={content:t.querySelector("coral-tree-item-content")||document.createElement("coral-tree-item-content")},Hf.call(t._elements,{Icon:Uo,commons:da}),t._elements.icon||(t._elements.icon=t._elements.header.querySelector("._coral-TreeView-indicator")),t.items._startHandlingItems(),t}return r(i,[{key:"_filterItem",value:function(t){return t.parentNode&&t.parentNode.parentNode===this||t._parent===this}},{key:"_onItemAdded",value:function(t){t._parent=this;var e=this._elements.header,i=this._elements.subTreeContainer;e.hasAttribute("aria-owns")||e.setAttribute("aria-owns",i.id)}},{key:"_onItemRemoved",value:function(t){t._parent=void 0,this.items.length||this._elements.header.removeAttribute("aria-owns")}},{key:"focus",value:function(){this._elements.header.setAttribute("tabindex","0"),this._elements.header.focus()}},{key:"render",value:function(){m(l(i.prototype),"render",this).call(this),this.classList.add("_coral-TreeView-item");var t=this._elements.header,e=this._elements.subTreeContainer,n=this._elements.content,a=this._elements.selectedState;if(n.id=n.id||da.getUID(),this.setAttribute("role","presentation"),t.setAttribute("aria-labelledby","".concat(n.id," ").concat(a.id)),t.setAttribute("aria-selected",this.selected),e.setAttribute("aria-labelledby",n.id),a.textContent=wa.get(this.selected?"selected":"not selected"),qf){var o=this._elements.icon||t.querySelector("._coral-TreeView-indicator");o&&!o.id&&(o.id=da.getUID()),o.setAttribute("role","button"),o.setAttribute("tabindex","-1"),o.setAttribute("aria-labelledby",o.id+" "+n.id),o.setAttribute("aria-label",wa.get(this.expanded?"Collapse":"Expand")),o.setAttribute("style","outline: none !important"),o.removeAttribute("aria-hidden"),a.setAttribute("role","button"),a.setAttribute("tabindex","-1"),a.setAttribute("aria-labelledby",n.id+" "+a.id),a.setAttribute("aria-pressed",this.selected),a.setAttribute("style","outline: none !important")}this._variant||(this.variant=Uf.DRILLDOWN),this.expanded=this.expanded;var r=document.createDocumentFragment(),s=["header","icon","subTreeContainer"],c=this.querySelector("._coral-TreeView");if(c)for(var u=c.querySelectorAll("coral-tree-item"),h=0;h<u.length;h++)e.appendChild(u[h]);for(r.appendChild(t),r.appendChild(e),this.content=n;this.firstChild;){var d=this.firstChild;"CORAL-TREE-ITEM"===d.nodeName?(d._parent=this,e.appendChild(d)):d.nodeType===Node.TEXT_NODE||d.nodeType===Node.ELEMENT_NODE&&-1===s.indexOf(d.getAttribute("handle"))?n.appendChild(d):this.removeChild(d)}this.variant===Uf.DRILLDOWN&&this.items.length&&!t.hasAttribute("aria-owns")&&t.setAttribute("aria-owns",e.id),this.appendChild(r)}},{key:"parent",get:function(){return this._parent||null}},{key:"content",get:function(){return this._getContentZone(this._elements.content)},set:function(t){this._setContentZone("content",t,{handle:"content",tagName:"coral-tree-item-content",insert:function(t){this._elements.header.appendChild(t)}})}},{key:"items",get:function(){return this._items||(this._items=new rr({host:this,itemTagName:"coral-tree-item",itemSelector:":scope > coral-tree-item",container:this._elements.subTreeContainer,filter:this._filterItem.bind(this),onItemAdded:this._onItemAdded,onItemRemoved:this._onItemRemoved})),this._items}},{key:"expanded",get:function(){return this._expanded||!1},set:function(t){var e=this;t=Ua.booleanAttr(t);var i=this.expanded!==t;this._expanded=t,this._reflectAttribute("expanded",this._expanded);var n=this._elements.header,a=this._elements.subTreeContainer;(this.classList.toggle("is-open",this._expanded),this.classList.toggle("is-collapsed",!this._expanded),this.variant!==Uf.DRILLDOWN?(n.removeAttribute("aria-expanded"),n.removeAttribute("aria-owns")):this.items.length>0&&(n.setAttribute("aria-expanded",this._expanded),n.setAttribute("aria-owns",a.id)),this._expanded?a.removeAttribute("aria-hidden"):a.setAttribute("aria-hidden",!this._expanded),qf)&&n.querySelector("._coral-TreeView-indicator").setAttribute("aria-label",wa.get(this._expanded?"Collapse":"Expand"));this.trigger("coral-tree-item:_expandedchanged"),window.requestAnimationFrame((function(){if(e._animate){da.transitionEnd(a,(function(){e.expanded?a.style.height="":a.hidden=!0,i&&e.trigger("coral-tree-item:_afterexpandedchanged")})),e.expanded?a.hidden=!1:a.style.height="".concat(a.scrollHeight,"px");a.offsetHeight;a.style.height=e.expanded?"".concat(a.scrollHeight,"px"):0}else e._animate=!0,e.expanded||(a.style.height=0,a.hidden=!0)}))}},{key:"variant",get:function(){return this._variant||Uf.DRILLDOWN},set:function(t){var e;t=Ua.string(t).toLowerCase(),this._variant=Ba.enumeration(Uf,t)&&t||Uf.DRILLDOWN,(e=this.classList).remove.apply(e,Bf),this.classList.add("".concat("_coral-TreeView-item","--").concat(this._variant))}},{key:"selected",get:function(){return this._selected||!1},set:function(t){this._selected=Ua.booleanAttr(t),this._reflectAttribute("selected",this._selected),this._elements.header.classList.toggle("is-selected",this._selected),this._elements.header.setAttribute("aria-selected",this._selected);var e=this._elements.selectedState;e.textContent=wa.get(this._selected?"selected":"not selected"),qf&&e.setAttribute("aria-pressed",this._selected),this.trigger("coral-tree-item:_selectedchanged")}},{key:"disabled",get:function(){return this._disabled||!1},set:function(t){this._disabled=Ua.booleanAttr(t),this._reflectAttribute("disabled",this._disabled),this._elements.header.classList.toggle("is-disabled",this._disabled),this._elements.header[this._disabled?"setAttribute":"removeAttribute"]("aria-disabled",this._disabled),this.trigger("coral-tree-item:_disabledchanged")}},{key:"hidden",get:function(){return this.hasAttribute("hidden")},set:function(t){this._reflectAttribute("hidden",Ua.booleanAttr(t)),this.trigger("coral-tree-item:_hiddenchanged")}},{key:"_contentZones",get:function(){return{"coral-tree-item-content":"content"}}}],[{key:"variant",get:function(){return Uf}},{key:"observedAttributes",get:function(){return m(l(i),"observedAttributes",this).concat(["selected","disabled","variant","expanded","hidden"])}}]),i}(ho(HTMLElement)),$f=function(t){s(i,t);var e=d(i);function i(){var t;return a(this,i),(t=e.call(this))._delegateEvents({"click ._coral-TreeView-itemLink":"_onItemClick","click ._coral-TreeView-indicator":"_onExpandCollapseClick","coral-collection:add coral-tree-item":"_onCollectionChange","coral-collection:remove coral-tree-item":"_onCollectionChange","key:space ._coral-TreeView-itemLink":"_onItemClick","key:space ._coral-TreeView-indicator":"_onExpandCollapseClick","key:return ._coral-TreeView-itemLink, ._coral-TreeView-indicator":"_onExpandCollapseClick","key:pageup ._coral-TreeView-itemLink, ._coral-TreeView-indicator":"_onFocusPreviousItem","key:left ._coral-TreeView-itemLink, ._coral-TreeView-indicator":"_onCollapseItem","key:up ._coral-TreeView-itemLink, ._coral-TreeView-indicator":"_onFocusPreviousItem","key:pagedown ._coral-TreeView-itemLink, ._coral-TreeView-indicator":"_onFocusNextItem","key:right ._coral-TreeView-itemLink, ._coral-TreeView-indicator":"_onExpandItem","key:down ._coral-TreeView-itemLink, ._coral-TreeView-indicator":"_onFocusNextItem","key:home ._coral-TreeView-itemLink, ._coral-TreeView-indicator":"_onFocusFirstItem","key:end ._coral-TreeView-itemLink, ._coral-TreeView-indicator":"_onFocusLastItem",'capture:blur ._coral-TreeView-itemLink[tabindex="0"]':"_onItemBlur","coral-tree-item:_selectedchanged":"_onItemSelectedChanged","coral-tree-item:_disabledchanged":"_onFocusableChanged","coral-tree-item:_expandedchanged":"_onFocusableChanged","coral-tree-item:_afterexpandedchanged":"_onExpandedChanged","coral-tree-item:_hiddenchanged":"_onFocusableChanged"}),t._oldSelection=[],t.items._startHandlingItems(!0),new MutationObserver((function(t){t.forEach((function(t){for(var e=0;e<t.addedNodes.length;e++){var i=t.addedNodes[e];"CORAL-TREE-ITEM"===i.tagName&&i.parentNode.tagName===i.tagName&&i.parentNode._elements.subTreeContainer.appendChild(i)}}))})).observe(u(t),{childList:!0,subtree:!0}),t}return r(i,[{key:"_onItemSelectedChanged",value:function(t){t.stopImmediatePropagation(),this._validateSelection(t.target)}},{key:"_validateSelection",value:function(t){var e=this,i=this.selectedItems;this.multiple||(t=t||i[i.length-1])&&t.hasAttribute("selected")&&i.length>1&&(i.forEach((function(i){i!==t&&(e._preventTriggeringEvents=!0,i.removeAttribute("selected"))})),this._preventTriggeringEvents=!1),this._triggerChangeEvent()}},{key:"_triggerChangeEvent",value:function(){var t=this.selectedItems,e=this._oldSelection;!this._preventTriggeringEvents&&this._arraysAreDifferent(t,e)&&(this.multiple?this.trigger("coral-tree:change",{oldSelection:e,selection:t}):this.trigger("coral-tree:change",{oldSelection:e.length>1?e:e[0]||null,selection:t[0]||null}),this._oldSelection=t)}},{key:"_arraysAreDifferent",value:function(t,e){var i=[];return e.length===t.length&&(i=e.filter((function(e){return-1===t.indexOf(e)}))),e.length!==t.length||0!==i.length}},{key:"_toggleItemAttribute",value:function(t,e){t&&t[t.hasAttribute(e)?"removeAttribute":"setAttribute"](e,"")}},{key:"_onCollectionChange",value:function(t){t.stopImmediatePropagation()}},{key:"_onItemClick",value:function(t){if(!t.target.hasAttribute("coral-interactive")&&!t.target.closest("[coral-interactive]"))if(t.target.closest("._coral-TreeView-indicator"))this._onExpandCollapseClick(t);else{var e=t.target.closest("coral-tree-item");if(e&&!e.hasAttribute("disabled")){t.preventDefault(),t.stopPropagation(),this._toggleItemAttribute(e,"selected");var i=this._getFocusable();i&&i.setAttribute("tabindex","-1"),e._elements.header.setAttribute("tabindex","0"),e._elements.header.focus()}}}},{key:"_onExpandCollapseClick",value:function(t){t.preventDefault(),t.stopPropagation();var e=t.target.closest("coral-tree-item");if(e){if(e.hasAttribute("disabled"))return;this._toggleItemAttribute(e,"expanded")}}},{key:"_onExpandItem",value:function(t){t.preventDefault(),t.stopPropagation();var e=t.target.closest("coral-tree-item");if(e){if(e.hasAttribute("disabled"))return;e.expanded||e.variant!==Vf.variant.DRILLDOWN?e.items.length>0&&this._onFocusNextItem(t):(e.expanded=!e.expanded,e._elements.header.classList.add("focus-ring"))}}},{key:"_onCollapseItem",value:function(t){t.preventDefault(),t.stopPropagation();var e=t.target.closest("coral-tree-item");if(e){if(e.hasAttribute("disabled"))return;e.expanded&&e.variant===Vf.variant.DRILLDOWN?(e.expanded=!e.expanded,e._elements.header.classList.add("focus-ring")):e.parent&&(e._elements.header.setAttribute("tabindex","-1"),e._elements.header.classList.remove("focus-ring"),e.parent.focus(),e.parent._elements.header.classList.add("focus-ring"))}}},{key:"_focusSiblingItem",value:function(t,e){var i=this._getFocusableItems();if(!(i.length<2)){var n=i.indexOf(t)+(e?1:-1),a=null;for(n>i.length-1?a=i[0]:n<0&&(a=i[i.length-1]);!a;)(a=i[n]).parentNode.closest("coral-tree-item.is-collapsed")&&(a=e?++n>i.length-1?t:null:--n<0?t:null);a!==t&&(t._elements.header.setAttribute("tabindex","-1"),t._elements.header.classList.remove("focus-ring"),a._elements.header.setAttribute("tabindex","0"),a._elements.header.classList.add("focus-ring"),a._elements.header.focus())}}},{key:"_focusEdgeItem",value:function(t){var e=this._getFocusable();if(e){var i=this._getFocusableItems(),n=i[t?i.length-1:0];n!==e&&(e.setAttribute("tabindex","-1"),n._elements.header.setAttribute("tabindex","0"),n._elements.header.focus())}}},{key:"_onFocusNextItem",value:function(t){t.preventDefault(),t.stopPropagation();var e=t.target.closest("coral-tree-item");e&&this._focusSiblingItem(e,!0)}},{key:"_onFocusPreviousItem",value:function(t){t.preventDefault(),t.stopPropagation();var e=t.target.closest("coral-tree-item");e&&this._focusSiblingItem(e,!1)}},{key:"_onFocusFirstItem",value:function(t){t.preventDefault(),t.stopPropagation(),this._focusEdgeItem(!1)}},{key:"_onFocusLastItem",value:function(t){t.preventDefault(),t.stopPropagation(),this._focusEdgeItem(!0)}},{key:"_onFocusableChanged",value:function(t){t.preventDefault(),t.stopPropagation(),t.target.contains(this._getFocusable())&&this._resetFocusableItem()}},{key:"_onExpandedChanged",value:function(t){t.stopImmediatePropagation();var e=t.target;this.trigger("coral-tree:".concat(e.expanded?"expand":"collapse"),{item:e})}},{key:"_getFocusable",value:function(){return this.querySelector('coral-tree-item > ._coral-TreeView-itemLink[tabindex="0"]')}},{key:"_getFocusableItems",value:function(){return this.items.getAll().filter((function(t){return!t.closest("coral-tree-item[disabled]")&&!t.closest("coral-tree-item[hidden]")}))}},{key:"_onItemBlur",value:function(){var t=this.querySelector("._coral-TreeView-itemLink.focus-ring");t&&t.classList.remove("focus-ring")}},{key:"_resetFocusableItem",value:function(t){var e=this._getFocusable();e&&(e.setAttribute("tabindex","-1"),e.classList.remove("focus-ring")),(t=t||this._getFocusableItems()[0])&&t._elements.header.setAttribute("tabindex","0")}},{key:"_expandCollapseAll",value:function(t){var e=this.querySelectorAll("coral-tree-item");if(e){var i,n=e.length;if(n>0)for(var a=0;a<n;a++)(i=e[a])&&(i.expanded=t)}}},{key:"expandAll",value:function(){this._expandCollapseAll(!0)}},{key:"collapseAll",value:function(){this._expandCollapseAll(!1)}},{key:"render",value:function(){var t=this;m(l(i.prototype),"render",this).call(this),this.classList.add("_coral-TreeView"),this.setAttribute("role","tree"),this.setAttribute("aria-multiselectable",this.multiple),requestAnimationFrame((function(){t._resetFocusableItem()})),this._preventTriggeringEvents=!0,this._validateSelection(),this._preventTriggeringEvents=!1,this._oldSelection=this.selectedItems}},{key:"items",get:function(){return this._items||(this._items=new sr({host:this,itemTagName:"coral-tree-item"})),this._items}},{key:"multiple",get:function(){return this._multiple||!1},set:function(t){this._multiple=Ua.booleanAttr(t),this._reflectAttribute("multiple",this._multiple),this.setAttribute("aria-multiselectable",this._multiple),this._validateSelection()}},{key:"selectedItems",get:function(){return this.items._getAllSelected()}},{key:"selectedItem",get:function(){return this.items._getAllSelected()[0]||null}}],[{key:"observedAttributes",get:function(){return m(l(i),"observedAttributes",this).concat(["multiple"])}}]),i}(ho(HTMLElement));da._define("coral-tree-item",Vf),da._define("coral-tree",$f),$f.Item=Vf,$f.Item.Content=function(){return document.createElement("coral-tree-item-content")};var jf=function(t){s(i,t);var e=d(i);function i(){var t;return a(this,i),(t=e.call(this))._delegateEvents({"capture:click coral-steplist[coral-wizardview-steplist] > coral-step":"_onStepClick","coral-steplist:change coral-steplist[coral-wizardview-steplist]":"_onStepListChange","click [coral-wizardview-previous]":"_onPreviousClick","click [coral-wizardview-next]":"_onNextClick"}),t.stepLists._startHandlingItems(!0),t.panelStacks._startHandlingItems(!0),t._observer=new MutationObserver((function(t){t.forEach((function(t){for(var e=0;e<t.addedNodes.length;e++){var i=t.addedNodes[e];i.setAttribute&&(i.hasAttribute("coral-wizardview-next")||i.hasAttribute("coral-wizardview-previous")||i.hasAttribute("coral-wizardview-steplist")||i.hasAttribute("coral-wizardview-panelstack"))&&i.setAttribute("tracking","off")}}))})),t._observer.observe(u(t),{childList:!0,subtree:!0}),t}return r(i,[{key:"_onItemAdded",value:function(t){this._selectItemByIndex(t,this._getSelectedIndex())}},{key:"_onStepClick",value:function(t){this._trackEvent("click","coral-wizardview-steplist-step",t,t.matchedTarget)}},{key:"_onNextClick",value:function(t){t.stopPropagation(),this.next();var e=this.stepLists.first().items.getAll()[this._getSelectedIndex()];this._trackEvent("click","coral-wizardview-next",t,e)}},{key:"_onPreviousClick",value:function(t){t.stopPropagation(),this.previous();var e=this.stepLists.first().items.getAll()[this._getSelectedIndex()];this._trackEvent("click","coral-wizardview-previous",t,e)}},{key:"_onStepListChange",value:function(t){t.stopPropagation();var e=t.target.items.getAll().indexOf(t.detail.selection);this._selectStep(e),this.trigger("coral-wizardview:change",{selection:t.detail.selection,oldSelection:t.detail.oldSelection}),this._trackEvent("change","coral-wizardview",t)}},{key:"_getSelectedIndex",value:function(){var t=this.stepLists.first();if(!t)return-1;var e=-1;if(t.items)e=t.items.getAll().indexOf(t.selectedItem);else for(var i=t.querySelectorAll("coral-step"),n=i.length-1;n>=0;n--)if(i[n].hasAttribute("selected")){e=n;break}return e}},{key:"_selectItemByIndex",value:function(t,e){var i=null;t.id=t.id||da.getUID(),t.items?i=t.items.getAll()[e]:"CORAL-STEPLIST"===t.tagName?i=t.querySelectorAll("#".concat(t.id," > coral-step"))[e]:"CORAL-PANELSTACK"===t.tagName&&(i=t.querySelectorAll("#".concat(t.id," > coral-panel"))[e]),i?i.hasAttribute("selected")||i.setAttribute("selected",""):("CORAL-STEPLIST"===t.tagName?i=t.querySelector("#".concat(t.id," > coral-step[selected]")):"CORAL-PANELSTACK"===t.tagName&&(i=t.querySelector("#".concat(t.id," > coral-panel[selected]"))),i&&i.removeAttribute("selected"))}},{key:"_selectStep",value:function(t){var e=this;this.stepLists.getAll().forEach((function(i){e._selectItemByIndex(i,t)})),this.panelStacks.getAll().forEach((function(i){e._selectItemByIndex(i,t)}))}},{key:"_syncPanelStackSelection",value:function(t){var e=this,i=this._getSelectedIndex();if(-1===i){if(void 0===t)return;i=t}this.panelStacks.getAll().forEach((function(t){e._selectItemByIndex(t,i)}))}},{key:"_syncStepListSelection",value:function(t){var e=this,i=this._getSelectedIndex();if(-1===i){if(void 0===t)return;i=t}this.stepLists.getAll().forEach((function(t){e._selectItemByIndex(t,i)}))}},{key:"next",value:function(){var t=this.stepLists.first();t&&(t.next(),this._selectStep(t.items.getAll().indexOf(t.selectedItem)))}},{key:"previous",value:function(){var t=this.stepLists.first();t&&(t.previous(),this._selectStep(t.items.getAll().indexOf(t.selectedItem)))}},{key:"render",value:function(){m(l(i.prototype),"render",this).call(this),this.classList.add("_coral-WizardView"),this._syncStepListSelection(0),this._syncPanelStackSelection(0);for(var t=this.querySelectorAll("[coral-wizardview-next],[coral-wizardview-previous],[coral-wizardview-steplist],[coral-wizardview-panelstack]"),e=0;e<t.length;e++)t[e].setAttribute("tracking","off")}},{key:"panelStacks",get:function(){return this._panelStacks||(this._panelStacks=new rr({host:this,itemTagName:"coral-panelstack",itemSelector:":scope > coral-panelstack[coral-wizardview-panelstack]",onItemAdded:this._onItemAdded})),this._panelStacks}},{key:"stepLists",get:function(){return this._stepLists||(this._stepLists=new rr({host:this,itemTagName:"coral-steplist",itemSelector:":scope > coral-steplist[coral-wizardview-steplist]",onItemAdded:this._onItemAdded})),this._stepLists}}]),i}(ho(HTMLElement));da._define("coral-wizardview",jf);var Wf="4.8.2";return t.Accordion=Pc,t.ActionBar=Bc,t.Alert=au,t.AnchorButton=Vc,t.AnchorList=Ir,t.Autocomplete=uu,t.Banner=mu,t.Button=Yo,t.ButtonGroup=_u,t.ButtonList=Nr,t.Calendar=Mu,t.Card=Hu,t.CharacterCount=Vu,t.Checkbox=Ec,t.CheckboxGroup=Ic,t.Clock=Yu,t.CoachMark=nh,t.Collection=rr,t.Color=Lh,t.ColorInput=td,t.ColumnView=ad,t.Component=ja,t.CycleButton=fd,t.DateTime=Dc,t.Datepicker=Td,t.Dialog=Pl,t.DragAction=Tl,t.Drawer=Nd,t.FileUpload=zd,t.Icon=Uo,t.Keys=Ra,t.List=Tr,t.Masonry=Jd,t.Multifield=pp,t.NumberInput=mc,t.Overlay=Cl,t.Panel=vp,t.PanelStack=gp,t.Popover=Wl,t.Progress=Cp,t.QuickActions=Ep,t.Radio=nc,t.RadioGroup=sc,t.RangedSlider=Hh,t.Search=Fp,t.Select=tc,t.SelectList=Ur,t.SelectableCollection=sr,t.Shell=Ip,t.SideNav=gm,t.Slider=Fh,t.SplitButton=Cm,t.Status=Lm,t.Step=Pm,t.StepList=Dm,t.Switch=Hm,t.Tab=kf,t.TabList=Sf,t.TabView=If,t.Table=bf,t.Tag=yr,t.TagList=Ar,t.Textarea=ir,t.Textfield=_o,t.Toast=Rf,t.Tooltip=xc,t.Tree=$f,t.TreeItem=Vf,t.Wait=Rr,t.WizardView=jf,t.commons=da,t.events=pa,t.i18n=wa,t.keys=Ha,t.property=no,t.register=eo,t.strings=ka,t.tracking=za,t.transform=Ua,t.validate=Ba,t.version=Wf,t}({});!function(t,e){const i="granite-coral-spectrum";document.documentElement.classList.add(i);const n={ON:"on",OFF:"off"};t.mixin={overlay:{focusOnShow:n,trapFocus:n,returnFocus:n,FADETIME:350}};const a=["sites:components","distribution"];function o(t,i){const n=e(`head meta[name="${t}"]`);try{return i(JSON.parse(n.attr("content")))}catch(t){}}function r(){return e("body.foundation-layout-util-maximized-alt .foundation-layout-wizard2").length>0}function s(){return document.documentElement.classList.contains(i+"--properties-page")}function l(){e('button[is="coral-button"].coral-Button').removeClass("coral-Button coral-Button--secondary")}function c(t){if(t){const e=t[0].dataset.foundationSelectionsMode||"multiple";t.attr("selectionmode",e)}else e('coral-masonry[data-foundation-selections-mode="single"]').attr("selectionmode","single"),e('coral-masonry[data-foundation-selections-mode="multiple"]').attr("selectionmode","multiple")}o("foundation.tracking.page",t=>{"properties"===t.type&&document.documentElement.classList.add(i+"--properties-page")}),e(document).ready((function(){e(".granite-pulldown-overlay").attr({placement:"bottom",breadthoffset:"50%p - 50%"}),e(".granite-collection-create + .granite-pulldown-overlay").attr("breadthoffset","-50%p + 50%"),e("betty-breadcrumbs .betty-breadcrumbs-button-chevron").attr("size","S"),e('.granite-autocomplete coral-icon[icon="chevronDown"]').attr("size","S"),e(".granite-ActionGroup coral-popover").attr({breadthoffset:"+50% - 50%p",placement:"bottom"}),e('.granite-ActionGroup .granite-ActionGroup-icon coral-icon[icon="chevronDown"]').attr("size","S"),e(".cq-imsconfig-create-ims-item .downloadcertificate").attr("variant","action"),e(".granite-topology-instance-properties-collection").removeAttr("selectable"),function(){if(s()){const t=e("#shell-propertiespage-saveactivator"),n=e("#shell-propertiespage-closeactivator"),r=a.some(t=>o("foundation.tracking.page",e=>e.hierarchy===t));if(t.length||r){const i=e("#shell-propertiespage-doneactivator");t.attr("variant","primary"),i.attr("variant","primary"),i.next(".granite-ActionGroup-icon").attr("variant","primary"),n.attr("variant","default"),e(".foundation-layout-panel-header").addClass("spectrum-ready")}else n.attr("variant","quiet"),document.documentElement.classList.remove(i+"--properties-page")}}(),function(){function t(t){t.attr("size","M"),1===t.find("coral-tab:not([hidden])").length&&t.attr("hidden","")}if(r()){t(e('coral-tabview[orientation="horizontal"] coral-tablist')),e("coral-panelstack.foundation-layout-wizard2-contents").on("coral-panelstack:change",(function(i){t(e(i.detail.selection).parents('coral-tabview[orientation="horizontal"]').find("coral-tablist"))}))}else if(s()){const i=e('.foundation-layout-panel-bodywrapper coral-tabview[orientation="horizontal"]'),n=i.find("coral-tablist"),a=e(".foundation-layout-panel-header .betty-ActionBar coral-actionbar-primary"),o=0===a.height();t(n),i.on("coral-panelstack:change",(function(t){requestAnimationFrame(()=>{o&&a.height()>0&&e(t.detail.selection).prepend(a)})})),o||(e("body.foundation-layout-util-maximized-alt > .foundation-layout-panel > .foundation-layout-panel-bodywrapper").addClass("spectrum-ready"),a.addClass("is-visible"))}}()})).on("click","coral-masonry.foundation-collection .foundation-collection-item-activator",(function(){const t=e(this);t.parents("coral-masonry.foundation-collection").attr("selectionmode","multiple"),t.parents("coral-masonry-item.foundation-collection-item").attr("selected",!0),t.parents("coral-quickactions").removeAttr("open")})).on("click",".foundation-collection-selectall",(function(){const t=e(this),i=e(t.data("foundation-collection-selectall-target"));if(i.is("coral-masonry.foundation-collection")){i.attr("selectionmode","multiple");i.adaptTo("foundation-selections").selectAll()}})).on("foundation-mode-change","coral-masonry.foundation-collection",(function(t,i){const n=e(this);"default"===i?n.attr("selectionmode","none"):"selection"===i&&c(n)})).on("foundation-mode-change","coral-masonry.foundation-collection",(function(){const t=e(this),i=t.children(".foundation-selections-item");i.length&&(t.attr("selectionmode","multiple"),i.attr("selected",""))})).on("foundation-contentloaded",".granite-omnisearch-overlay",(function(){e('.granite-autocomplete coral-icon[icon="chevronDown"]').attr("size","S")})).on("foundation-contentloaded",".shell-collectionpage-rail-panel",(function(){e(this).find('coral-icon[icon="chevronRight"], coral-icon[icon="chevronLeft"]').attr("size","S")})).on("coral-overlay:beforeopen",".granite-omnisearch-typeahead-overlay",(function(){e(this).attr({collision:"none",offset:5})})).on("coral-overlay:open",".betty-breadcrumbs-popover",(function(){e(this).find(".betty-breadcrumbs-selectlist-item:nth-child(2)").focus()})).on("change","coral-checkbox[coral-columnview-itemselect], coral-checkbox[coral-table-rowselect]",(function(){requestAnimationFrame((function(){document.activeElement&&document.activeElement.blur()}))})).on("click","coral-shell-menubar-item:not(#granite-omnisearch-trigger)",(function(){this.menu||this.setAttribute("_loading","")})).on("coral-shell-menu:_connected","coral-shell-menu",(function(){const t=this,i=e(t).adaptTo("foundation-toggleable");i&&(i.show=e.noop,i.hide=e.noop);const n=e("coral-shell-menubar-item[_loading]")[0];n&&(n.removeAttribute("_loading"),n.menu=t,t.open=!0)})).on("coral-overlay:beforeclose","coral-shell-menu",(function(t){t.target===this&&delete e._data(this).events["foundation-toggleable-hide"]})).on("coral-overlay:beforeopen","coral-shell-menu",(function(t){if(t.target===this){const t=e(this);t.find('a[is="coral-shell-help-item"][icon="lightbulb"]').attr("icon","Document"),t.find('a[is="coral-anchorbutton"][variant="minimal"][href="/system/sling/logout.html"]').attr("variant","default");const i=t.find("coral-shell-user");i.length&&(i.find(".foundation-layout-actionfield-action").attr("variant","action"),i.find(".coral-Form-fielderror").attr("hidden",""),i.find('button[is="coral-button"][data-foundation-toggleable-control-src="/mnt/overlay/granite/ui/content/shell/userpreferences.html"]').prependTo(i[0].footer),i.find('form[action="/mnt/overlay/granite/ui/content/shell/userproperties.impersonate.html"]').appendTo(i[0].subheading))}})).on("coral-overlay:beforeopen",'coral-dialog[closable="on"]',(function(t){t.target===this&&(c(),l(),e(this).find('coral-dialog-footer button[is="coral-button"]').length&&this.setAttribute("closable","off"))})).on("coral-overlay:beforeopen","[foundation-autocomplete-suggestion]",(function(){this.setAttribute("offset","5")})).on("click",".granite-collection-navigator",(function(){e(".betty-breadcrumbs-popover").attr("placement","bottom")})).on("coral-overlay:beforeopen",".granite-pickerdialog",(function(t){t.target===this&&(e(this).find(".granite-collection-deselect, [foundation-autocomplete-button]").attr("variant","quietaction"),e("betty-breadcrumbs .betty-breadcrumbs-button-chevron").attr("size","S"))})).on("coral-overlay:beforeopen",'coral-tooltip[target^="#workflowstatus"]:not(.spectrum-ready)',(function(){this.content.remove(),this.connectedCallback(),this.classList.add("spectrum-ready")})).on("foundation-contentloaded",(function(){e(".foundation-collection-selectall").attr("variant","quietaction"),e('table[is="coral-table"].foundation-collection').each((function(){const t=e(this),i=t.find("[coral-table-select]")[0];i&&!i.hidden&&t.find("col[is='coral-table-column']:first-child").attr("alignment","left")})),function(){if(s()||r())return;e(".foundation-collection").each((function(){const t=e(this),i=t.parent(".foundation-layout-panel-content");if(i.length){t.hasClass("foundation-layout-table")?(t.toggleClass("is-scrollable",t.height()>=i.height()),i.addClass("foundation-layout-panel-content--table")):i.removeClass("foundation-layout-panel-content--table")}}))}(),e(".foundation-layout-panel-rail").attr("data-granite-layout-panel-min-width","304"),c(),function(){const t=e(".foundation-layout-thumbnail");t.find("coral-card").attr("variant","quiet"),t.addClass("spectrum-ready");const i=t.next(".foundation-field-editable").find('button[is="coral-button"]');if(i.length>1&&i.attr("variant","quietsecondary"),s()||r()){e('coral-masonry[selectionmode="none"] coral-card:only-of-type').attr("variant","quiet").addClass("spectrum-ready")}}(),l(),e('foundation-autocomplete .coral-InputGroup-button button[is="coral-button"]').attr("icon","FolderOpenOutline")}))}(window.Coral,window.$),function(t){t(document).on("aeon-datepopover:beforeopen","aeon-datepopover",(function(){t(this).find(".aeon-Calendar-nextMonth, .aeon-Calendar-prevMonth").attr("iconsize","S")}))}(window.$),function(t,e){const i=t('<coral-wait size="L" centered style="position:fixed"></coral-wait>');function n(t,e,i){const n=e.find(".cq-dialog-cancel"),a=e.find(".cq-dialog-submit");i.append(n).append(a)}t(document).ready((function(){t("#FullScreenMask").append(i),t(".editor-GlobalBar-layerSwitcher").attr("iconsize","S"),t("#selectlayer-popover").attr("smart",""),t("#pageinfo-popover").attr("smart",""),t(".editor-StyleSelector").on("coral-overlay:beforeopen",(function(){this.header.innerHTML=""})),window.ContextHub&&ContextHub.eventing.on(ContextHub.Constants.EVENT_UI_INITIALIZED,(function(){t(".contexthub-container .coral--dark").removeClass("coral--dark")}))})).on("cq-content-frame-loaded",(function(){i.remove()})).on("cq-layer-activated",(function(){t("#TargetEditorContent").find(".coral--dark").removeClass("coral--dark").end().find(".create-activity-button").attr("variant","quietaction")})).on("inline-edit-before-start",(function(){const e=t("#InlineEditingUI");if(e.length>0){const t=new MutationObserver((function(){e.find(".coral--dark").removeClass("coral--dark"),t.disconnect()}));t.observe(e[0],{childList:!0})}})).on("coral-overlay:beforeopen",".rte-dialog",(function(e){e.target===this&&t(this).find('button[is="coral-button"]:not([variant="action"])').attr("variant","action").end().find('foundation-autocomplete .coral-InputGroup-button > button[is="coral-button"]').attr("variant","default").attr("icon","FolderOpenOutline")})).on("click",".cq-Dialog .cq-dialog-layouttoggle",(function(){const e=t(this).parents(".cq-Dialog");e.attr("fullscreen")?n(0,t(e[0].footer),e.find(".cq-dialog-actions")):n(0,e.find(".cq-dialog-actions"),t(e[0].footer))})).on("coral-overlay:beforeopen",".cq-Dialog",(function(i){if(i.target===this){const i=t(this),a=i.find(".cq-dialog-cancel"),o=i.find(".cq-dialog-submit");a.attr("variant","default"),a.attr("icon",""),(a[0].label||a[0]).textContent=a.attr("title")||e.I18n.get("Cancel"),o.attr("variant","primary"),o.attr("icon",""),(o[0].label||o[0]).textContent=o.attr("title")||e.I18n.get("Save"),this.fullscreen?n(0,t(this.footer),i.find(".cq-dialog-actions")):n(0,i.find(".cq-dialog-actions"),t(this.footer));const r=i.find("coral-tablist");1===r.find("coral-tab:not([hidden])").length&&r.attr("hidden","")}})).on("coral-overlay:open",".cq-Dialog",(function(t){t.target===this&&setTimeout(()=>{if(this.content){const t=Array.from(this.content.querySelectorAll(Coral.commons.FOCUSABLE_ELEMENT_SELECTOR)).filter(t=>null!==t.offsetParent)[0];t&&t.focus()}},200)})).on("coral-overlay:beforeopen","coral-dialog[data-granite-pickerdialog-collection]",(function(t){if(t.target===this&&("#cq-commerce-promotion-picker-collection"===this.dataset.granitePickerdialogCollection||"#cq-commerce-product-picker-collection"===this.dataset.granitePickerdialogCollection)){const t=this.parentElement;t.classList.add("coral--light"),t.style.background="transparent",this.backdrop="none"}}))}(window.$,window.Granite),function(t){t(document).ready((function(){t(".cq-projects-toggle-active").attr("variant","quietaction")})).on("coral-overlay:beforeopen",".cq-projects-tile-actions-popover",(function(){this.setAttribute("smart",""),this.setAttribute("placement","bottom"),this.setAttribute("offset","0")}))}(window.$),function(t){t(document).on("foundation-contentloaded",(function(){window.setTimeout((function(){const e=t(".cq-common-admin-timeline");if(e.length){const i=e.find(".cq-common-admin-timeline-filter")[0];i&&(i.setAttribute("variant","quiet"),i.overlay&&i.overlay.setAttribute("withinoffset",5),i.hidden&&(i.disabled=!0,i.hidden=!1)),e.find('.cq-common-admin-timeline-toolbar-actions-button > coral-icon[icon="chevronUp"]').attr("icon","more"),e.find(".cq-common-admin-timeline-sorting-btn").attr("iconposition","right").attr("icon","spectrum-css-icon-ArrowUpSmall"),e.find(".cq-common-admin-timeline-more-button").attr("variant","quiet"),e.on("mouseenter",".cq-common-admin-timeline-event",(function(){const e=t(this);e.find(".cq-common-admin-timeline-event-expanded").each((function(){t(this).children().length&&(e.addClass("is-expandable"),e.find('button[is="coral-button"], a[is="coral-anchorbutton"]').attr("variant","action"))}))})),e.addClass("spectrum-ready")}}),10)}))}(window.$),function(t){t(document).on("foundation-contentloaded",".cq-rail-references",(function(){t(this).on("mouseenter",".detail-list",(function(){t(this).find(".granite-references-item").each((function(){const e=t(this).find('button[is="coral-button"], a[is="coral-anchorbutton"]');e.length&&(this.classList.add("is-expandable"),e.each((function(){this.setAttribute("variant","action"),this.removeAttribute("block")})))}))}))}))}(window.$),function(t){const e=function(e){const i=t(".cq-wcm-msm-all-live-copies");i[0]&&i[0].connectedCallback&&i[0].connectedCallback();const n={checkCircle:"success",clock:"info",addCircle:"info",exclude:"notice",closeCircle:"error"};t(".all-live-copies-status-container").each((function(){const e=t(this),i=n[e.find(".all-live-copies-status-icon coral-icon").attr("icon")],a=e.find(".all-live-copies-status-message").text().toLowerCase();e.replaceWith('<coral-status variant="'+i+'">'+a+"</coral-status>")})),i.addClass("spectrum-ready"),t(".cq-wcm-more-actions-activator").attr("variant","quietaction").attr("iconsize","S").next(".granite-pulldown-overlay").attr("smart",""),t(".cq-experiencefragments-configure, .cq-wcm-paste-activator").attr("variant","quietaction"),t("#rules-edit-form .rulesActionBar .addNewComponent").attr("variant","action")};t(document).on("foundation-collection-navigate",".foundation-collection",e),t(document).ready(e)}(window.$),function(t){t(document).ready((function(){t("#foldersharesettings coral-panelstack").on("coral-panelstack:change",(function(){t(this).find('#add-user:not([variant="action"]), #add-cug-user:not([variant="action"])').attr("variant","action")}))}))}(window.$),function(t){function e(){t('.bp-btn-container-bottom .btn-bp-remove:not([variant="action"])').attr({variant:"action",iconsize:"S"})}t(document).on("coral-overlay:beforeopen","coral-popover",(function(t){t.target===this&&this.querySelector(".color-picker")&&(this.setAttribute("placement","top"),this.setAttribute("collision","none"))})).on("change","#croptype",(function(){"crop_smart"===this.value&&e()})).on("click","#btn-add-breakpoint",(function(){e()}))}(window.$),
/*! jQuery UI - v1.12.1 - 2018-07-18
 * http://jqueryui.com
 * Includes: position.js, data.js, focusable.js, tabbable.js
 * Copyright jQuery Foundation and other contributors; Licensed MIT */
function(t){"function"==typeof define&&define.amd?define(["jquery"],t):t(jQuery)}((function(t){t.ui=t.ui||{};t.ui.version="1.12.1";
/*!
   * jQuery UI Position 1.12.1
   * http://jqueryui.com
   *
   * Copyright jQuery Foundation and other contributors
   * Released under the MIT license.
   * http://jquery.org/license
   *
   * http://api.jqueryui.com/position/
   */!function(){var e,i=Math.max,n=Math.abs,a=/left|center|right/,o=/top|center|bottom/,r=/[\+\-]\d+(\.[\d]+)?%?/,s=/^\w+/,l=/%$/,c=t.fn.position;function u(t,e,i){return[parseFloat(t[0])*(l.test(t[0])?e/100:1),parseFloat(t[1])*(l.test(t[1])?i/100:1)]}function h(e,i){return parseInt(t.css(e,i),10)||0}function d(e){var i=e[0];return 9===i.nodeType?{width:e.width(),height:e.height(),offset:{top:0,left:0}}:t.isWindow(i)?{width:e.width(),height:e.height(),offset:{top:e.scrollTop(),left:e.scrollLeft()}}:i.preventDefault?{width:0,height:0,offset:{top:i.pageY,left:i.pageX}}:{width:e.outerWidth(),height:e.outerHeight(),offset:e.offset()}}t.position={scrollbarWidth:function(){if(void 0!==e)return e;var i,n,a=t("<div style='display:block;position:absolute;width:50px;height:50px;overflow:hidden;'><div style='height:100px;width:auto;'></div></div>"),o=a.children()[0];return t("body").append(a),i=o.offsetWidth,a.css("overflow","scroll"),i===(n=o.offsetWidth)&&(n=a[0].clientWidth),a.remove(),e=i-n},getScrollInfo:function(e){var i=e.isWindow||e.isDocument?"":e.element.css("overflow-x"),n=e.isWindow||e.isDocument?"":e.element.css("overflow-y"),a="scroll"===i||"auto"===i&&e.width<e.element[0].scrollWidth;return{width:"scroll"===n||"auto"===n&&e.height<e.element[0].scrollHeight?t.position.scrollbarWidth():0,height:a?t.position.scrollbarWidth():0}},getWithinInfo:function(e){var i=t(e||window),n=t.isWindow(i[0]),a=!!i[0]&&9===i[0].nodeType;return{element:i,isWindow:n,isDocument:a,offset:!n&&!a?t(e).offset():{left:0,top:0},scrollLeft:i.scrollLeft(),scrollTop:i.scrollTop(),width:i.outerWidth(),height:i.outerHeight()}}},t.fn.position=function(e){if(!e||!e.of)return c.apply(this,arguments);e=t.extend({},e);var l,p,m,f,g,v,_=t(e.of),b=t.position.getWithinInfo(e.within),y=t.position.getScrollInfo(b),C=(e.collision||"flip").split(" "),A={};return v=d(_),_[0].preventDefault&&(e.at="left top"),p=v.width,m=v.height,f=v.offset,g=t.extend({},f),t.each(["my","at"],(function(){var t,i,n=(e[this]||"").split(" ");1===n.length&&(n=a.test(n[0])?n.concat(["center"]):o.test(n[0])?["center"].concat(n):["center","center"]),n[0]=a.test(n[0])?n[0]:"center",n[1]=o.test(n[1])?n[1]:"center",t=r.exec(n[0]),i=r.exec(n[1]),A[this]=[t?t[0]:0,i?i[0]:0],e[this]=[s.exec(n[0])[0],s.exec(n[1])[0]]})),1===C.length&&(C[1]=C[0]),"right"===e.at[0]?g.left+=p:"center"===e.at[0]&&(g.left+=p/2),"bottom"===e.at[1]?g.top+=m:"center"===e.at[1]&&(g.top+=m/2),l=u(A.at,p,m),g.left+=l[0],g.top+=l[1],this.each((function(){var a,o,r=t(this),s=r.outerWidth(),c=r.outerHeight(),d=h(this,"marginLeft"),v=h(this,"marginTop"),k=s+d+h(this,"marginRight")+y.width,w=c+v+h(this,"marginBottom")+y.height,x=t.extend({},g),T=u(A.my,r.outerWidth(),r.outerHeight());"right"===e.my[0]?x.left-=s:"center"===e.my[0]&&(x.left-=s/2),"bottom"===e.my[1]?x.top-=c:"center"===e.my[1]&&(x.top-=c/2),x.left+=T[0],x.top+=T[1],a={marginLeft:d,marginTop:v},t.each(["left","top"],(function(i,n){t.ui.position[C[i]]&&t.ui.position[C[i]][n](x,{targetWidth:p,targetHeight:m,elemWidth:s,elemHeight:c,collisionPosition:a,collisionWidth:k,collisionHeight:w,offset:[l[0]+T[0],l[1]+T[1]],my:e.my,at:e.at,within:b,elem:r})})),e.using&&(o=function(t){var a=f.left-x.left,o=a+p-s,l=f.top-x.top,u=l+m-c,h={target:{element:_,left:f.left,top:f.top,width:p,height:m},element:{element:r,left:x.left,top:x.top,width:s,height:c},horizontal:o<0?"left":a>0?"right":"center",vertical:u<0?"top":l>0?"bottom":"middle"};p<s&&n(a+o)<p&&(h.horizontal="center"),m<c&&n(l+u)<m&&(h.vertical="middle"),i(n(a),n(o))>i(n(l),n(u))?h.important="horizontal":h.important="vertical",e.using.call(this,t,h)}),r.offset(t.extend(x,{using:o}))}))},t.ui.position={fit:{left:function(t,e){var n,a=e.within,o=a.isWindow?a.scrollLeft:a.offset.left,r=a.width,s=t.left-e.collisionPosition.marginLeft,l=o-s,c=s+e.collisionWidth-r-o;e.collisionWidth>r?l>0&&c<=0?(n=t.left+l+e.collisionWidth-r-o,t.left+=l-n):t.left=c>0&&l<=0?o:l>c?o+r-e.collisionWidth:o:l>0?t.left+=l:c>0?t.left-=c:t.left=i(t.left-s,t.left)},top:function(t,e){var n,a=e.within,o=a.isWindow?a.scrollTop:a.offset.top,r=e.within.height,s=t.top-e.collisionPosition.marginTop,l=o-s,c=s+e.collisionHeight-r-o;e.collisionHeight>r?l>0&&c<=0?(n=t.top+l+e.collisionHeight-r-o,t.top+=l-n):t.top=c>0&&l<=0?o:l>c?o+r-e.collisionHeight:o:l>0?t.top+=l:c>0?t.top-=c:t.top=i(t.top-s,t.top)}},flip:{left:function(t,e){var i,a,o=e.within,r=o.offset.left+o.scrollLeft,s=o.width,l=o.isWindow?o.scrollLeft:o.offset.left,c=t.left-e.collisionPosition.marginLeft,u=c-l,h=c+e.collisionWidth-s-l,d="left"===e.my[0]?-e.elemWidth:"right"===e.my[0]?e.elemWidth:0,p="left"===e.at[0]?e.targetWidth:"right"===e.at[0]?-e.targetWidth:0,m=-2*e.offset[0];u<0?((i=t.left+d+p+m+e.collisionWidth-s-r)<0||i<n(u))&&(t.left+=d+p+m):h>0&&((a=t.left-e.collisionPosition.marginLeft+d+p+m-l)>0||n(a)<h)&&(t.left+=d+p+m)},top:function(t,e){var i,a,o=e.within,r=o.offset.top+o.scrollTop,s=o.height,l=o.isWindow?o.scrollTop:o.offset.top,c=t.top-e.collisionPosition.marginTop,u=c-l,h=c+e.collisionHeight-s-l,d="top"===e.my[1]?-e.elemHeight:"bottom"===e.my[1]?e.elemHeight:0,p="top"===e.at[1]?e.targetHeight:"bottom"===e.at[1]?-e.targetHeight:0,m=-2*e.offset[1];u<0?((a=t.top+d+p+m+e.collisionHeight-s-r)<0||a<n(u))&&(t.top+=d+p+m):h>0&&((i=t.top-e.collisionPosition.marginTop+d+p+m-l)>0||n(i)<h)&&(t.top+=d+p+m)}},flipfit:{left:function(){t.ui.position.flip.left.apply(this,arguments),t.ui.position.fit.left.apply(this,arguments)},top:function(){t.ui.position.flip.top.apply(this,arguments),t.ui.position.fit.top.apply(this,arguments)}}}}();t.ui.position,t.extend(t.expr[":"],{data:t.expr.createPseudo?t.expr.createPseudo((function(e){return function(i){return!!t.data(i,e)}})):function(e,i,n){return!!t.data(e,n[3])}});
/*!
   * jQuery UI :data 1.12.1
   * http://jqueryui.com
   *
   * Copyright jQuery Foundation and other contributors
   * Released under the MIT license.
   * http://jquery.org/license
   */
/*!
   * jQuery UI Focusable 1.12.1
   * http://jqueryui.com
   *
   * Copyright jQuery Foundation and other contributors
   * Released under the MIT license.
   * http://jquery.org/license
   */
t.ui.focusable=function(e,i){var n,a,o,r,s,l=e.nodeName.toLowerCase();return"area"===l?(a=(n=e.parentNode).name,!(!e.href||!a||"map"!==n.nodeName.toLowerCase())&&((o=t("img[usemap='#"+a+"']")).length>0&&o.is(":visible"))):(/^(input|select|textarea|button|object)$/.test(l)?(r=!e.disabled)&&(s=t(e).closest("fieldset")[0])&&(r=!s.disabled):r="a"===l&&e.href||i,r&&t(e).is(":visible")&&function(t){var e=t.css("visibility");for(;"inherit"===e;)t=t.parent(),e=t.css("visibility");return"hidden"!==e}(t(e)))},t.extend(t.expr[":"],{focusable:function(e){return t.ui.focusable(e,null!=t.attr(e,"tabindex"))}});t.ui.focusable,t.extend(t.expr[":"],{tabbable:function(e){var i=t.attr(e,"tabindex"),n=null!=i;return(!n||i>=0)&&t.ui.focusable(e,n)}});
/*!
   * jQuery UI Tabbable 1.12.1
   * http://jqueryui.com
   *
   * Copyright jQuery Foundation and other contributors
   * Released under the MIT license.
   * http://jquery.org/license
   */})),function(){var t=function(t){var e=t.bind(this);return e._methodName=t._methodName,this[e._methodName]=e,e},e=function(t){return t.extend=this,new Class(t)};Class=function(i){if((i=i||{}).hasOwnProperty("extend")&&!i.extend)throw new Class.NonTruthyExtendError("function"==typeof i.toString?i.toString():i.toString);var n=i.extend||Object,a=i.construct,o=i.destruct;if(delete i.bind,delete i.extend,delete i.destruct,delete i.construct,i._construct=a,i._destruct=o,i.hasOwnProperty("toString")&&"function"!=typeof i.toString){var r=i.toString;i.toString=function(){return r.toString()}}else!i.hasOwnProperty("toString")&&n.prototype.hasOwnProperty("toString")&&(i.toString=n.prototype.toString);var s=i,l=Object.create(n&&n.prototype);if(l.superClass=n.prototype,s)for(var c in s)s.hasOwnProperty(c)&&(l[c]=s[c],"function"==typeof s[c]&&(l[c]._methodName=c,l[c]._parentProto=l));l.inherited=function(t){var e=t.callee,i=e._methodName;if(!i)throw new Class.MissingCalleeError(this.toString());for(var n=e._parentProto,a=null;n.superClass&&"function"!=typeof(a=(n=n.superClass)[i]););if("function"==typeof a){var o=this.inherited;this.inherited=n.inherited;var r=a.apply(this,t);return this.inherited=o,r}throw new Class.InheritedMethodNotFoundError(this.toString(),i)},l.bind=t,l.destruct=function(){"function"==typeof o&&o.apply(this);for(var t=[],e=this.superClass;e;){if("function"==typeof e._destruct&&t.push(e._destruct),e===e.superClass)throw new Class.InfiniteInheritanceLoopError(e.toString());e=e.superClass}for(var i=0;i<t.length;i++)t[i].apply(this)},l.construct=function(t){var e=Array.prototype.slice.call(arguments);void 0===e[0]&&(e[0]={});for(var i=[],n=this.superClass;n;){if("function"==typeof n._construct&&i.push(n._construct),n===n.superClass)throw new Class.InfiniteInheritanceLoopError(n.toString());n=n.superClass}for(var o=i.length-1;o>=0;o--)i[o].apply(this,e);"function"==typeof a&&a.apply(this,e)};var u=function(){var t=Object.create(l);return l.construct.apply(t,arguments),t};return u.toString=l.toString,u.prototype=l,u.extend=e,l.constructor=u,u},Object.create||(Object.create=function(t){if(arguments.length>1)throw new Error("Object.create implementation only accepts the first parameter.");function e(){}return e.prototype=t,new e}),Function.prototype.bind||(Function.prototype.bind=function(t){if("function"!=typeof this)throw new TypeError("Function.prototype.bind - what is trying to be bound is not callable");var e=Array.prototype.slice.call(arguments,1),i=this,n=function(){},a=function(){return i.apply(this instanceof n?this:t,e.concat(Array.prototype.slice.call(arguments)))};return n.prototype=this.prototype,a.prototype=new n,a});var i=(Exception=new Class({extend:Error,construct:function(){this.name="Error",this.message="General exception"},toString:function(){return this.name+": "+this.message}})).extend({name:"Class Exception"});Class.NonTruthyExtendError=i.extend({construct:function(t){this.message=t+" attempted to extend a non-truthy object"}}),Class.InheritedMethodNotFoundError=i.extend({construct:function(t,e){this.message=t+" can't call method '"+e+"', no method defined in parent classes"}}),Class.MissingCalleeError=i.extend({construct:function(t){this.message=t+" can't call inherited method: calling method did not have _methodName"}}),Class.InfiniteInheritanceLoopError=i.extend({construct:function(t){this.message=t+" seems to inherit from itself, cannot construct an object"}})}(),
/*!
* toe.js
* version 3.0.2
* author: Damien Antipa
* https://github.com/dantipa/toe.js
*/
function(t,e,i){var n,a={},o={active:!1,on:function(){t(document).on("touchstart",s).on("touchmove",l).on("touchend touchcancel",c),o.active=!0},off:function(){t(document).off("touchstart",s).off("touchmove",l).off("touchend touchcancel",c),o.active=!1},track:function(t,e){a[t]=e},addEventParam:function(e,i){var n=t(e.target).offset(),a={pageX:e.point[0].x,pageY:e.point[0].y,offsetX:n.left-e.point[0].x,offsetY:n.top-e.point[0].y};return t.extend(a,i)},Event:function(e){var i={type:e.type,timestamp:(new Date).getTime(),target:e.target,point:[]},n=e.changedTouches||e.originalEvent.changedTouches||e.touches||e.originalEvent.touches;return t.each(n,(function(t,e){i.point.push({x:e.pageX,y:e.pageY})})),i},State:function(t){t.point[0];return{start:t,move:[],end:null}},calc:{getDuration:function(t,e){return e.timestamp-t.timestamp},getDistance:function(t,e){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))},getAngle:function(t,e){return 180*Math.atan2(e.y-t.y,e.x-t.x)/Math.PI},getDirection:function(t){return t<-45&&t>-135?"top":t>=-45&&t<=45?"right":t>=45&&t<135?"down":t>=135||t<=-135?"left":"unknown"},getScale:function(t,e){var i=t.point,n=e.point;return 2===i.length&&2===n.length?(Math.sqrt(Math.pow(n[0].x-n[1].x,2)+Math.pow(n[0].y-n[1].y,2))/Math.sqrt(Math.pow(i[0].x-i[1].x,2)+Math.pow(i[0].y-i[1].y,2))).toFixed(2):0},getRotation:function(t,e){var i=t.point,n=e.point;return 2===i.length&&2===n.length?(180*Math.atan2(n[0].y-n[1].y,n[0].x-n[1].x)/Math.PI-180*Math.atan2(i[0].y-i[1].y,i[0].x-i[1].x)/Math.PI).toFixed(2):0}}};function r(e,i,n,o){t.each(a,(function(t,a){a[e].call(this,i,n,o)}))}function s(t){var e=o.Event(t);r("touchstart",t,n=o.State(e),e)}function l(t){var e=o.Event(t);n.move.push(e),r("touchmove",t,n,e)}function c(t){var e=o.Event(t);n.end=e,r("touchend",t,n,e)}o.on(),t.toe=o}(jQuery),function(t,e,i,n){var a={distance:40,duration:1200,direction:"all"};e.track("swipe",{touchstart:function(t,e,i){e.swipe={finger:i.point.length}},touchmove:function(t,e,i){e.swipe.finger=i.point.length>e.swipe.finger?i.point.length:e.swipe.finger},touchend:function(i,n,o){var r,s,l=t.extend(a,i.data);r=e.calc.getDuration(n.start,o),s=e.calc.getDistance(n.start.point[0],o.point[0]),r<l.duration&&s>l.distance&&(n.swipe.angle=e.calc.getAngle(n.start.point[0],o.point[0]),n.swipe.direction=e.calc.getDirection(n.swipe.angle),"all"!==l.direction&&n.swipe.direction!==l.direction||t(i.target).trigger(t.Event("swipe",e.addEventParam(n.start,n.swipe))))}})}(jQuery,jQuery.toe),function(t,e,i,n){var a={distance:10,duration:300,finger:1};e.track("tap",{touchstart:function(t,e,i){e.tap={finger:i.point.length}},touchmove:function(t,e,i){e.tap.finger=i.point.length>e.tap.finger?i.point.length:e.tap.finger},touchend:function(i,n,o){var r,s,l=t.extend(a,i.data);r=e.calc.getDuration(n.start,o),s=e.calc.getDistance(n.start.point[0],o.point[0]),r<l.duration&&s<l.distance&&n.tap.finger===l.finger&&t(i.target).trigger(t.Event("tap",e.addEventParam(n.start,n.tap)))}})}(jQuery,jQuery.toe),function(t,e,i,n){var a,o,r={distance:20,duration:500,finger:1};e.track("taphold",{touchstart:function(i,n,s){var l=t.extend(r,i.data);o=!1,n.taphold={finger:s.point.length},clearTimeout(a),a=setTimeout((function(){!o&&e.active&&n.taphold.finger===l.finger&&t(i.target).trigger(t.Event("taphold",e.addEventParam(s,n.taphold)))}),l.duration)},touchmove:function(i,n,a){var s=t.extend(r,i.data);n.taphold.finger=a.point.length>n.taphold.finger?a.point.length:n.taphold.finger,e.calc.getDistance(n.start.point[0],a.point[0])>s.distance&&(o=!0)},touchend:function(t,e,i){o=!0,clearTimeout(a)}})}(jQuery,jQuery.toe),function(t,e,i,n){var a,o="transform",r={scale:.1,rotation:15};e.track(o,{touchstart:function(t,e,i){a=!1,e[o]={start:i,move:[]}},touchmove:function(i,n,s){var l=t.extend(r,i.data);2===s.point.length&&(n[o].move.push(s),2!==n[o].start.point.length&&2===s.point.length&&(n[o].start=t.extend({},s)),n[o].rotation=e.calc.getRotation(n[o].start,s),n[o].scale=e.calc.getScale(n[o].start,s),(Math.abs(1-n[o].scale)>l.scale||Math.abs(n[o].rotation)>l.rotation)&&(a||(t(i.target).trigger(t.Event("transformstart",n[o])),a=!0),t(i.target).trigger(t.Event("transform",n[o]))))},touchend:function(i,n,r){a&&(a=!1,2!==r.point.length&&(n.end=t.extend({},n[o].move[n[o].move.length-1])),n[o].rotation=e.calc.getRotation(n[o].start,n.end),n[o].scale=e.calc.getScale(n[o].start,n.end),t(i.target).trigger(t.Event("transformend",n[o])))}})}(jQuery,jQuery.toe),function(t,e,i){e.CUI=e.CUI||{},CUI.options=t.extend({debug:!1,dataAPI:!0},CUI.options),t((function(){t(document).trigger("cui-contentloaded")}))}(jQuery,this),function(t,e,i){var n=1;CUI.util={isTouch:!/Windows NT 6\.[23];.*Chrome/.test(e.navigator.userAgent)&&"ontouchstart"in e,getNextId:function(){return"coral-"+n++},getDataTarget:function(e){var i=e.attr("href");return t(e.attr("data-target")||i&&i.replace(/.*(?=#[^\s]+$)/,""))},decapitalize:function(t){return t.slice(0,1).toLowerCase()+t.slice(1)},capitalize:function(t){return t.slice(0,1).toUpperCase()+t.slice(1)},plugClass:function(e,i,n){i=i||CUI.util.decapitalize(e.toString()),t.fn[i]=function(a){var o=arguments;return this.each((function(){var r=t(this),s=t.extend({},r.data(),"object"==typeof a&&a,{element:this}),l=r.data(i)||new e(s);"string"==typeof a?l[a].apply(l,Array.prototype.slice.call(o,1)):t.isPlainObject(a)&&l.set(a),"function"==typeof n&&n.call(this,l)}))},t.fn[i].Constructor=e},buildFunction:function(t,e){if("string"==typeof(e=e||[])&&(e=[e]),t)try{return new Function(e,"return "+t+"("+e.join(", ")+");")}catch(t){return null}},selectText:function(e,i,n){var a=e.val();if(a.length>0){i=i||0,n=n||a.length;var o=t(e)[0];if(o.setSelectionRange)o.blur(),o.setSelectionRange(i,n),o.focus();else if(o.createTextRange){var r=o.createTextRange();r.collapse(!0),r.moveEnd("character",n-a.length),r.moveStart("character",i),r.select()}}},getNested:function(t,e){if(!e)return t;for(var i="string"==typeof e?e.split("."):e,n=t;n&&i.length>0;)n=n[i.shift()];return n},isTrue:function(t){return"true"===t}},t("html").toggleClass("touch",CUI.util.isTouch)}(jQuery,this),function(t,e,i){function n(e,i){var n,o,r,s=e.nodeName.toLowerCase();return"area"===s?(o=(n=e.parentNode).name,!(!e.href||!o||"map"!==n.nodeName.toLowerCase())&&(!!(r=t("img[usemap=#"+o+"]")[0])&&a(r))):(/input|select|textarea|button|object/.test(s)?!e.disabled:"a"===s&&e.href||i)&&a(e)}function a(e){return t.expr.filters.visible(e)&&!t(e).parents().addBack().filter((function(){return"hidden"===t.css(this,"visibility")})).length}t.fn.loadWithSpinner=function(e,i,n){var a=t(this);if(e&&(i||a.data("loaded-remote")!==e)){var o=setTimeout((function(){a.html('<div class="spinner large"></div>')}),50);a.load(e,(function(t,e,i){clearTimeout(o),"error"===e&&(a.html('<div class="alert error"><strong>ERROR</strong> Failed to load content: '+i.statusText+" ("+i.status+")</div>"),a.data("loaded-remote","")),"function"==typeof n&&n.call(this,t,e,i)})),a.data("loaded-remote",e)}},t.fn.finger=function(){return CUI.util.isTouch&&this.on.apply(this,arguments),this},t.fn.pointer=function(){return CUI.util.isTouch||this.on.apply(this,arguments),this},t.fn.fipo=function(){var t=Array.prototype.slice.call(arguments,1,arguments.length);return this.pointer.apply(this,t),t[0]=arguments[0],this.finger.apply(this,t),this},t.extend(t.expr[":"],{data:t.expr.createPseudo((function(e){return function(i){return!!t.data(i,e)}})),focusable:function(e){return n(e,!isNaN(t.attr(e,"tabindex")))},tabbable:function(e){var i=t.attr(e,"tabindex"),a=isNaN(i);return(a||i>=0)&&n(e,!a)}})}(jQuery),function(t,e,i){CUI.Widget=new Class({toString:"Widget",construct:function(i){this.$element=t(i.element);var n=CUI.util.decapitalize(this.toString());if(void 0!==this.$element.data(n)){var a=["An instance of",this,"is already attached to the specified target element.","Future versions of CoralUI will throw an exception at this point."].join(" ");e.console.log(a)}this.options=t.extend({},"object"==typeof this.defaults&&this.defaults,this.$element.data(),i),this.$element.data(n,this),this.bind(this.hide),this.bind(this.show),this.bind(this.toggleVisibility),this.on("change:visible",function(t){this[t.value?"_show":"_hide"]()}.bind(this))},set:function(e,i){if(t.isPlainObject(e))for(var n in e)this._set(n,e[n]);else this._set(e,i);return this},_set:function(e,i){var n=t.Event("beforeChange:"+e,{widget:this,option:e,currentValue:this.options[e],value:i});if(this.$element.trigger(n),n.isDefaultPrevented())return this;this.options[e]=i,n=t.Event("change:"+e,{widget:this,option:e,value:i}),this.$element.trigger(n)},get:function(t){return this.options[t]},on:function(t,e){return this.$element.on.apply(this.$element,arguments),this},off:function(t,e){return this.$element.off.apply(this.$element,arguments),this},show:function(e){if(e=e||{},this.options.visible)return this;if(!e.silent){var i=t.Event("show");if(this.$element.trigger(i),i.isDefaultPrevented())return this}return this.options.visible=!0,this._show(e),this},_show:function(t){this.$element.show()},hide:function(e){if(e=e||{},!this.options.visible)return this;if(!e.silent){var i=t.Event("hide");if(this.$element.trigger(i),i.isDefaultPrevented())return this}return this.options.visible=!1,this._hide(e),this},_hide:function(t){this.$element.hide()},toggleVisibility:function(){return this[this.options.visible?"hide":"show"]()},setName:function(t){return this.toString=function(){return t},this}}),CUI.Widget.fromElement=function(t,e){return e.data(CUI.util.decapitalize(t.toString()))},CUI.Widget.registry={register:function(t,e){CUI.util.plugClass(e),this._widgets[t]=e,e.init=function(t){this._init(e,t)}.bind(this)},resolve:function(t){return this._widgets[t]},init:function(t,e){this._init(this.resolve(t),e)},getSelectors:function(){var t=[];for(var e in this._widgets)t.push(e);return t},_widgets:{},_init:function(e,i){void 0!==e&&i.each((function(){var i=t(this);void 0===CUI.Widget.fromElement(e,i)&&new e({element:i})}))}}}(jQuery,this),function(t){var e=0;CUI.Popover=new Class({toString:"Popover",extend:CUI.Widget,construct:function(t){this.$element.on("change:content",this._setContent.bind(this)),this.$element.on("change:pointAt",this._position.bind(this)),this.$element.on("change:pointFrom",this._position.bind(this)),this.$element.on("change:alignFrom",this._position.bind(this)),this.$element.addClass("coral-Popover"),0===this._getContentElement(this.$element).length&&this._wrapContent(this.$element),this._$content=this._getContentElement(this.$element),""===this._$content.html()&&this._setContent(),this._popoverOffsets(),this.uuid=e+=1,this.popoverId=this.$element.attr("id"),this._makeAccessible()},defaults:{pointFrom:"bottom",preventAutoHide:!1,alignFrom:"left",visible:!1},_directions:["top","bottom","right","left"],_popoverOffsets:function(){this._popoverOffsets={},this._popoverOffsets.leftRight={width:5,height:5},this._popoverOffsets.topBottom={width:5,height:5}},_wrapContent:function(t){t.wrapInner('<div class="coral-Popover-content"/>')},_getContentElement:function(t){return t.find("> .coral-Popover-content")},_position:function(){if(this.options.visible&&this.options.pointAt){var e,i=this.$element,n=this.options.pointAt,a=this.options.pointFrom,o=this._popoverOffsets;if(t.isArray(n)){if(2!==n.length)return;n=this._convertCoordsToEvent(n)}var r=function(t,r){var s,l=i.offsetParent().offset();("top"==a||"bottom"==a)&&l.top+t.top<0?s="bottom":("left"==a||"right"==a)&&l.left+t.left<0&&(s="right"),s?(e=this._instructionFactory[s]({target:n,tailDimensions:o,allowFlip:!1,callback:this._applyFinalPosition.bind(this),within:this.options.within||window}),i.position(e)):this._applyFinalPosition(t,r)}.bind(this);e=this._instructionFactory[a]({target:n,tailDimensions:o,allowFlip:!0,callback:r,within:this.options.within||window}),i.position(e)}},_convertCoordsToEvent:function(e){var i=t.Event();return i.pageX=e[0],i.pageY=e[1],i},_applyFinalPosition:function(e,i){var n={top:e.top};if("right"===this.options.alignFrom){var a,o=this.$element.offsetParent();a="html"==o.prop("tagName").toLowerCase()?(o=t("body")).outerWidth(!0):o.innerWidth(),n.left="auto",n.right=a-e.left-this.$element.outerWidth(!0)}else n.left=e.left,n.right="auto";this.$element.css(n)},_instructionFactory:{top:function(t){return{my:"left bottom-"+t.tailDimensions.topBottom.height,at:"left top",of:t.target,collision:"flipfit "+(t.allowFlip?"flip":"none"),using:t.callback,within:t.within}},right:function(t){return{my:"left+"+t.tailDimensions.leftRight.width+" top",at:"right top",of:t.target,collision:(t.allowFlip?"flipfit":"none")+" flipfit",using:t.callback,within:t.within}},bottom:function(t){return{my:"left top+"+t.tailDimensions.topBottom.height,at:"left bottom",of:t.target,collision:"flipfit "+(t.allowFlip?"flip":"none"),using:t.callback,within:t.within}},left:function(t){return{my:"right-"+t.tailDimensions.leftRight.width+" top",at:"left top",of:t.target,collision:(t.allowFlip?"flipfit":"none")+" flipfit",using:t.callback,within:t.within}}},_show:function(){var e,i=this,n=t(this._lastFocused);this.$element.show().attr("aria-hidden",!1),!this.$element.find(":focusable").length&&this.$element.is(":not([aria-labelledby]):not([aria-label])")&&(e=this._getContentElement(this.$element),this.$element.attr("aria-labelledby",e.first().attr("id"))),this._position(),this._previousFocus=t(document.activeElement),0!==this._previousFocus.length&&(this._restoreClass=this._previousFocus.hasClass("is-selected"),this._previousFocus.addClass("is-selected")),this.options.preventAutoHide||(clearTimeout(this.autoHideInitTimeout),this.autoHideInitTimeout=setTimeout((function(){t(document).on("touchstart.popover-hide-"+i.uuid,i._clickOutsideHandler.bind(i)),t(document).on("click.popover-hide-"+i.uuid,i._clickOutsideHandler.bind(i)),i._moveLastEventToFrontOfQueue(document,"touchstart"),i._moveLastEventToFrontOfQueue(document,"click")}),0)),n.length||(n=this.$element.find(":tabbable").first()).length?n.focus():this.$element.focus(),t(document).on("keydown.popover-"+this.uuid,this._keyDown.bind(this)),this._moveLastEventToFrontOfQueue(document,"keydown"),this.$element.parent().is("body")&&(this._onScroll=function(){this.$element.parent().is("body")?this._position():(window.removeEventListener("scroll",this._onScroll,!0),this._onScroll=null)}.bind(this),window.addEventListener("scroll",this._onScroll,!0)),this.$element.on("keydown.popover-focusLoop",":focusable",this._tabKeyHandler.bind(this)).on("focusin.popover",this._focusInHandler.bind(this)).on("focusout.popover",this._focusOutHandler.bind(this))},_moveLastEventToFrontOfQueue:function(e,i){var n=t._data(t(e)[0],"events")[i],a=[];n.forEach((function(t,e){0===t.namespace.indexOf("popover-")&&a.push(e)})),a.length>1&&n.splice(a[0],0,n.pop())},_hide:function(){t(document).off("keydown.popover-"+this.uuid),clearTimeout(this.autoHideInitTimeout),this._unforceBlur(),this.$element.hide().attr("aria-hidden",!0),t(document).off(".popover-hide-"+this.uuid),0!==this._previousFocus.length&&this._previousFocus.toggleClass("is-selected",this._restoreClass),this._lastFocused=null,this.$element.off("keydown.popover-focusLoop, focusin.popover, focusout.popover"),this._onScroll&&(window.removeEventListener("scroll",this._onScroll,!0),this._onScroll=null)},_setContent:function(){"string"==typeof this.options.content&&(this._$content.html(this.options.content),this._position())},setPosition:function(t){this.set("pointAt",t)},_keyDown:function(t){switch(t.which){case 27:this._escapeKeyHandler(t);break;case 117:this._gotoTriggerHandler(t)}},_escapeKeyHandler:function(e){(t(document.activeElement).is(this.$element)||t(document.activeElement).closest(this.$element).length)&&this._previousFocus.focus(),this.hide(),e.preventDefault(),e.stopImmediatePropagation()},_clickOutsideHandler:function(e){var i=t(e.target);0===i.closest(".coral-Popover").length&&i.closest("body").length>0&&(t(document.activeElement).is(document.body)&&this._previousFocus.focus(),this.hide(),e.preventDefault(),e.stopImmediatePropagation())},_gotoTriggerHandler:function(e){t(document.activeElement).is(this.$element)||t(document.activeElement).closest(this.$element).length?(this._previousFocus.focus(),this._forceBlur()):(this._unforceBlur(),this._lastFocused?this._lastFocused.focus():this.$element.find(":focusable").addBack().first().focus()),e.preventDefault(),e.stopImmediatePropagation()},_tabKeyHandler:function(e){t(e.currentTarget);var i,n=this.$element.find(":tabbable");switch(e.which){case 9:e.shiftKey&&e.currentTarget===n[0]?i=n.last():e.shiftKey||e.currentTarget!==n[n.length-1]||(i=n.first())}i&&i.length&&(e.preventDefault(),i.focus()),this._lastFocused=document.activeElement},_focusTimeoutInt:-1,_focusInHandler:function(e){clearTimeout(this._focusTimeoutInt),t(e.currentTarget).addClass("is-focused")},_focusOutHandler:function(e){var i=t(e.currentTarget),n=this;clearTimeout(this._focusTimeoutInt),this._focusTimeoutInt=setTimeout((function(){i.removeClass("is-focused"),!n.options.preventAutoHide&&n.$element.get(0).contains(e.target)&&0===t(document.activeElement).closest(n.$element).length&&n.$element.closest(".coral-Popover").length>1&&n.hide()}),50)},_forcedBlur:!1,_forceBlur:function(){this._forcedBlur||(this._forcedBlur=!0,this.$element.find(":focusable").addBack().each((function(e,i){var n=t(i);void 0===n.data("cached-tabindex")&&n.data("cached-tabindex",n.attr("tabindex")),n.attr("tabindex",-1)})),this.$element.attr("aria-hidden",!0).on("focusin.popover-"+this.uuid,this._unforceBlur.bind(this)))},_unforceBlur:function(){this._forcedBlur&&(this._forcedBlur=!1,this.$element.find(":focusable").addBack().each((function(e,i){var n=t(i);void 0===n.data("cached-tabindex")?n.removeAttr("tabindex"):n.attr("tabindex",n.data("cached-tabindex")).removeData("cached-tabindex")})),this.$element.attr("aria-hidden",!1).off("focusin.popover-"+this.uuid))},_makeAccessible:function(){var t=this._getContentElement(this.$element);this.$element.attr({role:"dialog",tabindex:"-1"}),t.attr("role",t.length>1?"group":null).not("[id]").each((function(t,e){e.setAttribute("id",CUI.util.getNextId())}))}}),CUI.Widget.registry.register("popover",CUI.Popover),t((function(){t(document).on("touchstart.popover.data-api click.popover.data-api",'[data-toggle="popover"]',(function(e){var i=t(this),n=CUI.util.getDataTarget(i);(n=n&&n.length>0?n:i.next(".coral-Popover")).popover(t.extend({pointAt:i},n.data(),i.data())).data("popover").toggleVisibility(),e.preventDefault()}))}))}(window.jQuery),function(t,e,i){CUI.SelectList=new Class({toString:"SelectList",extend:CUI.Widget,construct:function(t){this.applyOptions(),this.$element.on("change:type",this._setType.bind(this)).on("click",this._SELECTABLE_SELECTOR,this._triggerSelected.bind(this)).on("mouseenter",this._SELECTABLE_SELECTOR,this._handleMouseEnter.bind(this)),this._makeAccessible()},defaults:{type:"static",multiple:!1,relatedElement:null,autofocus:!0,autohide:!0,dataurl:null,dataurlformat:"html",datapaging:!0,datapagesize:10,dataadditional:null,loadData:t.noop,position:"center bottom-1",collisionAdjustment:""},getItems:function(){return this.$element.children(".coral-SelectList-item").toArray().map((function(e){var i=t(e);return i.is(".coral-SelectList-item--option")?new CUI.SelectList.Option({element:i}):i.is(".coral-SelectList-item--optgroup")?new CUI.SelectList.Group({element:i}):void 0}))},getOption:function(e){if(!t.isNumeric(e))throw new TypeError("Position should be numeric");var i=this.$element.children(".coral-SelectList-item"),n=i.eq(e);if(e<0||0===n.length)throw new RangeError("Position >"+e+"< is not within expected range [0,"+(i.length-1)+"]");if(!n.is(".coral-SelectList-item--option"))throw new TypeError("Position does not point to option element");return new CUI.SelectList.Option({element:n})},getGroup:function(e){if(!t.isNumeric(e))throw new TypeError("Position should be numeric");var i=this.$element.children(".coral-SelectList-item"),n=i.eq(e);if(e<0||0===n.length)throw new RangeError("Position >"+e+"< is not within expected range [0,"+(i.length-1)+"]");if(!n.is(".coral-SelectList-item--optgroup"))throw new TypeError("Position does not point to group element");return new CUI.SelectList.Group({element:n})},addOption:function(e,i){var n,a,o;if(t.isArray(e)||e&&e.jquery)for(o=0;o<e.length;o++)this.addOption(e[o],void 0!==i?i+o:void 0);else if(e&&e.$element)this.addOption(e.$element);else{if(t.isPlainObject(e))n=e;else{if(!(e instanceof Element))throw new TypeError("Only Object, Element, CUI.SelectList.Option, jQuery and Array type arguments allowed.");n={value:(a=t(e)).data("value"),display:a.text()}}a||(a=t("<li>",{class:"coral-SelectList-item coral-SelectList-item--option","data-value":n.value}).text(n.display)),this._addItem(a,i),this.$element.trigger(t.Event("itemadded",{item:new CUI.SelectList.Option({element:a})}))}},addGroup:function(e,i){var n,a,o;if(t.isArray(e)||e&&e.jquery)for(o=0;o<e.length;o++)this.addGroup(e[o],void 0!==i?i+o:void 0);else if(e&&e.$element)this.addGroup(e.$element);else{if("string"===t.type(e))n={display:e};else{if(!(e instanceof Element))throw new TypeError("Only String, Element, CUI.SelectList.Group, jQuery and Array type arguments allowed.");n={display:(a=t(e)).children(".coral-SelectList-groupHeader").text()}}a||(a=t("<li>",{class:"coral-SelectList-item coral-SelectList-item--optgroup"})),0===a.find(".coral-SelectList-groupHeader").length&&a.prepend(t("<span>",{class:"coral-SelectList-groupHeader"}).text(n.display)),0===a.find(".coral-SelectList-sublist").length&&a.append(t("<ul>",{class:"coral-SelectList-sublist"})),this._addItem(a,i),this.$element.trigger(t.Event("itemadded",{item:new CUI.SelectList.Group({element:a})}))}},_addItem:function(t,e){this._makeAccessibleListOption(t);var i=this._getList(),n=this._getItems();if(void 0===e||e===n.length)return i.append(t),n.length;if(0===e)return i.prepend(t),0;var a=n.eq(e);if(e>0&&a.length)return a.before(t),e;throw new RangeError("Position "+e+" is not within accepted range [0..."+n.length+"].")},_getList:function(){return this.$element},_getItems:function(){return this._getList().children(".coral-SelectList-item")},_SELECTABLE_SELECTOR:".coral-SelectList-item--option:not(.is-disabled):not(.is-hidden)",applyOptions:function(){this._setType()},_setType:function(){var t,e=this;function i(){var t=e.$element.get(0),i=t.scrollHeight,n=t.scrollTop;i-e.$element.height()<=n+30&&e._handleLoadData()}"dynamic"===this.options.type?this.$element.on("scroll.cui-selectlist-dynamic-load",(function(n){t&&clearTimeout(t),e._loadingComplete||this._loadingIsActive||(t=setTimeout(i,500))})):this.$element.off("scroll.cui-selectlist-dynamic-load")},_ownerElement:null,_makeAccessible:function(){var e=t(this.options.relatedElement),i=this.$element.hasClass("is-visible");this._ownerElement=t('[aria-owns*="'+this.$element.attr("id")+'"]'),e.length&&(this._ownerElement.length||(this._ownerElement=e)),this._ownerElement.attr({id:this._ownerElement.attr("id")||CUI.util.getNextId(),"aria-haspopup":!0,"aria-expanded":i}),e.not(this._ownerElement).removeAttr("aria-haspopup").removeAttr("aria-expanded"),this.$element.attr({role:"listbox","aria-hidden":!i,"aria-multiselectable":this.options.multiple||null,tabindex:-1}),i&&(this.$element.attr("tabindex",0),this.$element.not(".is-inline").addClass("is-inline")),this.$element.off("focusin.cui-selectlist focusout.cui-selectlist").on("focusin.cui-selectlist",this._handleFocusIn.bind(this)).on("focusout.cui-selectlist",this._handleFocusOut.bind(this)),this._makeAccessibleListOption(this.$element.children())},_hasFocus:function(){return this._ownerElement.is(document.activeElement)||1===t(document.activeElement).closest(this.$element).length},_handleFocusIn:function(t){0===this.$element.find(this._SELECTABLE_SELECTOR+'[aria-selected="true"], '+this._SELECTABLE_SELECTOR+'[tabindex="0"], '+this._SELECTABLE_SELECTOR+".is-highlighted").first().length&&(this.setCaretToItem(this.$element.find(this._SELECTABLE_SELECTOR).first(),!0),this.$element.attr("tabindex",-1)),this.$element.is(".is-inline")&&(this.$element.addClass("is-focused"),this.$element.off("keydown.cui-selectlist keypress.cui-selectlist").on("keydown.cui-selectlist",this._handleKeyDown.bind(this)).on("keypress.cui-selectlist",this._handleKeyPress.bind(this)))},_handleFocusOut:function(t){this.$element.is(".is-inline")&&(this.$element.removeClass("is-focused"),this.$element.off("keydown.cui-selectlist keypress.cui-selectlist"))},_restoreFocusToOwnerElement:function(){var t=this._ownerElement;t.is(":tabbable")||(t=t.find('input[type="text"], input[type="search"], button, input[type="button"]').filter(":tabbable").first()),t.trigger("focus")},_handleKeyDown:function(e){var i,n=this.$element.find(this._SELECTABLE_SELECTOR),a=n.filter(".is-highlighted"),o=n.index(a);if(n.length){switch(e.which){case 13:case 32:a.length&&1===t(document.activeElement).closest(this.$element).length&&(a.trigger("click"),e.preventDefault());break;case 27:this.hide(),e.preventDefault();break;case 33:case 38:o>0?i=n[o-1]:-1==o&&(i=n[n.length-1]),e.preventDefault();break;case 34:case 40:o+1<n.length&&(i=n[o+1]),e.preventDefault();break;case 36:i=n[0],e.preventDefault();break;case 35:i=n[n.length-1],e.preventDefault();break;case 9:this.options.visible&&this.options.autohide&&e.preventDefault()}void 0!==i&&this._hasFocus()&&this.setCaretToItem(t(i),!0)}},_keypressTimeoutID:null,_keypressTimeoutDuration:1e3,_keypressSearchString:"",_unicodeRangesRegExp:/[\u0000-\u007F|\u0080-\u00FF|\u0100-\u017F|\u0180-\u024F|\u0250-\u02AF|\u02B0-\u02FF|\u0300-\u036F|\u0370-\u03FF|\u0400-\u04FF|\u0500-\u052F|\u0530-\u058F|\u0590-\u05FF|\u0600-\u06FF|\u0700-\u074F|\u0780-\u07BF|\u0900-\u097F|\u0980-\u09FF|\u0A00-\u0A7F|\u0A80-\u0AFF|\u0B00-\u0B7F|\u0B80-\u0BFF|\u0C00-\u0C7F|\u0C80-\u0CFF|\u0D00-\u0D7F|\u0D80-\u0DFF|\u0E00-\u0E7F|\u0E80-\u0EFF|\u0F00-\u0FFF|\u1000-\u109F|\u10A0-\u10FF|\u1100-\u11FF|\u1200-\u137F|\u13A0-\u13FF|\u1400-\u167F|\u1680-\u169F|\u16A0-\u16FF|\u1700-\u171F|\u1720-\u173F|\u1740-\u175F|\u1760-\u177F|\u1780-\u17FF|\u1800-\u18AF|\u1900-\u194F|\u1950-\u197F|\u19E0-\u19FF|\u1D00-\u1D7F|\u1E00-\u1EFF|\u1F00-\u1FFF|\u2000-\u206F|\u2070-\u209F|\u20A0-\u20CF|\u20D0-\u20FF|\u2100-\u214F|\u2150-\u218F|\u2190-\u21FF|\u2200-\u22FF|\u2300-\u23FF|\u2400-\u243F|\u2440-\u245F|\u2460-\u24FF|\u2500-\u257F|\u2580-\u259F|\u25A0-\u25FF|\u2600-\u26FF|\u2700-\u27BF|\u27C0-\u27EF|\u27F0-\u27FF|\u2800-\u28FF|\u2900-\u297F|\u2980-\u29FF|\u2A00-\u2AFF|\u2B00-\u2BFF|\u2E80-\u2EFF|\u2F00-\u2FDF|\u2FF0-\u2FFF|\u3000-\u303F|\u3040-\u309F|\u30A0-\u30FF|\u3100-\u312F|\u3130-\u318F|\u3190-\u319F|\u31A0-\u31BF|\u31F0-\u31FF|\u3200-\u32FF|\u3300-\u33FF|\u3400-\u4DBF|\u4DC0-\u4DFF|\u4E00-\u9FFF|\uA000-\uA48F|\uA490-\uA4CF|\uAC00-\uD7AF|\uD800-\uDB7F|\uDB80-\uDBFF|\uDC00-\uDFFF|\uE000-\uF8FF|\uF900-\uFAFF|\uFB00-\uFB4F|\uFB50-\uFDFF|\uFE00-\uFE0F|\uFE20-\uFE2F|\uFE30-\uFE4F|\uFE50-\uFE6F|\uFE70-\uFEFF|\uFF00-\uFFEF|\uFFF0-\uFFFF]/,_handleKeyPress:function(e){var i,n,a,o,r,s,l=this.$element.find(this._SELECTABLE_SELECTOR),c=l.filter(".is-highlighted"),u=l.index(c),h="";if(l.length)switch(e.which){case 13:case 32:case 27:case 33:case 37:case 38:case 34:case 39:case 40:case 36:case 35:case 9:break;default:if(clearTimeout(this._keypressTimeoutID),h=String.fromCharCode(e.which),this._unicodeRangesRegExp.test(h)||(h=""),""===h)return;for(this._keypressSearchString+=h!==this._keypressSearchString?h:"",this._keypressTimeoutID=setTimeout(function(){this._keypressSearchString=""}.bind(this),this._keypressTimeoutDuration),n=-1===u?0:1===this._keypressSearchString.length?u+1:u,r=new RegExp("^"+this._keypressSearchString.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&"),"i"),a=n;a<l.length;a++)if(o=l.eq(a),s=t.trim(o.data("display")||o.text()),r.test(s)){i=o;break}if(void 0===i)for(a=0;a<n;a++)if(o=l.eq(a),s=t.trim(o.data("display")||o.text()),r.test(s)){i=o;break}void 0!==i&&this.setCaretToItem(i,!0)}},_makeAccessibleListOption:function(e){e.each((function(e,i){var n,a=t(i);a.hasClass("coral-SelectList-item--optgroup")?((n=a.children(".coral-SelectList-groupHeader")).attr({id:n.attr("id")||CUI.util.getNextId(),role:"heading"}),a.attr({role:"presentation"}).children("ul").each((function(e,i){t(i).attr({role:"group","aria-labelledby":n.attr("id")})})).children("li").each((function(e,i){var n=t(i);n.attr({role:"option",id:n.attr("id")||CUI.util.getNextId()})}))):a.attr({role:"option",id:a.attr("id")||CUI.util.getNextId()})}))},setCaretToItem:function(t,e){this.$element.find(".coral-SelectList-item--option").removeClass("is-highlighted").removeAttr("tabindex"),t.addClass("is-highlighted").attr("tabindex",0),this._ownerElement.attr("aria-activedescendant",t.attr("id")),this.$element.attr("aria-activedescendant",t.attr("id")),this._hasFocus()?t.trigger("focus"):e&&this.scrollToItem(t)},resetCaret:function(){this.$element.find('[role="option"]').removeClass("is-highlighted").removeAttr("tabindex"),this.$element.scrollTop(0),this._ownerElement.removeAttr("aria-activedescendant"),this.$element.removeAttr("aria-activedescendant")},scrollToItem:function(t){if(t.length){var e=t.position().top,i=t.outerHeight(!1),n=this.$element[0],a=e+i-n.clientHeight;a>0?n.scrollTop+=a:e<0&&(n.scrollTop+=e)}},show:function(){return this.options.visible?this:(a(),this.inherited(arguments))},_show:function(){var e=this,i=this.$element.find(this._SELECTABLE_SELECTOR+'[aria-selected="true"], '+this._SELECTABLE_SELECTOR+'[tabindex="0"], '+this._SELECTABLE_SELECTOR+".is-highlighted").first();(this.$element.addClass("is-visible").attr("aria-hidden",!1),this._ownerElement.attr("aria-expanded",!0),this._position(),this.options.autofocus&&(0===i.length&&(i=this.$element.find(this._SELECTABLE_SELECTOR).first()),this.setCaretToItem(i,!0)),"dynamic"===this.options.type)&&(this._outstandingRequest||this._handleLoadData()).done((function(){e.options.autofocus&&e.setCaretToItem(e.$element.find(e._SELECTABLE_SELECTOR).first(),!0)}));t(document).on("keydown.cui-selectlist",this._handleKeyDown.bind(this)).on("keypress.cui-selectlist",this._handleKeyPress.bind(this))},_position:function(){if(this.options.visible){this.$element.position({my:"top",at:this.options.position,of:this.options.relatedElement,collision:this.options.collisionAdjustment});var e=t(this.options.relatedElement);this.$element.offset().top<e.offset().top?(this.$element.removeClass("is-below").addClass("is-above"),e.removeClass("is-above").addClass("is-below")):(this.$element.removeClass("is-above").addClass("is-below"),e.removeClass("is-below").addClass("is-above"))}},_hide:function(){t(this.options.relatedElement);var e=this._ownerElement,i=!0,a=this._hasFocus();this.$element.removeClass("is-visible").attr("aria-hidden",!0),this._ownerElement.attr("aria-expanded",!1),this.reset(),t(n).each((function(){var e=t(this).data("selectList");e&&!e.get("autohide")&&e.get("visible")&&(i=!1)})),i&&t(document).off("keydown.cui-selectlist keypress.cui-selectlist"),e.removeAttr("aria-activedescendant"),e.length&&a&&setTimeout(this._restoreFocusToOwnerElement.bind(this),50)},_triggerSelected:function(e){var i=t(e.currentTarget),n=i.data("value"),a=i.data("display")||i.text();i.trigger(t.Event("selected",{selectedValue:n,displayedValue:a}))},_handleMouseEnter:function(e){this.setCaretToItem(t(e.currentTarget),!1)},clearItems:function(){this.$element.empty()},_pagestart:0,_loadingComplete:!1,_loadingIsActive:!1,_outstandingRequest:null,_handleLoadData:function(){var e,i=this,n=this._pagestart+this.options.datapagesize;return this._outstandingRequest&&"function"==typeof this._outstandingRequest.abort?this._outstandingRequest.abort():(t("<div/>",{class:"coral-SelectList-item--wait",role:"presentation"}).append(t("<span/>",{class:"coral-Wait",role:"progressbar"})).appendTo(i.$element),this._position(),this._loadingIsActive=!0),this.options.dataurl?e=t.ajax({url:this.options.dataurl,context:this,dataType:this.options.dataurlformat,data:t.extend({start:this._pagestart,end:n},this.options.dataadditional||{})}).done((function(e){var n=0;if("html"===i.options.dataurlformat){var a=t(e);n=a.filter("li").length,i._makeAccessibleListOption(a),i.$element.append(a)}n<i.options.datapagesize&&(this._loadingComplete=!0)})):(e=this.options.loadData.call(this,this._pagestart,n)).done((function(t){void 0!==t&&(i._loadingComplete=t)})),e.done((function(){i._pagestart=n})),e.always((function(){i.$element.find(".coral-SelectList-item--wait").remove(),i._position(),i._loadingIsActive=!1,i._outstandingRequest=null})),this._outstandingRequest=e,e},reset:function(){"dynamic"===this.options.type&&(this.clearItems(),this._pagestart=0,this._loadingComplete=!1)},triggerLoadData:function(t){t&&this.reset(),this._handleLoadData()},filter:function(e){var i=this.$element.find(".coral-SelectList-item--option"),n=this.$element.find(".coral-SelectList-item--optgroup");e?(i.each((function(){var i=t(this),n=!e.call(this,i.data("value"),i.data("display")||i.text());i.toggleClass("is-hidden",n),n&&i.removeClass("is-highlighted")})),n.each((function(){var e=t(this),i=e.find('[role="option"]:not(.is-hidden)').length>0;e.toggleClass("is-hidden",!i)}))):(i.removeClass("is-hidden"),n.removeClass("is-hidden")),this._position()}}),CUI.Widget.registry.register("selectlist",CUI.SelectList),CUI.options.dataAPI&&t(document).on("cui-contentloaded.data-api",(function(e){CUI.SelectList.init(t("[data-init~=selectlist]",e.target))}));var n=".coral-SelectList",a=function(){t(n).each((function(){var e=t(this).data("selectList");e&&e.get("autohide")&&e.hide()}))},o=function(){var e,i=CUI.util.getDataTarget(t(this));return i.length&&((e=i.data("selectList")).get("relatedElement")||(e.set("relatedElement",this),e._makeAccessible()),e.resetCaret(),e.toggleVisibility()),!1};t(document).on("click.cui-selectlist",a).on("click.cui-selectlist",n,(function(t){t.stopPropagation()})).on("click.cui-selectlist","[data-toggle~=selectlist]",o).on("keydown.cui-selectlist-toggleSelector","[data-toggle~=selectlist]",(function(e){var i=CUI.util.getDataTarget(t(this)),n=i.data("selectList"),a=i.length&&i.hasClass("is-visible");switch(e.which){case 40:i.length&&!a&&o.call(this),e.preventDefault();break;case 9:a&&n.get("autohide")&&e.preventDefault()}}))}(jQuery),function(t,e,i){CUI.SelectList.Item=new Class({toString:"SelectList.Item",$element:void 0,_cachedPosition:null,construct:function(e){this.$element=t(e.element)},getPosition:function(){var t=this.$element.index();return t>-1?t:this._cachedPosition},getDisplay:function(){throw new Error("Subclass responsibility")},remove:function(){var e=this._getParent();this._cachedPosition=this.getPosition(),this.$element.remove(),e.trigger(t.Event("itemremoved",{item:this}))},_getParent:function(){throw new Error("Subclass responsibility")}})}(jQuery),jQuery,CUI.SelectList.Option=new Class({toString:"SelectList.Option",extend:CUI.SelectList.Item,getDisplay:function(){return this.$element.text()},getValue:function(){return this.$element.attr("data-value")},_getParent:function(){return this.$element.closest(".coral-SelectList, .coral-SelectList-item--optgroup")}}),function(t,e,i){CUI.SelectList.Group=new Class({toString:"SelectList.Group",extend:CUI.SelectList.Item,getDisplay:function(){return this.$element.children("span").text()},getItems:function(){return this._getItems().toArray().map((function(t){return new CUI.SelectList.Option({element:t})}))},getOption:function(e){if(!t.isNumeric(e))throw new TypeError("Position should be numeric");var i=this._getItems(),n=i.eq(e);if(e<0||0===n.length)throw new RangeError("Position >"+e+"< is not within expected range [0,"+(i.length-1)+"]");return new CUI.SelectList.Option({element:n})},addOption:CUI.SelectList.prototype.addOption,_addItem:CUI.SelectList.prototype._addItem,_getList:function(){return this.$element.children(".coral-SelectList-sublist").first()},_getItems:CUI.SelectList.prototype._getItems,_makeAccessibleListOption:CUI.SelectList.prototype._makeAccessibleListOption,_getParent:function(){return this.$element.parent()}})}(jQuery),function(t,e,i){CUI.TagList=new Class({toString:"TagList",extend:CUI.Widget,construct:function(t){var e=this;this.applyOptions(),this.$element.on("change:values",this._setValues.bind(this)).on("change:disabled",this._toggleDisabled.bind(this)),this.$element.on("click","button",(function(t){var i=e.$element.children().has(t.currentTarget).find("input");e.removeItem(i.val())})),this._makeAccessible()},defaults:{fieldname:"",values:null,disabled:!1,tag:"li",renderer:null},_existingValues:null,applyOptions:function(){var e=this;this._existingValues=[],this.options.values=this.options.values||[],this.options.values.length>0?this._setValues():this.$element.find("input").each((function(i,n){var a=t(n);e._existingValues.push(a.attr("value"))})),this._toggleDisabled(this.options.disabled)},_setValues:function(){var t=this.options.values;this.$element.empty(),this.options.values=[],this.addItem(t)},_makeAccessible:function(){this.$element.attr({role:"listbox"}),this.$element.children(this.options.tag).attr({role:"option",tabindex:0}).on("keydown",this._onKeyDown.bind(this)).children(".coral-TagList-tag-removeButton").attr({tabindex:-1})},_onKeyDown:function(e){if(8===e.which){e.preventDefault(),e.stopPropagation();var i=t(e.currentTarget).next();0===i.length&&(i=t(e.currentTarget).prev()),this.removeItem(t(e.currentTarget).children("input").val()),i.focus()}},_show:function(){this.$element.show().attr("aria-hidden",!1)},_hide:function(){this.$element.hide().attr("aria-hidden",!0)},_removeItem:function(e){var i=this.$element.children(':has(input[value="'+e+'"])');i.length>0&&(i.remove(),this.$element.trigger(t.Event("itemremoved"),{value:e}))},_appendItem:function(e){var i,n;if("string"===t.type(e)?i=n=e:(i=e.display,n=e.value),n+="",!(t.inArray(n,this._existingValues)>-1||0===n.length)){this._existingValues.push(n);var a=this.options.renderer||this._renderTag,o=t(a.call(this,n,i));o.on("keydown",this._onKeyDown.bind(this)),this._toggleItemDisabled(o[0],this.options.disabled),this.$element.append(o),this.$element.trigger(t.Event("itemadded"),{value:n,display:i})}},_renderTag:function(e,i){var n,a;return n=t("<"+this.options.tag+"/>",{role:"option",tabindex:"0",class:"coral-TagList-tag"+(this.options.multiline?" coral-TagList-tag--multiline":""),title:i}),a=t("<button/>",{class:"coral-MinimalButton coral-TagList-tag-removeButton",type:"button",tabindex:"-1",title:"Remove"}).appendTo(n),t("<i/>",{class:"coral-Icon coral-Icon--sizeXS coral-Icon--close"}).appendTo(a),t("<span/>",{class:"coral-TagList-tag-label",text:i}).appendTo(n),t("<input/>",{type:"hidden",value:e,name:this.options.fieldname}).appendTo(n),n},_toggleDisabled:function(t){var e="boolean"==typeof t?t:this.options.disabled,i=this._getItems();this.$element.toggleClass("is-disabled",e),this.$element.attr("aria-disabled",e),i.map(function(t){this._toggleItemDisabled(t,e)}.bind(this))},_toggleItemDisabled:function(e,i){var n="boolean"==typeof i?i:this.options.disabled;t(e).find("input, button").each((function(e,i){t(i).prop("disabled",n)})),t(e).attr("tabindex",n?-1:0)},_getItems:function(){var t=this.$element.children();return this._existingValues.map((function(e){var i=t.has('input[value="'+e+'"]');return i.length>1&&(i=i.first()),!!i.length&&i[0]})).filter((function(t){return t}))},removeItem:function(t){var e=this._existingValues.indexOf(""+t);e>-1&&(this._existingValues.splice(e,1),this._removeItem(t))},addItem:function(e){var i=this,n=t.isArray(e)?e:[e];t.each(n,(function(t,e){i._appendItem(e)}))},getValues:function(){return this._existingValues.slice(0)}}),CUI.Widget.registry.register("taglist",CUI.TagList),CUI.options.dataAPI&&t(document).on("cui-contentloaded.data-api",(function(e){CUI.TagList.init(t("[data-init~=taglist]",e.target))}))}(jQuery),function(t,e,i){CUI.Select=new Class({toString:"Select",extend:CUI.Widget,construct:function(){this._button=this.$element.children(".coral-Select-button"),this._buttonText=this._button.children(".coral-Select-button-text"),this._nativeSelect=this.$element.children(".coral-Select-select"),this._selectList=this.$element.children(".coral-SelectList"),this._tagList=this.$element.children(".coral-TagList"),this._valueInput=this.$element.children("input[type=hidden]"),this.$element.on("change:disabled",function(t){t.target===this.$element[0]&&this._toggleDisabled()}.bind(this)),this.applyOptions()},defaults:{type:"static",disabled:!1,nativewidget:!1,nativewidgetonmobile:!0,multiple:!1,tagConfig:null,selectlistConfig:null},applyOptions:function(){switch(this._nativeSelect.length>0&&this._nativeSelect.prop("multiple")&&(this.options.multiple=!0),this._createSelectList(),(this.options.disabled||this._button.hasClass("is-disabled")||this.$element.data("disabled"))&&this.set("disabled",!0),this._nativeSelect.removeClass("coral-Select-select--native"),this._nativeSelect.off(".selectlist"),this._button.off(".selectlist"),this._getModeOfOperation()){case"nativeselect":this._prepareSelectForInteraction(),this._disableKeyboardInteractionWithSelectList();break;case"selectlist":this._prepareSelectListForInteraction(),this._disableKeyboardInteractionWithNativeSelect();break;case"hybrid":this._prepareSelectForInteraction(),this._prepareSelectListForInteraction(),this._hybridEventHandling(),this._disableKeyboardInteractionWithNativeSelect()}this.options.multiple?this._setTagList():"static"===this.options.type&&this._handleNativeSelect(),this._makeAccessible()},_makeAccessible:function(){var i,n,a,o=!!e.navigator.platform.match(/(Mac|iPhone|iPod|iPad)/i);this._button.attr({id:this._button.attr("id")||CUI.util.getNextId()}),this._button.hasClass("is-invalid")&&(this._button.attr({"aria-invalid":!0}),this._nativeSelect.attr({"aria-invalid":!0}),this._selectList.attr({"aria-invalid":!0})),i=this._nativeSelect.length&&this._nativeSelect.attr("id")?'label[for="'+this._nativeSelect.attr("id")+'"]':'label[for="'+this._button.attr("id")+'"]',(n=t(i)).attr({id:n.attr("id")||CUI.util.getNextId()}),a=n.attr("id"),this._buttonText.attr({id:this._buttonText.attr("id")||CUI.util.getNextId()}),this._button.attr({role:o?"button":"combobox","aria-expanded":!1,"aria-haspopup":!0,"aria-labelledby":a?this._buttonText.attr("id")+" "+a:null,"aria-owns":this._selectList.attr("id"),"aria-multiselectable":this.options.multiple||null}),this._selectListWidget&&this._selectListWidget._makeAccessible(),this._selectList.attr({"aria-controls":this._button.attr("id"),"aria-multiselectable":this.options.multiple||null}),n.length&&!this._button.is("[aria-hidden=true]")&&n.on("click.selectLabel",function(t){this._button.focus(),t.preventDefault()}.bind(this))},getValue:function(){return this.options.multiple?this._tagListWidget.getValues():"static"===this.options.type?this._nativeSelect[0][this._nativeSelect[0].selectedIndex].value:"dynamic"===this.options.type?this._valueInput.val():null},setValue:function(e){var i=this;void 0===e?e=[]:t.isArray(e)||(e=[e]);var n=[],a=function(t){var a=t.getValue();-1===e.indexOf(a)?n.push(a):i._select(a,t.getDisplay())};this.getItems().forEach((function(t){t instanceof CUI.SelectList.Option?a(t):t instanceof CUI.SelectList.Group&&t.getItems().forEach(a)})),this._deselect(n)},getItems:function(){return this._selectListWidget.getItems()},getOption:function(t){return this._selectListWidget.getOption(t)},getGroup:function(t){return this._selectListWidget.getGroup(t)},addOption:function(t,e){this._selectListWidget.addOption(t,e)},addGroup:function(t,e){this._selectListWidget.addGroup(t,e)},_getModeOfOperation:function(){return"dynamic"===this.options.type?"selectlist":this.options.nativewidget?"nativeselect":this.options.nativewidgetonmobile?"hybrid":"selectlist"},_hybridEventHandling:function(){var t=!1,e=!1,i=this;this._nativeSelect.on("touchstart.selectlist",(function(){t=!0})).on("pointerdown.selectlist",(function(e){e.originalEvent&&"touch"===e.originalEvent.pointerType&&(t=!0)})).on("MSPointerDown.selectlist",(function(e){e.originalEvent&&2===e.originalEvent.pointerType&&(t=!0)})).on("mousedown.selectlist",(function(n){t?t=!1:1===n.which&&(i._nativeSelect.attr("disabled","disabled"),setTimeout((function(){i._nativeSelect.removeAttr("disabled"),i._button.focus()}),0),e=!0,i._button.click())})).on("click.selectlist",(function(t){e&&(t.stopPropagation(),e=!1)})).on("mouseenter.selectlist mouseleave.selectlist",(function(t){i._button.toggleClass("is-hovered","mouseenter"===t.type)})).on("focus.selectlist",(function(t){i._button.toggleClass("is-focused","focus"===t.type)})).on("blur.selectlist",(function(t){i._button.removeClass("is-focused")}))},_disableKeyboardInteractionWithNativeSelect:function(){this._nativeSelect.attr({tabindex:"-1","aria-hidden":!0}),this._nativeSelect.off("focusin.nativeselect focusout.nativeselect keydown.nativeselect pointerdown.nativeselect MSPointerDown.nativeselect mousedown.nativeselect")},_disableKeyboardInteractionWithSelectList:function(){this._button.attr({tabindex:"-1","aria-hidden":!0})},_prepareSelectForInteraction:function(){var t=this;t._nativeSelect.addClass("coral-Select-select--native"),t._nativeSelect.css({height:t._button.outerHeight()}),t._nativeSelect.on("change.select",t._handleNativeSelect.bind(t)),t._nativeSelect.on("focusin.nativeselect",(function(){t._button.addClass("is-focused")})),t._nativeSelect.on("focusout.nativeselect",(function(e){t._button.removeClass("is-focused")}))},_createSelectList:function(){var e=this,i="static";0===this._selectList.length?this._selectList=t("<ul/>",{id:CUI.util.getNextId(),class:"coral-SelectList"}).appendTo(this.$element):this._selectList.attr("id")||this._selectList.attr("id",CUI.util.getNextId()),this._nativeSelect.length>0?this._parseMarkup():i="dynamic",this._selectList.selectList(t.extend({relatedElement:this._button,type:i},this.options.selectlistConfig||{})),this._selectListWidget=this._selectList.data("selectList"),this._selectList.on("itemadded",this._addItemToSelect.bind(this)).on("itemremoved",(function(t){var i;i=t.item instanceof CUI.SelectList.Group?t.item.getItems().map((function(t){return t.getValue()})):[t.item.getValue()],e._deselect(i),e._removeItemFromSelect(t)}))},_addItemToSelect:function(e){var i;if(e.item instanceof CUI.SelectList.Option)(i=t("<option>")).attr("value",e.item.getValue());else{if(!(e.item instanceof CUI.SelectList.Group))return;i=t("<optgroup>")}i.text(e.item.getDisplay());var n=this._nativeSelect;e.target!=this._selectList.get(0)&&(n=n.children().eq(t(e.target).closest(".coral-SelectList-item--optgroup").index()));var a=e.item.getPosition();a>=n.children().length?n.append(i):0===a?n.prepend(i):n.children().eq(a).before(i)},_removeItemFromSelect:function(e){var i=this._nativeSelect;e.target!=this._selectList.get(0)&&(i=i.children().eq(t(e.target).closest(".coral-SelectList-item--optgroup").index())),i.children().eq(e.item.getPosition()).remove()},_prepareSelectListForInteraction:function(){var t=this;this._button.attr({"data-toggle":"selectlist","data-target":"#"+this._selectList.attr("id")}),this._selectList.on("selected.select",this._handleSelectedFromSelectList.bind(this)).on("show.select hide.select",(function(e){"show"!==e.type&&t._button.removeClass("is-above is-below"),t._button.toggleClass("is-active","show"===e.type)}))},_handleNativeSelect:function(e){var i,n,a=this;a.options.multiple?(t.each(a._nativeSelect[0].options,(function(t,e){e.selected?a._tagListWidget.addItem({value:e.value,display:e.text}):a._tagListWidget.removeItem(e.value)})),i=a._tagListWidget.getValues()):a._nativeSelect[0]&&(n=a._nativeSelect[0][a._nativeSelect[0].selectedIndex],a._buttonText.text(n?n.text:""),i=n?n.value:null),e&&this.$element.trigger(t.Event("selected",{selected:i}))},_syncSelectionToNativeSelect:function(e){this._nativeSelect.length&&t.each(this._nativeSelect[0].options,(function(t,i){i.selected=e.indexOf(i.value)>-1}))},_syncSelectionToSelectList:function(e){this._selectList.length&&t.each(this._selectList.find(this._selectListWidget._SELECTABLE_SELECTOR),(function(i,n){var a=t(n);a.attr("aria-selected",e.indexOf(a.attr("data-value"))>-1)}))},_parseMarkup:function(){var e=this,i=this._nativeSelect.children("optgroup");function n(i,n){i.children("option").each((function(i,a){var o=t(a);t("<li/>",{class:"coral-SelectList-item coral-SelectList-item--option","data-value":o.val(),text:o.text()}).appendTo(n).toggleClass("is-disabled",a.hasAttribute("disabled")).attr("aria-selected",a.hasAttribute("selected")&&!e.options.multiple)}))}i.length>0?i.each((function(i,a){var o=t(a),r=t("<li/>",{class:"coral-SelectList-item coral-SelectList-item--optgroup"}).append(t("<span/>",{class:"coral-SelectList-groupHeader",text:o.attr("label")}));n(o,t("<ul/>",{class:"coral-SelectList-sublist"}).appendTo(r)),e._selectList.append(r)})):n(this._nativeSelect,this._selectList)},_setTagList:function(){var e=this;0===this._tagList.length&&(this._tagList=t("<ol/>",{class:"coral-TagList"}).appendTo(this.$element)),this._tagList.tagList(this.options.tagConfig||{}),this._tagListWidget=this._tagList.data("tagList"),this._tagList.on("itemremoved",(function(t,i){var n=e._tagListWidget.getValues();e._syncSelectionToNativeSelect(n),e._syncSelectionToSelectList(n)})),this._handleNativeSelect()},_handleSelectedFromSelectList:function(e){e&&e.stopPropagation(),this._selectListWidget.hide(),this._select(e.selectedValue,e.displayedValue),this._button.trigger("focus"),this.$element.trigger(t.Event("selected",{selected:this.getValue()}))},_select:function(t,e){var i;this.options.multiple?(this._tagListWidget.addItem({value:t,display:e}),i=this._tagListWidget.getValues()):(this._buttonText.text(e),this._valueInput.val(t),i=[""+t]),this._syncSelectionToNativeSelect(i),this._syncSelectionToSelectList(i)},_deselect:function(t){var e,i=this;if(this.options.multiple)t.forEach((function(t){i._tagListWidget.removeItem(t)})),e=this._tagListWidget.getValues();else if(t.indexOf(this.getValue())>-1){var n,a,o=this._getFirstOptionWithoutValues(this._getAllOptions(),t);o?(n=o.getValue(),a=o.getDisplay(),e=[n]):(n="",a="",e=[]),this._buttonText.text(a),this._valueInput.val(n)}e&&(this._syncSelectionToNativeSelect(e),this._syncSelectionToSelectList(e))},_toggleDisabled:function(t){var e="boolean"==typeof t?t:this.options.disabled;this._button.toggleClass("is-disabled",e),this._button.attr("aria-disabled",e),this._button.prop("disabled",e),this._nativeSelect.prop("disabled",e),this._selectList.attr("aria-disabled",e),this._tagListWidget&&this._tagListWidget.set("disabled",e),t&&this._selectListWidget&&this._selectListWidget.hide()},_getFirstOptionWithoutValues:function(t,e){for(var i=0;i<t.length;i++){var n=t[i];if(-1===e.indexOf(n.getValue()))return n}},_getAllOptions:function(){for(var t=this.getItems(),e=[],i=0;i<t.length;i++){var n=t[i];n instanceof CUI.SelectList.Group?e=e.concat(n.getItems()):e.push(n)}return e}}),CUI.Widget.registry.register("select",CUI.Select),CUI.options.dataAPI&&t(document).on("cui-contentloaded.data-api",(function(e){CUI.Select.init(t("[data-init~=select]",e.target))}))}(jQuery,this),function(t){CUI.Tooltip=new Class({toString:"Tooltip",extend:CUI.Widget,construct:function(e){if(this.options.target&&(this.options.target=t(this.options.target)),0===this.$element.length&&this.options.target&&(this.$element=t("<div>"),this.$element.insertAfter(this.options.target)),this.$element.addClass("coral-Tooltip"),this.$element.data("interactive")&&(this.options.interactive=!0,this.options.target||(this.options.target=this.$element.parent())),this.$element.data("target")&&(this.options.target=t(this.$element.data("target"))),this.options.arrow||(this.options.arrow="left",this.$element.hasClass("coral-Tooltip--positionRight")&&(this.options.arrow="left"),this.$element.hasClass("coral-Tooltip--positionLeft")&&(this.options.arrow="right"),this.$element.hasClass("coral-Tooltip--positionBelow")&&(this.options.arrow="top"),this.$element.hasClass("coral-Tooltip--positionAbove")&&(this.options.arrow="bottom")),this.options.type||(this.options.type="info",this.$element.hasClass("coral-Tooltip--info")&&(this.options.type="info"),this.$element.hasClass("coral-Tooltip--error")&&(this.options.type="error"),this.$element.hasClass("coral-Tooltip--success")&&(this.options.type="success"),this.$element.hasClass("coral-Tooltip--notice")&&(this.options.type="notice"),this.$element.hasClass("coral-Tooltip--inspect")&&(this.options.type="inspect")),this.options.interactive&&(this.options.visible=!1),this.$element.toggleClass("is-hidden",!this.options.visible),this.$element.on("change:content",this._setContent.bind(this)),this.$element.on("change:type",this._setType.bind(this)),this.$element.on("change:arrow",this._setArrow.bind(this)),this.applyOptions(),this.reposition(),this._makeAccessible(),this.options.target&&this.options.target.data("tooltip",this),this.options.interactive&&this.options.target){var i=null;t(this.options.target).on("touchstart.cui-tooltip",function(t){i&&clearTimeout(i),this.show(),i=setTimeout(function(){this.hide()}.bind(this),3e3)}.bind(this));var n=!1;t(this.options.target).on("mouseover.cui-tooltip focusin.cui-tooltip",function(t){n&&clearTimeout(n),n=setTimeout(function(){this.show(),this.$element.attr("aria-hidden","false")}.bind(this),this.options.delay)}.bind(this)),t(this.options.target).on("focusout.cui-tooltip",function(t){n&&clearTimeout(n),this.hide(),this.$element.attr("aria-hidden","true")}.bind(this)),t(this.options.target).on("mouseout.cui-tooltip",function(e){t(document.activeElement).is(this.options.target)||(n&&clearTimeout(n),this.hide(),this.$element.attr("aria-hidden","true"))}.bind(this))}},_makeAccessible:function(){this.$element.attr({role:"tooltip",id:this.$element.attr("id")||CUI.util.getNextId()}),this.options.target&&this.options.target.attr("aria-describedby",this.$element.attr("id")),t(this.options.target).is(":empty")&&t(this.options.target).attr("aria-label",this.options.content)},defaults:{target:null,visible:!0,type:null,interactive:!1,arrow:null,delay:500,distance:5},_stylesTypes:{info:"coral-Tooltip--info",error:"coral-Tooltip--error",notice:"coral-Tooltip--notice",success:"coral-Tooltip--success",inspect:"coral-Tooltip--inspect"},_arrows:{left:"coral-Tooltip--positionRight",right:"coral-Tooltip--positionLeft",top:"coral-Tooltip--positionBelow",bottom:"coral-Tooltip--positionAbove"},applyOptions:function(){this._setContent(),this._setType(),this._setArrow()},_setType:function(){if("string"==typeof this.options.type&&this._stylesTypes.hasOwnProperty(this.options.type)){var t=this._stylesTypes.info+" "+this._stylesTypes.error+" "+this._stylesTypes.notice+" "+this._stylesTypes.success+" "+this._stylesTypes.inspect;this.$element.removeClass(t),this.$element.addClass(this._stylesTypes[this.options.type]),this.reposition()}},_setArrow:function(){"string"==typeof this.options.arrow&&this._arrows.hasOwnProperty(this.options.arrow)&&(this._removeAllArrows(),this.$element.addClass(this._arrows[this.options.arrow]),this.reposition())},_removeAllArrows:function(){var t=this._arrows.left+" "+this._arrows.right+" "+this._arrows.top+" "+this._arrows.bottom;this.$element.removeClass(t)},_setContent:function(){"string"==typeof this.options.content&&(this.$element.html(this.options.content),this.reposition())},_show:function(){this.$element.hasClass("is-hidden")&&(this.$element.removeClass("is-hidden"),this.$element.css("display","none")),this.reposition(),this.$element.fadeIn(),t(document).on("keydown.cui-tooltip",function(t){27===t.which&&(this._hide(),t.preventDefault(),t.stopPropagation())}.bind(this))},_hide:function(){return this.$element.fadeOut(0,function(){this.options.autoDestroy&&(this.$element.remove(),t(this.options.target).off(".cui-tooltip"),t(this.options.target).data("tooltip",null)),this.$element.addClass("is-hidden"),t(document).off("keydown.cui-tooltip")}.bind(this)),this},reposition:function(){if(this.options.visible&&this.options.target){this.$element.detach().insertAfter(this.options.target),this.$element.css("display","block"),this.$element.css("position","absolute"),this.$element.css({top:"-9999px",left:"-9999px"}),this._removeAllArrows();var t=this._instructionFactory[this.options.arrow]({target:this.options.target,offset:this.options.distance+7,callback:this._applyFinalPosition.bind(this),within:this.options.within||window});return this.$element.position(t),this}},_applyFinalPosition:function(t,e){var i;switch(this.$element.css({top:t.top,left:t.left}),this.options.arrow){case"top":case"bottom":i="bottom"==e.vertical?"coral-Tooltip--positionAbove":"coral-Tooltip--positionBelow";break;case"left":case"right":i="left"==e.horizontal?"coral-Tooltip--positionRight":"coral-Tooltip--positionLeft"}this._removeAllArrows(),this.$element.addClass(i)},_instructionFactory:{top:function(t){return{my:"center top+"+t.offset,at:"center bottom",of:t.target,collision:"flipfit flipfit",using:t.callback,within:t.within}},right:function(t){return{my:"right-"+t.offset+" center",at:"left center",of:t.target,collision:"flipfit flipfit",using:t.callback,within:t.within}},bottom:function(t){return{my:"center bottom-"+t.offset,at:"center top",of:t.target,collision:"flipfit flipfit",using:t.callback,within:t.within}},left:function(t){return{my:"left+"+t.offset+" center",at:"right center",of:t.target,collision:"flipfit flipfit",using:t.callback,within:t.within}}}}),CUI.Widget.registry.register("tooltip",CUI.Tooltip),CUI.options.dataAPI&&(t(document).on("cui-contentloaded.data-api",(function(e){CUI.Tooltip.init(t("[data-init~=tooltip]",e.target)),t("[data-init~=quicktip][data-quicktip-content]:empty").not("[aria-label], [aria-labelledby], img[alt], input, select, textarea, button").each((function(e,i){var n=t(i);1===n.closest("label").length||n.attr("id")&&t('label[for="'+n.attr("id")+'"]').length>0||n.attr("aria-label",n.attr("data-quicktip-content"))})),t("[data-init~=quicktip]").not("input, select, textarea, button").not(":tabbable").attr("tabindex",0)})),t(document).on("touchstart mouseover focusin","[data-init~=quicktip]",(function(e){var i,n=t(this),a=n.data("tooltip"),o=function(e){e.hide(),n.removeAttr("aria-describedby"),n.off("mouseout.cui-quicktip focusout.cui-quicktip"),t(window).off("keydown.cui-tooltip mousedown.cui-tooltip")};if(!a)switch(i=new CUI.Tooltip({target:n,content:n.data("quicktip-content")||n.html(),type:n.data("quicktip-type"),arrow:n.data("quicktip-arrow"),interactive:!1,autoDestroy:!0,visible:!1}).show(),n.data("quicktip",i),e.type){case"mouseover":case"focusin":"mouseover"===e.type?n.on("mouseout.cui-quicktip",(function(){t(document.activeElement).is(n)||o(i)})):n.on("focusout.cui-quicktip",(function(){o(i)})),t(window).on("keydown.cui-tooltip",(function(t){27===t.which&&(o(i),t.preventDefault())})).on("mousedown.cui-tooltip",(function(t){n.is(t.target)||i.$element.is(t.target)||o(i)}));break;default:setTimeout((function(){o(i)}),3e3)}})))}(window.jQuery),function(t,e,i){var n;CUI.Slider=new Class({toString:"Slider",extend:CUI.Widget,construct:function(){var e=this,i=this.$element.attr("id"),n=[];this._readOptions(),i||(i=CUI.util.getNextId(),this.$element.attr("id",i)),this._renderMissingElements(),this.$inputs=this.$element.find("input"),this.$inputs.each((function(i,a){var o=t(a);o.is("[step]")||o.attr("step",e.options.step),o.is("[min]")||o.attr("min",e.options.min),o.is("[max]")||o.attr("max",e.options.max),o.is("[value]")?n.push(o.attr("value")):(o.attr({value:e.options.value}),n.push(e.options.value)),0===i&&(o.is(":disabled")?(e.options.disabled=!0,e.$element.addClass("is-disabled")):e.options.disabled&&(o.attr("disabled","disabled"),e.$element.addClass("is-disabled")))})),e.values=n,"vertical"===this.options.orientation&&(this.isVertical=!0),this.$element.on("touchstart.slider pointerdown.slider mspointerdown.slider mousedown.slider",this._mouseDown.bind(this)).on("focusin.slider","input[type=range], [role=slider].coral-Slider-handle",this._focus.bind(this)).on("focusout.slider","input[type=range], [role=slider].coral-Slider-handle",this._blur.bind(this)).on("input.slider change.slider","input",this._handleInputChange.bind(this)),this.$element.on("change:value",this._processValueChanged.bind(this)).on("change:disabled",this._processDisabledChanged.bind(this)).on("change:min",this._processMinMaxStepChanged.bind(this)).on("change:max",this._processMinMaxStepChanged.bind(this)).on("change:step",this._processMinMaxStepChanged.bind(this)),this._render(),this._makeAccessible()},defaults:{step:"1",min:"1",max:"100",value:"1",orientation:"horizontal",slide:!1,disabled:!1,tooltips:!1,tooltipFormatter:function(t){return t.toString()},valuetextFormatter:function(t){return t.toString()},ticks:!1,filled:!1,bound:!1},values:[],$inputs:null,$ticks:null,$fill:null,$handles:null,$tooltips:null,isVertical:!1,draggingPosition:-1,_inputsOrHandles:null,_readOptions:function(){this.$element.hasClass("coral-Slider--vertical")&&(this.options.orientation="vertical",this.isVertical=!0),this.$element.hasClass("coral-Slider--tooltips")&&(this.options.tooltips=!0),this.$element.hasClass("coral-Slider--ticked")&&(this.options.ticks=!0),this.$element.hasClass("coral-Slider--filled")&&(this.options.filled=!0),this.$element.hasClass("coral-Slider--bound")&&(this.options.bound=!0),(this.$element.data("slide")||this.$element.hasClass("coral-Slider--slide"))&&(this.options.slide=!0)},setValue:function(t,e){e=e||0,this._updateValue(e,t,!0),this._moveHandles(),this.options.filled&&this._updateFill()},_renderMissingElements:function(){if(!this.$element.find("input").length){var e,i=this,n=t.isArray(this.options.value)?this.options.value:[this.options.value];t.each(n,(function(n,a){(e=t("<input>")).attr({type:"range",min:i.options.min,max:i.options.max,step:i.options.step,value:a}),i.$element.append(e)}))}if(!this.$element.find("div.coral-Slider-clickarea").length){var a=t('<div class="coral-Slider-clickarea">');this.$element.prepend(a)}this.$element.toggleClass("coral-Slider",!0),this.$element.toggleClass("coral-Slider--vertical","vertical"===this.options.orientation),this.$element.toggleClass("coral-Slider--tooltips",this.options.tooltips),this.$element.toggleClass("coral-Slider--ticked",this.options.ticks),this.$element.toggleClass("coral-Slider--filled",this.options.filled)},_processValueChanged:function(){var e=this,i=t.isArray(this.options.value)?this.options.value:[this.options.value];t.each(i,(function(t,i){e._updateValue(t,i,!0)})),this._moveHandles(),this.options.filled&&this._updateFill()},_processMinMaxStepChanged:function(){var e=this;this.$inputs.attr({min:this.options.min,max:this.options.max,step:this.options.step,value:""}),this._supportsRangeInput||this.$handles.attr({"aria-valuemin":this.options.min,"aria-valuemax":this.options.max,"aria-valuestep":this.options.step}),t.each(this.values,(function(t,i){e._updateValue(t,i,!0)})),this.options.ticks&&(this.$element.find(".coral-Slider-ticks").remove(),this._buildTicks()),this.options.filled&&(this.$element.find(".coral-Slider-fill").remove(),this._buildFill()),this._moveHandles(),this.options.filled&&this._updateFill()},_processDisabledChanged:function(){this.options.disabled?(this.$inputs.attr("disabled","disabled"),this.$handles.each((function(){t(this).removeClass("is-focused"),t(this).parent().removeClass("is-focused"),this._supportsRangeInput||t(this).attr("aria-disabled",!0)}))):(this.$inputs.removeAttr("disabled"),this._supportsRangeInput||this.$handles.removeAttr("aria-disabled")),this.$element.toggleClass("is-disabled",this.options.disabled)},_render:function(){var e=this.$inputs.map((function(){return t(this).attr("max")})),i=this.$inputs.map((function(){return t(this).attr("min")})),n=this.$inputs.map((function(){return t(this).attr("step")}));this.options.max=Math.max.apply(null,e.toArray()),this.options.min=Math.min.apply(null,i.toArray()),this.options.step=Math.min.apply(null,n.toArray()),this._adjustLabelling(),this.options.ticks&&this._buildTicks(),this.options.filled&&this._buildFill(),this.$element.toggleClass("coral-Slider--slide",this.options.slide),this._buildHandles()},_buildTicks:function(){var e=t("<div/>").addClass("coral-Slider-ticks"),i=Math.round((this.options.max-this.options.min)/this.options.step)-1,n=this.isVertical?this.$element.height():this.$element.width();this.$element.prepend(e);for(var a=0;a<i;a++){var o=n*(a+1)/(i+1)/n*100,r=t("<div/>").addClass("coral-Slider-tick").css(this.isVertical?"bottom":"left",o+"%");e.append(r)}this.$ticks=e.find(".coral-Slider-tick"),this.options.filled},_buildFill:function(){if(this.$fill=t("<div/>").addClass("coral-Slider-fill"),0!==this.values.length){var e,i,n=this.isVertical?"height":"width",a=this.isVertical?"bottom":"left";this.values.length<2?(e=(this.values[0]-this.options.min)/(this.options.max-this.options.min)*100,this.$fill.css(n,e+"%")):(e=(this._getLowestValue()-this.options.min)/(this.options.max-this.options.min)*100,i=(this._getHighestValue()-this._getLowestValue())/(this.options.max-this.options.min)*100,this.$fill.css(n,i+"%").css(a,e+"%"))}this.$element.prepend(this.$fill),this.options.filled=!0},_buildHandles:function(){var e=this,i=e.$element.attr("id");e.$inputs.each((function(n){var a,o=t(this),r=o.wrap("<div/>").parent().addClass("coral-Slider-value"),s=(e.values[n]-e.options.min)/(e.options.max-e.options.min)*100+"%",l=e.isVertical?"bottom":"left",c=t("<div/>").addClass("coral-Slider-handle u-coral-openHand").css(l,s).attr({id:i+"-handle"+n});if(o.css(l,s),r.append(c),e.options.tooltips&&(a=t("<output>"+o.attr("value")+"</output>").addClass("coral-Tooltip coral-Tooltip--inspect "+(e.isVertical?"coral-Tooltip--positionRight":"coral-Tooltip--positionAbove")).attr({role:"tooltip","aria-hidden":!0,id:o.attr("id")+"-tooltip",for:o.attr("id")}),c.append(a)),e.$inputs.length>1&&o.attr("aria-labelledby"))for(var u,h=o.attr("aria-labelledby").split(" "),d=0;d<h.length;d++)d>0&&(u=t("#"+h[d]),c.prepend(u))})),e.$handles=e.$element.find(".coral-Slider-handle"),e.$tooltips=e.$element.find(".coral-Tooltip"),e._moveHandles()},_handleClick:function(t){if(this.options.disabled)return!1;var i=t.pageX,n=t.pageY,a=/^(ms)?pointerdown$/i.test(t.type);if("touchstart"===t.type){var o=t.originalEvent.touches.length>0?t.originalEvent.touches:t.originalEvent.changedTouches;i=o[0].pageX,n=o[0].pageY}else a&&(i=t.originalEvent.clientX+e.pageXOffset,n=t.originalEvent.clientY+e.pageYOffset);if(void 0!==i&&void 0!==n){var r=this._findNearestHandle(i,n),s=this._getValueFromCoord(i,n,!0);isNaN(s)||(this._updateValue(r,s),this._moveHandles(),this.options.filled&&this._updateFill()),("mousedown"===t.type||a)&&this.$handles.eq(r).data("mousedown",!0),this._inputsOrHandles.eq(r).focus()}},_findNearestHandle:function(e,i){var n=this,a=1/0,o=0;return n.$handles.each((function(r){var s=t(this).offset().left,l=t(this).offset().top,c=t(this).width(),u=t(this).height(),h=Math.abs(e-(s+c/2));"vertical"===n.options.orientation&&(h=Math.abs(i-(l+u/2))),h<a&&(a=h,o=r)})),o},_handleInputChange:function(e){if(this.options.disabled)return!1;var i=t(e.target),n=this.$inputs.index(i);i.val()!==this.values[n]&&(this.setValue(i.val(),n),i.is(document.activeElement)&&(this.$handles.eq(n).removeData("mousedown"),this._focus(e)))},_focus:function(i){if(this.options.disabled)return!1;var n=this,a=t(i.target),o=a.closest(".coral-Slider-value"),r=o.find(".coral-Slider-handle");r.data("mousedown")||(this.$element.addClass("is-focused"),o.addClass("is-focused"),r.addClass("is-focused")),t(e).on("touchstart.slider pointerdown.slider mspointerdown.slider mousedown.slide",(function(e){1!==t(e.target).closest(n.$element).length&&a.trigger("focusout.slider")}))},_blur:function(i){if(this.options.disabled)return!1;var n=t(i.target).closest(".coral-Slider-value"),a=n.find(".coral-Slider-handle");this.$element.removeClass("is-focused"),n.removeClass("is-focused"),a.removeClass("is-focused").removeData("mousedown"),t(e).off("touchstart.slider pointerdown.slider mspointerdown.slider mousedown.slider")},_keyDown:function(e){if(this.options.disabled)return!1;var i=t(e.target),n=e.which||e.keyCode,a=i.closest(".coral-Slider-value").find("input"),o=this.$inputs.index(a),r=this.$handles.eq(o),s=Number(a.val()),l=Number(this.options.step),c=Number(this.options.min),u=Number(this.options.max),h=Math.max(l,Math.round((u-c)/10)),d=!1;switch(r.removeData("mousedown"),this._focus(e),n){case 40:case 37:s-=l,d=!0;break;case 38:case 39:s+=l,d=!0;break;case 33:s+=h-s%h,d=!0;break;case 34:s-=h-(s%h==0?0:h-s%h),d=!0;break;case 35:s=u,d=!0;break;case 36:s=c,d=!0}d&&e.preventDefault(),s!==Number(a.val())&&(this.setValue(s,o),a.trigger("change.slider"))},_mouseDown:function(i){if(this.options.disabled)return!1;i.preventDefault();var n,a=this;this.draggingPosition=-1,this.$handles.each((function(t,e){e===i.target&&(a.draggingPosition=t)})),this.$tooltips.each((function(t,e){e===i.target&&(a.draggingPosition=t)})),this.draggingPosition<0?this._handleClick(i):((n=this.$handles.eq(this.draggingPosition)).addClass("is-dragged"),t("body").addClass("u-coral-closedHand"),t(e).on("touchmove.slider pointermove.slider mspointermove.slider mousemove.slider",this._handleDragging.bind(this)),t(e).on("touchend.slider pointerup.slider mspointerup.slider mouseup.slider",this._mouseUp.bind(this)),("mousedown"===i.type||/^(ms)?pointerdown$/i.test(i.type))&&n.data("mousedown",!0),this._inputsOrHandles.eq(this.draggingPosition).focus())},_handleDragging:function(t){var i=t.pageX,n=t.pageY;if(t.originalEvent.targetTouches){var a=t.originalEvent.targetTouches.item(0);i=a.pageX,n=a.pageY}else/^(ms)?pointermove$/i.test(t.type)&&(i=t.originalEvent.clientX+e.pageXOffset,n=t.originalEvent.clientY+e.pageYOffset);this._updateValue(this.draggingPosition,this._getValueFromCoord(i,n)),this._moveHandles(),this.options.filled&&this._updateFill(),t.preventDefault()},_mouseUp:function(){this.$handles.eq(this.draggingPosition).removeClass("is-dragged"),t("body").removeClass("u-coral-closedHand"),this.draggingPosition=-1,t(e).off("mousemove.slider mspointermove.slider pointermove.slider touchmove.slider"),t(e).off("mouseup.slider mspointerup.slider pointerup.slider touchend.slider")},_clickLabel:function(t){this.options.disabled||this._inputsOrHandles.eq(0).focus()},_updateValue:function(e,i,n){var a,o,r=this,s=r.$inputs.eq(e),l=i.toString(),c=["min","max"],u={};s.val()===l&&s.attr("value")===l&&r.values[e]===l||(i=this._snapValueToStep(i,this.options.min,this.options.max,this.options.step),2===r.$inputs.length&&this.options.bound&&(a=r.$inputs.eq(!e),o=Number(a.val()),i=Math[c[e]](i,o),a.attr(c[e],i),c[!e],t.extend(u,{ariaAttribute:o})),r.values[e]=i.toString(),t.extend(u,{value:i,"aria-valuetext":r._supportsRangeInput?r.options.valuetextFormatter(i):null}),s.val(i).attr(u),this._supportsRangeInput||r.$handles.each((function(n,a){var s=n===e;"aria-value"+c[!s],u={ariaAttr:s?o:i},s&&t.extend(u,{"aria-valuenow":i,"aria-valuetext":r.options.valuetextFormatter(i)}),t(a).attr(u)})),n||setTimeout((function(){s.change()}),1))},_moveHandles:function(){var e=this;this.$handles.each((function(i,n){var a,o=t(n),r=(e.values[i]-e.options.min)/(e.options.max-e.options.min)*100,s=e.$inputs.eq(i);"vertical"===e.options.orientation?(o.css("bottom",r+"%"),s.css("bottom",r+"%")):(o.css("left",r+"%"),s.css("left",r+"%")),e.options.tooltips&&((a=e.$tooltips.eq(i)).html(e.options.tooltipFormatter(e.values[i])),"vertical"===e.options.orientation?a.css("top",-(a.outerHeight()+o.outerHeight()/2)/2+"px"):a.css("left",-(a.outerWidth()+o.outerWidth()/2)/2+"px"))}))},_updateFill:function(){var t;if(0!==this.values.length)if(2===this.values.length){t=(this._getLowestValue()-this.options.min)/(this.options.max-this.options.min)*100;var e=(this._getHighestValue()-this.options.min)/(this.options.max-this.options.min)*100-t;"vertical"===this.options.orientation?this.$fill.css("bottom",t+"%").css("height",e+"%"):this.$fill.css("left",t+"%").css("width",e+"%")}else t=(this.values[0]-this.options.min)/(this.options.max-this.options.min)*100,"vertical"===this.options.orientation?this.$fill.css("height",t+"%"):this.$fill.css("width",t+"%");this.options.ticks&&this._coverTicks()},_coverTicks:function(){var e=this;e.$ticks.each((function(i){var n=e._getValueFromCoord(t(this).offset().left,t(this).offset().top);2===e.values.length?n>=e._getLowestValue()&&n<=e._getHighestValue()?t(this).addClass("coral-Slider-tick--covered"):t(this).removeClass("coral-Slider-tick--covered"):n<=e._getHighestValue()?t(this).addClass("coral-Slider-tick--covered"):t(this).removeClass("coral-Slider-tick--covered")}))},_getValueFromCoord:function(t,e,i){var n,a=this.$element.offset();if("vertical"===this.options.orientation){var o=this.$element.height();n=(a.top+o-e)/o}else{var r=this.$element.width();n=(t-a.left)/r}if(i&&(n<0||n>1))return NaN;var s=1*this.options.min+(this.options.max-this.options.min)*n;return this._snapValueToStep(s,this.options.min,this.options.max,this.options.step)},_getHighestValue:function(){return Math.max.apply(null,this.values)},_getLowestValue:function(){return Math.min.apply(null,this.values)},_makeAccessible:function(){var e,i,n=this;this.$inputs.each((function(a,o){e=t(o),i=n.$handles.eq(a),n._supportsRangeInput?(e.attr({"aria-valuetext":n.options.valuetextFormatter(e.attr("value")),"aria-hidden":null,tabindex:null}),i.attr({role:null,"aria-valuemin":null,"aria-valuemax":null,"aria-valuestep":null,"aria-valuenow":null,"aria-valuetext":null,tabindex:null,"aria-labelledby":null}),t('label[for="#'+i.attr("id")+'"]').attr("for",e.attr("id"))):(e.attr({"aria-valuetext":null,"aria-hidden":!0,tabindex:-1}),i.attr({role:"slider","aria-valuemin":e.attr("min"),"aria-valuemax":e.attr("max"),"aria-valuestep":e.attr("step"),"aria-valuenow":e.attr("value"),"aria-valuetext":n.options.valuetextFormatter(e.attr("value")),tabindex:e.is(":disabled")?null:0,"aria-labelledby":e.attr("aria-labelledby")||null}),t('label[for="'+e.attr("id")+'"]').attr("for",i.attr("id")))})),n._supportsRangeInput?(this._inputsOrHandles=this.$inputs,this.$element.off("keydown.slider")):(this._inputsOrHandles=this.$handles,this.$element.on("keydown.slider","[role=slider].coral-Slider-handle",this._keyDown.bind(this))),t.each(this.values,(function(t,e){n._updateValue(t,e,!0)}))},_adjustLabelling:function(){this.$element.attr("id");var t=this._adjustFieldsetAndLegend();this._adjustInputLabels(t)},_adjustFieldsetAndLegend:function(){var e,i,n=this.$element.attr("id"),a=this.$element.children("fieldset"),o=a.children("legend");return a.length&&(this.$element.append(a.contents(":not(legend)")),(e=t("<div/>",{role:"group",class:"coral-Slider-fieldset"}).insertBefore(this.$element)).append(this.$element),o.length&&((i=t("<div/>")).append(o.contents()),t.each(o.prop("attributes"),(function(){i.attr(this.name,this.value)})),i.attr("id")||i.attr("id",n+"-legend"),a.replaceWith(i),o=i.insertBefore(this.$element),e.attr("aria-labelledby",o.attr("id")))),o},_adjustInputLabels:function(i){var n=this,a=this.$element.attr("id"),o=t(i);this.$inputs.each((function(i,r){var s,l=t(r),c=l.attr("id"),u=l.attr("aria-labelledby");c||(l.attr("id",a+"-input"+i),c=l.attr("id")),u||(u="",l.attr("aria-labelledby",u)),s=n.$element.find('label[for="'+c+'"]'),o.length&&-1===e.navigator.platform.indexOf("Win")&&-1===u.indexOf(o.attr("id"))&&(u=o.attr("id")+(u.length?" ":"")+u,l.attr("aria-labelledby",u)),s.length&&(s.not(l.parent()).insertBefore(n.$element),s.each((function(e){t(this).attr("id")||t(this).attr("id",c+"-label"+e),-1===u.indexOf(c+"-label"+e)&&(u=u+(u.length?" ":"")+c+"-label"+e,l.attr("aria-labelledby",u)),t(this).on("mousedown.slider",(function(t){n._inputsOrHandles.eq(e).focus(),t.preventDefault(),t.stopImmediatePropagation()}))}))),l.parent().is("label")&&((s=l.parent()).attr("id")||s.attr("id",c+"-label"),s.attr("for")||s.attr("for",c),l.insertAfter(s),o.length&&s.addClass("u-coral-screenReaderOnly").attr({"aria-hidden":!0}),s.insertBefore(n.$element)),s.length&&-1===u.indexOf(s.attr("id"))&&(u=u+(u.length?" ":"")+s.attr("id"),l.attr("aria-labelledby",u)),0===s.length&&u.length>0&&(s=t("#"+u.split(" ")[0])),0===u.length&&l.removeAttr("aria-labelledby"),0===i&&(s.length&&s.on("click.slider",n._clickLabel.bind(n)),o.length&&o.on("click.slider",n._clickLabel.bind(n)))}))},_supportsRangeInput:(n=document.createElement("input"),n.setAttribute("type","range"),"range"===n.type),_snapValueToStep:function(t,e,i,n){var a,o=(t-e)%(n=parseFloat(n)),r=n.toString().replace(/^(?:\d+)(?:\.(\d+))?$/g,"$1").length;return(a=2*Math.abs(o)>=n?t-Math.abs(o)+n:t-o)<e?a=e:a>i&&(a=e+Math.floor((i-e)/n)*n),r>0&&(a=parseFloat(a.toFixed(r))),a}}),CUI.Widget.registry.register("slider",CUI.Slider),CUI.options.dataAPI&&t(document).on("cui-contentloaded.data-api",(function(e){CUI.Slider.init(t('.coral-Slider[data-init~="slider"]',e.target))}))}(jQuery,this),function(t){CUI.LabeledSlider=new Class({toString:"LabeledSlider",extend:CUI.Slider,construct:function(){this.$element.addClass("coral-Slider--labeled"),this.options.alternating&&this.$element.addClass("coral-Slider--alternatingLabels")},defaults:t.extend(CUI.Slider.prototype.defaults,{alternating:!1}),_readOptions:function(){this.inherited(arguments),this.$element.hasClass("coral-Slider--alternatingLabels")&&(this.options.alternating=!0)},_getTickLabel:function(t){return this.$element.find("ul.coral-Slider-tickLabels li").eq(t).html()},_buildTicks:function(){var e=t("<div></div>").addClass("coral-Slider-ticks"),i=Math.ceil((this.options.max-this.options.min)/this.options.step)+1,n=this.isVertical?this.$element.height():this.$element.width(),a=n/i*100/n;this.$element.append(e),this.options.alternating&&(a*=2);for(var o=0;o<i;o++){var r=n*o/(i-1)/n*100,s=t("<div/>").addClass("coral-Slider-tick").css(this.isVertical?"bottom":"left",r+"%"),l="coral-Slider-tickLabel-"+this.$element.attr("id")+"-"+o,c=t("<div/>").addClass("coral-Slider-tickLabel").attr("id",l);e.append(s),this.isVertical||(r-=a/2),c.css(this.isVertical?"bottom":"left",r+"%"),this.isVertical||c.css("width",a+"%"),c.append(this._getTickLabel(o)),e.append(c)}this.$ticks=e.find(".coral-Slider-tick"),this.options.filled&&this._coverTicks()},_moveHandles:function(){var t=this;this.inherited(arguments),this.$ticks&&0!==this.$ticks.length&&this.$inputs.each((function(e){var i=t.$inputs.eq(e),n=t.$handles.eq(e),a=i.offset(),o=a.left+i.width()/2,r=a.top+i.height()/2,s=t._findNearestTick(o,r),l=t.$ticks.eq(s).next(".coral-Slider-tickLabel");(t._supportsRangeInput?i:n).attr({"aria-describedby":l.attr("id")})}))},_findNearestTick:function(e,i){if(this.$ticks&&0!==this.$ticks.length){var n=this,a=1/0,o=0;return n.$ticks.each((function(r){var s=t(this).offset().left,l=t(this).offset().top,c=t(this).width(),u=t(this).height(),h=Math.abs(e-(s+c/2));"vertical"===n.options.orientation&&(h=Math.abs(i-(l+u/2))),h<a&&(a=h,o=r)})),o}}}),CUI.Widget.registry.register("labeled-slider",CUI.LabeledSlider),CUI.options.dataAPI&&t(document).on("cui-contentloaded.data-api",(function(e){CUI.LabeledSlider.init(t(".coral-Slider[data-init~='labeled-slider']",e.target))}))}(window.jQuery),function(t,e,i){CUI.ColumnView=new Class({toString:"ColumnView",extend:CUI.Widget,defaults:{multiselect:!1,single:!1},construct:function(){this._handleDocumentKeyUp=this._handleDocumentKeyUp.bind(this),this._handleDocumentKeyDown=this._handleDocumentKeyDown.bind(this),this._activeColumnRequest=0,this.$element.addClass("coral-ColumnView"),(this.get("single")||this.$element.hasClass("coral-ColumnView--single"))&&(this.set("single",!0),this.$element.addClass("coral-ColumnView--single")),(this.get("multiselect")||this.$element.hasClass("coral-ColumnView--multiselect"))&&(this.set("multiselect",!0),this.$element.addClass("coral-ColumnView--multiselect")),this.$element.on("click",".coral-ColumnView-item",this._itemActivateHandler.bind(this)),this.$element.on("click",".coral-ColumnView-icon",this._itemSelectHandler.bind(this)),this.$element.on("click",".coral-ColumnView-column-content",this._columnContentHandler.bind(this)),this.get("src")?this.setSource(this.get("src")):this._loadInnerMarkup(),this._makeAccessible()},destroy:function(){this.$element.removeData("columnView"),this.$element.off("click",".coral-ColumnView-item"),this.$element.off("click",".coral-ColumnView-icon"),this.$element.off("click",".coral-ColumnView-column-content"),this.$element.off("keydown"),this.$element.find(".coral-ColumnView-column-content").off("scroll"),t(document).off("keyup",this._handleDocumentKeyUp),t(document).off("keydown",this._handleDocumentKeyDown),delete this._data,delete this.$element},_handleDocumentKeyUp:function(t){16===t.which&&this.$element.removeClass("is-unselectable")},_handleDocumentKeyDown:function(t){16===t.which&&this.$element.addClass("is-unselectable")},_makeAccessible:function(){this.$element.attr("tabindex","0"),t(document).on("keyup",this._handleDocumentKeyUp),t(document).on("keydown",this._handleDocumentKeyDown),this.$element.on("keydown",function(t){var e=!1,i=this.getSelectedItems(),n=this.$element.data("lastSelected");if(i.length>0)switch(t.which){case 38:e=!0,t.shiftKey?n.item.is(":not(:first-child)")&&(n.direction&&"up"!==n.direction||(n.item=n.item.prev(),n.item.hasClass("is-selected")&&!n.item.prev().hasClass("is-selected")&&(n.item=n.item.prev())),n.item.find(".coral-ColumnView-icon").trigger("click"),n.item.hasClass("is-selected")&&n.item.prev().hasClass("is-selected")&&(n.item=n.item.prevUntil(":not(.is-selected)").last()),1===(i=this.getSelectedItems()).length&&i[0].item.is(":first-child")&&(n.item=i[0].item.next()),this.$element.data("lastSelected",{item:n.item,direction:"up"})):0!==i[0].item.prev().length?i[0].item.prev().trigger("click"):i.length>1&&i[0].item.trigger("click");break;case 40:e=!0,t.shiftKey?n.item.is(":not(:last-child)")&&(n.direction&&"down"!==n.direction||(n.item=n.item.next(),n.item.hasClass("is-selected")&&!n.item.next().hasClass("is-selected")&&(n.item=n.item.next())),n.item.find(".coral-ColumnView-icon").trigger("click"),n.item.hasClass("is-selected")&&n.item.next().hasClass("is-selected")&&(n.item=n.item.nextUntil(":not(.is-selected)").last()),1===i.length&&i[0].item.is(":last-child")&&(n.item=i[0].item),1===(i=this.getSelectedItems()).length&&i[0].item.is(":last-child")&&(n.item=i[0].item.prev()),this.$element.data("lastSelected",{item:n.item,direction:"down"})):0!==i[i.length-1].item.next().length?i[i.length-1].item.next().trigger("click",{metaKey:!0}):i.length>1&&i[i.length-1].item.trigger("click");break;case 39:e=!0,i[0].item.hasClass("coral-ColumnView-item--hasChildren")&&this._getActiveColumn().next().find(".coral-ColumnView-item").first().trigger("click");break;case 37:e=!0,this._getActiveColumn().prev().find(".coral-ColumnView-item.is-active").trigger("click")}else{var a=this.$element.children(".coral-ColumnView-column").first().find(".coral-ColumnView-item");switch(t.which){case 38:(a=a.last()).trigger("click"),this.$element.data("lastSelected",{item:a,direction:"up"}),e=!0;break;case 40:case 39:(a=a.first()).trigger("click"),this.$element.data("lastSelected",{item:a,direction:"down"}),e=!0}}e&&(t.stopImmediatePropagation(),t.preventDefault())}.bind(this))},_loadInnerMarkup:function(){if(this.$element.children().length>0){var t=this.$element.html();this._data={},this._data["/"]=t,this.$element.empty();var e=++this._activeColumnRequest;this.setNextColumn("/").done(function(t,i){this._setActiveColumn(i,!1,e)}.bind(this))}},setSource:function(e){this.cancelNavigation();var i=t.Deferred();this._data={},this.$element.empty();var n=++this._activeColumnRequest;return this.setNextColumn(e).done(function(t,e){this._setActiveColumn(e,!1,n),i.resolve()}.bind(this)).fail((function(){i.reject()})),i.promise()},setData:function(t,e){if(!t._links||!t._links.self||!t._links.self.href)throw"Invalid data: needs to contain self link (_links.self.href)";var i=t._links.self.href;if(this._data=e||!this._data?{}:this._data,this._storeData(t),e){this.cancelNavigation(),this.$element.empty();var n=++this._activeColumnRequest;this.setNextColumn(i).done(function(t,e){this._setActiveColumn(e,!1,n)}.bind(this))}},getSelectedItems:function(){var e=[];return this._getColumnContent(this._getActiveColumn()).children(".is-active").each((function(i,n){var a=t(n);e.push({checked:a.hasClass("is-selected"),data:a.data("data"),item:a})})),e},getBreadcrumbItems:function(){var e=[];return this._getActiveColumn().prevAll().find(".is-active").each((function(i,n){var a=t(n);e.push({checked:a.hasClass("is-selected"),data:a.data("data"),item:a})})),e},getTargetColumn:function(){var t=this._getActiveColumn(),e=this.getSelectedItems().filter((function(t){return!t.checked}));return 1===e.length&&e[0].data&&e[0].data.hasChildren?t.next().data("data"):t.data("data")},navigate:function(e,i){var n,a=this,o=t.Deferred();i?"active"===i?n=a._getActiveColumn():"string"==typeof i?n=a.$element.children().filter((function(){return t(this).data("href")===i})):i instanceof t&&(n=i):n=a.$element.find(".coral-ColumnView-column:eq(0)"),n.nextAll().remove(),a.cancelNavigation(),a._navigation=a._navigation||{};var r=(a._lastNavigationId||0)+1;if(a._lastNavigationId=r,a._navigation[r]="pending",n.length>0){var s=function(i,n){if("cancel"===a._navigation[r])return a._navigation[r]="cancelled",void o.reject();var l=e(a._data[i.data("href")],i);if(l){var c=l instanceof t?l:i.find(".coral-ColumnView-item").filter((function(){return t(this).data("href")===(l._links&&l._links.self?l._links.self.href:l)})).eq(0),u=c.data("href");c&&c.length>0&&(a._setActiveColumn(c,!1,n),c.addClass("is-active")),(c||u)&&a.$element.trigger("coral-columnview-item-select",[c.data("data"),c]);var h=++a._activeColumnRequest;u?a.setNextColumn(u,(function(){return"pending"===a._navigation[r]})).done((function(t,e){s(e,h)})).fail((function(){a._navigation[r]="failed",o.reject()})):(a._scrollToColumn(),a._navigation[r]="finished",o.resolve())}else!1===l?(a._scrollToColumn(),a._navigation[r]="finished",o.resolve()):a._loadNext(i).done((function(){s(i,h)})).fail((function(){a._navigation[r]="failed",o.reject()}))};s(n,++a._activeColumnRequest)}else a._navigation[r]="failed",o.reject();var l=o.promise();return l.navigationId=r,l},cancelNavigation:function(e){return this._navigation=this._navigation||{},e?!(!this._navigation.hasOwnProperty(e)||"pending"!==this._navigation[e])&&(this._navigation[e]="cancel",!0):(t.each(this._navigation,function(t,e){"pending"===this._navigation[t]&&(this._navigation[t]="cancel")}.bind(this)),!0)},renderColumn:function(e){var i=this._data[e];if("object"===t.type(i)){var n=t('<div class="coral-ColumnView-column"></div>'),a=t('<div class="coral-ColumnView-column-content"></div>').appendTo(n);if(this.get("single")&&i._links&&i._links.up){var o=i._links.self?i._links.self.title:"",r=t('<a class="coral-ColumnView-item coral-ColumnView-item--back"></a>').append(t('<div class="coral-ColumnView-label"></div>').text(o));n.prepend(r)}if(i._embedded&&i._embedded.items)for(;i;){if(i._embedded&&i._embedded.items)for(var s=i._embedded.items,l=0;l<s.length;l++){var c=s[l];this.renderItem(c).appendTo(a)}i=this._data[i._links.next]}else(i.properties||i.preview)&&a.append(this.renderPreview(i));return n}return t(i)},renderItem:function(e){var i=t('<div class="coral-ColumnView-item"></div>');if(e.hasChildren&&i.addClass("coral-ColumnView-item--hasChildren"),e.icon||e.image){var n=t('<div class="coral-ColumnView-icon"></div>').appendTo(i);e.image?t("<img/>").addClass("coral-ColumnView-thumbnail").attr("src",e.image).appendTo(n):t("<i/>").addClass("coral-Icon coral-Icon--"+e.icon+" coral-Icon--sizeS").appendTo(n)}return t('<div class="coral-ColumnView-label"></div>').text(e._links.self.title).appendTo(i),i},renderPreview:function(e){var i=t('<div class="coral-ColumnView-preview"></div>');if(e.preview)if(e.preview.image){var n=t('<div class="coral-ColumnView-preview-icon"></div>');t('<img class="coral-ColumnView-preview-thumbnail">').attr("src",e.preview.image).appendTo(n),n.appendTo(i)}else if(e.preview.icon){var a=t('<div class="coral-ColumnView-preview-icon"></div>');t("<i></i>").addClass("coral-Icon coral-Icon--"+e.preview.icon+" coral-Icon--sizeL").appendTo(a),a.appendTo(i)}if(e.properties)for(var o=0;o<e.properties.length;o++){var r=e.properties[o],s=t('<div class="coral-ColumnView-preview-label"></div>').text(r.label).appendTo(i),l=t('<div class="coral-ColumnView-preview-value"></div>').text(r.value).appendTo(i);r.icon&&(t("<i></i>").addClass("coral-Icon coral-Icon--"+r.icon+" coral-Icon--sizeXS").prependTo(l),s.before('<div class="coral-ColumnView-preview-spacer"></div>'))}return i},setNextColumn:function(e,i){var n=t.Deferred(),a=function(){if("function"!==t.type(i)||i()){var a=this.renderColumn(e);this._prepareColumn(a,e);var o=this._getActiveColumn();this.get("single")&&o.length>0&&a.addClass("is-right"),o.nextAll().empty().removeClass("is-active"),o.length>0&&o.next().length>0?o.next().replaceWith(a):this.$element.append(a),this._loadMoreIfNeeded(a).always(function(){n.resolve(this._data[e],a)}.bind(this))}else n.reject()}.bind(this);return this._data[e]?a(e):this._loadData(e).done(a).fail((function(){n.reject()})),n.promise()},setPreviousColumn:function(e,i){var n=t.Deferred(),a=function(){if("function"!==t.type(i)||i()){var a=this.renderColumn(e);this._prepareColumn(a,e),this.get("single")&&a.addClass("is-left");var o=this._getActiveColumn();o.length>0&&o.prevAll().remove(),this.$element.prepend(a),this._loadMoreIfNeeded(a).always(function(){n.resolve(this._data[e],a)}.bind(this))}else n.reject()}.bind(this);return this._data[e]?a(e):this._loadData(e).done(a).fail((function(){n.reject()})),n.promise()},addItem:function(e,i,n){var a,o;a=i?"string"===t.type(i)?"active"===i?this._getActiveColumn():this.$element.children().filter((function(){return t(this).data("href")===i})):t(i):this._getActiveColumn(),o=e instanceof t?e:this._prepareItem(this.renderItem(e),e);var r=this._getColumnContent(a),s=r.children();return 0===n?r.prepend(o):n>0&&n<s.length?s.eq(n-1).after(o):r.append(o),o},_getActiveColumn:function(){return this.$element.children(".is-active")},_getColumnContent:function(e){var i=e.children(".coral-ColumnView-column-content");return 0===i.length&&(i=t('<div class="coral-ColumnView-column-content"></div>').appendTo(e)).on("scroll",this._columnScrollHandler.bind(this)),i},_prepareColumn:function(e,i){var n=this._data[i],a=this._getColumnContent(e);if(e.data("href",i),"object"===t.type(n)&&(e.data("data",n),n._links&&n._links.next&&e.data("next",n._links.next.href),n._links&&n._links.up&&e.data("back",n._links.up.href),n._embedded&&n._embedded.items)){var o=n._embedded.items;a.find(".coral-ColumnView-item").each(function(e,i){this._prepareItem(t(i),o[e])}.bind(this))}return a.on("scroll",this._columnScrollHandler.bind(this)),e},_prepareItem:function(t,e){return t.data("data",e),e._links&&e._links.self&&t.data("href",e._links.self.href),t},_storeData:function(e){var i=e._links.self.href;if(this._data[i]=e,e._embedded&&e._embedded.items){var n=e._embedded.items;t.each(n,function(t,e){(e.properties||e.preview||e._embedded&&e._embedded.items)&&this._storeData(e)}.bind(this))}},_loadData:function(e,i){return this._data&&this._data[e]?t.Deferred().resolve(this._data[e]):(this._pendingRequests=this._pendingRequests||{},this._pendingRequests[e]||(this._pendingRequests[e]=t.ajax({url:e,cache:!1}).done(function(i){this._data=this._data||{},this._data[e]=i,"object"===t.type(i)&&this._storeData(i),this.$element.trigger("coral-columnview-load",[e,i]),delete this._pendingRequests[e]}.bind(this))),this._pendingRequests[e])},_loadMoreIfNeeded:function(e){var i=t.Deferred(),n=this._getColumnContent(e),a=n.children(".coral-ColumnView-item"),o=0;return a.each((function(e,i){o+=t(i).height()})),o<n.height()&&e.data("next")?this._loadNext(e).done(function(){this._loadMoreIfNeeded(e).done((function(){i.resolve()})).fail((function(){i.reject()}))}.bind(this)).fail((function(){i.reject()})):i.resolve(),i.promise()},_columnContentHandler:function(e){if(!this.get("single")){var i=t(e.target);if(i.hasClass("coral-ColumnView-column-content")){this.cancelNavigation(),e.preventDefault();var n=i.closest(".coral-ColumnView-column");n.nextAll().empty().removeClass("is-active"),n.find(".coral-ColumnView-item").removeClass("is-active");var a=n.prev();0!==a.length&&a.addClass("is-active"),n.removeClass("is-active"),this._scrollToColumn();var o=a.find(".coral-ColumnView-item.is-active");this.$element.trigger("coral-columnview-item-select",[o.data("data"),o])}}},_itemActivateHandler:function(i){this.cancelNavigation(),i.preventDefault();var n=t(i.target).closest(".coral-ColumnView-item");if(i.shiftKey&&(document.selection?document.selection.empty():e.getSelection&&e.getSelection().removeAllRanges&&e.getSelection().removeAllRanges()),i.metaKey||i.ctrlKey||i.shiftKey)return this._itemSelectHandler(i);var a=n.data("href"),o=n.closest(".coral-ColumnView-column");this.$element.data("lastSelected",{item:n});var r=++this._activeColumnRequest;if(a)if(this.get("single"))this.setNextColumn(a).done(function(t,e){setTimeout(function(){this._setActiveColumn(e,!1,r)}.bind(this),30)}.bind(this));else if(n.hasClass("is-active")&&!n.hasClass("is-selected")&&o[0]===this._getActiveColumn()[0]){n.removeClass("is-active"),o.nextAll().empty().removeClass("is-active");var s=o.prev();0!==s.length&&s.addClass("is-active"),o.removeClass("is-active"),this._scrollToColumn()}else this._setActiveColumn(n,!1),n.addClass("is-active"),n.focus(),this.setNextColumn(a).done(function(t,e){this._scrollToColumn()}.bind(this));else n.hasClass("coral-ColumnView-item--back")&&o.data("back")&&this.setPreviousColumn(o.data("back")).done(function(t,e){setTimeout(function(){this._setActiveColumn(e,!1,r)}.bind(this),30)}.bind(this));this.$element.trigger("coral-columnview-item-select",[n.data("data"),n])},_itemSelectHandler:function(e){if(this.get("multiselect")){e.stopPropagation(),e.preventDefault();var i=t(e.target).closest(".coral-ColumnView-item");this._setActiveColumn(i,!0);var n;i.data("href");if(i.toggleClass("is-active is-selected"),0===this.getSelectedItems().length){var a=this._getActiveColumn(),o=a.prev();0!==o.length&&o.addClass("is-active"),a.removeClass("is-active")}if(e.shiftKey)if(1===this.getSelectedItems().length){if(i.is(":not(:first-child)"))i.siblings().first().addClass("is-active is-selected").nextUntil(i).addClass("is-active is-selected");n="down"}else this.$element.data("lastSelected").item.index()<i.index()?(this.$element.data("lastSelected").item.nextUntil(i).addClass("is-active is-selected"),n="down"):(this.$element.data("lastSelected").item.prevUntil(i).addClass("is-active is-selected"),n="up");this.$element.data("lastSelected",{item:i.hasClass("is-selected")?i:i.siblings(".is-selected").first(),direction:n}),this._scrollToColumn(),this.$element.trigger("coral-columnview-item-select",[i.data("data"),i])}},_columnScrollHandler:function(e){var i=t(e.target),n=i.closest(".coral-ColumnView-column");i[0].scrollTop+i.height()+10>=i[0].scrollHeight&&this._loadNext(n)},_loadNext:function(e){var i=t.Deferred(),n=e.data("next");if(n){e.removeAttr("data-next"),e.removeData("next");var a=this._getColumnContent(e),o=function(){var o=this._data[n],r=!1;if("object"===t.type(o)){if(o._embedded&&o._embedded.items){for(var s=o._embedded.items,l=0;l<s.length;l++){var c=s[l];this._prepareItem(this.renderItem(c),c).appendTo(a)}this._data[e.data("href")]._embedded.items=this._data[e.data("href")]._embedded.items.concat(o._embedded.items)}o._links&&o._links.next?e.data("next",o._links.next.href):r=!0}else{var u=t(o);u.data("next")?e.data("next",u.data("next")):r=!0,u.find(".coral-ColumnView-item").appendTo(a)}r&&(e.removeAttr("data-next"),e.removeData("next")),i.resolve()}.bind(this);this._data[n]?o(this._data[n]):this._loadData(n,e).done(o).fail((function(){i.reject()}))}else i.reject();return i.promise()},_setActiveColumn:function(t,e,i){if(!(void 0!==i&&i<this._activeColumnRequest)){var n=this._getActiveColumn(),a=t.closest(".coral-ColumnView-column"),o=this._getColumnContent(a),r=!1;t.is(".coral-ColumnView-item")&&(r=!0,!0===e?o.children(".is-active:not(.is-selected)").addClass("is-selected"):o.children(".is-active:not(.is-selected)").removeClass("is-active"),!1!==e&&!1!==a.hasClass("is-active")||o.children(".is-selected").removeClass("is-active is-selected")),n.removeClass("is-active"),(0!==n.length||r)&&a.addClass("is-active"),this.get("single")?n.index()<a.index()?(n.addClass("is-left"),a.removeClass("is-right")):n.index()>a.index()&&(n.addClass("is-right"),a.removeClass("is-left")):a.nextAll().empty().removeData().removeClass("is-active")}},_scrollToColumn:function(){var e,i,n,a=this._getActiveColumn();if(0===a.length)return e=0,i=1.5*this.$element.scrollLeft(),void this.$element.animate({scrollLeft:e},i);(n=1===this.getSelectedItems().filter((function(t){return!t.checked})).length?a.next():a).position()&&n.position().left+n.outerWidth()>=this.$element.width()?(n.nextAll().remove(),i=1.5*((e=this.$element[0].scrollWidth-this.$element.outerWidth())-this.$element.scrollLeft()),this.$element.animate({scrollLeft:e},i)):a.position()&&a.position().left<0&&(e=0,a.prevAll().each((function(){e+=t(this).outerWidth()})),i=1.5*(this.$element.scrollLeft()-e),this.$element.animate({scrollLeft:e},i))}}),CUI.Widget.registry.register("columnview",CUI.ColumnView),CUI.options.dataAPI&&t(document).on("cui-contentloaded.data-api",(function(e){CUI.ColumnView.init(t("[data-init~=columnview]",e.target))}))}(jQuery,this),function(t,e,i){CUI.Modal=new Class({toString:"Modal",extend:CUI.Widget,construct:function(e){this.header=this.$element.find(".coral-Modal-header"),this.body=this.$element.find(".coral-Modal-body"),this.footer=this.$element.find(".coral-Modal-footer"),this._previousFocus=t(),this.backdrop=t("<div/>",{class:"coral-Modal-backdrop",style:"display: none;"}).on("click",function(t){"static"!==this.options.backdrop&&this.hide()}.bind(this)),this.body.loadWithSpinner(this.options.remote),this.applyOptions(),this.$element.on("change:heading",this._setHeading.bind(this)).on("change:header",this._setHeader.bind(this)).on("change:content",this._setContent.bind(this)).on("change:buttons",this._setFooter.bind(this)).on("change:type",this._setType.bind(this)).on("change:fullscreen",this._setFullscreen.bind(this)).on("click",'[data-dismiss="modal"]',this.hide.bind(this)),this._makeAccessible()},defaults:{backdrop:"static",visible:!0,type:"default",fullscreen:!1,attachToBody:!0},_types:{default:{class:"",iconClass:""},error:{class:"coral-Modal--error",iconClass:"coral-Icon--alert"},notice:{class:"coral-Modal--notice",iconClass:"coral-Icon--alert"},success:{class:"coral-Modal--success",iconClass:"coral-Icon--checkCircle"},help:{class:"coral-Modal--help",iconClass:"coral-Icon--helpCircle"},info:{class:"coral-Modal--info",iconClass:"coral-Icon--infoCircle"}},applyOptions:function(){this._setHeader(),this._setHeading(),this._setContent(),this._setFooter(),this._setType(),this._setFullscreen(),this.options.visible&&(this.options.visible=!1,this.show())},_makeAccessible:function(){var e=this,i="modal-header"+(new Date).getTime()+"-";this.$element.attr({role:"dialog","aria-hidden":!this.options.visible,"aria-labelledby":i+"label","aria-describedby":i+"message",tabindex:-1}),this.header.find("h2").attr({id:i+"label",tabindex:0}),this.body.attr({id:i+"message",role:"document",tabindex:0}),this.$element.on("keydown",":focusable",(function(i){t(i.currentTarget);var n,a=e.$element.find(":tabbable");switch(i.which){case 9:i.shiftKey&&i.currentTarget===a[0]?n=a.last():i.shiftKey||i.currentTarget!==a[a.length-1]||(n=a.first())}n&&(i.preventDefault(),n.trigger("focus"))}))},_setType:function(){if(this.options.type){var t=this.$element.find(".coral-Modal-header > .coral-Icon");for(var e in this._types)this.$element.removeClass(this._types[e].class),t.removeClass(this._types[e].iconClass);"default"!==this.options.type&&(this.$element.addClass(this._types[this.options.type].class),t.addClass(this._types[this.options.type].iconClass))}},_setHeader:function(){this.options.header&&this.header.find("h2").html(this.options.header)},_setHeading:function(){this.options.heading&&(this.options.header=this.options.heading,this._setHeader.apply(this,arguments))},_setContent:function(){this.options.content&&this.body.html(this.options.content)},_setFooter:function(){if(t.isArray(this.options.buttons)){var e=this;this.footer.empty(),t.each(this.options.buttons,(function(i,n){var a=n.href?t("<a/>",{class:"button"}):t("<button/>",{class:"coral-Button",type:"button"});a.html(n.label),"hide"===n.click?a.attr("data-dismiss","modal"):t.isFunction(n.click)&&a.on("click",n.click.bind(e,{dialog:e})),n.href&&a.attr("href",n.href),n.className&&a.addClass(n.className),e.footer.append(a)}))}},_setFullscreen:function(){this.options.fullscreen?this.$element.addClass("fullscreen"):this.$element.removeClass("fullscreen"),this.$element.css({"margin-left":0,"margin-top":0})},_show:function(){var e=t("body"),i=this;return this._previousFocus=t(":focus"),this._previousFocus.trigger("blur"),e.addClass("coral-Modal.is-open"),this.$element.trigger("beforeshow"),this._toggleBackdrop(!0),this.options.attachToBody&&(0===this.$element.parent("body").length&&this.$element.appendTo(e),this.$element.siblings("[aria-hidden]").each((function(e,i){t(i).data("aria-hidden",t(i).attr("aria-hidden"))})),this.$element.siblings().not("script, link, style").attr("aria-hidden",this.options.visible)),this.$element.attr("aria-hidden",!this.options.visible),this.center(),this.$element.fadeIn(),this.$element.find(":tabbable:not(.coral-Modal-header .coral-Modal-closeButton):first").focus(),t('<div class="coral-Modal-tabcapture" tabindex="0"/>').on("focus.modal-tabcapture",(function(e){var n,a=i.$element.find(":tabbable"),o=t("body > .coral-Modal-tabcapture").last();0===(n=e.currentTarget===o[0]?a.filter(":not(.coral-Modal-header .coral-Modal-closeButton):last"):a.filter(":not(.coral-Modal-header .coral-Modal-closeButton):first")).length&&(n=i.$element),n.trigger("focus")})).prependTo(e).clone(!0).appendTo(e),t(document).on("keydown.modal-escape",this._escapeKeyHandler.bind(this)),this},_hide:function(){return t("body").removeClass("coral-Modal.is-open").find(".coral-Modal-tabcapture").off("focus.modal-tabcapture").remove(),t(document).off("keydown.modal-escape"),this.$element.trigger("beforehide"),this._toggleBackdrop(!1),this.$element.attr("aria-hidden",!this.options.visible),this.$element.siblings().removeAttr("aria-hidden").filter((function(){return void 0!==t(this).data("aria-hidden")})).each((function(e,i){t(i).attr("aria-hidden",t(i).data("aria-hidden")).removeData("aria-hidden")})),this.$element.fadeOut().trigger("blur"),this._previousFocus.trigger("focus"),this},center:function(){var t=this.$element.outerWidth(),e=this.$element.outerHeight();this.options.fullscreen||this.$element.css({"margin-left":-t/2,"margin-top":-e/2})},_toggleBackdrop:function(e){if(this.options.backdrop){var i=t("body");(e||this.backdrop.is(":hidden"))&&!1!==e?this.backdrop.appendTo(i).fadeIn():this.backdrop.fadeOut((function(){t(this).detach()}))}},_escapeKeyHandler:function(t){27===t.which&&this.hide()}}),CUI.Widget.registry.register("modal",CUI.Modal),CUI.options.dataAPI&&(t(document).on("cui-contentloaded.data-api",(function(e){CUI.Modal.init(t("[data-init~=modal]",e.target))})),t(document).on("click.modal.data-api",'[data-toggle="modal"]',(function(e){e.preventDefault();var i=t(this),n=CUI.util.getDataTarget(i),a=i.attr("href"),o=t.extend({remote:!/#/.test(a)&&a},n.data(),i.data());i.is(document.activeElement)||(i.is(":focusable")||i.attr("tabindex",0),i.focus()),"string"==typeof o.buttons&&(o.buttons=JSON.parse(o.buttons));var r=n.data("modal");n.modal(o),r&&n.data("modal").set({visible:!r.get("visible")})})))}(jQuery),function(t,e,i){CUI.Tabs=new Class({toString:"Tabs",extend:CUI.Widget,construct:function(t){this.tablist=this._findOrCreateTabList(),this.panelist=this._findOrCreatePaneList(),this._applyOptions(),this.$element.on("change:type",this._setType.bind(this)),this.$element.on("change:active",this._setActive.bind(this))},defaults:{},DEFAULT_VARIANT_KEY:"default",VARIANT_TYPES:["default","stacked","nav"],VARIANT_CLASS_MAPPING:{default:"",stacked:"coral-TabPanel--stacked",nav:"coral-TabPanel--large"},setDisabled:function(t,e){var i=e||!1;return t.toggleClass("is-disabled",i).prop("aria-disabled",i),this},setEnabled:function(t){return this.setDisabled(t,!0)},addItem:function(e){var i=this._getTabs();e=t.extend({tabContent:"",panelContent:"",panelID:void 0,panelURL:void 0,index:i.length,enabled:!0,active:!0},e);var n=t('<section class="coral-TabPanel-pane"/>').append(e.panelContent);void 0!==e.panelID&&n.attr("id",e.panelID);var a=t('<a class="coral-TabPanel-tab" data-toggle="tab"/>').append(e.tabContent);void 0!==e.panelURL&&a.attr("href",e.panelURL);var o=Math.min(Math.max(e.index,0),i.length);return 0===o?(this.tablist.prepend(a),this.panelist.prepend(n)):(i.eq(o-1).after(a),this._getPanels().eq(o-1).after(n)),e.enabled||a.addClass("is-disabled"),this._makeTabsAccessible(a),e.active&&e.enabled&&this._activateTab(a,!0),n.attr("id")},removeItem:function(t){var e,i,n=this._getTabs(),a=this._getPanels();if("number"==typeof t?(e=n.eq(t),i=a.eq(t)):"string"==typeof t&&(e=n.filter('[aria-controls="'+t+'"]'),i=a.filter("#"+t)),e&&i){if(e.hasClass("is-active")){var o=e.nextAll('.coral-TabPanel-tab[data-toggle="tab"]:not(.is-disabled)').first();0===o.length&&(o=e.prevAll('.coral-TabPanel-tab[data-toggle="tab"]:not(.is-disabled)').first()),1===o.length&&this._activateTab(o,!0)}i.remove(),e.remove()}},_findOrCreateTabList:function(){var e=this.$element.find(".coral-TabPanel-navigation");return 0===e.length&&(e=t("<nav>").addClass("coral-TabPanel-navigation").prependTo(this.$element)),e},_findOrCreatePaneList:function(){var e=this.$element.find(".coral-TabPanel-content");return 0===e.length&&(e=t("<div>").addClass("coral-TabPanel-content").appendTo(this.$element)),e},_applyOptions:function(){var t=this._getTabs().filter(".is-active");this.options.type&&this._setType(this.options.type),this._initTabswitch(),this._makeAccessible(),0===t.length?this._setActive(this.options.active||0):this._activateTab(t,!0)},_getTabs:function(){return this.tablist.find('> .coral-TabPanel-tab[data-toggle="tab"]')},_getPanels:function(){return this.panelist.children(".coral-TabPanel-pane")},_setActive:function(e){e=t.isNumeric(e)?e:this.options.active;var i=this._getTabs().eq(e);this._activateTab(i,!0)},_setType:function(e){var i=this,n="string"===t.type(e)?e:this.options.type;if(this.VARIANT_TYPES.indexOf(n)>-1&&void 0!==this.VARIANT_CLASS_MAPPING[n]){var a=Object.keys(this.VARIANT_CLASS_MAPPING).map((function(t){return i.VARIANT_CLASS_MAPPING[t]}));this.$element.removeClass(a.join(" ")),this.$element.addClass(this.VARIANT_CLASS_MAPPING[n])}},_activateTab:function(t,e){var i,n=t.attr("href"),a=this._getTabs(),o=this._getPanels();if(t.hasClass("is-disabled"))return t.blur(),!1;i=o.filter("#"+t.attr("aria-controls")),n&&"#"!==n.charAt(0)&&i.loadWithSpinner(n),a.removeClass("is-active").attr({"aria-selected":!1,tabindex:-1}),o.removeClass("is-active").attr({"aria-hidden":!0}),t.addClass("is-active").attr({"aria-selected":!0,tabindex:0}),i.addClass("is-active").attr({"aria-hidden":!1}),e||t.trigger("focus")},_initTabswitch:function(){var e=this;this.$element.on("click",'> .coral-TabPanel-navigation > .coral-TabPanel-tab[data-toggle="tab"]',(function(i){var n=t(i.currentTarget);i.preventDefault(),e._activateTab(n)}))},_makeAccessible:function(){this._makeTabsAccessible(),this._makeTablistAccessible()},_makeTabsAccessible:function(e){var i=this._getPanels();(e=e||this._getTabs()).each((function(e,n){var a=t(n),o=i.eq(a.index()),r=o.attr("id")||CUI.util.getNextId(),s={role:"tab",tabindex:-1,"aria-selected":!1,"aria-controls":r,"aria-disabled":a.hasClass("is-disabled")};a.attr("href")||(s.href="#"),a.attr(s),o.attr({id:r,role:"tabpanel","aria-hidden":!0})}))},_makeTablistAccessible:function(){var e=this;this.tablist.attr("role","tablist"),this.tablist.on("keydown",'> [role="tab"]',(function(i){var n=t(i.currentTarget),a=t(i.delegateTarget).find('> [role="tab"]').not('[aria-disabled="true"]'),o=n,r=!0,s=a.index(n);switch(i.which){case 33:case 37:case 38:o=s-1>-1?a[s-1]:a[a.length-1];break;case 34:case 39:case 40:o=s+1<a.length?a[s+1]:a[0];break;case 36:o=a[0];break;case 35:o=a[a.length-1];break;default:r=!1}r&&(i.preventDefault(),e._activateTab(t(o)))}))}}),CUI.Widget.registry.register("tabs",CUI.Tabs),CUI.options.dataAPI&&t(document).on("cui-contentloaded.data-api",(function(e){CUI.Tabs.init(t("[data-init~=tabs]",e.target))}))}(jQuery),function(t){var e=0,i="js-coral-pathbrowser-input",n=['<div class="coral-Pathbrowser-pickerBar"><nav class="coral-Crumbs"></nav></div>','<div class="coral-Pathbrowser-pickerPanel">','<div class="coral-ColumnView"></div>',"</div>"].join(""),a=['<div class="coral-TabPanel coral-TabPanel--stacked">','<nav class="coral-TabPanel-navigation">','<a class="coral-TabPanel-tab is-active" data-toggle="tab"><i class="coral-Icon coral-Icon-sizeXS coral-Icon--compass"></i></a>',"</nav>",'<div class="coral-TabPanel-content">','<section class="coral-TabPanel-pane is-active">'+n+"</section>","</div>","</div>"].join(""),o=['<div class="coral-Pathbrowser-picker coral-Modal" id="%ID%">','<div class="coral-Modal-header">','<h2 class="coral-Modal-title coral-Heading coral-Heading--2"></h2>','<button type="button" class="js-coral-pathbrowser-confirm coral-Button coral-Button--square coral-Button--primary" title="Confirm">','<i class="coral-Icon coral-Icon-sizeXS coral-Icon--check"></i>',"</button>",'<button type="button" class="js-coral-pathbrowser-cancel coral-Button coral-Button--square coral-Button" title="Cancel">','<i class="coral-Icon coral-Icon-sizeXS coral-Icon--close"></i>',"</button>","</div>",'<div class="coral-Modal-body"></div>',"</div>"].join(""),r=new function(){var e={};return{register:function(t,i){e.hasOwnProperty(t)?e[t].push(i):e[t]=[i]},get:function(i,n){n("test","test");return e.hasOwnProperty(i)?"function"==typeof n?t.grep(e[i],n):e[i]:[]}}};CUI.PathBrowser=new Class({toString:"PathBrowser",extend:CUI.Widget,construct:function(n){var a,o,r,l=["optionLoader","optionValueReader","optionTitleReader","autocompleteCallback","optionRenderer"];this.guid=e+=1;for(var c=0;c<l.length;c++)a=this.options[l[c]],o=this._getHandler(l[c],"cui.pathbrowser."+l[c].toLowerCase()+".default"),"function"==typeof a?this[l[c]]=a.bind(this):"string"==typeof a?(r=this._getHandler(l[c],a),this[l[c]]=r||(o||t.noop())):o&&(this[l[c]]=o);for(this.options.value&&this.set("value",this.options.value),this._render();this.options.optionDisplayStrings.length<this.options.options.length;)this.options.optionDisplayStrings.push(this.options.options[this.options.optionDisplayStrings.length]);this._selectlist=this.$element.find(".coral-SelectList"),0===this._selectlist.length?this._selectlist=t("<ul/>",{id:CUI.util.getNextId(),class:"coral-SelectList"}).appendTo(this.$element):this._selectlist.attr("id")||this._selectlist.attr("id",CUI.util.getNextId()),this.inputElement.attr("aria-owns",this._selectlist.attr("id")),this.dropdownList=new CUI.SelectList({element:this._selectlist,relatedElement:this.$element,autofocus:!1,autohide:!0}),this.$button=this.$element.find(".js-coral-pathbrowser-button"),this.pickerEnabled=0!==this.$button.length&&this.options.pickerSrc,this.pickerEnabled&&this._constructPicker(),this.$element.on("change:value",this._handleValueChange.bind(this)),this.$element.on("change:disabled",this._update.bind(this)),this.$element.on("change:placeholder",this._update.bind(this)),this.$element.on("change:options",this._changeOptions.bind(this)),this.$element.on("input","."+i,function(){this.options.disabled||(this.typeTimeout&&clearTimeout(this.typeTimeout),this.typeTimeout=setTimeout(this._inputChanged.bind(this),this.options.delay))}.bind(this)),this.pickerEnabled&&(this.$button.on("click",this._clickedPickerButton.bind(this)),this.$picker.on("beforehide",this._beforeHidePicker.bind(this)),this.$picker.on(s,this._pickerSelectionConfirmed.bind(this))),this.$element.on("blur","."+i,function(){this.options.disabled||(this.typeTimeout&&clearTimeout(this.typeTimeout),this.typeTimeout=null,this.selectedIndex>=0&&(""===this.inputElement.val()?this.setSelectedIndex(-1):this._update()))}.bind(this)),this.$element.on("keydown","input",this._keyPressed.bind(this)),this.$element.on("keyup","input",this._keyUp.bind(this)),this.dropdownList.on("selected",function(t){var e=null!=t.selectedValue?t.selectedValue.toString():null;this.dropdownList.hide(200),this.setSelectedIndex(this.options.options.indexOf(e)),this.inputElement.focus()}.bind(this))},defaults:{autocompleteCallback:t.noop(),options:[],optionDisplayStrings:[],optionLoader:t.noop(),optionLoaderRoot:null,optionValueReader:t.noop(),optionTitleReader:t.noop(),showTitles:!0,rootPath:"/content",delay:200,placeholder:null,optionRenderer:t.noop(),position:"below",autoPosition:!0,pickerSrc:null,pickerAdditionalTabs:null,pickerTitle:"Select path",pickerValueKey:"value",pickerIdKey:"id",crumbRoot:"Content",rootPathValidSelection:!0},dropdownList:null,inputElement:null,typeTimeout:null,selectedIndex:-1,triggeredBackspace:!1,setSelectedIndex:function(t){t<-1||t>=this.options.options.length||(this.selectedIndex=t,this._update())},getSelectedIndex:function(){return this.selectedIndex},_changeOptions:function(t){t.widget===this&&(this.selectedIndex=-1,this._update())},_render:function(){this._readDataFromMarkup(),this.$element.find("select option").length>0&&0===this.options.options.length&&(this.options.options=[],this.options.optionDisplayStrings=[],this.$element.find("select option").each(function(e,i){this.options.options.push(t(i).val()),this.options.optionDisplayStrings.push(t.trim(t(i).text())),t(i).attr("selected")&&(this.selectedIndex=e)}.bind(this))),this.inputElement=this.$element.find("."+i),this.$element.removeClass("is-highlighted"),this.options.placeholder||(this.options.placeholder=this.inputElement.attr("placeholder")),this._update()},_readDataFromMarkup:function(){for(var e,i,n=[{attr:"data-option-loader",key:"optionLoader"},{attr:"data-option-value-reader",key:"optionValueReader"},{attr:"data-option-title-reader",key:"optionTitleReader"},{attr:"data-autocomplete-callback",key:"autocompleteCallback"},{attr:"data-option-renderer",key:"optionRenderer"}],a=0;a<n.length;a++)this.$element.attr(n[a].attr)&&(e=this._getHandler(n[a].key,"cui.pathbrowser."+n[a].key.toLowerCase()+".default"),i=this._getHandler(n[a].key,this.$element.attr(n[a].attr)),this[n[a].key]=i||(e||t.noop()));this.$element.attr("data-option-loader-root")&&(this.options.optionLoaderRoot=this.$element.attr("data-option-loader-root")),this.$element.attr("data-root-path")&&(this.options.rootPath=this.$element.attr("data-root-path")),this.$element.attr("placeholder")&&(this.options.placeholder=this.$element.attr("placeholder")),this.$element.attr("data-placeholder")&&(this.options.placeholder=this.$element.attr("data-placeholder")),(this.$element.attr("disabled")||this.$element.attr("data-disabled"))&&(this.options.disabled=!0)},_handleValueChange:function(t){this.options.value&&this._setInputValue(this.options.value)},_update:function(){if(this.options.placeholder&&this.inputElement.attr("placeholder",this.options.placeholder),this.options.disabled?(this.$element.addClass("is-disabled"),this.inputElement.add(this.$button).prop("disabled",!0)):(this.$element.removeClass("is-disabled"),this.inputElement.add(this.$button).prop("disabled",!1)),this.selectedIndex>=0){var t=this.options.options[this.selectedIndex];if(t&&0!==t.indexOf("/")){var e="",i=this.inputElement.val().lastIndexOf("/");i>=0&&(e=this.inputElement.val().substring(0,i+1)),t=e+t}this._setInputValue(t,!0)}},_setInputValue:function(t,e){null!=t&&(this.inputElement.val(t),this.inputElement.change(),e&&this.inputElement==document.activeElement&&CUI.util.selectText(this.inputElement,t.length))},_keyUp:function(t){8===t.keyCode&&(this.triggeredBackspace=!1)},_keyPressed:function(t){var e=t.keyCode;this.dropdownList.get("visible")||40===e&&(this._inputChanged(),t.preventDefault())},_inputChanged:function(){var t=this,e=this.inputElement.val();e.length>0?this.autocompleteCallback(e).done((function(e){t._showAutocompleter(e)})).fail((function(){})):this.dropdownList.hide()},_showAutocompleter:function(t){if(this.dropdownList.hide(),t&&0!==t.length){this._selectlist.empty();for(var e=0;e<t.length;e++)this._selectlist.append(this.optionRenderer(null,t[e]));this.dropdownList.show()}},_rebuildOptions:function(e,i,n){var a=this,o=CUI.util.getNested(n,a.options.optionLoaderRoot);if(o){var r=[],s=[];t.each(o,function(t,e){var i;i=a.optionValueReader?a.optionValueReader(e):"object"==typeof e?e.path:e,r.push(i);var n="";a.optionTitleReader?n=a.optionTitleReader(e):"object"==typeof e&&(n=e.title),s.push(n)}.bind(a)),a.options.options=r,a.options.optionDisplayStrings=s;var l=a._filterOptions(i);e.resolve(l)}else e.reject()},_filterOptions:function(e){var i=[],n=e.split("/");return n=n[n.length-1].toLowerCase(),t.each(this.options.options,function(t,e){e.toLowerCase().indexOf(n,0)>=0&&i.push(t)}.bind(this)),i},_getHandler:function(t,e){var i=function(t){return function(e,i){return e.name===t}}.call(this,e),n=r.get(t,i)[0];return n&&"function"==typeof n.handler?n.handler.bind(this):void 0},_constructPicker:function(){var e,i="mod-guid-"+this.guid,n="#"+i+".coral-Modal";this.$picker=t("body").find(n),0===this.$picker.length&&(t("body").append(o.replace("%ID%",i)),this.$picker=t("body").find(n)),e=t.extend({},this.options,{element:this.$picker}),this.picker=new l(e)},_clickedPickerButton:function(){var e,i=this;i.options.disabled||(i.picker.columnView?i.picker.startup(i.inputElement.val()):(i.$button.prop("disabled",!0),e=t('<div class="coral-Wait coral-Wait--large coral-Wait--center"></div>').appendTo("body"),i.picker.startup(i.inputElement.val()).always((function(){i.$button.prop("disabled",!1),e.remove()}))))},_beforeHidePicker:function(){this.pickerShown=!1,this.inputElement.removeClass("is-highlighted")},_pickerSelectionConfirmed:function(t){t.selectedValue&&(-1!==this.options.options.indexOf(t.selectedValue)?this.setSelectedIndex(t.selectedValue):(this.setSelectedIndex(-1),this._setInputValue(t.selectedValue,!0)),this.inputElement.focus())}});var s="coral-pathbrowser-picker-confirm",l=new Class({toString:"Picker",extend:CUI.Widget,construct:function(e){this.$element.modal({visible:!1}),this.modal=this.$element.data("modal"),this.modal.backdrop.addClass("coral-Pathbrowser-picker-backdrop"),this._hasTabs=null!=this.options.pickerAdditionalTabs;var i=this.$element.find(".coral-Modal-body"),o=this._hasTabs?t(a):t(n);i.append(o),this._selection=this._hasTabs?{}:[],this.$tabPanel=this.$element.find(".coral-TabPanel"),this.tabPanel=new CUI.Tabs({element:this.$tabPanel}),this._setupAdditionalTabs(),this.$columnView=this.$element.find(".coral-ColumnView"),this.$crumbs=this.$element.find("."+c),this.crumbs=new d({element:this.$crumbs}),this._setCrumbRootHref(this.options.pickerSrc),this.$cancel=this.$element.find(".js-coral-pathbrowser-cancel"),this.$confirm=this.$element.find(".js-coral-pathbrowser-confirm"),this._setupListeners()},startup:function(e){var i,n=t.Deferred(),a=this,o=function(){a._renderPicker(),a._showPicker(),a.selectPath(e).fail((function(){-1!=e.indexOf("#")&&(e=e.substring(0,e.lastIndexOf("#")),a.selectPath(e).fail((function(){-1!=e.indexOf(".")&&(e=e.substring(0,e.lastIndexOf(".")),a.selectPath(e).always((function(){a._buildCrumbs(a._determineCrumbs())})))})).always((function(){a._buildCrumbs(a._determineCrumbs()),a._updateConfirm()})))})).always((function(){a._buildCrumbs(a._determineCrumbs())}))};return a.columnView?(o(),n.resolve(),a.$columnView.focus()):(i=new CUI.ColumnView({element:a.$columnView,multiselect:a.options.pickerMultiselect||!1})).setSource(a.options.pickerSrc).done((function(){a.columnView=i,o(),n.resolve(),a.$columnView.focus()})).fail((function(){n.fail()})),t(document).on("keypress.pathbrowser-confirm",function(e){13===e.which&&(t(":focus").is(this.$cancel)?this._takeDown():this.$confirm.prop("disabled")||this._selectionConfirmed())}.bind(this)),n.promise()},selectPath:function(e){var i,n,a,o,r=t.Deferred();if(e=e.replace(/\/$/,""),i=this.options.rootPath||"/",e&&e.slice(0,i.length)==i){if(e="/"==(e=e.slice(i.length)).charAt(0)?e.substr(1):e,n=e.split("/"),o=this.options.pickerIdKey,n.length){var s=0;return a=function(e,i){if(s==n.length)return!1;var a=i.find(".coral-ColumnView-item").filter((function(){var e,i=t(this).data("data");return!!(e=i&&i[o]?i[o]:t(this).data(o))&&String(e)===n[s]}));return s++,1==a.length?a:void 0},this.columnView.navigate(a)}r.reject()}else r.reject();return r},_showPicker:function(){this.modal.show()},_hidePicker:function(){this.modal.hide()},_takeDown:function(){t(document).off("keypress.pathbrowser-confirm"),this._hidePicker()},_setupListeners:function(){var t=this;t.$cancel.on("click",t._takeDown.bind(t)),t.$confirm.on("click",t._selectionConfirmed.bind(t)),t.$columnView.on("coral-columnview-item-select",t._itemSelected.bind(t)),t.$element.on("coral-pathbrowser-picker-select",(function(e){var i=e.selectedValue?e.selectedValue:[];t._handleSelection.call(t,i)})),this._hasTabs&&this.tabPanel._getTabs().on("focus",t._updateConfirm.bind(t))},_setupAdditionalTabs:function(){var t=this.options.pickerAdditionalTabs;if(t&&t.length>0)for(var e=0;e<t.length;e++){var i=t[e];i&&(i.active=!0===i.active,this.tabPanel.addItem(i))}},_setupCrumbListeners:function(e){var i=this;t(e).on("click",(function(n){if(!t(this).hasClass(u)&&!t(this).hasClass(h)){var a,o,r,s=e.data("coral-columnview-item"),l=!0;s&&s.item?(r=s.item,o=function(t,e){if(l)return l=!1,e.find(r).click()}):o=function(t,e){},(a=t(e).attr("href"))&&i.columnView.navigate(o,a).done((function(){i._buildCrumbs()}))}n.preventDefault()}))},_itemSelected:function(e){var i=this._getSelectedValue(!0);this.$element.trigger(t.Event("coral-pathbrowser-picker-select",{selectedValue:i})),this._buildCrumbs(this._determineCrumbs())},_enableConfirm:function(t){this.$confirm.prop("disabled",!t)},_updateConfirm:function(){var t=this._getSelection(),e=t&&t.length>0;this._enableConfirm(e)},_setSelection:function(t){if(this._hasTabs){var e=this._getActivePaneId();this._selection[e]=t}else this._selection=t},_getSelection:function(){var t;if(this._hasTabs){var e=this._getActivePaneId();t=this._selection[e]}else t=this._selection;return t},_handleSelection:function(t){this._setSelection(t),this._updateConfirm()},_getActivePaneId:function(){var t=this.tabPanel.panelist.find(".coral-TabPanel-pane.is-active");return t.length>0?t.get(0).id:void 0},_selectionConfirmed:function(){var e=this._getSelection();this.$element.trigger(t.Event(s,{selectedValue:e})),this._takeDown()},_getSelectedValue:function(t){var e,i=this.columnView.getSelectedItems(),n=!0;if(i.length>0&&(i[0].data&&i[0].data[this.options.pickerValueKey]?e=i[0].data[this.options.pickerValueKey]:i[0].item&&(e=i[0].item.data(this.options.pickerValueKey)),t&&(i[0].data&&i[0].data.invalid||i[0].item&&i[0].item.data("invalid"))&&(n=!1)),void 0===e&&this.options.rootPathValidSelection&&(e=this.options.rootPath),e&&n)return e},_renderPicker:function(){this.$element.find(".coral-Modal-title").text(this.options.pickerTitle)},_resetPicker:function(){this.columnView.setSource(this.options.pickerSrc),this._updateConfirm(),this._buildCrumbs();var e=this._getSelectedValue(!0);this.$element.trigger(t.Event("coral-pathbrowser-picker-select",{selectedValue:e}))},_buildCrumbs:function(e){this.crumbs.removeAllItems();var i=this.crumbs.addItem(this.options.crumbRoot,this.options.pickerSrc);i.on("click",function(t){t.preventDefault(),i.hasClass(u)||i.hasClass(h)||this._resetPicker()}.bind(this)),e&&t.each(e,function(t,e){var i;e&&(i=this.crumbs.addItem(e),this._setupCrumbListeners(i))}.bind(this)),this.crumbs.truncate()},_determineCrumbs:function(){var e=this.columnView.getBreadcrumbItems(),i=this.columnView.getSelectedItems();return t.each(e,function(t,i){e[t]=this._getCrumbFromColumnViewItem(i,!1)}.bind(this)),i.length>0&&e.push(this._getCrumbFromColumnViewItem(i[0],!0)),e},_getCrumbFromColumnViewItem:function(e,i){var n,a=e.data,o=e.item,r=t("<a></a>");if(r.data("coral-columnview-item",e),r.toggleClass(u,i),n=t(o).closest(".coral-ColumnView-column").data("href")){if(r.attr("href",n),a&&a._links&&a._links.self&&a._links.self.title)return r.text(a._links.self.title);if(o)return r.text(o.text().trim())}},_setCrumbRootHref:function(e){t.isPlainObject(this.options.crumbRoot)?this.options.crumbRoot.href=e:this.options.crumbRoot&&this.options.crumbRoot.jquery&&this.options.crumbRoot.attr("href",e)}}),c="coral-Crumbs",u="coral-Crumbs-item--unavailable",h="coral-Crumbs-item--noNavigation",d=new Class({toString:"Crumbs",extend:CUI.Widget,construct:function(t){this._decorateElement(),this._findOrCreateEllipsis(),this.truncate()},addItem:function(t,e){var i=this._itemFromTitleOrObjectOrElement(t,e);return this.$element.append(i),i},removeAllItems:function(){return delete this._firstCrumb,this.$element.children().remove().not(".coral-Crumbs-item--ellipsis")},truncate:function(){var e=this.$element.children(),i=this.$element.width()-100;e.removeClass("is-collapsed"),this._ellipsis.remove();var n=Array.prototype.reduce.call(e,(function(e,i){return e+t(i).outerWidth()}),0);if(e.length&&n>i){for(var a=n,o=1,r=e.length-1;o<r&&a>i;o++){var s=t(e[o]);a-=s.width(),s.addClass("is-collapsed")}this._ellipsis.insertAfter(e[0]).addClass("is-collapsed")}},_ellipsis:t(),_decorateElement:function(){if(!this.$element.is("nav"))throw new Error("Crumbs expects to be attached to a nav element");this.$element.addClass(c),this.$element.children().addClass("coral-Crumbs-item")},_findOrCreateEllipsis:function(){var e=this.$element.find(".coral-Crumbs-item--ellipsis");0===e.length&&(e=t('<a class="coral-Crumbs-item coral-Crumbs-item--ellipsis" href="#"></a>')),this._ellipsis=e},_itemFromTitleOrObjectOrElement:function(e,i){var n,a=e,o="string"==typeof a?a:void 0,r=t.isPlainObject(a)?a:void 0,s=a&&a.jquery?a:void 0;return s?(n=s).addClass("coral-Crumbs-item"):n=r?this._constructItemFromObject(r):this._constructItemFromTitleAndRef(o,i),n},_constructItemFromTitleAndRef:function(e,i){return t("<a>").attr("href",i).text(e).addClass("coral-Crumbs-item")},_constructItemFromObject:function(e){var i=this._constructItemFromTitleAndRef(e.title,e.href);if(e.hasOwnProperty("isAvailable")&&!e.isAvailable&&(i.addClass(u),i.attr("tabindex",-1)),e.hasOwnProperty("isNavigable")&&!e.isNavigable&&i.addClass(h),e.hasOwnProperty("icon")){var n=t('<i class="coral-Crumbs-item-icon coral-Icon"></i>');n.addClass(e.icon),i.prepend(n)}return i}});CUI.util.plugClass(CUI.PathBrowser),CUI.options.dataAPI&&t(document).on("cui-contentloaded.data-api",(function(e){t("[data-init~='pathbrowser']",e.target).pathBrowser()})),CUI.PathBrowser.register=function(t,e){r.register(t,e)},CUI.PathBrowser.register("optionRenderer",{name:"cui.pathbrowser.optionrenderer.default",handler:function(e,i){var n=this.options.options[i];if(0===n.indexOf("/")){var a=n.lastIndexOf("/");n=n.substring(a+1)}var o="";return this.options.showTitles&&this.options.optionDisplayStrings[i]&&this.options.optionDisplayStrings[i].length>0&&(o=" "+this.options.optionDisplayStrings[i]),t("<li>",{class:"coral-SelectList-item coral-SelectList-item--option","data-value":n}).text(n+o)}}),CUI.PathBrowser.register("autocompleteCallback",{name:"cui.pathbrowser.autocompletecallback.default",handler:function(e){var i=this,n=t.Deferred();if(0!==e.indexOf("/"))return n.resolve([]),n.promise();var a=e.substring(0,e.lastIndexOf("/"))||"/";if(a!=this.lastBasePath&&i.optionLoader){var o=!1;"/"===a&&i.options.rootPath&&(""!==(e=i.options.rootPath.replace(/\/$/,""))?o=!0:e="/"),o&&(a=e,e+="/",i._setInputValue(e));var r={loadOptions:i.optionLoader},s=t.Deferred();s.promise(r),r.done((function(a){t.isFunction(a.promise)?a.done((function(t){i._rebuildOptions(n,e,t)})):i._rebuildOptions(n,e,a)}));var l=r.loadOptions(a,(function(t){s.resolve(t)}));l&&s.resolve(l)}else n.resolve(i._filterOptions(e));return this.lastBasePath=a,n.promise()}})}(window.jQuery),
/**!

 @license
 handlebars v4.0.14

Copyright (C) 2011-2017 by Yehuda Katz

Permission is hereby granted, free of charge, to any person obtaining a copy
of this software and associated documentation files (the "Software"), to deal
in the Software without restriction, including without limitation the rights
to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
copies of the Software, and to permit persons to whom the Software is
furnished to do so, subject to the following conditions:

The above copyright notice and this permission notice shall be included in
all copies or substantial portions of the Software.

THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
THE SOFTWARE.

*/
function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.Handlebars=e():t.Handlebars=e()}(this,(function(){return function(t){var e={};function i(n){if(e[n])return e[n].exports;var a=e[n]={exports:{},id:n,loaded:!1};return t[n].call(a.exports,a,a.exports,i),a.loaded=!0,a.exports}return i.m=t,i.c=e,i.p="",i(0)}([function(t,e,i){"use strict";var n=i(1).default,a=i(2).default;e.__esModule=!0;var o=n(i(3)),r=a(i(20)),s=a(i(5)),l=n(i(4)),c=n(i(21)),u=a(i(33));function h(){var t=new o.HandlebarsEnvironment;return l.extend(t,o),t.SafeString=r.default,t.Exception=s.default,t.Utils=l,t.escapeExpression=l.escapeExpression,t.VM=c,t.template=function(e){return c.template(e,t)},t}var d=h();d.create=h,u.default(d),d.default=d,e.default=d,t.exports=e.default},function(t,e){"use strict";e.default=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e.default=t,e},e.__esModule=!0},function(t,e){"use strict";e.default=function(t){return t&&t.__esModule?t:{default:t}},e.__esModule=!0},function(t,e,i){"use strict";var n=i(2).default;e.__esModule=!0,e.HandlebarsEnvironment=c;var a=i(4),o=n(i(5)),r=i(9),s=i(17),l=n(i(19));e.VERSION="4.0.14";e.COMPILER_REVISION=7;e.REVISION_CHANGES={1:"<= 1.0.rc.2",2:"== 1.0.0-rc.3",3:"== 1.0.0-rc.4",4:"== 1.x.x",5:"== 2.0.0-alpha.x",6:">= 2.0.0-beta.1",7:">= 4.0.0"};function c(t,e,i){this.helpers=t||{},this.partials=e||{},this.decorators=i||{},r.registerDefaultHelpers(this),s.registerDefaultDecorators(this)}c.prototype={constructor:c,logger:l.default,log:l.default.log,registerHelper:function(t,e){if("[object Object]"===a.toString.call(t)){if(e)throw new o.default("Arg not supported with multiple helpers");a.extend(this.helpers,t)}else this.helpers[t]=e},unregisterHelper:function(t){delete this.helpers[t]},registerPartial:function(t,e){if("[object Object]"===a.toString.call(t))a.extend(this.partials,t);else{if(void 0===e)throw new o.default('Attempting to register a partial called "'+t+'" as undefined');this.partials[t]=e}},unregisterPartial:function(t){delete this.partials[t]},registerDecorator:function(t,e){if("[object Object]"===a.toString.call(t)){if(e)throw new o.default("Arg not supported with multiple decorators");a.extend(this.decorators,t)}else this.decorators[t]=e},unregisterDecorator:function(t){delete this.decorators[t]}};var u=l.default.log;e.log=u,e.createFrame=a.createFrame,e.logger=l.default},function(t,e){"use strict";e.__esModule=!0,e.extend=r,e.indexOf=function(t,e){for(var i=0,n=t.length;i<n;i++)if(t[i]===e)return i;return-1},e.escapeExpression=function(t){if("string"!=typeof t){if(t&&t.toHTML)return t.toHTML();if(null==t)return"";if(!t)return t+"";t=""+t}if(!a.test(t))return t;return t.replace(n,o)},e.isEmpty=function(t){return!t&&0!==t||!(!c(t)||0!==t.length)},e.createFrame=function(t){var e=r({},t);return e._parent=t,e},e.blockParams=function(t,e){return t.path=e,t},e.appendContextPath=function(t,e){return(t?t+".":"")+e};var i={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;","=":"&#x3D;"},n=/[&<>"'`=]/g,a=/[&<>"'`=]/;function o(t){return i[t]}function r(t){for(var e=1;e<arguments.length;e++)for(var i in arguments[e])Object.prototype.hasOwnProperty.call(arguments[e],i)&&(t[i]=arguments[e][i]);return t}var s=Object.prototype.toString;e.toString=s;var l=function(t){return"function"==typeof t};l(/x/)&&(e.isFunction=l=function(t){return"function"==typeof t&&"[object Function]"===s.call(t)}),e.isFunction=l;var c=Array.isArray||function(t){return!(!t||"object"!=typeof t)&&"[object Array]"===s.call(t)};e.isArray=c},function(t,e,i){"use strict";var n=i(6).default;e.__esModule=!0;var a=["description","fileName","lineNumber","message","name","number","stack"];function o(t,e){var i=e&&e.loc,r=void 0,s=void 0;i&&(t+=" - "+(r=i.start.line)+":"+(s=i.start.column));for(var l=Error.prototype.constructor.call(this,t),c=0;c<a.length;c++)this[a[c]]=l[a[c]];Error.captureStackTrace&&Error.captureStackTrace(this,o);try{i&&(this.lineNumber=r,n?Object.defineProperty(this,"column",{value:s,enumerable:!0}):this.column=s)}catch(t){}}o.prototype=new Error,e.default=o,t.exports=e.default},function(t,e,i){t.exports={default:i(7),__esModule:!0}},function(t,e,i){var n=i(8);t.exports=function(t,e,i){return n.setDesc(t,e,i)}},function(t,e){var i=Object;t.exports={create:i.create,getProto:i.getPrototypeOf,isEnum:{}.propertyIsEnumerable,getDesc:i.getOwnPropertyDescriptor,setDesc:i.defineProperty,setDescs:i.defineProperties,getKeys:i.keys,getNames:i.getOwnPropertyNames,getSymbols:i.getOwnPropertySymbols,each:[].forEach}},function(t,e,i){"use strict";var n=i(2).default;e.__esModule=!0,e.registerDefaultHelpers=function(t){a.default(t),o.default(t),r.default(t),s.default(t),l.default(t),c.default(t),u.default(t)};var a=n(i(10)),o=n(i(11)),r=n(i(12)),s=n(i(13)),l=n(i(14)),c=n(i(15)),u=n(i(16))},function(t,e,i){"use strict";e.__esModule=!0;var n=i(4);e.default=function(t){t.registerHelper("blockHelperMissing",(function(e,i){var a=i.inverse,o=i.fn;if(!0===e)return o(this);if(!1===e||null==e)return a(this);if(n.isArray(e))return e.length>0?(i.ids&&(i.ids=[i.name]),t.helpers.each(e,i)):a(this);if(i.data&&i.ids){var r=n.createFrame(i.data);r.contextPath=n.appendContextPath(i.data.contextPath,i.name),i={data:r}}return o(e,i)}))},t.exports=e.default},function(t,e,i){"use strict";var n=i(2).default;e.__esModule=!0;var a=i(4),o=n(i(5));e.default=function(t){t.registerHelper("each",(function(t,e){if(!e)throw new o.default("Must pass iterator to #each");var i=e.fn,n=e.inverse,r=0,s="",l=void 0,c=void 0;function u(e,n,o){l&&(l.key=e,l.index=n,l.first=0===n,l.last=!!o,c&&(l.contextPath=c+e)),s+=i(t[e],{data:l,blockParams:a.blockParams([t[e],e],[c+e,null])})}if(e.data&&e.ids&&(c=a.appendContextPath(e.data.contextPath,e.ids[0])+"."),a.isFunction(t)&&(t=t.call(this)),e.data&&(l=a.createFrame(e.data)),t&&"object"==typeof t)if(a.isArray(t))for(var h=t.length;r<h;r++)r in t&&u(r,r,r===t.length-1);else{var d=void 0;for(var p in t)t.hasOwnProperty(p)&&(void 0!==d&&u(d,r-1),d=p,r++);void 0!==d&&u(d,r-1,!0)}return 0===r&&(s=n(this)),s}))},t.exports=e.default},function(t,e,i){"use strict";var n=i(2).default;e.__esModule=!0;var a=n(i(5));e.default=function(t){t.registerHelper("helperMissing",(function(){if(1!==arguments.length)throw new a.default('Missing helper: "'+arguments[arguments.length-1].name+'"')}))},t.exports=e.default},function(t,e,i){"use strict";e.__esModule=!0;var n=i(4);e.default=function(t){t.registerHelper("if",(function(t,e){return n.isFunction(t)&&(t=t.call(this)),!e.hash.includeZero&&!t||n.isEmpty(t)?e.inverse(this):e.fn(this)})),t.registerHelper("unless",(function(e,i){return t.helpers.if.call(this,e,{fn:i.inverse,inverse:i.fn,hash:i.hash})}))},t.exports=e.default},function(t,e){"use strict";e.__esModule=!0,e.default=function(t){t.registerHelper("log",(function(){for(var e=[void 0],i=arguments[arguments.length-1],n=0;n<arguments.length-1;n++)e.push(arguments[n]);var a=1;null!=i.hash.level?a=i.hash.level:i.data&&null!=i.data.level&&(a=i.data.level),e[0]=a,t.log.apply(t,e)}))},t.exports=e.default},function(t,e){"use strict";e.__esModule=!0,e.default=function(t){t.registerHelper("lookup",(function(t,e){return t?"constructor"!==e||t.propertyIsEnumerable(e)?t[e]:void 0:t}))},t.exports=e.default},function(t,e,i){"use strict";e.__esModule=!0;var n=i(4);e.default=function(t){t.registerHelper("with",(function(t,e){n.isFunction(t)&&(t=t.call(this));var i=e.fn;if(n.isEmpty(t))return e.inverse(this);var a=e.data;return e.data&&e.ids&&((a=n.createFrame(e.data)).contextPath=n.appendContextPath(e.data.contextPath,e.ids[0])),i(t,{data:a,blockParams:n.blockParams([t],[a&&a.contextPath])})}))},t.exports=e.default},function(t,e,i){"use strict";var n=i(2).default;e.__esModule=!0,e.registerDefaultDecorators=function(t){a.default(t)};var a=n(i(18))},function(t,e,i){"use strict";e.__esModule=!0;var n=i(4);e.default=function(t){t.registerDecorator("inline",(function(t,e,i,a){var o=t;return e.partials||(e.partials={},o=function(a,o){var r=i.partials;i.partials=n.extend({},r,e.partials);var s=t(a,o);return i.partials=r,s}),e.partials[a.args[0]]=a.fn,o}))},t.exports=e.default},function(t,e,i){"use strict";e.__esModule=!0;var n=i(4),a={methodMap:["debug","info","warn","error"],level:"info",lookupLevel:function(t){if("string"==typeof t){var e=n.indexOf(a.methodMap,t.toLowerCase());t=e>=0?e:parseInt(t,10)}return t},log:function(t){if(t=a.lookupLevel(t),"undefined"!=typeof console&&a.lookupLevel(a.level)<=t){var e=a.methodMap[t];console[e]||(e="log");for(var i=arguments.length,n=Array(i>1?i-1:0),o=1;o<i;o++)n[o-1]=arguments[o];console[e].apply(console,n)}}};e.default=a,t.exports=e.default},function(t,e){"use strict";function i(t){this.string=t}e.__esModule=!0,i.prototype.toString=i.prototype.toHTML=function(){return""+this.string},e.default=i,t.exports=e.default},function(t,e,i){"use strict";var n=i(22).default,a=i(1).default,o=i(2).default;e.__esModule=!0,e.checkRevision=function(t){var e=t&&t[0]||1,i=l.COMPILER_REVISION;if(e!==i){if(e<i){var n=l.REVISION_CHANGES[i],a=l.REVISION_CHANGES[e];throw new s.default("Template was precompiled with an older version of Handlebars than the current runtime. Please update your precompiler to a newer version ("+n+") or downgrade your runtime to an older version ("+a+").")}throw new s.default("Template was precompiled with a newer version of Handlebars than the current runtime. Please update your runtime to a newer version ("+t[1]+").")}},e.template=function(t,e){if(!e)throw new s.default("No environment passed to template");if(!t||!t.main)throw new s.default("Unknown template object: "+typeof t);t.main.decorator=t.main_d,e.VM.checkRevision(t.compiler);var i={strict:function(t,e){if(!(e in t))throw new s.default('"'+e+'" not defined in '+t);return t[e]},lookup:function(t,e){for(var i=t.length,n=0;n<i;n++)if(t[n]&&null!=t[n][e])return t[n][e]},lambda:function(t,e){return"function"==typeof t?t.call(e):t},escapeExpression:r.escapeExpression,invokePartial:function(i,n,a){a.hash&&(n=r.extend({},n,a.hash),a.ids&&(a.ids[0]=!0)),i=e.VM.resolvePartial.call(this,i,n,a);var o=e.VM.invokePartial.call(this,i,n,a);if(null==o&&e.compile&&(a.partials[a.name]=e.compile(i,t.compilerOptions,e),o=a.partials[a.name](n,a)),null!=o){if(a.indent){for(var l=o.split("\n"),c=0,u=l.length;c<u&&(l[c]||c+1!==u);c++)l[c]=a.indent+l[c];o=l.join("\n")}return o}throw new s.default("The partial "+a.name+" could not be compiled when running in runtime-only mode")},fn:function(e){var i=t[e];return i.decorator=t[e+"_d"],i},programs:[],program:function(t,e,i,n,a){var o=this.programs[t],r=this.fn(t);return e||a||n||i?o=c(this,t,r,e,i,n,a):o||(o=this.programs[t]=c(this,t,r)),o},data:function(t,e){for(;t&&e--;)t=t._parent;return t},merge:function(t,e){var i=t||e;return t&&e&&t!==e&&(i=r.extend({},e,t)),i},nullContext:n({}),noop:e.VM.noop,compilerInfo:t.compiler};function a(e){var n=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],o=n.data;a._setup(n),!n.partial&&t.useData&&(o=h(e,o));var r=void 0,s=t.useBlockParams?[]:void 0;function l(e){return""+t.main(i,e,i.helpers,i.partials,o,s,r)}return t.useDepths&&(r=n.depths?e!=n.depths[0]?[e].concat(n.depths):n.depths:[e]),(l=d(t.main,l,i,n.depths||[],o,s))(e,n)}return a.isTop=!0,a._setup=function(n){n.partial?(i.helpers=n.helpers,i.partials=n.partials,i.decorators=n.decorators):(i.helpers=i.merge(n.helpers,e.helpers),t.usePartial&&(i.partials=i.merge(n.partials,e.partials)),(t.usePartial||t.useDecorators)&&(i.decorators=i.merge(n.decorators,e.decorators)))},a._child=function(e,n,a,o){if(t.useBlockParams&&!a)throw new s.default("must pass block params");if(t.useDepths&&!o)throw new s.default("must pass parent depths");return c(i,e,t[e],n,0,a,o)},a},e.wrapProgram=c,e.resolvePartial=function(t,e,i){t?t.call||i.name||(i.name=t,t=i.partials[t]):t="@partial-block"===i.name?i.data["partial-block"]:i.partials[i.name];return t},e.invokePartial=function(t,e,i){var n=i.data&&i.data["partial-block"];i.partial=!0,i.ids&&(i.data.contextPath=i.ids[0]||i.data.contextPath);var a=void 0;i.fn&&i.fn!==u&&function(){i.data=l.createFrame(i.data);var t=i.fn;a=i.data["partial-block"]=function(e){var i=arguments.length<=1||void 0===arguments[1]?{}:arguments[1];return i.data=l.createFrame(i.data),i.data["partial-block"]=n,t(e,i)},t.partials&&(i.partials=r.extend({},i.partials,t.partials))}();void 0===t&&a&&(t=a);if(void 0===t)throw new s.default("The partial "+i.name+" could not be found");if(t instanceof Function)return t(e,i)},e.noop=u;var r=a(i(4)),s=o(i(5)),l=i(3);function c(t,e,i,n,a,o,r){function s(e){var a=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],s=r;return!r||e==r[0]||e===t.nullContext&&null===r[0]||(s=[e].concat(r)),i(t,e,t.helpers,t.partials,a.data||n,o&&[a.blockParams].concat(o),s)}return(s=d(i,s,t,r,n,o)).program=e,s.depth=r?r.length:0,s.blockParams=a||0,s}function u(){return""}function h(t,e){return e&&"root"in e||((e=e?l.createFrame(e):{}).root=t),e}function d(t,e,i,n,a,o){if(t.decorator){var s={};e=t.decorator(e,s,i,n&&n[0],a,o,n),r.extend(e,s)}return e}},function(t,e,i){t.exports={default:i(23),__esModule:!0}},function(t,e,i){i(24),t.exports=i(29).Object.seal},function(t,e,i){var n=i(25);i(26)("seal",(function(t){return function(e){return t&&n(e)?t(e):e}}))},function(t,e){t.exports=function(t){return"object"==typeof t?null!==t:"function"==typeof t}},function(t,e,i){var n=i(27),a=i(29),o=i(32);t.exports=function(t,e){var i=(a.Object||{})[t]||Object[t],r={};r[t]=e(i),n(n.S+n.F*o((function(){i(1)})),"Object",r)}},function(t,e,i){var n=i(28),a=i(29),o=i(30),r=function(t,e,i){var s,l,c,u=t&r.F,h=t&r.G,d=t&r.S,p=t&r.P,m=t&r.B,f=t&r.W,g=h?a:a[e]||(a[e]={}),v=h?n:d?n[e]:(n[e]||{}).prototype;for(s in h&&(i=e),i)(l=!u&&v&&s in v)&&s in g||(c=l?v[s]:i[s],g[s]=h&&"function"!=typeof v[s]?i[s]:m&&l?o(c,n):f&&v[s]==c?function(t){var e=function(e){return this instanceof t?new t(e):t(e)};return e.prototype=t.prototype,e}(c):p&&"function"==typeof c?o(Function.call,c):c,p&&((g.prototype||(g.prototype={}))[s]=c))};r.F=1,r.G=2,r.S=4,r.P=8,r.B=16,r.W=32,t.exports=r},function(t,e){var i=t.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=i)},function(t,e){var i=t.exports={version:"1.2.6"};"number"==typeof __e&&(__e=i)},function(t,e,i){var n=i(31);t.exports=function(t,e,i){if(n(t),void 0===e)return t;switch(i){case 1:return function(i){return t.call(e,i)};case 2:return function(i,n){return t.call(e,i,n)};case 3:return function(i,n,a){return t.call(e,i,n,a)}}return function(){return t.apply(e,arguments)}}},function(t,e){t.exports=function(t){if("function"!=typeof t)throw TypeError(t+" is not a function!");return t}},function(t,e){t.exports=function(t){try{return!!t()}catch(t){return!0}}},function(t,e){(function(i){"use strict";e.__esModule=!0,e.default=function(t){var e=void 0!==i?i:window,n=e.Handlebars;t.noConflict=function(){return e.Handlebars===t&&(e.Handlebars=n),t}},t.exports=e.default}).call(e,function(){return this}())}])})),window.CUI=window.CUI||{},CUI.imageeditor=CUI.imageeditor||{},CUI.imageeditor.actions={},CUI.imageeditor.plugins={},CUI.imageeditor.ui={},CUI.imageeditor.strings={},CUI.imageeditor.strings["de-DE"]={"control.toolbar.close":"Abbrechen","control.toolbar.finish":"Beenden","crop.aspect_ratios.16_to_9":"16 : 9","crop.aspect_ratios.2_to_3":"2 : 3","crop.aspect_ratios.3_to_5":"3 : 5","crop.aspect_ratios.free_hand":"Freihand","crop.aspect_ratios.square":"Quadrat","crop.template.removecrop":"Beschnitt entfernen","crop.toolbar.confirm":"BestÃ¤tigen","crop.toolbar.identifier":"Zuschneiden","crop.toolbar.launch":"Beschnitt beginnen","crop.toolbar.launchwithratio":"Beschnitt beginnen","crop.toolbar.unlaunch":"Abbrechen","flip.toolbar.horizontal":"Horizontal spiegeln","flip.toolbar.vertical":"Vertikal spiegeln","fullscreen.toolbar.fullscreen":"In die Vollbildansicht wechseln","fullscreen.toolbar.fullscreenexit":"Vollbildansicht verlassen","history.toolbar.redo":"Wiederherstellen","history.toolbar.undo":"RÃ¼ckgÃ¤ngig","map.template.alt_text":"Alt-Text","map.template.confirm":"BestÃ¤tigen","map.template.delete":"LÃ¶schen","map.template.new_tab":"Neuer Tab","map.template.parent_frame":"Parent-Frame","map.template.path":"Pfad","map.template.path_picker":"Pfad-Picker","map.template.same_tab":"Selber Tab","map.template.target":"Ziel","map.template.top_frame":"Top-Frame","map.template.unlaunch":"Abbrechen","map.toolbar.circle":"KreisfÃ¶rmige Karte hinzufÃ¼gen","map.toolbar.confirm":"BestÃ¤tigen","map.toolbar.launch":"Karte starten","map.toolbar.polygon":"Polygonkarte hinzufÃ¼gen","map.toolbar.rectangle":"Rechteckige Karte hinzufÃ¼gen","map.toolbar.unlaunch":"Abbrechen","rotate.toolbar.left":"Nach links drehen","rotate.toolbar.right":"Nach rechts drehen","zoom.toolbar.popupslider":"Zoom-Schieberegler Ã¶ffnen","zoom.toolbar.reset100":"Zoom zurÃ¼cksetzen"},CUI.imageeditor.strings["en-US"]={"control.toolbar.close":"Cancel","control.toolbar.finish":"Finish","crop.aspect_ratios.16_to_9":"16 : 9","crop.aspect_ratios.2_to_3":"2 : 3","crop.aspect_ratios.3_to_5":"3 : 5","crop.aspect_ratios.free_hand":"Free Hand","crop.aspect_ratios.square":"Square","crop.template.removecrop":"Remove Crop","crop.toolbar.confirm":"Confirm","crop.toolbar.identifier":"Crop","crop.toolbar.launch":"Start Crop","crop.toolbar.launchwithratio":"Start Crop","crop.toolbar.unlaunch":"Cancel","flip.toolbar.horizontal":"Flip Horizontally","flip.toolbar.vertical":"Flip Vertically","fullscreen.toolbar.fullscreen":"Enter Fullscreen","fullscreen.toolbar.fullscreenexit":"Exit Fullscreen","history.toolbar.redo":"Redo","history.toolbar.undo":"Undo","map.template.alt_text":"Alt Text","map.template.confirm":"Confirm","map.template.delete":"Delete","map.template.new_tab":"New Tab","map.template.parent_frame":"Parent Frame","map.template.path":"Path","map.template.path_picker":"Path Picker","map.template.same_tab":"Same Tab","map.template.target":"Target","map.template.top_frame":"Top Frame","map.template.unlaunch":"Cancel","map.toolbar.circle":"Add Circular Map","map.toolbar.confirm":"Confirm","map.toolbar.launch":"Launch Map","map.toolbar.polygon":"Add Polygon Map","map.toolbar.rectangle":"Add Rectangular Map","map.toolbar.unlaunch":"Cancel","rotate.toolbar.left":"Rotate Left","rotate.toolbar.right":"Rotate Right","zoom.toolbar.popupslider":"Open Zoom Slider","zoom.toolbar.reset100":"Reset Zoom"},CUI.imageeditor.strings["es-ES"]={"control.toolbar.close":"Cancelar","control.toolbar.finish":"Terminar","crop.aspect_ratios.16_to_9":"16 : 9","crop.aspect_ratios.2_to_3":"2 : 3","crop.aspect_ratios.3_to_5":"3 : 5","crop.aspect_ratios.free_hand":"Manos libres","crop.aspect_ratios.square":"cuadrado","crop.template.removecrop":"Eliminar corte","crop.toolbar.confirm":"Confirmar","crop.toolbar.identifier":"Cortar","crop.toolbar.launch":"Empezar a cortar","crop.toolbar.launchwithratio":"Empezar a cortar","crop.toolbar.unlaunch":"Cancelar","flip.toolbar.horizontal":"Girar horizontalmente","flip.toolbar.vertical":"Girar verticalmente","fullscreen.toolbar.fullscreen":"Ir a pantalla completa","fullscreen.toolbar.fullscreenexit":"Salir de la pantalla completa","history.toolbar.redo":"Rehacer","history.toolbar.undo":"Deshacer","map.template.alt_text":"Texto alternativo","map.template.confirm":"Confirmar","map.template.delete":"Eliminar","map.template.new_tab":"Nueva pestaÃ±a","map.template.parent_frame":"Marco superior","map.template.path":"Ruta","map.template.path_picker":"Seleccionador de ruta","map.template.same_tab":"Misma pestaÃ±a","map.template.target":"Meta","map.template.top_frame":"Parte superior","map.template.unlaunch":"Cancelar","map.toolbar.circle":"AÃ±adir mapa circular","map.toolbar.confirm":"Confirmar","map.toolbar.launch":"Iniciar mapa","map.toolbar.polygon":"AÃ±adir mapa poligonal","map.toolbar.rectangle":"AÃ±adir mapa rectangular","map.toolbar.unlaunch":"Cancelar","rotate.toolbar.left":"Girar a la izquierda","rotate.toolbar.right":"Girar a la derecha","zoom.toolbar.popupslider":"Abrir zoom deslizante","zoom.toolbar.reset100":"Restablecer zoom"},CUI.imageeditor.strings["fr-FR"]={"control.toolbar.close":"Annuler","control.toolbar.finish":"Terminer","crop.aspect_ratios.16_to_9":"16 : 9","crop.aspect_ratios.2_to_3":"2 : 3","crop.aspect_ratios.3_to_5":"3 : 5","crop.aspect_ratios.free_hand":"Main libre","crop.aspect_ratios.square":"CarrÃ©","crop.template.removecrop":"Annuler le recadrage","crop.toolbar.confirm":"Confirmer","crop.toolbar.identifier":"Recadrer","crop.toolbar.launch":"Commencer le recadrage","crop.toolbar.launchwithratio":"Commencer le recadrage","crop.toolbar.unlaunch":"Annuler","flip.toolbar.horizontal":"Inverser horizontalement","flip.toolbar.vertical":"Inverser verticalement","fullscreen.toolbar.fullscreen":"Passer au mode plein Ã©cran","fullscreen.toolbar.fullscreenexit":"Quitter le mode plein Ã©cran","history.toolbar.redo":"Refaire","history.toolbar.undo":"Annuler","map.template.alt_text":"Texte alternatif","map.template.confirm":"Confirmer","map.template.delete":"Supprimer","map.template.new_tab":"Nouvel onglet","map.template.parent_frame":"Cadre parent","map.template.path":"Chemin","map.template.path_picker":"SÃ©lecteur de chemin","map.template.same_tab":"MÃªme onglet","map.template.target":"Cible","map.template.top_frame":"Cadre supÃ©rieur","map.template.unlaunch":"Annuler","map.toolbar.circle":"Ajouter une carte circulaire","map.toolbar.confirm":"Confirmer","map.toolbar.launch":"Lancer la carte","map.toolbar.polygon":"Ajouter une carte polygonale","map.toolbar.rectangle":"Ajouter une carte rectangulaire","map.toolbar.unlaunch":"Annuler","rotate.toolbar.left":"Faire pivoter vers la gauche","rotate.toolbar.right":"Faire pivoter vers la droite","zoom.toolbar.popupslider":"Ouvrir le curseur du zoom","zoom.toolbar.reset100":"RÃ©initialiser le zoom"},CUI.imageeditor.strings["it-IT"]={"control.toolbar.close":"Annulla","control.toolbar.finish":"Termina","crop.aspect_ratios.16_to_9":"16 : 9","crop.aspect_ratios.2_to_3":"2 : 3","crop.aspect_ratios.3_to_5":"3 : 5","crop.aspect_ratios.free_hand":"Mano Libera","crop.aspect_ratios.square":"Quadrato","crop.template.removecrop":"Rimuovi Ritaglio","crop.toolbar.confirm":"Conferma","crop.toolbar.identifier":"Ritaglia","crop.toolbar.launch":"Avvia Ritaglio","crop.toolbar.launchwithratio":"Avvia Ritaglio","crop.toolbar.unlaunch":"Annulla","flip.toolbar.horizontal":"Inverti Orizzontalmente","flip.toolbar.vertical":"Inverti Verticalmente","fullscreen.toolbar.fullscreen":"Attiva ModalitÃ  Schermo Intero","fullscreen.toolbar.fullscreenexit":"Disattiva ModalitÃ  Schermo Intero","history.toolbar.redo":"Ripeti Ultima Operazione","history.toolbar.undo":"Annulla Ultima Operazione","map.template.alt_text":"Testo Alternativo","map.template.confirm":"Conferma","map.template.delete":"Cancella","map.template.new_tab":"Nuova Scheda","map.template.parent_frame":"Riquadro Principale","map.template.path":"Percorso","map.template.path_picker":"Selezionatore Del Percorso","map.template.same_tab":"Stessa Scheda","map.template.target":"Obiettivo","map.template.top_frame":"Riquadro Superiore","map.template.unlaunch":"Annulla","map.toolbar.circle":"Aggiungi Mappa Circolare","map.toolbar.confirm":"Conferma","map.toolbar.launch":"Attiva Mappa","map.toolbar.polygon":"Aggiungi Mappa Poligonale","map.toolbar.rectangle":"Aggiungi Mappa Rettangolare","map.toolbar.unlaunch":"Annulla","rotate.toolbar.left":"Ruota A Sinistra","rotate.toolbar.right":"Ruota A Destra","zoom.toolbar.popupslider":"Apri Controllo Zoom","zoom.toolbar.reset100":"Reimposta Zoom"},CUI.imageeditor.strings["ja-JP"]={"control.toolbar.close":"ã­ã£ã³ã»ã«","control.toolbar.finish":"çµäº","crop.aspect_ratios.16_to_9":"16 : 9","crop.aspect_ratios.2_to_3":"2 : 3","crop.aspect_ratios.3_to_5":"3 : 5","crop.aspect_ratios.free_hand":"ããªã¼ãã³ã","crop.aspect_ratios.square":"åè§","crop.template.removecrop":"åãæããè§£é¤","crop.toolbar.confirm":"æ¿èª","crop.toolbar.identifier":"åãæã","crop.toolbar.launch":"åãæããéå§","crop.toolbar.launchwithratio":"åãæããéå§","crop.toolbar.unlaunch":"ã­ã£ã³ã»ã«","flip.toolbar.horizontal":"å·¦å³åè»¢","flip.toolbar.vertical":"ä¸ä¸åè»¢","fullscreen.toolbar.fullscreen":"ãã«ã¹ã¯ãªã¼ã³ã§è¡¨ç¤º","fullscreen.toolbar.fullscreenexit":"ãã«ã¹ã¯ãªã¼ã³ãè§£é¤","history.toolbar.redo":"ããç´ã","history.toolbar.undo":"åã«æ»ã","map.template.alt_text":"ä»£æ¿ãã­ã¹ã","map.template.confirm":"æ¿èª","map.template.delete":"åé¤","map.template.new_tab":"æ°ããã¿ã","map.template.parent_frame":"è¦ªãã¬ã¼ã ","map.template.path":"ãã¹","map.template.path_picker":"ãã¹ããã«ã¼","map.template.same_tab":"åãã¿ã","map.template.target":"ã¿ã¼ã²ãã","map.template.top_frame":"ããããã¬ã¼ã ","map.template.unlaunch":"ã­ã£ã³ã»ã«","map.toolbar.circle":"ç°ç¶ããããè¿½å ","map.toolbar.confirm":"æ¿èª","map.toolbar.launch":"ããããè¡¨ç¤º","map.toolbar.polygon":"ããªã´ã³ããããè¿½å ","map.toolbar.rectangle":"ç©å½¢ããããè¿½å ","map.toolbar.unlaunch":"ã­ã£ã³ã»ã«","rotate.toolbar.left":"å·¦ã«åè»¢","rotate.toolbar.right":"å³ã«åè»¢","zoom.toolbar.popupslider":"ãºã¼ã ã¹ã©ã¤ãã¼ãéã","zoom.toolbar.reset100":"ãºã¼ã ããªã»ãã"},CUI.imageeditor.strings["ko-KR"]={"control.toolbar.close":"ì·¨ì","control.toolbar.finish":"ë§ì¹ê¸°","crop.aspect_ratios.16_to_9":"16 : 9","crop.aspect_ratios.2_to_3":"2 : 3","crop.aspect_ratios.3_to_5":"3 : 5","crop.aspect_ratios.free_hand":"íë¦¬ í¸ë","crop.aspect_ratios.square":"ì ì¬ê°í","crop.template.removecrop":"ìë¥´ê¸° ì ê±°","crop.toolbar.confirm":"íì¸","crop.toolbar.identifier":"ìë¥´ê¸°","crop.toolbar.launch":"ìë¥´ê¸° ìì","crop.toolbar.launchwithratio":"ìë¥´ê¸° ìì","crop.toolbar.unlaunch":"ì·¨ì","flip.toolbar.horizontal":"ìí ë°ì ","flip.toolbar.vertical":"ì¢ì° ë°ì ","fullscreen.toolbar.fullscreen":"ì ì²´íë©´ ë¤ì´ê°ê¸°","fullscreen.toolbar.fullscreenexit":"ì ì²´íë©´ ëê°ê¸°","history.toolbar.redo":"ë¤ì ì¤í","history.toolbar.undo":"ì¤í ì·¨ì","map.template.alt_text":"ëì²´ íì¤í¸","map.template.confirm":"íì¸","map.template.delete":"ì­ì ","map.template.new_tab":"ì í­","map.template.parent_frame":"ë¶ëª¨ íë ì","map.template.path":"ê²½ë¡","map.template.path_picker":"ê²½ë¡ ì íê¸°","map.template.same_tab":"ê°ì í­","map.template.target":"ëì","map.template.top_frame":"ìì íë ì","map.template.unlaunch":"ì·¨ì","map.toolbar.circle":"ìíí ì§ë ì¶ê°","map.toolbar.confirm":"íì¸","map.toolbar.launch":"ì§ë ì¤í","map.toolbar.polygon":"ë¤ê°í ì§ë ì¶ê°","map.toolbar.rectangle":"ì¬ê°í ì§ë ì¶ê°","map.toolbar.unlaunch":"ì·¨ì","rotate.toolbar.left":"ì¼ìª½ì¼ë¡ íì ","rotate.toolbar.right":"ì¤ë¥¸ìª½ì¼ë¡ íì ","zoom.toolbar.popupslider":"ì¤ ì¬ë¼ì´ë ì´ê¸°","zoom.toolbar.reset100":"ì¤ ì¬ì¤ì "},CUI.imageeditor.strings["pt-BR"]={"control.toolbar.close":"Cancelar","control.toolbar.finish":"Terminar","crop.aspect_ratios.16_to_9":"16 : 9","crop.aspect_ratios.2_to_3":"2 : 3","crop.aspect_ratios.3_to_5":"3 : 5","crop.aspect_ratios.free_hand":"MÃ£o Livre","crop.aspect_ratios.square":"Quadrado","crop.template.removecrop":"Remover Corte","crop.toolbar.confirm":"Confirmar","crop.toolbar.identifier":"CorteÃ","crop.toolbar.launch":"ComeÃ§ar Corte","crop.toolbar.launchwithratio":"ComeÃ§ar Corte","crop.toolbar.unlaunch":"Cancelar","flip.toolbar.horizontal":"Giro Horizontal","flip.toolbar.vertical":"Giro Vertical","fullscreen.toolbar.fullscreen":"Inserir Tela inteira","fullscreen.toolbar.fullscreenexit":"Sair de Tela inteira","history.toolbar.redo":"Refazer","history.toolbar.undo":"Desfazer","map.template.alt_text":"Texto Alternativo","map.template.confirm":"Confirmar","map.template.delete":"Deletar","map.template.new_tab":"Nova Tabela","map.template.parent_frame":"Quadro Principal","map.template.path":"Caminho","map.template.path_picker":"Coletor de Caminho","map.template.same_tab":"Mesma Tabela","map.template.target":"Alvo","map.template.top_frame":"Quadro Superior","map.template.unlaunch":"Cancelar","map.toolbar.circle":"Adicionar Mapa Circular","map.toolbar.confirm":"Confirmar","map.toolbar.launch":"LanÃ§ar Mapa","map.toolbar.polygon":"Adicionar Mapa PolÃ­gono","map.toolbar.rectangle":"Adicionar Mapa Retangular","map.toolbar.unlaunch":"Cancelar","rotate.toolbar.left":"Girar Ã  Esquerda","rotate.toolbar.right":"Girar Ã  Direita","zoom.toolbar.popupslider":"Abrir Zoom Deslizante","zoom.toolbar.reset100":"Restabelecer Zoom"},CUI.imageeditor.strings["zh-CN"]={"control.toolbar.close":"åæ¶","control.toolbar.finish":"å®æ","crop.aspect_ratios.16_to_9":"16 : 9","crop.aspect_ratios.2_to_3":"2 : 3","crop.aspect_ratios.3_to_5":"3 : 5","crop.aspect_ratios.free_hand":"å¾æ","crop.aspect_ratios.square":"æ¹å½¢","crop.template.removecrop":"å»é¤è£åª","crop.toolbar.confirm":"ç¡®è®¤","crop.toolbar.identifier":"è£åª","crop.toolbar.launch":"å¼å§è£åª","crop.toolbar.launchwithratio":"å¼å§è£åª","crop.toolbar.unlaunch":"åæ¶","flip.toolbar.horizontal":"æ°´å¹³ç¿»è½¬","flip.toolbar.vertical":"åç´ç¿»è½¬","fullscreen.toolbar.fullscreen":"è¿å¥å¨å±","fullscreen.toolbar.fullscreenexit":"éåºå¨å±","history.toolbar.redo":"éå","history.toolbar.undo":"æ¤é","map.template.alt_text":"Alt æå­","map.template.confirm":"ç¡®è®¤","map.template.delete":"å é¤","map.template.new_tab":"æ°éé¡¹å¡","map.template.parent_frame":"ç¶æ¡æ¶","map.template.path":"è·¯å¾","map.template.path_picker":"è·¯å¾éæ©å¨","map.template.same_tab":"åä¸éé¡¹å¡","map.template.target":"ç®æ ","map.template.top_frame":"é¡¶å±æ¡æ¶","map.template.unlaunch":"åæ¶","map.toolbar.circle":"æ·»å åå½¢å°å¾","map.toolbar.confirm":"ç¡®è®¤","map.toolbar.launch":"å¯å¨å°å¾","map.toolbar.polygon":"æ·»å å¤è¾¹å½¢å°å¾","map.toolbar.rectangle":"æ·»å ç©å½¢å°å¾","map.toolbar.unlaunch":"åæ¶","rotate.toolbar.left":"åå·¦æè½¬","rotate.toolbar.right":"åå³æè½¬","zoom.toolbar.popupslider":"æå¼ç¼©æ¾æ»å","zoom.toolbar.reset100":"éç½®ç¼©æ¾"},CUI.imageeditor.strings["zh-TW"]={"control.toolbar.close":"åæ¶","control.toolbar.finish":"å®æ","crop.aspect_ratios.16_to_9":"16 : 9","crop.aspect_ratios.2_to_3":"2 : 3","crop.aspect_ratios.3_to_5":"3 : 5","crop.aspect_ratios.free_hand":"å¾æç¹ªå","crop.aspect_ratios.square":"æ­£æ¹å","crop.template.removecrop":"ç§»é¤è£å","crop.toolbar.confirm":"ç¢ºèª","crop.toolbar.identifier":"è£å","crop.toolbar.launch":"éå§è£å","crop.toolbar.launchwithratio":"éå§è£å","crop.toolbar.unlaunch":"åæ¶","flip.toolbar.horizontal":"æ°´å¹³ç¿»è½","flip.toolbar.vertical":"åç´ç¿»è½","fullscreen.toolbar.fullscreen":"é²å¥å¨è¢å¹æ¨¡å¼","fullscreen.toolbar.fullscreenexit":"é¢éå¨è¢å¹æ¨¡å¼","history.toolbar.redo":"åæ¶å¾©å","history.toolbar.undo":"å¾©å","map.template.alt_text":"ä¿®æ¹æå­","map.template.confirm":"ç¢ºèª","map.template.delete":"åªé¤","map.template.new_tab":"æ°åé ","map.template.parent_frame":"æ¯æ¡æ¶","map.template.path":"è·¯å¾","map.template.path_picker":"è·¯ç·é¸æå¨","map.template.same_tab":"åä¸åé ","map.template.target":"ç®æ¨","map.template.top_frame":"æä¸å±¤æ¡æ¶","map.template.unlaunch":"åæ¶","map.toolbar.circle":"æ°å¢åå½¢å°å","map.toolbar.confirm":"ç¢ºèª","map.toolbar.launch":"ç¼ä½å°å","map.toolbar.polygon":"æ°å¢å¤éå½¢å°å","map.toolbar.rectangle":"æ°å¢ç©åå°å","map.toolbar.unlaunch":"åæ¶","rotate.toolbar.left":"åå·¦æè½","rotate.toolbar.right":"åå³æè½","zoom.toolbar.popupslider":"éåç¸®æ¾æ»æ¡¿","zoom.toolbar.reset100":"éè¨­ç¸®æ¾"},function(t,e,i){"use strict";var n={en:"en-US","en-us":"en-US",de:"de-DE","de-de":"de-DE",es:"es-ES","es-es":"es-ES",fr:"fr-FR","fr-fr":"fr-FR",it:"it-IT","it-it":"it-IT",ja:"ja-JP","ja-jp":"ja-JP",ko:"ko-KR","ko-kr":"ko-KR",pt:"pt-BR","pt-br":"pt-BR","zh-cn":"zh-CN","zh-hans-cn":"zh-CN","zh-hans":"zh-CN","zh-tw":"zh-TW","zh-hant-tw":"zh-TW","zh-hant":"zh-TW"};CUI.imageeditor.I18nProvider=new Class({toString:"I18nProvider",construct:function(){var t=n[document.documentElement.lang.toLowerCase()]||document.documentElement.lang||"en-US",e=/^(..)-?(.*)$/gi.exec(t);t=void 0!==CUI.imageeditor.strings[e[0]]?e[0]:void 0!==CUI.imageeditor.strings[n[e[1]]]?n[e[1]]:"en-US",this.translations=CUI.imageeditor.strings[t]},get:function(t){return this.has(t)?this.translations[t]:t},has:function(t){return this.translations.hasOwnProperty(t)}})}(jQuery),function(t,e,i){"use strict";CUI.imageeditor.OptionsUtils={loadOptionsAndStartEditing:function(e,i,n){function a(t){"function"==typeof n&&(t=n(t)),e.start(t)}var o={},r=i.data("options"),s=i.data("options-path");t.isPlainObject(r)?a(r):s?t.ajax({url:s,success:function(t){o=t},complete:function(){a(o)}}):a(o)}}}(jQuery),function(t,e,i){"use strict";var n=function(){};CUI.imageeditor.TemplateProvider=new Class({toString:"TemplateProvider",construct:function(e){this.templates=t.extend({},CUI.imageeditor.Templates,e)},get:function(t){return this.has(t)?this.templates[t]:n},has:function(t){return this.templates.hasOwnProperty(t)}}),CUI.imageeditor.TemplateProvider.NOOP=n}(jQuery),function(t,e,i){"use strict";CUI.imageeditor.Theme={IMAGEEDITOR_HIDDEN_CLASS:"u-coral-hidden",TOOLBARITEM_DISABLED_CLASS:"is-disabled",TOOLBARITEM_SELECTED_CLASS:"is-selected",TOOLBARITEM_MODECHANGER_CLASS:"modechanger"}}(jQuery),function(t,e,i){"use strict";CUI.imageeditor.TransformResult=new Class({toString:"TransformResult",result:null,history:null,future:null,construct:function(){this.result={},this.history=[],this.future=[]},registerTransformField:function(t){return!this.result.hasOwnProperty(t)&&(this.result[t]=null,!0)},setTransformValue:function(t,e,i){return!1!==i&&this.storeHistory(),!!this.result.hasOwnProperty(t)&&(this.result[t]=e,!0)},setTransformValues:function(e,i){var n,a,o;if(!1!==i&&this.storeHistory(),t.isPlainObject(e))for(a in e)e.hasOwnProperty(a)&&this.setTransformValue(a,e[a],!1);else if(t.isArray(e))for(n=0;n<e.length;n++)a=(o=t.extend({},e[n])).transformation,delete o.transformation,t.isEmptyObject(o)||this.setTransformValue(a,o,!1)},undo:function(){return!!this.history.length&&(this.storeHistory(),this.future.push(this.history.pop()),this.setTransformValues(this.history.pop(),!1),!0)},redo:function(){return!!this.future.length&&(this.storeHistory(),this.setTransformValues(this.future.pop(),!1),!0)},getTransformValue:function(t){return this.result.hasOwnProperty(t)?this.result[t]:void 0},toJSON:function(){var e,i=[];for(e in this.result)this.result.hasOwnProperty(e)&&t.isPlainObject(this.result[e])&&!t.isEmptyObject(this.result[e])&&i.push(t.extend(!0,{transformation:e},this.result[e]));return i},storeHistory:function(){this.history.push(t.extend(!0,{},this.result))}})}(jQuery),function(t,e,i){"use strict";CUI.imageeditor.UIUtils={getUIContainer:function(e){return(e=t(e)).is(".imageeditor-container")?e:e.parents(".imageeditor-container").first()},getToolbars:function(t,e){var i,n;if(!e)throw new Error("ArgumentError - missing toolbar type");return(i=t.hasClass("imageeditor-container")?t:CUI.imageeditor.UIUtils.getUIContainer(t))&&i.length&&(n=i.find('div[data-type="'+e+'"] > div.imageeditor-toolbar'))&&n.length?n:null},getToolbarContainer:function(t,e){if(!e)throw new Error("ArgumentError - missing toolbar type");var i=t.find('.imageeditor-toolbars [data-type="'+e+'"]');return i.length?i:t.find(".imageeditor-toolbars")},getItem:function(t,e,i){if(!e)throw new Error("ArgumentError - missing toolbar type");return i.find('div[data-type="'+e+'"] button[data-action="'+t+'"]')},getClippingParent:function(e){for(var i,n,a,o,r=t(document.body);e[0]!==r[0];){if(n=e.css("overflow"),a=e.css("overflowX"),o=e.css("overflowY"),"visible"!==a||"visible"!==o||"visible"!==n){i=e;break}e=e.parent()}return i},elementInIframe:function(e){var i=t(e).prop("ownerDocument"),n=null;return t("iframe").each((function(){this.contentDocument!==i||(n=this)})),n},handleTapOrClick:function(t,e,i){var n="";(i=i||{}).timeout||(i.timeout=300),void 0===i.clickIgnoredAfterTouchTimeout&&(i.clickIgnoredAfterTouchTimeout=5e3),void 0===i.preventIgnoredClickEventDefault&&(i.preventIgnoredClickEventDefault=!0),void 0===i.stopIgnoredClickEventImmediatePropagation&&(i.stopIgnoredClickEventImmediatePropagation=!0),void 0===i.preventTouchendDefault&&(i.preventTouchendDefault=!0),void 0!==i.eventNamespace&&i.eventNamespace&&(n=0!==i.eventNamespace.indexOf(".")?"."+i.eventNamespace:i.eventNamespace);var a=null;return(a={lastTouchstartTime:0,lastTouchTime:0,off:function(){t.off("click"+n,a.clickHandler),t.off("touchend"+n,a.touchendHandler),t.off("touchstart"+n,a.touchstartHandler)}}).outerHandler=e,a.clickHandler=function(t){var e=(new Date).getTime();if(i.clickIgnoredAfterTouchTimeout>e-a.lastTouchTime)return i.preventIgnoredClickEventDefault&&t.preventDefault(),void(i.stopIgnoredClickEventImmediatePropagation&&t.stopImmediatePropagation());a.outerHandler.apply(t.currentTarget||{},[t])},a.touchstartHandler=function(t){var e=(new Date).getTime();a.lastTouchstartTime=e,a.lastTouchTime=a.lastTouchstartTime},a.touchendHandler=function(t){var e=(new Date).getTime();a.lastTouchTime=e,i.timeout<e-a.lastTouchstartTime||(i.preventTouchendDefault&&t.preventDefault(),a.lastTouchstartTime=0,a.outerHandler.apply(t.currentTarget||{},[t]))},t.on("click"+n,a.clickHandler),t.on("touchstart"+n,a.touchstartHandler),t.on("touchend"+n,a.touchendHandler),a},installPinchZooming:function(t,e,i,n){this.togglePinchZooming(!0,t,e,i,n)},togglePinchZooming:function(t,e,i,n,a){var o="gesturestart"+(i=i||".imageeditorzoom"),r="gesturechange"+i,s="gestureend"+i;e.off(i),t&&e.on(o,(function(t){var i=n(),o=0,l=null;t.preventDefault(),e.off(r),e.on(r,(function(t){var e=t.originalEvent.scale,n=1;t.preventDefault(),l&&(clearTimeout(l),n=Math.max(1,100-((new Date).getTime()-o))),l=setTimeout((function(){o=(new Date).getTime(),a(e*i,"change"),l=null}),n)})),e.on(s,(function(t){var n=t.originalEvent.scale;t.preventDefault(),l&&clearTimeout(l),e.off(r),e.off(s),a(n*i,"end")}))}))},removePinchZooming:function(t,e){this.togglePinchZooming(!1,t,e)},isHavingClassOrParentHavingClass:function(e,i){if(e){if(e.hasClass||(e=t(e)),e.hasClass(i))return!0;if(e.length)return this.isHavingClassOrParentHavingClass(e.parent(),i)}return!1},isHavingModalParent:function(t){return this.isHavingClassOrParentHavingClass(t,"coral-Modal")},getEventCoordinatesPageRelative:function(t){return t.originalEvent&&t.originalEvent.touches?{x:t.originalEvent.touches[0].pageX,y:t.originalEvent.touches[0].pageY}:{x:t.pageX,y:t.pageY}}}}(jQuery),function(t,e,i){"use strict";CUI.imageeditor.Utils={defer:function(t,i,n,a){var o=t;return n?o=function(){a?t.apply(n,a):t.call(n)}:a&&(o=function(){t.apply(e,a)}),e.setTimeout(o,i)},onPluginCreated:function(t){return t},applyDefaults:function(t,e){var i,n;if(e=e||{},"object"==typeof(t=t||{}))for(i in e)e.hasOwnProperty(i)&&((n=e[i])&&"object"==typeof n&&!CUI.imageeditor.Utils.isArray(n)?t[i]=this.applyDefaults(t[i],n):void 0===t[i]&&(t[i]=n));return t},isArray:function(e){return t.isArray(e)},isString:function(e){return t.isString(e)},endsWith:function(t,e){return null!=t&&(null!=e&&(!(t.length<e.length)&&t.substring(t.length-e.length)===e))},apply:function(e,i,n){return t.extend(e,i,n)},getPagePosition:function(e){var i=t(e).offset();return[i.left,i.top]},getWidth:function(e){return t(e).width()},getHeight:function(e){return t(e).height()},jsonDecode:function(e){return t.parseJSON(e)}}}(jQuery,this),function(t,e,i){"use strict";var n=function(t,e){var i=t;if(e){if("object"!=typeof t)return!1;i=t[e]}if("number"==typeof i&&i>0)return!0;if("string"==typeof i){var n=parseFloat(i);return!isNaN(n)&&n>0&&(""+n===i||CUI.imageeditor.Utils.endsWith(i,"px"))}return!1};CUI.imageeditor.TranslationUtil=function(t){if("object"!=typeof t)throw new Error("Sizes need constructor parameter");this.initRotation(t),this.flip=t.flip||{horizontal:!1,vertical:!1},this.naturalDimensionsBeforeRotation={height:t.naturalHeight,width:t.naturalWidth},this.naturalDimensions=this.rotateDimsIfNecessary(this.naturalDimensionsBeforeRotation),t.cropOnOriginal&&t.cropOnOriginal.width&&t.cropOnOriginal.height?this.cropOnOriginal={top:t.cropOnOriginal.top||0,left:t.cropOnOriginal.left||0,height:t.cropOnOriginal.height,width:t.cropOnOriginal.width}:this.cropOnOriginal={top:0,left:0,height:this.naturalDimensionsBeforeRotation.height,width:this.naturalDimensionsBeforeRotation.width},this.croppedRotatedDim=this.rotateDimsIfNecessary(this.cropOnOriginal),this.determineScaledDimensions(t)},CUI.imageeditor.TranslationUtil.prototype.determineScaledDimensions=function(t){var e,i,a=!1,o=1,r=1,s=1;if(a=!1,(n(t,"fixedWidth")||n(t,"fixedHeight"))&&(a=!0),a){var l=parseInt(t.fixedWidth,10),c=parseInt(t.fixedHeight,10);isNaN(l)?o=r=c/this.croppedRotatedDim.height:isNaN(c)?o=r=l/this.croppedRotatedDim.width:(o=l/this.croppedRotatedDim.width,r=c/this.croppedRotatedDim.height)}if(!a){var u={width:-1,height:-1},h={width:-1,height:-1};n(t,"minWidth")&&(u.width=parseInt(t.minWidth,10)),n(t,"minHeight")&&(u.height=parseInt(t.minHeight,10)),n(t,"maxWidth")&&(h.width=parseInt(t.maxWidth,10)),n(t,"maxHeight")&&(h.height=parseInt(t.maxHeight,10));var d=null;u.width>0?d=u.height>0&&u.width/u.height<this.croppedRotatedDim.width/this.croppedRotatedDim.height?"height":"width":u.height>0&&(d="height");var p=null;h.width>0?p=h.height>0?h.width/h.height<this.croppedRotatedDim.width/this.croppedRotatedDim.height?"width":"height":"width":h.height>0&&(p="height"),d&&("height"===d?u.height>this.croppedRotatedDim.height&&(i=r,o*=(r=u.height/this.croppedRotatedDim.height)/i):u.width>this.croppedRotatedDim.width&&(e=o,r*=(o=u.width/this.croppedRotatedDim.width)/e)),p&&("height"===p?h.height<this.croppedRotatedDim.height&&(i=r,o*=(r=h.height/this.croppedRotatedDim.height)/i):h.width<this.croppedRotatedDim.width&&(e=o,r*=(o=h.width/this.croppedRotatedDim.width)/e))}this.displayDimensions={height:Math.round(this.croppedRotatedDim.height*r),width:Math.round(this.croppedRotatedDim.width*o)},this.fromNaturalToDisplayScaleFactors={width:o,height:r},t.zoomFactor&&(s=t.zoomFactor),this.zoomFactor=s,this.zoomedDimensions={height:Math.round(this.displayDimensions.height*s),width:Math.round(this.displayDimensions.width*s)},this.fromNaturalToZoomedScaleFactors={width:o*s,height:r*s},this.fromDisplayToZoomedScaleFactors={width:s,height:s}},CUI.imageeditor.TranslationUtil.prototype.initRotation=function(t){var e=null;if(t.rotation){var i=parseInt(t.rotation,10);isNaN(i)||(e=i)}(t.rotation=e,this.rotatedByNinetyDegrees=!1,this.rotation=0,t.rotation)&&(this.rotation=t.rotation,90===Math.abs(t.rotation%180)&&(this.rotatedByNinetyDegrees=!0))},CUI.imageeditor.TranslationUtil.prototype.getDisplayDimensions=function(){return this.displayDimensions},CUI.imageeditor.TranslationUtil.prototype.getNaturalDimensions=function(){return this.naturalDimensions},CUI.imageeditor.TranslationUtil.prototype.getZoomedDimensions=function(){return this.zoomedDimensions},CUI.imageeditor.TranslationUtil.prototype.getZoomedDimensionsBeforeRotation=function(){var t=this.getFromNaturalToZoomedScaleFactors(!0),e=this.getNaturalDimensionsBeforeRotation();return{height:Math.round(e.height*t.height),width:Math.round(e.width*t.width)}},CUI.imageeditor.TranslationUtil.prototype.getZoomedCropBeforeRotation=function(){var t=this.getCropOnOriginal(),e=this.getFromNaturalToZoomedScaleFactors(!0);return{top:Math.round(t.top*e.height),left:Math.round(t.left*e.width),height:Math.round(t.height*e.height),width:Math.round(t.width*e.width)}},CUI.imageeditor.TranslationUtil.prototype.getNaturalDimensionsBeforeRotation=function(){return this.naturalDimensionsBeforeRotation},CUI.imageeditor.TranslationUtil.prototype.adaptScaleFactorsToUnrotatedImage=function(t){return this.rotatedByNinetyDegrees?{width:t.height,height:t.width}:t},CUI.imageeditor.TranslationUtil.prototype.getFromNaturalToDisplayScaleFactors=function(t){return t?this.adaptScaleFactorsToUnrotatedImage(this.fromNaturalToDisplayScaleFactors):this.fromNaturalToDisplayScaleFactors},CUI.imageeditor.TranslationUtil.prototype.getFromDisplayToNaturalScaleFactors=function(t){var e=this.getFromNaturalToDisplayScaleFactors(t);return{width:1/e.width,height:1/e.height}},CUI.imageeditor.TranslationUtil.prototype.getFromNaturalToZoomedScaleFactors=function(t){return t?this.adaptScaleFactorsToUnrotatedImage(this.fromNaturalToZoomedScaleFactors):this.fromNaturalToZoomedScaleFactors},CUI.imageeditor.TranslationUtil.prototype.getFromZoomedToNaturalScaleFactors=function(t){var e=this.getFromNaturalToZoomedScaleFactors(t);return{width:1/e.width,height:1/e.height}},CUI.imageeditor.TranslationUtil.prototype.getFromDisplayToZoomedScaleFactors=function(){return this.fromDisplayToZoomedScaleFactors},CUI.imageeditor.TranslationUtil.prototype.getFromZoomedToDisplayScaleFactors=function(){return{width:1/this.zoomFactor,height:1/this.zoomFactor}},CUI.imageeditor.TranslationUtil.prototype.getCropOnOriginal=function(){return this.cropOnOriginal},CUI.imageeditor.TranslationUtil.prototype.getCropOnDisplayBeforeRotation=function(){var t=this.getCropOnOriginal(),e=this.getFromNaturalToDisplayScaleFactors(!0),i={top:t.top*e.height,left:t.left*e.width,height:t.height*e.height,width:t.width*e.width};return i.right=i.left+i.width,i.bottom=i.top+i.height,i},CUI.imageeditor.TranslationUtil.prototype.getCompleteImageAfterScalingDimensions=function(){var t=this.getNaturalDimensions(),e=this.getFromNaturalToDisplayScaleFactors();return{height:t.height*e.height,width:t.width*e.width}},CUI.imageeditor.TranslationUtil.prototype.translateToDisplay=function(t,e,i){var n=this.getFromNaturalToDisplayScaleFactors(i);return{w:Math.round(n.width*t),h:Math.round(n.height*e)}},CUI.imageeditor.TranslationUtil.prototype.translateWidthToDisplay=function(t,e){return Math.round(t*this.getFromNaturalToDisplayScaleFactors(e).width)},CUI.imageeditor.TranslationUtil.prototype.translateHeightToDisplay=function(t,e){return Math.round(t*this.getFromNaturalToDisplayScaleFactors(e).height)},CUI.imageeditor.TranslationUtil.prototype.translateToNatural=function(t,e,i){var n=this.getFromDisplayToNaturalScaleFactors(i);return{w:Math.round(n.width*t),h:Math.round(n.height*e)}},CUI.imageeditor.TranslationUtil.prototype.translateNaturalToZoomed=function(t,e,i){var n=this.getFromNaturalToZoomedScaleFactors(i);return{w:Math.round(n.width*t),h:Math.round(n.height*e)}},CUI.imageeditor.TranslationUtil.prototype.translateZoomedToNatural=function(t,e,i){var n=this.getFromZoomedToNaturalScaleFactors(i);return{w:Math.round(n.width*t),h:Math.round(n.height*e)}},CUI.imageeditor.TranslationUtil.prototype.applyScaleFactors=function(t,e,i){return{w:Math.round(i.width*t),h:Math.round(i.height*e)}},CUI.imageeditor.TranslationUtil.prototype.translatePoints=function(t,e){var i,n,a=[];for(i=0;i<t.length;i++)n=t[i],n="toZoomed"===e?this.translateNaturalToZoomed(n.w,n.h):this.translateZoomedToNatural(n.w,n.h),a.push(n);return a},CUI.imageeditor.TranslationUtil.prototype.zoomPoints=function(t,e){var i,n,a,o=[];for(a=e?this.getFromZoomedToDisplayScaleFactors():this.getFromDisplayToZoomedScaleFactors(),i=0;i<t.length;i++)n=t[i],n=this.applyScaleFactors(n.w,n.h,a),o.push(n);return o},CUI.imageeditor.TranslationUtil.prototype.translateWidthToNatural=function(t,e){return Math.round(1*t/this.getFromNaturalToDisplayScaleFactors(e).width)},CUI.imageeditor.TranslationUtil.prototype.translateHeightToNatural=function(t,e){return Math.round(1*t/this.getFromNaturalToDisplayScaleFactors(e).height)},CUI.imageeditor.TranslationUtil.prototype.scaleCropToNatural=function(t,e){return this.applyScaleFactorsToCrop(t,this.getFromZoomedToNaturalScaleFactors(e))},CUI.imageeditor.TranslationUtil.prototype.scaleCropToZoomed=function(t,e){return this.applyScaleFactorsToCrop(t,this.getFromNaturalToZoomedScaleFactors(e))},CUI.imageeditor.TranslationUtil.prototype.applyScaleFactorsToCrop=function(t,e){return t?{top:Math.round(t.top*e.height),left:Math.round(t.left*e.width),height:Math.round(t.height*e.height),width:Math.round(t.width*e.width)}:null},CUI.imageeditor.TranslationUtil.prototype.rotateDimsIfNecessary=function(t){return t?{height:this.rotatedByNinetyDegrees?t.width:t.height,width:this.rotatedByNinetyDegrees?t.height:t.width}:null},CUI.imageeditor.TranslationUtil.prototype.rotateCropBy90IfNecessary=function(t){return t?{top:this.rotatedByNinetyDegrees?t.left:t.top,left:this.rotatedByNinetyDegrees?t.top:t.left,height:this.rotatedByNinetyDegrees?t.width:t.height,width:this.rotatedByNinetyDegrees?t.height:t.width}:null},CUI.imageeditor.TranslationUtil.prototype.translate=function(e,i,n){var a,o,r=this.rotation,s=this.flip;return o="display"===(i=(i=i||"zoomed").toLowerCase())?this.getDisplayDimensionsBeforeRotation():"natural"===i?this.getNaturalDimensionsBeforeRotation():this.getZoomedDimensionsBeforeRotation(),n=n||t.extend({},e),r%=360,r+=360,r%=360,e.hasOwnProperty("top")&&e.hasOwnProperty("left")&&(r%180==0?(a=0!==r,s.horizontal^a?n.left=o.width-e.width-e.left:n.left=e.left,s.vertical^a?n.top=o.height-e.height-e.top:n.top=e.top):(a=90!==r,s.vertical^a?n.left=e.top:n.left=o.height-e.height-e.top,s.horizontal^a?n.top=o.width-e.width-e.left:n.top=e.left)),r%180!=0?(n.width=e.height,n.height=e.width):(n.width=e.width,n.height=e.height),n}}(jQuery),function(t,e,i){"use strict";CUI.imageeditor.actions.Action=new Class({toString:"Action",config:{},construct:function(t,e){this._init(t,e)},_init:function(t,e){this.editor=t,this.actionId=e},notifyPluginConfig:function(t){this.config=t},isAction:function(t){return!1},isUndoable:function(t){return!0},requiresInitializedComponent:function(t){return!0},execute:function(t){},queryState:function(t,e){return!1},toCss:function(t,e,i){return{}},getString:function(t){return this.editor.i18n.get(this.actionId+"."+t)},getTemplateOptions:function(){var t=this;return{helpers:{i18n:function(e){return t.getString("template."+e)}}}}})}(jQuery),function(t,e,i){"use strict";var n;CUI.imageeditor.actions.ActionRegistry=(n={},{register:function(t,e){n[t]=e},createRegisteredActions:function(t){var e,i={};for(e in n)n.hasOwnProperty(e)&&(i[e]=new n[e](t,e));return i}})}(jQuery),function(t,e,i){"use strict";CUI.imageeditor.actions.Crop=new Class({toString:"Crop",extend:CUI.imageeditor.actions.Action,isAction:function(t){var e=t.toLowerCase();return"croplaunch"===e||"croplaunchwithratio"===e||"cropunlaunch"===e||"cropconfirm"===e||"cropremovecrop"===e},execute:function(t){switch(t.action.toLowerCase()){case"croplaunch":return this.launchCrop(t);case"croplaunchwithratio":return this.launchCropWithRatio(t);case"cropunlaunch":return this.unlaunchCrop(t);case"cropconfirm":return this.confirmCrop(t);case"cropremovecrop":return this.removeCrop(t)}},launchCropWithRatio:function(t){this.popover&&this.popover.get("visible")?this.closeRatioPopover(t):this.openRatioPopover(t)},openRatioPopover:function(e){var i,n;this.clickTarget||(i=t("<div>",{class:"imageeditor-clicktarget"}),t(".imageeditor-controls").append(i),i.on("click",this,this.clickTargetClicked),this.clickTarget=i),this.popover||(n=t("<div>",{class:"imageeditor-popover imageeditor-toolbar-popover coral-Popover"}).html(this.editor.templates.get("crop-popover")({aspectRatios:e.value.getAspectRatios()},this.getTemplateOptions())),t(".imageeditor-controls").append(n),n.trigger("cui-contentloaded"),n.on("click",t.proxy(this.ratioPopoverClicked,this,e.value)),this.popover=new CUI.Popover({element:n,pointFrom:"bottom"})),this.clickTarget.show(),this.popover.set("pointAt",e.ui.find(".coral-Icon--crop:visible").closest(".coral-Button")).show()},closeRatioPopover:function(t){this.popover&&this.popover.hide(),this.clickTarget&&this.clickTarget.hide()},clickTargetClicked:function(t){t.stopPropagation(),setTimeout((function(){t.data.closeRatioPopover()}),300)},ratioPopoverClicked:function(e,i){this.closeRatioPopover();var n=t(i.target).val();"removeCrop"===n?e.execute("removecrop"):e.execute("launch",n)},launchCrop:function(t){var e,i,n=t.createTranslationUtil(),a=this.getFullCanvasCrop(n),o=this.getCurrent(t.result,n);"fullscreen"!==t.mode||o.top===a.top&&o.left===a.left&&o.width===a.width&&o.height===a.height?(a=o,o=this.getDefaultSelection(t,a)):t.element.css("clip",""),e=n.scaleCropToZoomed(a,!0),i=n.scaleCropToZoomed(o,!0),t.editor.togglePinchZooming(!1),t.element.imageSelect({classPrefix:"imageeditor-imageselect-",parent:t.ui.find(".imageeditor-controls"),applyTransformations:!0,aspectRatio:t.value||0,canvas:{top:e.top,left:e.left,width:e.width,height:e.height},selection:{top:i.top,left:i.left,width:i.width,height:i.height}})},unlaunchCrop:function(t){return t.element.imageSelect({call:"destroy"}),t.editor.togglePinchZooming(!0),!0},confirmCrop:function(t){var e=t.element.imageSelect({instance:!0}).getSelection();return this.setCurrent(t.result,t.createTranslationUtil().scaleCropToNatural(e,!0)),this.unlaunchCrop(t)},removeCrop:function(t){return this.setCurrent(t.result,null),!0},toCss:function(t,e,i){var n,a=this.getCurrent(t);if(a)return a=i.scaleCropToZoomed(a,!0),n=this.findCenter(a),{clip:"rect("+[a.top,a.left+a.width,a.top+a.height,a.left].join("px, ")+"px)","transform-origin":n.x+"px "+n.y+"px"}},findCenter:function(t){return{x:t.left+Math.round(t.width/2),y:t.top+Math.round(t.height/2)}},setCurrent:function(t,e){var i=null;e&&(i={top:e.top,left:e.left,width:e.width,height:e.height}),t.setTransformValue("crop",i)},getCurrent:function(e,i){var n=e&&e.getTransformValue("crop");return t.isPlainObject(n)&&n.hasOwnProperty("top")&&n.hasOwnProperty("left")&&n.hasOwnProperty("width")&&n.hasOwnProperty("height")?{top:n.top,left:n.left,width:n.width,height:n.height}:this.getFullCanvasCrop(i)},getFullCanvasCrop:function(t){var e;return t?{top:0,left:0,width:(e=t.getNaturalDimensionsBeforeRotation()).width,height:e.height}:void 0},getDefaultSelection:function(t,e){var i,n=t.createTranslationUtil(),a=n.rotateCropBy90IfNecessary(n.scaleCropToNatural(t.viewportCrop,!1)),o=n.getCropOnOriginal(),r="fullscreen"===t.mode;return i={x:.1*a.width,y:.1*a.height},{top:(r?a.top:o.top)+i.y,left:(r?a.left:o.left)+i.x,width:a.width-2*i.x,height:a.height-2*i.y}}})}(jQuery),CUI.imageeditor.actions.ActionRegistry.register("crop",CUI.imageeditor.actions.Crop),function(t,e,i){"use strict";CUI.imageeditor.actions.Rotate=new Class({toString:"Rotate",extend:CUI.imageeditor.actions.Action,isAction:function(t){return"rotateright"===t||"rotateleft"===t},execute:function(t){var e=CUI.imageeditor.actions.Rotate.ROTATION_ANGLE,i=this.getCurrent(t.result);return"rotateleft"===t.action&&(e=-e),e=i+e,this.setCurrent(t.result,e),!0},setCurrent:function(t,e){t.setTransformValue("rotate",{angle:e})},getCurrent:function(e){var i=e.getTransformValue("rotate");return t.isPlainObject(i)&&i.angle||0},toCss:function(t,e,i){return{transform:"rotate("+this.getCurrent(t)+"deg)"}}})}(jQuery),CUI.imageeditor.actions.Rotate.ROTATION_ANGLE=90,CUI.imageeditor.actions.ActionRegistry.register("rotate",CUI.imageeditor.actions.Rotate),function(t,e,i){"use strict";CUI.imageeditor.actions.Flip=new Class({toString:"Flip",extend:CUI.imageeditor.actions.Action,isAction:function(t){return"fliphorizontal"===t||"flipvertical"===t},execute:function(t){var e,i=this.getCurrent(t.result),n=t.rotation%180!=0;switch(t.action){case"fliphorizontal":e=n?"vertical":"horizontal";break;case"flipvertical":e=n?"horizontal":"vertical";break;default:return!1}return i[e]=!i[e],this.setCurrent(t.result,i),!0},setCurrent:function(t,e){t.setTransformValue("flip",e)},getCurrent:function(e){var i=e.getTransformValue("flip");return t.isPlainObject(i)?{vertical:!!i.vertical,horizontal:!!i.horizontal}:{vertical:!1,horizontal:!1}},toCss:function(t,e,i){var n=this.getCurrent(t);return{transform:" scaleX("+(n.horizontal?"-1":"1")+") scaleY("+(n.vertical?"-1":"1")+")"}}})}(jQuery),CUI.imageeditor.actions.ActionRegistry.register("flip",CUI.imageeditor.actions.Flip),function(t,e,i){"use strict";CUI.imageeditor.actions.Map=new Class({toString:"Map",extend:CUI.imageeditor.actions.Action,MIN_SIZE:40,isAction:function(t){return"maplaunch"===t||"mapunlaunch"===t||"mapconfirm"===t||"maprectangle"===t||"mapcircle"===t||"mappolygon"===t},execute:function(t){switch(t.action){case"maplaunch":return this.launchMap(t);case"mapunlaunch":return this.unlaunchMap(t);case"mapconfirm":return this.confirmMap(t);case"maprectangle":return this.startRectangleArea(t);case"mapcircle":return this.startCircleArea(t);case"mappolygon":return this.startPolygonArea(t)}},launchMap:function(e){this.isActive=!0,e.editor.togglePinchZooming(!1),this.areas=this.getCurrent(e.result),this.drawAreas(e),e.ui.on("click.map deselect_click.map",t.proxy(this.tryToSelectAreaOrUnselect,this,e)),e.ui.on("second_click.map",t.proxy(this.togglePopover,this,e)),this.getMapCont(e.element).on("update.map",t.proxy(this.closePopover,this))},unlaunchMap:function(t){this.isActive=!1,this.unselectCurrentArea(t),this.areas=[],this.drawAreas(t),t.ui.off(".map"),this.getMapCont(t.element).off(".map"),t.editor.togglePinchZooming(!0)},confirmMap:function(t){this.unselectCurrentArea(t),this.setCurrent(t.result,this.areas),this.unlaunchMap(t)},startRectangleArea:function(t){this.unselectCurrentArea(t),this.currentArea={alt:"",href:"",target:"",selection:this.getDefaultNewSelection(t),shape:"rect"},this.selectCurrentArea(t)},startCircleArea:function(t){this.unselectCurrentArea(t),this.currentArea={alt:"",href:"",target:"",selection:this.getDefaultNewSelection(t),shape:"circle"},this.selectCurrentArea(t)},startPolygonArea:function(t){this.unselectCurrentArea(t),this.currentArea={alt:"",href:"",target:"",points:this.getDefaultNewPoints(t),shape:"polygon"},this.selectCurrentArea(t)},getDefaultNewSelection:function(t){var e=t.createTranslationUtil().scaleCropToNatural(t.viewportCrop,!0),i=.2*e.width,n=.2*e.height;return{top:e.top+n,left:e.left+i,width:e.width-2*i,height:e.height-2*n}},getDefaultNewPoints:function(t){var e=t.createTranslationUtil().scaleCropToNatural(t.viewportCrop,!0),i=.2*e.width,n=.2*e.height;return[{w:e.left+.5*e.width,h:e.top+n},{w:e.left+(e.width-i),h:e.top+(e.height-n)},{w:e.left+i,h:e.top+(e.height-n)}]},getCurrent:function(e){var i=e.getTransformValue("map");return i&&i.areas?t.map(i.areas,(function(e){return t.extend(!0,{},e)})):[]},setCurrent:function(t,e){e?t.setTransformValue("map",{areas:e}):t.setTransformValue("map",null)},getMapCont:function(t){return t.parent().find(".imageeditor-controls-map-areas")},drawAreas:function(e){var i,n,a,o,r,s=e.createTranslationUtil(),l=this.getMapCont(e.element),c=s.translate(s.getZoomedCropBeforeRotation(),"zoomed"),u=this.getPolygonOutlineStyling(e);if(l.html(""),this.areas)for(l.css({width:c.width,height:c.height}).position({of:e.element,my:"left top",at:"left+"+c.left+" top+"+c.top,collision:"none"}),a=0;a<this.areas.length;a++)"polygon"===(i=this.areas[a]).shape?((n=t("<canvas/>",{class:"imageeditor-map-canvas",width:c.width,height:c.height}))[0].width=c.width,n[0].height=c.height,r=i.points,r=s.translatePoints(r,"toZoomed"),n.polygon().data("polygon").paintPolygonWithPoints(n,r,u),l.append(n)):(n=t("<div/>",{class:"imageeditor-controls-map-area"}),l.append(n),o=s.scaleCropToZoomed(i.selection),n.css({top:o.top,left:o.left,width:o.width,height:o.height,borderRadius:"circle"===i.shape?"50%":void 0}))},getPolygonOutlineStyling:function(e){var i,n=t(this.getMapCont(e.element).parent()).find(".imageeditor-imagemap-polygon-helper"),a=n.css("border-top-width");return i=t("<div/>",{width:a}).width(),{strokeStyle:n.css("border-top-color"),lineWidth:i}},isCurrentlySelectedArea:function(t){return this.currentImageSelect&&this.currentArea===t},tryToSelectAreaOrUnselect:function(e,i){if(!(i&&t(i.target).parents(".imageeditor-popover").length||i&&t(i.target).parents(".imageeditor-imagemap-holder").length)){var n,a,o,r,s=!1,l=e.createTranslationUtil(),c=t("<div/>").polygon().data("polygon"),u=CUI.imageeditor.UIUtils.getEventCoordinatesPageRelative(i),h=this.getMapCont(e.element).offset(),d={w:u.x-h.left,h:u.y-h.top};for(i.preventDefault(),i.stopPropagation(),a=0;a<this.areas.length;a++)if(s=!1,"polygon"===(n=this.areas[a]).shape?(r=c.pointsToVectors(l.translatePoints(n.points,"toZoomed")),s=c.isPointInsideOrOnEdgeOfPolygon([d.w,d.h],r)):(o=l.scaleCropToZoomed(n.selection),s=c.isCoordsInBoundingBox(o,d.w,d.h)),s){this.isCurrentlySelectedArea(n)||this.createSelectionFromArea(a,e);break}s||this.unselectCurrentArea(e)}},createSelectionFromArea:function(t,e){var i=this.areas[t];this.unselectCurrentArea(e),this.currentArea=i,this.areas.splice(t,1),this.drawAreas(e),this.selectCurrentArea(e)},selectCurrentArea:function(t){var e,i=t.createTranslationUtil();if("polygon"===this.currentArea.shape)e={instance:!0,classPrefix:"imageeditor-imagemap-",parent:t.element.parent().find(".imageeditor-controls"),points:i.translatePoints(this.currentArea.points,"toZoomed")},this.currentImageSelect=this.getMapCont(t.element).imageSelectPolygon(e);else{switch(e={instance:!0,classPrefix:"imageeditor-imagemap-",parent:t.element.parent().find(".imageeditor-controls"),min:this.MIN_SIZE,selection:i.scaleCropToZoomed(this.currentArea.selection)},this.currentArea.shape){case"rect":e.shape="rectangle";break;case"circle":e.shape="ellipse",e.aspectRatio=1}this.currentImageSelect=this.getMapCont(t.element).imageSelect(e)}},unselectCurrentArea:function(t){this.currentImageSelect&&("polygon"===this.currentArea.shape?this.currentArea.points=t.createTranslationUtil().translatePoints(this.currentImageSelect.getPoints(),"toNatural"):this.currentArea.selection=t.createTranslationUtil().scaleCropToNatural(this.currentImageSelect.getSelection()),this.areas.push(this.currentArea),this.removeCurrentSelection(t))},removeCurrentSelection:function(t){this.currentImageSelect&&(this.currentImageSelect.destroy(),this.currentImageSelect=null,this.closePopover(),this.drawAreas(t))},togglePopover:function(t){this.currentImageSelect&&(this.currentPopover||this.createPopover(t),this.currentPopover.get("visible")?this.closePopover():this.openPopover(t))},createPopover:function(e){var i,n={},a=!1,o=t.extend({},CUI.imageeditor.actions.Map.DEFAULT_OPTIONS,this.config);o.pathbrowser=t.extend({},CUI.imageeditor.actions.Map.DEFAULT_OPTIONS.pathbrowser,o.pathbrowser),o.pathbrowser.type&&("picker"===o.pathbrowser.type?(n.pathbrowserPicker=!0,a=!0):"autocomplete"===o.pathbrowser.type&&(n.pathbrowserAutocomplete=!0,a=!0)),a?n.pathbrowser=t.extend({},o.pathbrowser):n.noPathbrowser=!0,i=t("<div>",{class:"imageeditor-popover"}).html(this.editor.templates.get("map-popover")(n,this.getTemplateOptions())),t(".imageeditor-controls").append(i);var r=t(t(i).find(".pathbrowser"));r.length&&r.pathBrowser(n.pathbrowser),i.trigger("cui-contentloaded"),this.currentPopover=new CUI.Popover({element:i,pointFrom:"top",preventAutoHide:!0})},updateAndGetBoundingBoxDiv:function(e){var i,n=this.currentImageSelect.getBoundingBox(),a=this.getMapCont(e.element);return(i=a.find(".imageeditor-map-polygon-bounding-box")).length||((i=t("<div/>",{class:"imageeditor-map-polygon-bounding-box"})).css({position:"absolute"}),a.append(i)),i.css({top:n.top,left:n.left,width:n.width,height:n.height}),i},openPopover:function(e){var i;if(this.currentPopover&&this.currentImageSelect){i="polygon"===this.currentArea.shape?this.updateAndGetBoundingBoxDiv(e):this.currentImageSelect.$selection,this.currentPopover.set("pointAt",i).show();var n,a=this.currentPopover.get("element"),o=this.currentArea;n=o,a.find("[name]").each((function(){var e=t(this),i=e.attr("type"),a=e.attr("name"),o=n[a]||"";if("radio"===i||"checkbox"===i)e.attr("value")===o?e.prop("checked",!0):e.prop("checked",!1),e.change();else if(e.val(o).change(),e.is("select")){var r=e.closest(".coral-Select").data("select");r&&r._handleNativeSelect()}})),a.on("click.map",".imageeditor-map-delete",t.proxy(this.removeCurrentSelection,this,e)).on("click.map",".imageeditor-map-unlaunch",t.proxy(this.metaDataAbort,this)).on("click.map",".imageeditor-map-confirm",t.proxy(this.metaDataConfirm,this))}},closePopover:function(){this.currentPopover&&(this.currentPopover.get("element").off(".map").find(":focus").blur(),this.closeSelect(),this.currentPopover.hide())},metaDataConfirm:function(e){if(this.currentPopover&&this.currentArea){var i,n=this.currentArea,a=this.currentPopover.get("element");i=n,a.find("[name]").each((function(){var e=t(this),n=e.attr("type"),a=e.attr("name"),o=e.val();"radio"===n||"checkbox"===n?e.prop("checked")&&(i[a]=o):i[a]=o})),this.closePopover()}},metaDataAbort:function(t){this.closePopover()},closeSelect:function(){var t=this.currentPopover.get("element").find(".coral-SelectList");t.length&&t.data("selectList").hide()},reposition:function(t){this.getMapCont(t).position({of:t,my:"left top",at:"left top",collision:"none"}),this.currentPopover&&this.currentPopover.get("visible")&&this.currentPopover.hide().show()},toCss:function(t,e,i){this.isActive&&this.reposition(e)}}),CUI.imageeditor.actions.Map.DEFAULT_OPTIONS={pathbrowser:{type:null,rootPath:"/",showTitles:!1,optionLoader:function(t){return[]},optionLoaderRoot:null,optionValueReader:function(t){return""+t},optionTitleReader:function(t){return""+t},pickerSrc:"/libs/wcm/core/content/common/pathbrowser/column.html/?predicate=hierarchyNotFile",pickerTitle:"Choose a target path",picketCrumbRoot:{title:"Root",icon:"coral-Icon-home"}}}}(jQuery),CUI.imageeditor.actions.ActionRegistry.register("map",CUI.imageeditor.actions.Map),function(t,e,i){"use strict";CUI.imageeditor.actions.History=new Class({toString:"History",extend:CUI.imageeditor.actions.Action,isAction:function(t){return"undo"===t||"redo"===t},execute:function(t){switch(t.action){case"undo":t.result.undo();break;case"redo":t.result.redo()}return!0},toCss:function(t,e,i){}})}(jQuery),CUI.imageeditor.actions.ActionRegistry.register("history",CUI.imageeditor.actions.History),function(t,e,i){"use strict";CUI.imageeditor.actions.Fullscreen=new Class({toString:"Fullscreen",extend:CUI.imageeditor.actions.Action,isAction:function(t){return"fullscreen"===t||"fullscreenexit"===t},execute:function(t){return!0},toCss:function(t,e,i){}})}(jQuery),CUI.imageeditor.actions.ActionRegistry.register("fullscreen",CUI.imageeditor.actions.Fullscreen),function(t,e,i){"use strict";CUI.imageeditor.actions.Zoom=new Class({toString:"Zoom",extend:CUI.imageeditor.actions.Action,isAction:function(t){var e=t.toLowerCase();return"zoompopupslider"===e||"zoomreset100"===e},execute:function(t){switch(t.action.toLowerCase()){case"zoompopupslider":return this.popupSlider(t);case"zoomreset100":return this.reset100(t)}},popupSlider:function(t){this.popover&&this.popover.get("visible")?this.closeSliderPopover(t):this.openSliderPopover(t)},openSliderPopover:function(e){var i,n;this.clickTarget||(i=t("<div>",{class:"imageeditor-clicktarget"}),t(".imageeditor-controls").append(i),i.on("click",this,this.clickTargetClicked),this.clickTarget=i),this.popover||(n=t("<div>",{class:"imageeditor-popover imageeditor-toolbar-popover coral-Popover"}).html(this.editor.templates.get("zoomslider-popover")(this.getZoomLimits(e))),t(".imageeditor-controls").append(n),n.trigger("cui-contentloaded"),this.popover=new CUI.Popover({element:n,pointFrom:"bottom"}),this.getSlider().on("change",t.proxy(this.sliderChanged,this,e.value))),this.clickTarget.show(),this.getSlider().setValue(Math.round(100*e.editor.getZoomFactor())),this.popover.set("pointAt",e.ui.find(".coral-Icon--search:visible").closest(".coral-Button")).show()},getZoomLimits:function(t){var e=t.editor.getZoomLimits();return{zoomMin:Math.round(100*e[0]),zoomMax:Math.round(100*e[1])}},getSlider:function(){return t(this.popover.$element.find("div.coral-Slider")).data("slider")},closeSliderPopover:function(t){this.popover&&this.popover.hide(),this.clickTarget&&this.clickTarget.hide()},clickTargetClicked:function(t){t.stopPropagation(),setTimeout((function(){t.data.closeSliderPopover()}),300)},reset100:function(t){t.editor.zoom(1)},sliderChanged:function(e,i){var n=t(i.target).val();e.editor.zoom(.01*n)},toCss:function(t,e,i){}}),CUI.imageeditor.actions.ActionRegistry.register("zoom",CUI.imageeditor.actions.Zoom)}(jQuery),function(t,e,i){"use strict";CUI.imageeditor.plugins.Plugin=new Class({features:null,pluginId:null,editor:null,config:null,construct:function(t,e){this._init(t,e)},_init:function(t,e){this.editor=t,this.pluginId=e},notifyPluginConfig:function(t){this.config=t},getFeatures:function(){return this.features},isFeatureEnabled:function(e){return-1!==t.inArray(e,this.getFeatures())&&(!this.config||!this.config.features||(t.isArray(this.config.features)?-1!==t.inArray(e,this.config.features):"*"===this.config.features||"-"!==this.config.features))},initializeUI:function(t){},execute:function(t,e,i){},registerTransformFields:function(t){return null},getString:function(t){return this.editor.i18n.get(this.pluginId+"."+t)},getTooltip:function(t){return this.getString("toolbar."+t)}})}(jQuery),function(t,e,i){"use strict";var n;CUI.imageeditor.plugins.PluginRegistry=(n={},{register:function(t,e){n[t]=e},createRegisteredPlugins:function(t){var e,i,a={};for(e in n)n.hasOwnProperty(e)&&(i=new n[e](t,e),i=CUI.imageeditor.Utils.onPluginCreated(i),a[e]=i);return a}})}(jQuery),function(t,e,i){"use strict";CUI.imageeditor.plugins.Crop=new Class({toString:"Crop",extend:CUI.imageeditor.plugins.Plugin,features:["launch","launchwithratio","unlaunch","confirm"],initializeUI:function(t){var e;this.isFeatureEnabled("launch")&&(e=t.createItem("launch",this.getTooltip("launch"),this),t.registerItem(e,"crop")),this.isFeatureEnabled("launchwithratio")&&(e=t.createItem("launchwithratio",this.getTooltip("launchwithratio"),this),t.registerItem(e,"crop")),e=t.createItem("identifier",this.getTooltip("identifier"),this),t.registerItem(e,"crop",CUI.imageeditor.Theme.TOOLBARITEM_SELECTED_CLASS),this.isFeatureEnabled("unlaunch")&&(e=t.createItem("unlaunch",this.getTooltip("unlaunch"),this),t.registerItem(e,"close")),this.isFeatureEnabled("confirm")&&(e=t.createItem("confirm",this.getTooltip("confirm"),this),t.registerItem(e,"check"))},execute:function(e,i){"launch"===e&&(t.each(this.editor.toolbars,(function(t,e){e.switchToolbar(CUI.imageeditor.plugins.Crop.TOOLBAR_ID)})),this.editor.relayAction("croplaunch",i)),"launchwithratio"===e&&this.editor.relayAction("croplaunchwithratio",this),"unlaunch"===e&&(t.each(this.editor.toolbars,(function(t,e){this.switchToPrimaryToolbar()})),this.editor.relayAction("cropunlaunch",i)),"confirm"===e&&(t.each(this.editor.toolbars,(function(t,e){this.switchToPrimaryToolbar()})),this.editor.relayAction("cropconfirm",i)),"removecrop"===e&&this.editor.relayAction("cropremovecrop",i)},getAspectRatios:function(){if(t.isPlainObject(this.config)&&t.isArray(this.config.aspectRatios))return this.config.aspectRatios;var e=this,i=CUI.imageeditor.plugins.Crop.ASPECT_RATIOS;return t.map(i,(function(t){return{ratio:t.ratio,name:e.getString("aspect_ratios."+t.name)}}))},registerTransformFields:function(t){t.registerTransformField("crop")}})}(jQuery),CUI.imageeditor.plugins.Crop.TOOLBAR_ID="crop",CUI.imageeditor.plugins.Crop.ASPECT_RATIOS=[{name:"free_hand",ratio:0},{name:"2_to_3",ratio:.67},{name:"3_to_5",ratio:.6},{name:"16_to_9",ratio:.5625},{name:"square",ratio:1}],CUI.imageeditor.plugins.PluginRegistry.register("crop",CUI.imageeditor.plugins.Crop),function(t,e,i){"use strict";CUI.imageeditor.plugins.Rotate=new Class({toString:"Rotate",extend:CUI.imageeditor.plugins.Plugin,features:["left","right"],initializeUI:function(t){var e;this.isFeatureEnabled("left")&&(e=t.createItem("left",this.getTooltip("left"),this),t.registerItem(e,"rotateLeft")),this.isFeatureEnabled("right")&&(e=t.createItem("right",this.getTooltip("right"),this),t.registerItem(e,"rotateRight"))},execute:function(t,e){"right"===t&&this.editor.relayAction("rotateright",e),"left"===t&&this.editor.relayAction("rotateleft",e)},registerTransformFields:function(t){t.registerTransformField("rotate")}})}(jQuery),CUI.imageeditor.plugins.PluginRegistry.register("rotate",CUI.imageeditor.plugins.Rotate),function(t,e,i){"use strict";CUI.imageeditor.plugins.Flip=new Class({toString:"Flip",extend:CUI.imageeditor.plugins.Plugin,features:["horizontal","vertical"],initializeUI:function(t){var e;this.isFeatureEnabled("horizontal")&&(e=t.createItem("horizontal",this.getTooltip("horizontal"),this),t.registerItem(e,"reflectHorizontal")),this.isFeatureEnabled("vertical")&&(e=t.createItem("vertical",this.getTooltip("vertical"),this),t.registerItem(e,"reflectVertical"))},execute:function(t,e){switch(t){case"horizontal":this.editor.relayAction("fliphorizontal",e);break;case"vertical":this.editor.relayAction("flipvertical",e)}},registerTransformFields:function(t){t.registerTransformField("flip")}})}(jQuery),CUI.imageeditor.plugins.PluginRegistry.register("flip",CUI.imageeditor.plugins.Flip),function(t,e,i){"use strict";CUI.imageeditor.plugins.Map=new Class({toString:"Map",extend:CUI.imageeditor.plugins.Plugin,features:["launch","unlaunch","confirm","rectangle","circle","polygon"],initializeUI:function(t){var e;this.isFeatureEnabled("launch")&&(e=t.createItem("launch",this.getTooltip("launch"),this),t.registerItem(e,"imageMap")),this.isFeatureEnabled("rectangle")&&(e=t.createItem("rectangle",this.getTooltip("rectangle"),this),t.registerItem(e,"imageMapRectangle")),this.isFeatureEnabled("circle")&&(e=t.createItem("circle",this.getTooltip("circle"),this),t.registerItem(e,"imageMapCircle")),this.isFeatureEnabled("polygon")&&(e=t.createItem("polygon",this.getTooltip("polygon"),this),t.registerItem(e,"imageMapPolygon")),this.isFeatureEnabled("unlaunch")&&(e=t.createItem("unlaunch",this.getTooltip("unlaunch"),this),t.registerItem(e,"close")),this.isFeatureEnabled("confirm")&&(e=t.createItem("confirm",this.getTooltip("confirm"),this),t.registerItem(e,"check"))},execute:function(e,i){"launch"===e?(t.each(this.editor.toolbars,(function(t,e){e.switchToolbar(CUI.imageeditor.plugins.Map.TOOLBAR_ID)})),this.editor.relayAction("maplaunch",i)):"unlaunch"===e||"confirm"===e?(t.each(this.editor.toolbars,(function(t,e){this.switchToPrimaryToolbar()})),this.editor.relayAction("map"+e,i)):"rectangle"===e?this.editor.relayAction("maprectangle",i):"circle"===e?this.editor.relayAction("mapcircle",i):"polygon"===e&&this.editor.relayAction("mappolygon",i)},registerTransformFields:function(t){t.registerTransformField("map",[])}})}(jQuery),CUI.imageeditor.plugins.Map.TOOLBAR_ID="map",CUI.imageeditor.plugins.PluginRegistry.register("map",CUI.imageeditor.plugins.Map),function(t,e,i){"use strict";CUI.imageeditor.plugins.Control=new Class({toString:"Control",extend:CUI.imageeditor.plugins.Plugin,features:["close","finish"],initializeUI:function(t){var e;this.isFeatureEnabled("close")&&(e=t.createItem("close",this.getTooltip("close"),this),t.registerItem(e,"close",CUI.imageeditor.Theme.TOOLBARITEM_MODECHANGER_CLASS)),this.isFeatureEnabled("finish")&&(e=t.createItem("finish",this.getTooltip("finish"),this),t.registerItem(e,"check",CUI.imageeditor.Theme.TOOLBARITEM_MODECHANGER_CLASS))},execute:function(t,e,i){"close"===t?this.editor.cancel():"finish"===t&&this.editor.finish()}})}(jQuery),CUI.imageeditor.plugins.PluginRegistry.register("control",CUI.imageeditor.plugins.Control),function(t,e,i){"use strict";CUI.imageeditor.plugins.Fullscreen=new Class({toString:"Fullscreen",extend:CUI.imageeditor.plugins.Plugin,features:["fullscreen","fullscreenexit"],initializeUI:function(t){var e;this.isFeatureEnabled("fullscreen")&&(e=t.createItem("fullscreen",this.getTooltip("fullscreen"),this),t.registerItem(e,"fullScreen",CUI.imageeditor.Theme.TOOLBARITEM_MODECHANGER_CLASS)),this.isFeatureEnabled("fullscreenexit")&&(e=t.createItem("fullscreenexit",this.getTooltip("fullscreenexit"),this),t.registerItem(e,"fullScreenExit",CUI.imageeditor.Theme.TOOLBARITEM_MODECHANGER_CLASS))},execute:function(t,e){"fullscreen"===t?this.editor.switchToFullscreen():"fullscreenexit"===t&&this.editor.switchToInline()}})}(jQuery),CUI.imageeditor.plugins.PluginRegistry.register("fullscreen",CUI.imageeditor.plugins.Fullscreen),function(t,e,i){"use strict";CUI.imageeditor.plugins.History=new Class({toString:"History",extend:CUI.imageeditor.plugins.Plugin,features:["undo","redo"],initializeUI:function(t){var e;this.isFeatureEnabled("undo")&&(e=t.createItem("undo",this.getTooltip("undo"),this),this.notifyToolbarDecorator(e),t.registerItem(e,"undo",CUI.imageeditor.Theme.TOOLBARITEM_DISABLED_CLASS,"true")),this.isFeatureEnabled("redo")&&(e=t.createItem("redo",this.getTooltip("redo"),this),this.notifyToolbarDecorator(e),t.registerItem(e,"redo",CUI.imageeditor.Theme.TOOLBARITEM_DISABLED_CLASS,"true")),this.transformResultDecorator()},execute:function(t,e){"undo"===t&&this.editor.relayAction("undo",e),"redo"===t&&this.editor.relayAction("redo",e)},transformResultDecorator:function(){var t=this,e=CUI.imageeditor.TransformResult.prototype.setTransformValue;(this.isFeatureEnabled("undo")||this.isFeatureEnabled("redo"))&&(CUI.imageeditor.TransformResult.prototype.setTransformValue=function(){var i;for(e.apply(this,arguments),i=t._observeHistory.undo.length-1;i>=0;i--)t._observeHistory.undo[i].toggleClass(CUI.imageeditor.Theme.TOOLBARITEM_DISABLED_CLASS,!this.history.length),t._observeHistory.undo[i].attr("aria-disabled",!this.history.length);for(i=t._observeHistory.redo.length-1;i>=0;i--)t._observeHistory.redo[i].toggleClass(CUI.imageeditor.Theme.TOOLBARITEM_DISABLED_CLASS,!this.future.length),t._observeHistory.redo[i].attr("aria-disabled",!this.future.length)})},notifyToolbarDecorator:function(t){var e=t.notifyToolbar,i=this;return this._observeHistory=this._observeHistory||{},this._observeHistory[t.id]=this._observeHistory[t.id]||[],t.notifyToolbar=function(){e.apply(this,arguments),i._observeHistory[t.id].push(this.$ui)},t}})}(jQuery),CUI.imageeditor.plugins.PluginRegistry.register("history",CUI.imageeditor.plugins.History),function(t,e,i){"use strict";CUI.imageeditor.plugins.Zoom=new Class({toString:"Zoom",extend:CUI.imageeditor.plugins.Plugin,features:["popupslider","reset100"],initializeUI:function(t){var e;this.isFeatureEnabled("popupslider")&&(e=t.createItem("popupslider",this.getTooltip("popupslider"),this),t.registerItem(e,"search")),this.isFeatureEnabled("reset100")&&(e=t.createItem("reset100",this.getTooltip("reset100"),this),t.registerItem(e,"compare"))},execute:function(t,e){"popupslider"===t&&this.editor.relayAction("zoompopupslider",this),"reset100"===t&&this.editor.relayAction("zoomreset100",this)},registerTransformFields:function(t){}}),CUI.imageeditor.plugins.Zoom.TOOLBAR_ID="zoom",CUI.imageeditor.plugins.PluginRegistry.register("zoom",CUI.imageeditor.plugins.Zoom)}(jQuery),function(t,e,i){"use strict";CUI.imageeditor.ui.ToolbarBuilder=new Class({toString:"ToolbarBuilder",groups:null,$editable:null,construct:function(t){this.registeredItems={},this.templates=t.templates},createItem:function(t,e,i){return new CUI.imageeditor.ui.ToolbarItem(t,e,i)},registerItem:function(e,i,n,a){e=t.extend({},e,{icon:i,addClasses:n,isDisabled:a}),this.registeredItems[e.action]=e},createToolbar:function(t,e){var i,n,a,o=t.$editable,r=this.getUIOptions(t,e);if(!e)throw new Error("ArgumentError - missing toolbar type");if(!r)return null;for(a in(n=CUI.imageeditor.UIUtils.getToolbars(o,e))&&0!==n.length||this._buildToolbar(o,r,e),i=new CUI.imageeditor.ui.Toolbar(o,e),this.registeredItems)this.registeredItems.hasOwnProperty(a)&&this.registeredItems[a].notifyToolbar(i);return i},_buildToolbar:function(e,i,n){var a=this.templates.get("toolbar"),o=this.templates.get("toolbar-item"),r=[];r=[];var s,l,c=i.replacementToolbars;for(s in c)c.hasOwnProperty(s)&&(l=c[s],r.push(a({ref:l.ref||s,toolbarItems:this.getToolbarItemHTML(l.items||l,o)})));var u=t(this.templates.get("toolbars")({type:n,toolbar:a({ref:"primary",toolbarItems:this.getToolbarItemHTML(i.toolbar,o)}),replacementToolbars:r})),h=CUI.imageeditor.UIUtils.getUIContainer(e),d=CUI.imageeditor.UIUtils.getToolbarContainer(h,n);t(d).append(u)},getUIOptions:function(t,e){return t&&t.ui?t.ui[e]:CUI.imageeditor.ui.DEFAULT_OPTIONS[e]},getToolbarItemHTML:function(e,i){var n,a,o,r;if(t.isArray(e))r=t.isArray(e[0])?{left:e[0],right:e.length>1?e[1]:[]}:{left:e,right:[]};else if(r={left:e.left?e.left:[],right:e.right?e.right:[]},!t.isArray(e.left)||!t.isArray(e.right))throw new Error("Argument error: Expecting object {left:[], right:[]}");for(a={left:[],right:[]},n=0;n<r.left.length;n++)(o=this.registeredItems[r.left[n]])&&a.left.push(t.trim(i(o)));for(n=0;n<r.right.length;n++)(o=this.registeredItems[r.right[n]])&&a.right.push(t.trim(i(o)));return a}})}(jQuery),CUI.imageeditor.ui.DEFAULT_OPTIONS={inline:{toolbar:["crop#launch","rotate#left","rotate#right","flip#vertical","flip#horizontal","history#undo","history#redo","fullscreen#fullscreen","control#close"],replacementToolbars:{crop:["crop#identifier","crop#unlaunch","crop#confirm"]}},fullscreen:{toolbar:{left:["crop#launchwithratio","rotate#left","rotate#right","flip#vertical","flip#horizontal","map#launch","zoom#reset100","zoom#popupslider"],right:["history#undo","history#redo","fullscreen#fullscreenexit"]},replacementToolbars:{crop:{left:["crop#identifier"],right:["crop#unlaunch","crop#confirm"]},map:{left:["map#rectangle","map#circle","map#polygon"],right:["map#unlaunch","map#confirm"]}}}},function(t,e,i){"use strict";CUI.imageeditor.ui.Toolbar=new Class({toString:"Toolbar",$ui:null,$editable:null,$container:null,$toolbars:null,construct:function(t,e){if(!e)throw new Error("ArgumentError - missing toolbar type");this.tbType=e,this.$editable=t,this.$ui=CUI.imageeditor.UIUtils.getUIContainer(this.$editable),this.$container=CUI.imageeditor.UIUtils.getToolbarContainer(this.$ui,e),this.$toolbars=CUI.imageeditor.UIUtils.getToolbars(this.$editable,this.tbType),this.autoSetToolbarWidths(),this.switchToPrimaryToolbar()},autoSetToolbarWidths:function(){var e=this;this.$toolbars.each((function(){var i=t(this).data("id");void 0!==i&&e.autoSetToolbarWidth(i)}))},autoSetToolbarWidth:function(t){this.showToolbar(t),this.setToolbarWidth(t,this.calcToolbarWidth(t)),this.hideToolbar(t)},setToolbarWidth:function(t,e){var i=this.getToolbar(t);null!==i&&i.width(e)},calcToolbarWidth:function(e){var i=this.getToolbar(e),n=0;return i.children().each((function(){n+=t(this).outerWidth(!0)})),n},show:function(){this.$container.addClass(CUI.imageeditor.Theme.IMAGEEDITOR_HIDDEN_CLASS)},hide:function(){this.$container.addClass(CUI.imageeditor.Theme.IMAGEEDITOR_HIDDEN_CLASS)},isHidden:function(){return this.$container.hasClass(CUI.imageeditor.Theme.IMAGEEDITOR_HIDDEN_CLASS)},getContainer:function(){return this.$container},getToolbar:function(e){var i=null;return this.$toolbars.each((function(){t(this).data("id")!==e||(i=t(this))})),i},getToolbars:function(){return this.$toolbars},switchToPrimaryToolbar:function(){this.switchToolbar(CUI.imageeditor.ui.Toolbar.PRIMARY_TOOLBAR_ID)},switchToolbar:function(t){this.hideToolbars(),this.showToolbar(t)},showToolbar:function(e){var i=this.getToolbar(e);null!==i&&t(i).removeClass(CUI.imageeditor.Theme.IMAGEEDITOR_HIDDEN_CLASS)},hideToolbar:function(e){var i=this.getToolbar(e);null!==i&&t(i).addClass(CUI.imageeditor.Theme.IMAGEEDITOR_HIDDEN_CLASS)},hideToolbars:function(){this.$toolbars.each((function(){t(this).addClass(CUI.imageeditor.Theme.IMAGEEDITOR_HIDDEN_CLASS)}))},startEditing:function(){this.show()},finishEditing:function(){this.hide()}})}(jQuery),CUI.imageeditor.ui.Toolbar.PRIMARY_TOOLBAR_ID="primary",function(t,e){"use strict";CUI.imageeditor.ui.ToolbarItem=new Class({toString:"ToolbarItem",$ui:null,id:null,plugin:null,title:null,toolbar:null,construct:function(t,e,i){this._init.apply(this,arguments)},_init:function(t,e,i){this.id=t,this.title=e,this.plugin=i,this.action=this.plugin.pluginId+"#"+this.id},notifyToolbar:function(e){var i=this,n=null;this.toolbar=e,n=t(e.getContainer()),this.$ui=n.find('button[data-action="'+this.action+'"]'),this.tapOrClickHandler=CUI.imageeditor.UIUtils.handleTapOrClick(this.$ui,(function(t){t.stopImmediatePropagation(),i.$ui.hasClass(CUI.imageeditor.Theme.TOOLBARITEM_DISABLED_CLASS)||i.plugin.execute(i.id),this.blur()}),{eventNamespace:"imageeditor-handler"})},createToolbarDef:function(){return{id:this.id,element:this}},destroy:function(){this.tapOrClickHandler&&this.tapOrClickHandler.off()}})}(jQuery),jQuery.fn.polygon=function(t){"use strict";var e=function(t){return!isNaN(t)},i=function(t,e){this.$element=t,this.loadOpts(e)};i.prototype.defaults={points:[]},i.prototype.loadOpts=function(e){this.options=t.extend({},this.defaults,e),this.options.points&&(this.points=this.readPoints(this.options.points))},i.prototype.readPoints=function(t){var i,n,a,o=[];if(t&&t.length)for(i=0;i<t.length;i++)n=t[i],e(n.w)&&e(n.h)&&(a={w:parseInt(n.w,10),h:parseInt(n.h,10)},o.push(a));return o},i.prototype.clearCanvas=function(t){var e=this.getCanvas(t);this.get2dContext(t).clearRect(0,0,e.width,e.height)},i.prototype.get2dContext=function(t){return this.getCanvas(t).getContext("2d")},i.prototype.getCanvas=function(t){var e=this.$element;return t&&(e=t),e.length?e[0]:e},i.prototype.paintPolygon=function(t){this.paintPolygonWithPoints(null,null,t)},i.prototype.paintPolygonWithPoints=function(e,i,n){e=this.getCanvas(e);var a,o,r=this.get2dContext(e),s=!1;if(i=i||this.points,n=t.extend({strokeStyle:"#000",fillStyle:null,lineWidth:1,lineJoin:"round"},n),i&&i.length){for(r.beginPath(),a=i[0],r.moveTo(a.w,a.h),s=!0,o=1;o<i.length;o++)a=i[o],r.lineTo(a.w,a.h);r.closePath()}s&&(n.strokeStyle&&(r.lineWidth=n.lineWidth,r.strokeStyle=n.strokeStyle,r.lineJoin=n.lineJoin,r.stroke()),n.fillStyle&&(r.fillStyle=n.fillStyle,r.fill()))},i.prototype.getPoints=function(){return this.points.slice()},i.prototype.setPoints=function(t){this.points=t},i.prototype.isCoordsInBoundingBox=function(t,e,i){var n=null;return e>=(n=t&&void 0!==t.left?t:this.getBoundingBox(t)).left&&e<=n.left+n.width&&i>=n.top&&i<=n.top+n.height},i.prototype.getBoundingBox=function(t){var e,i,n=t||this.points,a={top:Number.MAX_VALUE,bottom:Number.MIN_VALUE,left:Number.MAX_VALUE,right:Number.MIN_VALUE};if(!n||n.length<1)throw new Error("Cannot define bounding box if there are no points, handle this case differently");for(e=0;e<n.length;e++)(i=n[e]).w<a.left&&(a.left=i.w),i.w>a.right&&(a.right=i.w),i.h<a.top&&(a.top=i.h),i.h>a.bottom&&(a.bottom=i.h);return a.width=a.right-a.left,a.height=a.bottom-a.top,a},i.prototype.isPointInsideOrOnEdgeOfPolygon=function(t,e){var i,n,a,o,r=[[-6e7,t[1]],t];if(!e||e.length<3)return!1;for(n=0,a=e[e.length-1],o=0;o<e.length;o++){if(i=[a,e[o]],this.isPointOnLineSegment(t,i[0],i[1]))return!0;null!=this.intersectSegments(r,i)&&n++,a=e[o]}return n>0&&n%2==1},i.prototype.intersectSegments=function(t,e){var i=t[0],n=t[1],a=e[0],o=e[1],r=this.intersectLines(t,e);return null==r?null:!0===r?this.isWithin(a,i,o)?this.isWithin(a,n,o)?[i,n]:this.isWithin(i,a,n)?[i,a]:[i,o]:this.isWithin(a,n,o)?this.isWithin(i,a,n)?[n,a]:[n,o]:this.isWithin(i,a,n)?this.isWithin(i,o,n)?[a,o]:this.isWithin(a,i,o)?[a,i]:[a,n]:this.isWithin(i,o,n)?this.isWithin(a,i,o)?[i,o]:[n,o]:null:this.isPointOnLineSegment(r,t[0],t[1])&&this.isPointOnLineSegment(r,e[0],e[1])?r:null},i.prototype.intersectLines=function(t,e){if(2!==t.length||2!==e.length)throw new Error("Arguments invalid: Please pass 2 arrays of two vectors each");var i,n=t[0],a=t[1],o=e[0],r=e[1],s=[a[0]-n[0],a[1]-n[1]],l=[r[0]-o[0],r[1]-o[1]],c=this.vectorsEqual(s,[0,0]),u=this.vectorsEqual(l,[0,0]);return c?u?this.vectorsEqual(n,o)?n:null:this.isThreePointsOnOneLine(o,r,n)?n:null:u?this.isThreePointsOnOneLine(n,a,o)?o:null:0===s[0]&&0===l[0]||0===s[1]&&0===l[1]||this.floatsEqual(s[0]/l[0],s[1]/l[1])?!!this.isThreePointsOnOneLine(n,a,o)||null:(i=(s[0]*(n[1]-o[1])+s[1]*(o[0]-n[0]))/(s[0]*l[1]-s[1]*l[0]),[o[0]+i*l[0],o[1]+i*l[1]])},i.prototype.filterLineSegmentsNextToPointAndSortByDistance=function(t,e){var i,n,a,o,r=[];for(i=0;i<e.length;i++)n=e[i],a=this.projectPointOntoLine(t,n[0],n[1]),this.isPointOnLineSegment(a,n[0],n[1])&&(o=[a[0]-t[0],a[1]-t[1]],r.push({line:n,projection:a,distance:this.vectorNorm(o)}));return r.sort((function(t,e){return t.distance-e.distance})),r},i.prototype.projectPointOntoLine=function(t,e,i){var n,a,o;return e[0]===i[0]&&e[1]===i[1]?[e[0]-t[0],e[1]-t[1]]:(o=((a=0===(n=[e[0]-i[0],e[1]-i[1]])[1]?[0,1]:[1,n[0]/n[1]*-1])[1]*(e[0]-t[0])+a[0]*(t[1]-e[1]))/(a[0]*n[1]-a[1]*n[0]),[e[0]+o*n[0],e[1]+o*n[1]])},i.prototype.isPointOnLineSegment=function(t,e,i){return!!this.isThreePointsOnOneLine(t,e,i)&&(e[0]!==i[0]?this.isWithin(e[0],t[0],i[0]):this.isWithin(e[1],t[1],i[1]))},i.prototype.isThreePointsOnOneLine=function(t,e,i){return this.floatsEqual((e[0]-t[0])*(i[1]-t[1]),(i[0]-t[0])*(e[1]-t[1]))},i.prototype.isWithin=function(t,e,i){return t<=e&&e<=i||i<=e&&e<=t},i.prototype.floatsEqual=function(t,e,i){return void 0===i&&(i=1e-9),t===e||Math.abs((t-e)/e)<=i},i.prototype.vectorNorm=function(t){return Math.sqrt(this.dotProduct(t,t))},i.prototype.dotProduct=function(t,e){var i,n=0;if(t.length!==e.length)throw new Exception("a and b have differing length");for(i=0;i<t.length;i++)n+=t[i]*e[i];return n},i.prototype.pointsToVectors=function(t){var e,i;if("object"==typeof t){if(void 0!==t.length){for(e=[],i=0;i<t.length;i++)e.push(this.pointsToVectors(t[i]));return e}return void 0!==t.w?[t.w,t.h]:[t.x,t.y]}},i.prototype.vectorsEqual=function(t,e){var i;if(t.length!==e.length)return!1;for(i=0;i<t.length;i++)if(!this.floatsEqual(t[i],e[i]))return!1;return!0},i.prototype.pointsToLineSegmentsWithVectors=function(t){var e,i=this.pointsToVectors(t),n=[];if(!i||i.length<2)return[];if(2===i.length)return n.push([i[0],i[1]]),n;for(e=1;e<i.length;e++)n.push([i[e-1],i[e]]);return n.push([i[i.length-1],i[0]]),n};return function(e){return e=e||{},this.each((function(){var n=t(this),a=n.data("polygon");e.call?a&&a[e.call].call(a,e):a?a.loadOpts(e):(a=new i(n,e),n.data("polygon",a))})),e&&e.instance?this.eq(0).data("polygon"):this}}(jQuery),jQuery.fn.imageSelect=function(t){"use strict";var e={NAMESPACE:".imageSelect"};e.CLICK="click"+e.NAMESPACE,e.RESIZE="resize"+e.NAMESPACE,e.MOUSEDOWN="touchstart"+e.NAMESPACE+" mousedown"+e.NAMESPACE,e.MOUSEUP="touchend"+e.NAMESPACE+" touchcancel"+e.NAMESPACE+" mouseup"+e.NAMESPACE,e.MOUSEMOVE="touchmove"+e.NAMESPACE+" mousemove"+e.NAMESPACE,e.OPEN="open",e.CLOSE="close",e.UPDATE="update",e.SECOND_CLICK="second_click";var i=["rectangle","ellipse"],n=function(t){return!isNaN(t)},a=function(t){return t.stopPropagation(),t.preventDefault(),!1},o=function(t){return t.originalEvent.touches?{x:t.originalEvent.touches[0].pageX,y:t.originalEvent.touches[0].pageY}:{x:t.pageX,y:t.pageY}},r=function(t,e,i,n){return t.width=Math.min(e.width,t.width),t.height=Math.min(e.height,t.height),void 0!==i&&(t.width=Math.max(i.width,t.width),t.height=Math.max(i.height,t.height)),void 0!==n&&0!==n&&(t.height>Math.round(t.width*n)?t.height=Math.floor(t.width*n):t.width=Math.floor(t.height/n)),t.left=Math.max(e.left,t.left),t.left=Math.min(e.left+e.width-t.width,t.left),t.top=Math.max(e.top,t.top),t.top=Math.min(e.top+e.height-t.height,t.top),t},s=/matrix\(([^,]+), ([^,]+), ([^,]+), ([^,]+), ([^,]+), ([^,]+)\)/,l=/matrix3d\(([^,]+), ([^,]+), ([^,]+), ([^,]+), ([^,]+), ([^,]+), ([^,]+), ([^,]+), ([^,]+), ([^,]+), ([^,]+), ([^,]+), ([^,]+), ([^,]+), ([^,]+), ([^,]+)\)/,c=function(t){var e=parseFloat(t);if(isNaN(e))throw new Error("Number is not a float");return Math.round(e)},u=function(e,i){if(2!==e.length||2!==e[0].length||2!==e[1].length)throw new Error("Expecting 2x2 matrix");if(void 0===i.x||void 0===i.y)throw new Error("Expecting point to be object like {x: 0, y: 0}");return t.extend({},i,{x:i.x*e[0][0]+i.y*e[0][1],y:i.x*e[1][0]+i.y*e[1][1]})},h=function(t,e){this.$element=t,this.open(e)};h.prototype.defaults={classPrefix:"image-select-",parent:null,min:40,selection:null},h.prototype.init=function(e){this.options=t.extend({},this.defaults,e),this.matrix=function(e){var i,n=t(e).css("transform");try{if(i=n.match(s))return[[c(i[1]),c(i[2])],[c(i[3]),c(i[4])]];if(i=n.match(l))return[[c(i[1]),c(i[5])],[c(i[2]),c(i[6])]];if("none"===n)return[[1,0],[0,1]]}catch(t){}return window.console&&window.console.log&&window.console.log("ImageEditor: Could not parse matrix string",n),[[1,0],[0,1]]}(this.$element),this.canvas=this.options.canvas||this.canvas||{top:0,left:0,width:this.$element.width(),height:this.$element.height()},this.readSelectionFromOptions(),this.readAspectRatioFromOptions(),r(this.selection,this.canvas,this.min,this.aspectRatio)},h.prototype.readSelectionFromOptions=function(){-1===t.inArray(this.options.shape,i)?this.shape=i[0]:this.shape=this.options.shape;var e=this.options.selection;e&&n(e.top)&&n(e.height)&&n(e.left)&&n(e.width)?this.selection={top:parseInt(e.top,10),left:parseInt(e.left,10),width:parseInt(e.width,10),height:parseInt(e.height,10)}:this.selection=this.selection||{top:this.canvas.top+50,left:this.canvas.left+50,width:this.canvas.width-100,height:this.canvas.height-100}},h.prototype.readAspectRatioFromOptions=function(){var t=this.options.min;this.options.aspectRatio&&(this.aspectRatio=parseFloat(this.options.aspectRatio)),this.aspectRatio||(this.aspectRatio=0),this.fixedAspectRatio=0!==this.aspectRatio,this.fixedAspectRatio?this.aspectRatio>1?this.min={width:t,height:t*this.aspectRatio}:this.min={width:t/this.aspectRatio,height:t}:this.min={width:t,height:t}},h.prototype.cssClass=function(t){return this.options.classPrefix+t},h.prototype.createDiv=function(e){return t("<div>").addClass(this.cssClass(e))},h.prototype.buildUI=function(){if(this.$holder=this.createDiv("holder").css({width:this.$element.width(),height:this.$element.height()}).addClass(this.cssClass(this.shape)),this.$backdrop=this.createDiv("backdrop").css({width:this.canvas.width,height:this.canvas.height,top:this.canvas.top,left:this.canvas.left}),this.$holder.append(this.$backdrop),this.$selection=this.createDiv("selection"),this.$holder.append(this.$selection),this.handleDragging(this.$selection,this.handleCenter),"rectangle"===this.shape){var i=this.createDiv("guideline").addClass(this.cssClass("guideline-vertical"));this.$selection.append(i);var n=this.createDiv("guideline").addClass(this.cssClass("guideline-horizontal"));this.$selection.append(n),this.fixedAspectRatio||(this.createHandle({top:"0",left:"50%"},this.handleTop),this.createHandle({top:"50%",left:"100%"},this.handleRight),this.createHandle({top:"100%",left:"50%"},this.handleBottom),this.createHandle({top:"50%",left:"0"},this.handleLeft)),this.createHandle({top:"0",left:"100%"},this.handleTopRight),this.createHandle({top:"100%",left:"100%"},this.handleBottomRight),this.createHandle({top:"100%",left:"0"},this.handleBottomLeft),this.createHandle({top:"0",left:"0"},this.handleTopLeft)}else"ellipse"===this.shape&&this.createHandle({top:"86%",left:"86%"},this.handleBottomRight);this.updateUI(!1),this.options.parent?t(this.options.parent).append(this.$holder):this.$element.after(this.$holder),this.repositionUI(),this.options.applyTransformations&&this.applyTransformationsToUI(),this.$element.trigger(e.OPEN,this),this.$backdrop.on(e.CLICK,a),this.$selection.on(e.CLICK,this,a),t(window).on(e.RESIZE,this,this.repositionUI)},h.prototype.repositionUI=function(t){var e=t?t.data:this;e.$holder.position({of:e.$element,at:"center",my:"center"})},h.prototype.applyTransformationsToUI=function(t){var e=function(t){try{var e=t.match(/matrix\(([^)]+)\)/);if(e){for(var i=e[1].split(/, ?/),n=[],a=0;a<i.length;a++){var o=i[a];if(o.indexOf("e")>-1||o.indexOf("E")>-1){var r=parseFloat(o);if(isNaN(r))throw new Error("Not a number: '"+o+"'");n.push(""+r.toFixed(19))}else n.push(o)}return"matrix("+n.join(", ")+")"}}catch(t){}return t}(this.$element.css("transform"));if(this.$holder.css({transform:e,"-webkit-transform":e}),0===u(this.matrix,{x:1,y:0}).x){var i=(this.$element.width()-this.$element.height())/2;this.$holder.css({"margin-top":+i,"margin-right":-i,"margin-bottom":+i,"margin-left":-i})}},h.prototype.ensureSelectionIsInReasonableBounds=function(t){t.width=Math.max(this.min.width,t.width),t.width=Math.min(this.canvas.width,t.width),t.height=Math.max(this.min.height,t.height),t.height=Math.min(this.canvas.height,t.height),t.top=Math.max(this.canvas.top,t.top),t.top=Math.min(this.canvas.top+this.canvas.height-t.height,t.top),t.left=Math.max(this.canvas.left,t.left),t.left=Math.min(this.canvas.left+this.canvas.width-t.width,t.left)},h.prototype.enforceAspectRatio=function(t,e){return this.fixedAspectRatio?(t.height>Math.round(t.width*this.aspectRatio)?t.height=Math.floor(t.width*this.aspectRatio):t.width=Math.floor(t.height/this.aspectRatio),e&&e.call(this),t):t},h.prototype.updateUI=function(i){this.previousSelection&&this.previousSelection.top===this.selection.top&&this.previousSelection.left===this.selection.left&&this.previousSelection.width===this.selection.width&&this.previousSelection.height===this.selection.height||(this.$backdrop&&this.$backdrop.css({"border-top-width":this.selection.top-this.canvas.top,"border-right-width":this.canvas.left+this.canvas.width-(this.selection.left+this.selection.width),"border-bottom-width":this.canvas.top+this.canvas.height-(this.selection.top+this.selection.height),"border-left-width":this.selection.left-this.canvas.left}),this.$selection&&this.$selection.css({top:this.selection.top-2+"px",left:this.selection.left-2+"px",width:this.selection.width+"px",height:this.selection.height+"px"}),this.previousSelection=t.extend({},this.selection),!1!==i&&this.$element.trigger(e.UPDATE,this.getSelection()))},h.prototype.createHandle=function(t,e){var i=this.createDiv("handle").css(t);this.$selection.append(i),this.handleDragging(i,e)},h.prototype.handleDragging=function(i,n){var a=this;i.on(e.MOUSEDOWN,(function(r){if(1===r.which||0===r.which){r.preventDefault(),r.stopPropagation();var s={},l=o(r),c=t.extend({},a.selection);t("body").on(e.MOUSEMOVE,(function(t){t.preventDefault();var e=o(t);s.x=e.x-l.x,s.y=e.y-l.y,s.timeout||(s.timeout=setTimeout((function(){delete s.timeout,s.moved=!0,a.handleDrag(u(a.matrix,s),c,n)}),50))})).one(e.MOUSEUP,(function(){t(this).off(e.MOUSEMOVE).off(e.MOUSEUP),a.showAllHandles(),s.moved||a.$element.trigger(e.SECOND_CLICK,a)})),a.hideOtherHandles(i)}}))},h.prototype.hideOtherHandles=function(t){this.$selection.find("."+this.cssClass("handle")).not(t).addClass(this.cssClass("handle-other")),t.addClass(this.cssClass("handle-selected"))},h.prototype.showAllHandles=function(){this.$selection.find("."+this.cssClass("handle")).removeClass(this.cssClass("handle-other")).removeClass(this.cssClass("handle-selected"))},h.prototype.handleDrag=function(t,e,i){var n=i.call(this,t,e);n&&(this.selection.top=Math.round(n.top),this.selection.left=Math.round(n.left),this.selection.width=Math.round(n.width),this.selection.height=Math.round(n.height),this.updateUI())},h.prototype.handleTop=function(e,i){var n=t.extend({},i);return n.top=n.top+e.y,n.top=Math.max(this.canvas.top,n.top),n.top=Math.min(i.top+i.height-this.min.height,n.top),n.height=i.top+n.height-n.top,n},h.prototype.handleTopRight=function(t,e){var i=this.handleTop(t,this.handleRight(t,e));return this.enforceAspectRatio(i,(function(){i.top=e.top-(i.height-e.height)})),i},h.prototype.handleRight=function(e,i){var n=t.extend({},i);return n.width=n.width+e.x,n.width=Math.max(this.min.width,n.width),n.width=Math.min(this.canvas.left+this.canvas.width-i.left,n.width),n},h.prototype.handleBottomRight=function(t,e){var i=this.handleBottom(t,this.handleRight(t,e));return this.enforceAspectRatio(i),i},h.prototype.handleBottom=function(e,i){var n=t.extend({},i);return n.height=n.height+e.y,n.height=Math.max(this.min.height,n.height),n.height=Math.min(this.canvas.top+this.canvas.height-i.top,n.height),n},h.prototype.handleBottomLeft=function(t,e){var i=this.handleBottom(t,this.handleLeft(t,e));return this.enforceAspectRatio(i,(function(){i.left=e.left-(i.width-e.width)})),i},h.prototype.handleLeft=function(e,i){var n=t.extend({},i);return n.left=n.left+e.x,n.left=Math.max(this.canvas.left,n.left),n.left=Math.min(i.left+i.width-this.min.width,n.left),n.width=i.left+n.width-n.left,n},h.prototype.handleTopLeft=function(t,e){var i=this.handleTop(t,this.handleLeft(t,e));return this.enforceAspectRatio(i,(function(){i.left=e.left-(i.width-e.width),i.top=e.top-(i.height-e.height)})),i},h.prototype.handleCenter=function(e,i){var n=t.extend({},i);return n.top=n.top+e.y,n.top=Math.max(this.canvas.top,n.top),n.top=Math.min(this.canvas.top+this.canvas.height-i.height,n.top),n.left=n.left+e.x,n.left=Math.max(this.canvas.left,n.left),n.left=Math.min(this.canvas.left+this.canvas.width-i.width,n.left),n},h.prototype.destroyUI=function(){t(window).off(e.RESIZE),void 0!==this.$holder&&(this.$holder.off(e.CLICK),this.$holder.remove()),delete this.$holder,delete this.$backdrop,delete this.$selection,delete this.previousSelection},h.prototype.open=function(t){t=t||{},this.opened&&this.destroyUI(),this.init(t),this.buildUI(),this.opened=!0},h.prototype.close=function(){this.opened&&(this.destroyUI(),this.opened=!1,this.$element.trigger(e.CLOSE,this))},h.prototype.destroy=function(){this.close(),this.$element.data("image-select",null)},h.prototype.getSelection=function(){return{top:this.selection.top,left:this.selection.left,width:this.selection.width,height:this.selection.height}};var d=function(e){return e=e||{},this.each((function(){var i=t(this),n=i.data("image-select");e.call?n&&n[e.call].call(n,e):n?n.open(e):(n=new h(i,e),i.data("image-select",n))})),e&&e.instance?this.eq(0).data("image-select"):this};return d.moveSelectionIntoCanvas=r,d}(jQuery),jQuery.fn.imageSelectPolygon=function(t){"use strict";var e={NAMESPACE:".imageSelect"};e.CLICK="click"+e.NAMESPACE,e.RESIZE="resize"+e.NAMESPACE,e.MOUSEDOWN="touchstart"+e.NAMESPACE+" mousedown"+e.NAMESPACE,e.MOUSEUP="touchend"+e.NAMESPACE+" touchcancel"+e.NAMESPACE+" mouseup"+e.NAMESPACE,e.MOUSEMOVE="touchmove"+e.NAMESPACE+" mousemove"+e.NAMESPACE,e.OPEN="open",e.CLOSE="close",e.UPDATE="update",e.SECOND_CLICK="second_click",e.DESELECT_CLICK="deselect_click";var i=["polygon"],n=function(t){return!isNaN(t)},a=function(t){return t.originalEvent.touches?{x:t.originalEvent.touches[0].pageX,y:t.originalEvent.touches[0].pageY}:{x:t.pageX,y:t.pageY}},o=/matrix\(([^,]+), ([^,]+), ([^,]+), ([^,]+), ([^,]+), ([^,]+)\)/,r=/matrix3d\(([^,]+), ([^,]+), ([^,]+), ([^,]+), ([^,]+), ([^,]+), ([^,]+), ([^,]+), ([^,]+), ([^,]+), ([^,]+), ([^,]+), ([^,]+), ([^,]+), ([^,]+), ([^,]+)\)/,s=function(t){var e=parseFloat(t);if(isNaN(e))throw new Error("Number is not a float");return Math.round(e)},l=function(e,i){if(2!==e.length||2!==e[0].length||2!==e[1].length)throw new Error("Expecting 2x2 matrix");if(void 0===i.x||void 0===i.y)throw new Error("Expecting point to be object like {x: 0, y: 0}");return t.extend({},i,{x:i.x*e[0][0]+i.y*e[0][1],y:i.x*e[1][0]+i.y*e[1][1]})},c=function(t,e){this.$element=t,this.open(e)};c.prototype.defaults={classPrefix:"image-select-",parent:null,min:40,points:[]},c.prototype.init=function(e){this._ignoreHolderClickUntil=null,this.distanceFromLineForAddPointDetection=10,this.options=t.extend({},this.defaults,e),this.matrix=function(e){var i,n=t(e).css("transform");try{if(i=n.match(o))return[[s(i[1]),s(i[2])],[s(i[3]),s(i[4])]];if(i=n.match(r))return[[s(i[1]),s(i[5])],[s(i[2]),s(i[6])]];if("none"===n)return[[1,0],[0,1]]}catch(t){}return window.console&&window.console.log&&window.console.log("ImageEditor: Could not parse matrix string",n),[[1,0],[0,1]]}(this.$element),this.canvas=this.options.canvas||this.canvas||{top:0,left:0,width:this.$element.width(),height:this.$element.height()},this.readSelectionFromOptions()},c.prototype.readSelectionFromOptions=function(){-1===t.inArray(this.options.shape,i)?this.shape=i[0]:this.shape=this.options.shape;var e=this.readPoints(this.options.points);e&&e.length?this.points=e:this.points=this.points||[{w:this.canvas.left+Math.round(.5*this.canvas.width),h:this.canvas.top+Math.round(1*this.canvas.height/3)},{w:this.canvas.left+Math.round(2*this.canvas.width/3),h:this.canvas.top+Math.round(2*this.canvas.height/3)},{w:this.canvas.left+Math.round(1*this.canvas.width/3),h:this.canvas.top+Math.round(2*this.canvas.height/3)}]},c.prototype.readPoints=function(t){var e,i,a,o=[];if(t&&t.length)for(e=0;e<t.length;e++)i=t[e],n(i.w)&&n(i.h)&&(a={w:parseInt(i.w,10),h:parseInt(i.h,10)},o.push(a));return o},c.prototype.cssClass=function(t){return this.options.classPrefix+t},c.prototype.createDiv=function(e){return t("<div>").addClass(this.cssClass(e))},c.prototype.buildUI=function(){var i=this,n=this.createDiv("polygon-helper").css({});this.$holder=this.createDiv("holder").css({width:this.$element.width(),height:this.$element.height()}).addClass(this.cssClass(this.shape)),this.$holder.append(n),this.$drawCanvas=t("<canvas/>").css({width:this.canvas.width+"px",height:this.canvas.height+"px",top:this.canvas.top,left:this.canvas.left}),this.$drawCanvas[0].height=this.canvas.height,this.$drawCanvas[0].width=this.canvas.width,this.$holder.append(this.$drawCanvas),this.polygonTool=this.$drawCanvas.polygon().data("polygon"),this.movePolygonIntoCanvas(),this.updateUI(!1),this.options.parent?t(this.options.parent).append(this.$holder):this.$element.after(this.$holder),this.handleDragging(this.$drawCanvas,(function(t,e){i.updatePoints(t,e)})),this.$holder.on("click",(function(t){i._ignoreHolderClickUntil&&(new Date).getTime()<=i._ignoreHolderClickUntil&&(t.preventDefault(),t.stopPropagation(),t.stopImmediatePropagation(),i._ignoreHolderClickUntil=null)})),this.repositionUI(),this.options.applyTransformations&&this.applyTransformationsToUI(),this.$element.trigger(e.OPEN,this),t(window).on(e.RESIZE,this,this.repositionUI)},c.prototype.repositionUI=function(t){var e=t?t.data:this;e.$holder.position({of:e.$element,at:"center",my:"center"})},c.prototype.applyTransformationsToUI=function(t){var e=function(t){try{var e=t.match(/matrix\(([^)]+)\)/);if(e){for(var i=e[1].split(/, ?/),n=[],a=0;a<i.length;a++){var o=i[a];if(o.indexOf("e")>-1||o.indexOf("E")>-1){var r=parseFloat(o);if(isNaN(r))throw new Error("Not a number: '"+o+"'");n.push(""+r.toFixed(19))}else n.push(o)}return"matrix("+n.join(", ")+")"}}catch(t){}return t}(this.$element.css("transform"));if(this.$holder.css({transform:e,"-webkit-transform":e}),0===l(this.matrix,{x:1,y:0}).x){var i=(this.$element.width()-this.$element.height())/2;this.$holder.css({"margin-top":+i,"margin-right":-i,"margin-bottom":+i,"margin-left":-i})}},c.prototype.ensureSelectionIsInReasonableBounds=function(t){t.width=Math.max(this.min.width,t.width),t.width=Math.min(this.canvas.width,t.width),t.height=Math.max(this.min.height,t.height),t.height=Math.min(this.canvas.height,t.height),t.top=Math.max(this.canvas.top,t.top),t.top=Math.min(this.canvas.top+this.canvas.height-t.height,t.top),t.left=Math.max(this.canvas.left,t.left),t.left=Math.min(this.canvas.left+this.canvas.width-t.width,t.left)},c.prototype.updateUI=function(i){if(this.$holder){var n,a,o=this,r=i,s=this.$holder.find("."+this.cssClass("polygon-helper")),l=s.css("border-top-width");a=t("<div/>",{width:l}).width();var c={strokeStyle:s.css("border-top-color"),fillStyle:s.css("background-color"),lineWidth:a};if((null==a||a<1)&&(i=!1,setTimeout((function(){o.updateUI(r)}),10)),this.polygonTool.clearCanvas(),this.polygonTool.paintPolygonWithPoints(this.$drawCanvas,this.points,c),this.points.length!==this.getAllHandles().length&&(this.removeAllHandles(),this.points&&this.points.length))for(n=0;n<this.points.length;n++)this.createHandle(n);!1!==i&&this.$element.trigger(e.UPDATE,this.points)}},c.prototype.createHandle=function(t){var e,i=this,n=this.points[t];e=this.createDiv("handle").css({top:n.h,left:n.w}),this.$holder.append(e),this.handleDragging(e,(function(e,n){i.updatePoint(e,n,t)}))},c.prototype.removeAllHandles=function(){this.getAllHandles().remove()},c.prototype.getAllHandles=function(){return this.$holder.find("."+this.cssClass("handle"))},c.prototype.isHandleOrHasHandleParent=function(e){var i=this.cssClass("handle"),n=t(e);return n.hasClass(i)||n.parents("."+i).length>0},c.prototype.handleDragging=function(i,n){var o=this;i.on(e.MOUSEDOWN,(function(r){if(1===r.which||0===r.which){r.preventDefault(),r.stopPropagation();var s={},c=a(r),u=o.points.slice(),h=o.isHandleOrHasHandleParent(r.target),d=o.isPageCoordsOnPolygon(c);(h||d)&&t("body").on(e.MOUSEMOVE,(function(t){t.preventDefault();var e=a(t);s.x=e.x-c.x,s.y=e.y-c.y,s.timeout||(s.timeout=setTimeout((function(){delete s.timeout,s.moved=!0,o.handleDrag(l(o.matrix,s),u,n)}),50))})),t("body").one(e.MOUSEUP,(function(i){var n;t(this).off(e.MOUSEMOVE).off(e.MOUSEUP),void 0===i.pageX&&(i.pageX=c.x,i.pageY=c.y),o.showAllHandles(),s.moved||(h?o.$element.trigger(e.SECOND_CLICK,o):(n=o.getClosestLineSegmentResult(o.pageToRelative(i.pageX,i.pageY)))&&n.distance<o.distanceFromLineForAddPointDetection?(o.addPoint(n.projection,n.line),o.updateUI()):d?o.$element.trigger(e.SECOND_CLICK,o):o.$element.trigger(t.Event(e.DESELECT_CLICK,{originalEvent:i,pageX:i.pageX,pageY:i.pageY}))),o._ignoreHolderClickUntil=(new Date).getTime()+20})),o.hideOtherHandles(i)}}))},c.prototype.hideOtherHandles=function(t){this.$holder.find("."+this.cssClass("handle")).not(t).addClass(this.cssClass("handle-other")),t.addClass(this.cssClass("handle-selected"))},c.prototype.showAllHandles=function(){this.$holder.find("."+this.cssClass("handle")).removeClass(this.cssClass("handle-other")).removeClass(this.cssClass("handle-selected"))},c.prototype.handleDrag=function(t,e,i){i.call(this,t,e),this.updateUI()},c.prototype.pageToRelative=function(t,e){var i=this.$holder.offset();return{w:t-i.left,h:e-i.top}},c.prototype.vectorToPoint=function(t){return{w:t[0],h:t[1]}},c.prototype.addPoint=function(t,e){var i,n,a,o,r=null,s=this.polygonTool.pointsToVectors(this.points),l=this.vectorToPoint(t);if(this.points.length<2)this.points.push(l);else if(e){for(i=0;i<s.length;i++)if(n=s[i],this.polygonTool.vectorsEqual(n,e[0])){if(a=i===s.length-1?0:i+1,this.polygonTool.vectorsEqual(s[a],e[1])){r=a;break}if(o=0===i?s.length-1:i-1,this.polygonTool.vectorsEqual(s[o],e[1])){r=o;break}}null==r?this.points.push(l):this.points.splice(a,0,l)}else this.points.push(l)},c.prototype.updatePoints=function(t,e){var i;for(i=0;i<e.length;i++)this.updatePoint(t,e,i)},c.prototype.updatePoint=function(e,i,n){var a=this.$drawCanvas.position(),o=i[n];return o&&((o={w:Math.round(o.w+e.x),h:Math.round(o.h+e.y)}).h=Math.max(a.top,o.h),o.h=Math.min(a.top+this.$drawCanvas.height(),o.h),o.w=Math.max(a.left,o.w),o.w=Math.min(a.left+this.$drawCanvas.width(),o.w),this.points[n]=o,t(this.getAllHandles()[n]).css({top:o.h,left:o.w})),o},c.prototype.destroyUI=function(){t(window).off(e.RESIZE),void 0!==this.$holder&&(this.$holder.off(e.CLICK),this.$holder.remove()),delete this.$holder,delete this.$drawCanvas,delete this.$selection},c.prototype.open=function(t){t=t||{},this.opened&&this.destroyUI(),this.init(t),this.buildUI(),this.opened=!0},c.prototype.close=function(){this.opened&&(this.destroyUI(),this.opened=!1,this.$element.trigger(e.CLOSE,this))},c.prototype.destroy=function(){this.close(),this.$element.data("image-select",null)},c.prototype.getPoints=function(){return this.points.slice()},c.prototype.getClosestLineSegmentResult=function(t){var e=this.polygonTool.pointsToVectors(t),i=this.polygonTool.filterLineSegmentsNextToPointAndSortByDistance(e,this.polygonTool.pointsToLineSegmentsWithVectors(this.points));return i.length?i[0]:null},c.prototype.isPageCoordsOnPolygon=function(t){var e;return void 0!==t.x&&(t={w:t.x,h:t.y}),e=this.pageToRelative(t.w,t.h),this.polygonTool.isPointInsideOrOnEdgeOfPolygon([e.w,e.h],this.polygonTool.pointsToVectors(this.points))},c.prototype.getBoundingBox=function(){return this.polygonTool.getBoundingBox(this.points)},c.prototype.movePolygonIntoCanvas=function(){var e,i,n,a,o,r,s=this.polygonTool.getBoundingBox(this.points),l=(n=t.extend({},s),a=this.canvas,n.width=Math.min(a.width,n.width),n.height=Math.min(a.height,n.height),void 0!==o&&(n.width=Math.max(o.width,n.width),n.height=Math.max(o.height,n.height)),void 0!==r&&0!==r&&(n.height>Math.round(n.width*r)?n.height=Math.floor(n.width*r):n.width=Math.floor(n.height/r)),n.left=Math.max(a.left,n.left),n.left=Math.min(a.left+a.width-n.width,n.left),n.top=Math.max(a.top,n.top),n.top=Math.min(a.top+a.height-n.height,n.top),n),c=l.left-s.left,u=l.top-s.top,h=l.width/s.width,d=l.height/s.height;for(e=0;e<this.points.length;e++)(i=this.points[e]).w=i.w+c,i.h=i.h+u,i.w=l.left+(i.w-l.left)*h,i.h=l.top+(i.h-l.top)*d};return function(e){return e=e||{},this.each((function(){var i=t(this),n=i.data("image-select");e.call?n&&n[e.call].call(n,e):n?n.open(e):(n=new c(i,e),i.data("image-select",n))})),e&&e.instance?this.eq(0).data("image-select"):this}}(jQuery),this.CUI=this.CUI||{},this.CUI.imageeditor=this.CUI.imageeditor||{},this.CUI.imageeditor.Templates=this.CUI.imageeditor.Templates||{},this.CUI.imageeditor.Templates["crop-popover"]=Handlebars.template({1:function(t,e,i,n,a){var o=t.lambda,r=t.escapeExpression;return'    <button class="coral-Button popover-button" name="aspectRatio" value="'+r(o(null!=e?e.ratio:e,e))+'">'+r(o(null!=e?e.name:e,e))+"</button><br/>\n"},compiler:[7,">= 4.0.0"],main:function(t,e,i,n,a){var o,r=null!=e?e:t.nullContext||{};return'<div class="coral-Popover-content imageeditor-popover-content">\n  <button class="coral-Button popover-button" name="aspectRatio" value="removeCrop">'+t.escapeExpression((i.i18n||e&&e.i18n||i.helperMissing).call(r,"removecrop",{name:"i18n",hash:{},data:a}))+"</button><br/>\n"+(null!=(o=i.each.call(r,null!=e?e.aspectRatios:e,{name:"each",hash:{},fn:t.program(1,a,0),inverse:t.noop,data:a}))?o:"")+"</div>\n"},useData:!0}),this.CUI.imageeditor.Templates.imageeditor=Handlebars.template({compiler:[7,">= 4.0.0"],main:function(t,e,i,n,a){return'<div class="imageeditor-container">\n  <div class="imageeditor-toolbars icongroup"></div>\n  <div class="imageeditor-controls">\n    <div class="imageeditor-imagemap-polygon-helper"></div>\n    <div class="imageeditor-controls-map-areas"></div>\n  </div>\n</div>\n'},useData:!0}),this.CUI.imageeditor.Templates["map-popover"]=Handlebars.template({1:function(t,e,i,n,a){return'    <input class="coral-Textfield" name="href" type="url" placeholder="'+t.escapeExpression((i.i18n||e&&e.i18n||i.helperMissing).call(null!=e?e:t.nullContext||{},"path",{name:"i18n",hash:{},data:a}))+'" />\n'},3:function(t,e,i,n,a){var o,r=null!=e?e:t.nullContext||{},s=i.helperMissing,l=t.escapeExpression;return'    <span class="coral-PathBrowser pathbrowser" data-placeholder="'+l((i.i18n||e&&e.i18n||s).call(r,"path",{name:"i18n",hash:{},data:a}))+'" data-root-path="'+l(t.lambda(null!=(o=null!=e?e.pathbrowser:e)?o.rootPath:o,e))+'">\n      <span class="coral-InputGroup">\n        <input class="coral-InputGroup-input js-coral-pathbrowser-input coral-Textfield" type="text" name="href">\n        <span class="coral-InputGroup-button">\n          <button class="coral-Button coral-Button--secondary coral-Button--square js-coral-pathbrowser-button" type="button" title="'+l((i.i18n||e&&e.i18n||s).call(r,"path_picker",{name:"i18n",hash:{},data:a}))+'">\n            <i class="coral-Icon coral-Icon--sizeS coral-Icon--folderSearch"></i>\n          </button>\n        </span>\n      </span>\n    </span>\n'},5:function(t,e,i,n,a){var o,r=t.escapeExpression;return'    <span class="coral-DecoratedTextfield pathbrowser" data-placeholder="'+r((i.i18n||e&&e.i18n||i.helperMissing).call(null!=e?e:t.nullContext||{},"path",{name:"i18n",hash:{},data:a}))+'" data-root-path="'+r(t.lambda(null!=(o=null!=e?e.pathbrowser:e)?o.rootPath:o,e))+'">\n      <input class="js-coral-pathbrowser-input coral-Textfield" type="text" name="href">\n    </span>\n'},compiler:[7,">= 4.0.0"],main:function(t,e,i,n,a){var o,r=null!=e?e:t.nullContext||{},s=i.helperMissing,l=t.escapeExpression;return'<div class="imageeditor-map-toolbar toolbar">\n'+(null!=(o=i.if.call(r,null!=e?e.noPathbrowser:e,{name:"if",hash:{},fn:t.program(1,a,0),inverse:t.noop,data:a}))?o:"")+(null!=(o=i.if.call(r,null!=e?e.pathbrowserPicker:e,{name:"if",hash:{},fn:t.program(3,a,0),inverse:t.noop,data:a}))?o:"")+(null!=(o=i.if.call(r,null!=e?e.pathbrowserAutocomplete:e,{name:"if",hash:{},fn:t.program(5,a,0),inverse:t.noop,data:a}))?o:"")+'  <input class="coral-Textfield" name="alt" type="text" placeholder="'+l((i.i18n||e&&e.i18n||s).call(r,"alt_text",{name:"i18n",hash:{},data:a}))+'" />\n  <span class="coral-Select" data-init="select">\n    <button class="coral-Select-button coral-MinimalButton" type="button">\n      <span class="coral-Select-button-text"></span>\n    </button>\n    <select class="coral-Select-select" name="target">\n      <option value="">'+l((i.i18n||e&&e.i18n||s).call(r,"target",{name:"i18n",hash:{},data:a}))+'</option>\n      <option value="_self">'+l((i.i18n||e&&e.i18n||s).call(r,"same_tab",{name:"i18n",hash:{},data:a}))+'</option>\n      <option value="_blank">'+l((i.i18n||e&&e.i18n||s).call(r,"new_tab",{name:"i18n",hash:{},data:a}))+'</option>\n      <option value="_parent">'+l((i.i18n||e&&e.i18n||s).call(r,"parent_frame",{name:"i18n",hash:{},data:a}))+'</option>\n      <option value="_top">'+l((i.i18n||e&&e.i18n||s).call(r,"top_frame",{name:"i18n",hash:{},data:a}))+'</option>\n    </select>\n  </span>\n  <span class="actions">\n    <button class="coral-Button coral-Button--square coral-Button--warning imageeditor-map-delete" title="'+l((i.i18n||e&&e.i18n||s).call(r,"delete",{name:"i18n",hash:{},data:a}))+'">\n      <i class="coral-Icon coral-Icon--delete"></i>\n    </button>\n    <button class="coral-Button coral-Button--square imageeditor-map-unlaunch" title="'+l((i.i18n||e&&e.i18n||s).call(r,"unlaunch",{name:"i18n",hash:{},data:a}))+'">\n      <i class="coral-Icon coral-Icon--close"></i>\n    </button>\n    <button class="coral-Button coral-Button--square coral-Button--primary imageeditor-map-confirm" title="'+l((i.i18n||e&&e.i18n||s).call(r,"confirm",{name:"i18n",hash:{},data:a}))+'">\n      <i class="coral-Icon coral-Icon--check"></i>\n    </button>\n  </span>\n</div>\n'},useData:!0}),this.CUI.imageeditor.Templates["toolbar-item"]=Handlebars.template({compiler:[7,">= 4.0.0"],main:function(t,e,i,n,a){var o,r=null!=e?e:t.nullContext||{},s=i.helperMissing,l="function",c=t.escapeExpression;return'<button data-action="'+c(typeof(o=null!=(o=i.action||(null!=e?e.action:e))?o:s)===l?o.call(r,{name:"action",hash:{},data:a}):o)+'" title="'+c(typeof(o=null!=(o=i.title||(null!=e?e.title:e))?o:s)===l?o.call(r,{name:"title",hash:{},data:a}):o)+'"\n        class="coral-Button coral-Button--quiet coral-Button--square '+c(typeof(o=null!=(o=i.addClasses||(null!=e?e.addClasses:e))?o:s)===l?o.call(r,{name:"addClasses",hash:{},data:a}):o)+'" aria-disabled="'+c(typeof(o=null!=(o=i.isDisabled||(null!=e?e.isDisabled:e))?o:s)===l?o.call(r,{name:"isDisabled",hash:{},data:a}):o)+'">\n  <i class="coral-Icon coral-Icon--'+c(typeof(o=null!=(o=i.icon||(null!=e?e.icon:e))?o:s)===l?o.call(r,{name:"icon",hash:{},data:a}):o)+'"></i>\n</button>\n'},useData:!0}),this.CUI.imageeditor.Templates.toolbar=Handlebars.template({1:function(t,e,i,n,a){var o;return null!=(o=i.if.call(null!=e?e:t.nullContext||{},e,{name:"if",hash:{},fn:t.program(2,a,0),inverse:t.noop,data:a}))?o:""},2:function(t,e,i,n,a){var o,r,s=null!=e?e:t.nullContext||{};return'      <div class="imageeditor-toolbar-'+t.escapeExpression("function"==typeof(r=null!=(r=i.key||a&&a.key)?r:i.helperMissing)?r.call(s,{name:"key",hash:{},data:a}):r)+'-hand-side">\n        '+(null!=(o=i.each.call(s,e,{name:"each",hash:{},fn:t.program(3,a,0),inverse:t.noop,data:a}))?o:"")+"\n      </div>\n"},3:function(t,e,i,n,a){var o;return null!=(o=t.lambda(e,e))?o:""},compiler:[7,">= 4.0.0"],main:function(t,e,i,n,a){var o,r,s=null!=e?e:t.nullContext||{};return'<div data-id="'+t.escapeExpression("function"==typeof(r=null!=(r=i.ref||(null!=e?e.ref:e))?r:i.helperMissing)?r.call(s,{name:"ref",hash:{},data:a}):r)+'" class="imageeditor-toolbar">\n'+(null!=(o=i.each.call(s,null!=e?e.toolbarItems:e,{name:"each",hash:{},fn:t.program(1,a,0),inverse:t.noop,data:a}))?o:"")+"</div>\n"},useData:!0}),this.CUI.imageeditor.Templates.toolbars=Handlebars.template({1:function(t,e,i,n,a){var o;return"    "+(null!=(o=t.lambda(e,e))?o:"")+"\n"},compiler:[7,">= 4.0.0"],main:function(t,e,i,n,a){var o,r,s=null!=e?e:t.nullContext||{},l=i.helperMissing;return'<div data-type="'+t.escapeExpression("function"==typeof(r=null!=(r=i.type||(null!=e?e.type:e))?r:l)?r.call(s,{name:"type",hash:{},data:a}):r)+'">\n  '+(null!=(o="function"==typeof(r=null!=(r=i.toolbar||(null!=e?e.toolbar:e))?r:l)?r.call(s,{name:"toolbar",hash:{},data:a}):r)?o:"")+"\n"+(null!=(o=i.each.call(s,null!=e?e.replacementToolbars:e,{name:"each",hash:{},fn:t.program(1,a,0),inverse:t.noop,data:a}))?o:"")+"</div>\n"},useData:!0}),this.CUI.imageeditor.Templates["zoomslider-popover"]=Handlebars.template({compiler:[7,">= 4.0.0"],main:function(t,e,i,n,a){var o,r=null!=e?e:t.nullContext||{},s=i.helperMissing,l=t.escapeExpression;return'<div class="coral-Popover-content imageeditor-popover-content">\n  <div class="coral-Slider popover-slider" data-init="slider">\n    <input type="range" value="100" min="'+l("function"==typeof(o=null!=(o=i.zoomMin||(null!=e?e.zoomMin:e))?o:s)?o.call(r,{name:"zoomMin",hash:{},data:a}):o)+'" max="'+l("function"==typeof(o=null!=(o=i.zoomMax||(null!=e?e.zoomMax:e))?o:s)?o.call(r,{name:"zoomMax",hash:{},data:a}):o)+'" step="1">\n  </div>\n</div>\n'},useData:!0}),function(t,e,i,n){"use strict";var a=function(e){return 0===t(e.target).closest(".imageeditor-container").length};CUI.ImageEditor=new Class({toString:"ImageEditor",extend:CUI.Widget,CSS_LAYOUT_CONSTRAINTS:{"min-height":"minHeight","min-width":"minWidth","max-height":"maxHeight","max-width":"maxWidth"},ZOOM_MIN:.1,ZOOM_MAX:3,registeredActions:null,registeredPlugins:null,defaults:{},elementContext:{},$ui:{},construct:function(t){this.options=t||{},this.i18n=new CUI.imageeditor.I18nProvider},configurePluginsAndActions:function(t){var e=t.plugins||{};for(var i in this.registeredPlugins)this.registeredPlugins.hasOwnProperty(i)&&this.registeredPlugins[i].notifyPluginConfig(e[i]);for(var n in this.registeredActions)this.registeredActions.hasOwnProperty(n)&&this.registeredActions[n].notifyPluginConfig(e[n])},bindUIListener:function(e,i,n){i=n?t.proxy(i,n):i,this.$ui.on(e,i)},isAnimated:function(){return!!this._isAnimated},toggleAnimation:function(t){this._isAnimated=t,this.$element&&(this.$element.position(),this.$element.toggleClass("imageeditor-editable-animate",t)),this.$ui&&(this.$ui.position(),this.$ui.toggleClass("imageeditor-container-animate",t),this.$ui.copy&&(this.$ui.copy.position(),this.$ui.copy.toggleClass("imageeditor-editable-copy-animate",t)))},withoutAnimation:function(t){return this.isAnimated()?(this.toggleAnimation(!1),e=t.call(this),this.toggleAnimation(!0),e):t.call(this);var e},start:function(e){e=e||{},this.setupTemplates(e.templates),this.setupElementContext(),this._zoomFactor=e.zoomFactor,this._zoomFactor||(this._zoomFactor=this.options.zoomFactor),this._zoomFactor||(this._zoomFactor=1),this.createUI(),this.preferCopy()?(this.options.image=t(this.options.image),this.$ui.copy=this.options.image.addClass("imageeditor-editable-copy")):this.$ui.copy=this.$element.clone().addClass("imageeditor-editable-copy"),this.$ui.copy.css("margin",0),this.$ui.prepend(this.$ui.copy),this.registeredActions=CUI.imageeditor.actions.ActionRegistry.createRegisteredActions(this),this.registeredPlugins=CUI.imageeditor.plugins.PluginRegistry.createRegisteredPlugins(this),this.configurePluginsAndActions(e),this.transformResult=this.createTransformResult(e.result),this.installUI(),this.createToolbar(e),"fullscreen"===this.options.mode?this.switchToFullscreen():this.switchToInline(),this.setupEventHandling(),this.$element.trigger("editing-start")},preferCopy:function(){return this.options.image&&t(this.options.image).length?this.preferCopy=function(){return!0}:this.preferCopy=function(){return!1},this.preferCopy()},cancel:function(){this.destroyEventHandling(),this.destroyUI(),this.$element.trigger("editing-cancelled")},finish:function(){this.destroyEventHandling(),this.destroyUI(),this.$element.trigger("editing-finished",{result:this.transformResult.toJSON()})},getImageNaturalSize:function(t){var e=t,i={},n=new Image;return n.src=e.attr("src"),i.w=n.width,i.h=n.height,i},createToolbar:function(e){var i,n,a=this.createToolbarBuilder();for(i in e=t.extend({},{$editable:this.$ui},e),this.registeredPlugins)this.registeredPlugins.hasOwnProperty(i)&&this.registeredPlugins[i].initializeUI(a,e);this.toolbars={},this.$ui.toolbars={},(n=a.createToolbar(e,"inline"))&&(this.toolbars.inline=n,this.$ui.toolbars.inline=this.toolbars.inline.getToolbars()),(n=a.createToolbar(e,"fullscreen"))&&(this.toolbars.fullscreen=n,this.$ui.toolbars.fullscreen=this.toolbars.fullscreen.getToolbars())},getToolbarHeight:function(){var e=0;return this.$ui.find(".imageeditor-toolbar").each((function(i,n){var a=t(n).height();a>e&&(e=a)})),e},createToolbarBuilder:function(){return new CUI.imageeditor.ui.ToolbarBuilder({templates:this.templates})},createTransformResult:function(t){var e,i=new CUI.imageeditor.TransformResult,n=this.registeredPlugins;for(e in n)n.hasOwnProperty(e)&&n[e].registerTransformFields(i);return t&&i.setTransformValues(t,!1),i},setupEventHandling:function(){var i=this;this.$element.parents("body").add(document.body).on("tap.imageeditor-ooa click.imageeditor-ooa",(function(t){a(t)&&!CUI.imageeditor.UIUtils.isHavingModalParent(t.target)&&i.finish()})),t(e).on("resize.imageeditor orientationchange.imageeditor",(function(){i.withoutAnimation((function(){i.updatePreview()}))})),this.bindUIListener("requestclose",this.finish,this)},destroyEventHandling:function(){this.$element.parents("body").add(document.body).off(".imageeditor-ooa"),t(e).off(".imageeditor")},submit:function(){t.ajax({type:"POST",url:"action",data:JSON.stringify(this.transformResult.toJSON()),success:function(){},error:function(){}})},createUI:function(){var e=this.templates.get("imageeditor");this.$ui=t(e({})),"dark"===this.options.theme?(this.$ui.attr("data-theme","dark"),this.$ui.addClass("coral--dark")):(this.$ui.removeAttr("data-theme"),this.$ui.removeClass("coral--dark"))},getMode:function(){return"fullscreen"===this.$ui.attr("data-mode")?"fullscreen":"inline"},setMode:function(t){"fullscreen"===t?this.switchToFullscreen():"inline"===t&&this.switchToInline()},switchToFullscreen:function(t){if(!this.toolbars.fullscreen&&!t)return this.switchToInline(!0);this.$ui.attr("data-mode","fullscreen"),this.togglePinchZooming(!0),this.withoutAnimation((function(){this.updatePreview(),this.scaleToFitForFullscreen()}))},switchToInline:function(t){if(!this.toolbars.inline&&!t)return this.switchToFullscreen(!0);this.$ui.attr("data-mode","inline"),this.togglePinchZooming(!1),this.withoutAnimation((function(){this.$element.css(this.createTranslationUtil().getZoomedDimensions()),this.updatePreview()}))},installStylesheet:function(){var t,e,n,a,o,r,s,l,c=/\.imageeditor-editable(-animate)?/;if(!(t=this.$element.parents("html").get(0).parentNode).getElementById("imageeditor-editable-stylesheet")){for((e=t.createElement("style")).id="imageeditor-editable-stylesheet",t.getElementsByTagName("head")[0].appendChild(e),a=0;a<t.styleSheets.length;a++)if(t.styleSheets[a].ownerNode===e){n=t.styleSheets[a];break}if(null!==document.styleSheets&&null!==n)for(a=0;a<document.styleSheets.length;a++){l=document.styleSheets[a];try{r=l.cssRules}catch(t){continue}if(null!==r)for(o=0;o<r.length;o++)(s=r[o]).type===i.STYLE_RULE&&c.test(s.selectorText)&&n.insertRule(s.cssText,n.cssRules.length)}}},installUI:function(){var e;this.options.parent?t(this.options.parent).append(this.$ui):this.$element.after(this.$ui),this.$clipParent=CUI.imageeditor.UIUtils.getClippingParent(this.$ui),this.uiClipped=void 0!==this.$clipParent,this.$element.addClass("imageeditor-editable"),e=this.preferCopy()?{width:this.$ui.copy.width(),height:this.$ui.copy.height()}:{width:this.$element.width(),height:this.$element.height()},this.options.overrides&&this.options.overrides.naturalHeight&&this.options.overrides.naturalWidth&&(e={height:this.options.overrides.naturalHeight,width:this.options.overrides.naturalWidth}),this._naturalDimensions=e,this.$ui.copy.data("imageeditor-dimensions",e),this._layoutConstraints={"max-width":this.$ui.copy.css("max-width"),"max-height":this.$ui.copy.css("max-height"),"min-width":this.$ui.copy.css("min-width"),"min-height":this.$ui.copy.css("min-height")},this.$element.css(this.getBaseCssPropertiesForElement()),this.$ui.copy.css("margin",0),this.$ui.copy.css(this.getBaseCssPropertiesForCopy()),this.$ui.css({height:e.height+"px",width:e.width+"px"}),null!==this.elementContext.iframe&&this.installStylesheet(),this.toggleAnimation(!0)},positionUI:function(e){var i=t.proxy((function(i,n){if(this.elementContext.iframe){var a=t(this.elementContext.iframe),o=t(this.elementContext.iframe).offset();i.left+=o.left+parseInt(a.css("border-left-width"),10),i.top+=o.top+parseInt(a.css("border-top-width"),10)}i.top=Math.max(i.top,this.$ui.toolbars.inline.height()),t.isFunction(e)?e.call(this,i):this.$ui.css(i)}),this);this.$ui.position({using:i,of:this.$element,my:"left top",at:"left top",collision:"none"})},togglePinchZooming:function(t){var e=this;CUI.imageeditor.UIUtils.removePinchZooming(e.$ui,".imageeditorzoom"),t&&CUI.imageeditor.UIUtils.installPinchZooming(e.$ui,".imageeditorzoom",(function(){return e.getZoomFactor()}),(function(t,i){"change"===i?e.zoom(t,!1):e.zoom(t,!0)}))},getBaseCssPropertiesForCopy:function(){var t=this.createTranslationUtil().getZoomedDimensionsBeforeRotation();return{"max-width":"9999px","max-height":"9999px","min-width":"0px","min-height":"0px",height:t.height+"px",width:t.width+"px",clip:"rect(0px, "+t.width+"px, "+t.height+"px, 0px)","transform-origin":"50% 50%",transform:"scale(1)"}},getBaseCssPropertiesForElement:function(){var t=this.createTranslationUtil().getZoomedDimensionsBeforeRotation();return{width:t.width,height:t.height}},destroyUI:function(){var t=this.$ui.copy.data("imageeditor-dimensions");this.$ui.remove(),this.toggleAnimation(!1),this.$element.removeClass("imageeditor-editable"),this.$element.css(t)},setupElementContext:function(){this.elementContext=this.elementContext||{},this.elementContext.iframe=CUI.imageeditor.UIUtils.elementInIframe(this.$element),null===this.elementContext.iframe?(this.elementContext.win=e,this.elementContext.doc=document):(this.elementContext.win=this.elementContext.iframe.contentWindow,this.elementContext.doc=this.elementContext.iframe.contentWindow.document)},getCustomAction:function(t){var e,i,n=this.registeredActions[t];if(n)return n;for(e in this.registeredActions)if((i=this.registeredActions[e]).isAction(t))return i;return null},relayAction:function(t,e){CUI.imageeditor.Utils.defer((function(){this.execAction(t,e)}),10,this)},execAction:function(e,i){var n,a,o=this.getCustomAction(e),r=this,s=this.getRotation(),l=this.getImageDisplayDimensions(),c=this.getToolbarHeight(),u=this.getViewportCrop(),h=this.getCrop(),d=this.getFlip();return delete h.right,delete h.bottom,a={action:e,value:i,element:this.$ui.copy,editor:this,ui:this.$ui,result:this.transformResult,mode:this.getMode(),dimensions:l,viewportCrop:u,toolbarHeight:c,canvas:h,rotation:s,flip:d,translate:function(e){return function(e,i,n,a,o){var r;return o=o||t.extend({},a),e%=360,e+=360,e%=360,a.hasOwnProperty("top")&&a.hasOwnProperty("left")&&(e%180==0?(r=0!==e,i.horizontal^r?o.left=n.width-a.width-a.left:o.left=a.left,i.vertical^r?o.top=n.height-a.height-a.top:o.top=a.top):(r=90!==e,i.vertical^r?o.left=a.top:o.left=n.height-a.height-a.top,i.horizontal^r?o.top=n.width-a.width-a.left:o.top=a.left)),e%180!=0?(o.width=a.height,o.height=a.width):(o.width=a.width,o.height=a.height),o}(s,d,l,e)},createTranslationUtil:function(){return r.createTranslationUtil()}},o&&(n=o.execute(a)),n&&this.updatePreview(),n},getViewportCrop:function(){var i,n,a,o,r,s,l=this.createTranslationUtil(),c={top:0,left:0,width:this.$ui.width(),height:this.$ui.height()},u=t(e),h=l.rotateDimsIfNecessary(l.getZoomedCropBeforeRotation()),d="fullscreen"===this.getMode()?this.getToolbarHeight():0;return"inline"===this.getMode()?(o=l.translate(l.getZoomedCropBeforeRotation()),a={left:(r=this.$ui.copy.offset()).left+o.left,top:r.top+o.top,width:o.width,height:o.height},n={top:u.scrollTop(),left:u.scrollLeft(),width:u.width(),height:u.height()},s={left:Math.max(n.left,a.left),top:Math.max(n.top,a.top),right:Math.min(n.left+n.width,a.left+a.width),bottom:Math.min(n.top+n.height,a.top+a.height)},s={left:Math.max(0,s.left-a.left),top:Math.max(0,s.top-a.top),width:Math.max(0,s.right-s.left),height:Math.max(0,s.bottom-s.top)}):((s={width:Math.min(h.width,c.width),height:Math.min(h.height,c.height-d)}).width<h.width?s.left=(h.width-s.width)/2:s.left=0,s.height<h.height?(i=Math.max(0,Math.min(d,h.height-s.height)),s.top=i+(h.height-s.height-i)/2):s.top=0),s},getImageDisplayDimensions:function(t){return{width:this.$ui.copy.width(),height:this.$ui.copy.height()}},createTranslationUtil:function(){var e=t.extend({},this.options);return e.flip=this.getFlip(),e.rotation=this.getRotation(),e.zoomFactor="inline"===this.getMode()?1:this.getZoomFactor(),e.naturalWidth=this._naturalDimensions.width,e.naturalHeight=this._naturalDimensions.height,e.cropOnOriginal=this.getCrop(),this.availableButNotFalse(e,"ignoreCssLayoutConstraints")||this.copyIfAvailable(e,this._layoutConstraints,this.CSS_LAYOUT_CONSTRAINTS),this.copyIfAvailable(e,this.options,this.CSS_LAYOUT_CONSTRAINTS),this.copyIfAvailable(e,this.options,{width:"fixedWidth",height:"fixedHeight"}),new CUI.imageeditor.TranslationUtil(e)},copyIfAvailable:function(e,i,n){var a,o,r=null;for(a in t.isPlainObject(n)||(n={namesMapping:n}),n)n.hasOwnProperty(a)&&((o=n[a])||(o=a),(r=i[a])||(r=i[a.toLowerCase()]),r||(r=i[o]),r||(r=i[o.toLowerCase()]),r&&(e[o]=r))},availableButNotFalse:function(t,e){var i=t[e];return!!t&&(!!t.hasOwnProperty(e)&&("string"!=typeof(i=t[e])||!(i.toLowerCase()in["no","false"])))},getCssPropertiesForCopy:function(){var t,e,i,n=this.getBaseCssPropertiesForCopy(),a=this.createTranslationUtil();for(e in this.registeredActions)if(this.registeredActions.hasOwnProperty(e)){if(!(t=this.registeredActions[e].toCss(this.transformResult,this.$ui.copy,a)))continue;for(i in t)t.hasOwnProperty(i)&&("transform"===i?n[i]+=" "+t[i]:n[i]=t[i])}return n},getCrop:function(){var t;if(this.registeredActions.crop&&(t=this.registeredActions.crop.getCurrent(this.transformResult)),!t){var e=this._naturalDimensions;t={top:0,left:0,width:e.width,height:e.height}}return t},getRotation:function(){var t;return this.registeredActions.rotate&&(t=this.registeredActions.rotate.getCurrent(this.transformResult)),isNaN(t)&&(t=0),t},getFlip:function(){var t;return this.registeredActions.flip&&(t=this.registeredActions.flip.getCurrent(this.transformResult)),t||(t={horizontal:!1,vertical:!1}),t},getZoomFactor:function(){return this._zoomFactor},getZoomLimits:function(){return[this.ZOOM_MIN,this.ZOOM_MAX]},zoom:function(t,e){var i=Math.min(this.ZOOM_MAX,Math.max(this.ZOOM_MIN,t)),n=this;(i=Math.round(100*i)/100)!==this._zoomFactor&&(this._zoomFactor=i,e?this.updatePreview():this.withoutAnimation((function(){n.updatePreview()})))},getCssPropertiesForElement:function(t){var e=this.createTranslationUtil(),i=e.getZoomedDimensionsBeforeRotation(),n={},a=e.getZoomedCropBeforeRotation(),o=this.getRotation();if(n.width=a.width,n.height=a.height,t["margin-top"]=-a.top,t["margin-right"]=-(i.width-(a.left+a.width)),t["margin-bottom"]=-(i.height-(a.top+a.height)),t["margin-left"]=-a.left,o%180!=0){var r=n.width;n.width=n.height,n.height=r;var s=(n.width-n.height)/2;t["margin-left"]+=s,t["margin-right"]+=s,t["margin-top"]-=s,t["margin-bottom"]-=s}return"fullscreen"===this.getMode()&&(t["margin-top"]-=Math.floor(n.height/2),t["margin-right"]-=Math.floor(n.width/2),t["margin-bottom"]-=Math.floor(n.height/2),t["margin-left"]-=Math.floor(n.width/2)),n},getCssPropertiesForContainer:function(t){return"fullscreen"===this.getMode()?this.getCssPropertiesForContainerFullscreen(t):this.getCssPropertiesForContainerInline(t)},getCssPropertiesForContainerFullscreen:function(t){return{left:"",top:""}},getCssPropertiesForContainerInline:function(t){var e,i={width:this.$element.width(),height:this.$element.height()};return this.withoutAnimation((function(){this.$element.css(t),this.positionUI((function(t){e=t})),this.$element.css(i)})),e},updatePreview:function(){var t=this.getCssPropertiesForCopy(),e=this.getCssPropertiesForElement(t),i=this.getCssPropertiesForContainer(e);this.$element.css(e),!function(){if(navigator&&navigator.userAgent)return/.*OS 7.{0,4} like Mac OS X.*/.test(navigator.userAgent)}()?this.$ui.copy.css(t):this.updateClipForIosV7(t),this.$ui.css(i)},scaleToFitForFullscreen:function(){var t,e=this.getViewportCrop(),i=this.createTranslationUtil(),n=i.translate(i.getZoomedCropBeforeRotation(),"zoomed"),a=1;n.width>e.width&&(a=e.width/n.width),n.height>e.height&&(t=e.height/n.height)<a&&(a=t),this.zoom(this.getZoomFactor()*a,!0)},updateClipForIosV7:function(t){var e=this.$ui.copy,i=t.clip||"",n=e.css("clip");i.replace(/, ?/g," ")===n||"rect(0px, 0px, 0px, 0px)"===i&&"auto"===n?e.css(t):(t.clip="rect(0px, 0px, 0px, 0px);",e.css(t),setTimeout((function(){e.css("clip",i)}),1e3))},setupTemplates:function(e){e&&t.isFunction(e.get)?this.templates=e:t.isPlainObject(e)?this.templates=new CUI.imageeditor.TemplateProvider(e):this.templates||(this.templates=new CUI.imageeditor.TemplateProvider)}}),CUI.util.plugClass(CUI.ImageEditor,"imageEditor",(function(e){CUI.imageeditor.OptionsUtils.loadOptionsAndStartEditing(e,t(this))})),CUI.options.dataAPI&&t((function(){t(document.body).on("click.imageeditor.data-api",'img[data-editable="true"],img[data-editable=""]',(function(e){a(e)&&!CUI.imageeditor.UIUtils.isHavingModalParent(e.target)&&t(this).imageEditor()}))}))}(jQuery,this,window.CSSRule),function(t){const e=t.ImageEditor.prototype.createUI;t.ImageEditor.prototype.createUI=function(){return this.options.theme="light",e.apply(this,arguments)}}(window.CUI),function(t,e,i){CUI.Autocomplete=new Class({toString:"Autocomplete",extend:CUI.Widget,construct:function(){this._input=this.options.predefine.input||this.$element.find(".js-coral-Autocomplete-textfield"),this._selectlist=this.options.predefine.selectlist||this.$element.find(".js-coral-Autocomplete-selectList"),this._tags=this.options.predefine.tags||this.$element.find(".js-coral-Autocomplete-tagList"),this._suggestionsBtn=this.options.predefine.suggestionsBtn||this.$element.find(".js-coral-Autocomplete-toggleButton"),this._selectListAnchor=this.$element.find(".js-coral-Autocomplete-field"),this._selectListAnchor.length||(this._selectListAnchor=this.$element.find(".js-coral-Autocomplete-inputGroup")),this.$element.on("change:disabled",function(t){t.target===this.$element[0]&&this._toggleDisabled()}.bind(this)),this.applyOptions(),this._makeAccessible(),this._initTypeahead(),this._setOptionListeners()},defaults:{mode:"starts",disabled:!1,ignorecase:!0,delay:200,multiple:!1,forceselection:!1,selectlistConfig:null,tagConfig:null,predefine:{}},applyOptions:function(){this._setInput(),this._setTags(),this._setSelectlist(),this._setSuggestions(),this._setForceSelection(),this.options.disabled&&this.set("disabled",!0)},_setOptionListeners:function(){this.on("change:multiple",function(){this._setInput(),this._setTags(),this._setForceSelection()}.bind(this)),this.on("change:forceselection",function(){this._setForceSelection()}.bind(this)),this._selectlist.on("itemremoved",function(t){var e;e=t.item instanceof CUI.SelectList.Group?t.item.getItems().map((function(t){return t.getValue()})):[t.item.getValue()],this._deselect(e)}.bind(this))},_deselect:function(t){t.forEach((function(t){this.options.multiple?this._tagListWidget.removeItem(t):(this._input&&t===this._input.val()||this._valueInput&&t===this._valueInput.val())&&this.clear()}),this)},_setForceSelection:function(){var e=this;if(this.options.forceselection&&!this.options.multiple){if(!this._valueInput){var i=this.$element.find(".js-coral-Autocomplete-hidden"),n=this._input.prop("name"),a=this._input.val();i.length>0?(this._valueInput=i,!this._valueInput.prop("name")&&n&&this._valueInput.prop("name",n),this._input.prop("name",""),e._lastSelected=this._valueInput.val(),e._lastSelectedDisplay=a):(n&&(this._valueInput=t('<input type="hidden" class="js-coral-Autocomplete-hidden">').prop("name",n).val(a).insertAfter(this._input),this._input.prop("name","")),e._lastSelected=a,e._lastSelectedDisplay=a)}this._input.on("blur.autocomplete-forceselection",(function(){var t=function(){e._lastSelectedDisplay!==e._input.val()&&(""===e._input.val()&&(e._lastSelectedDisplay="",e._lastSelected="",e._triggerValueChange()),e._input.val(e._lastSelectedDisplay),e._valueInput.val(e._lastSelected))},i=setTimeout(t,0);e._suggestionsBtn.on("focus",(function(){clearTimeout(i),e._suggestionsBtn.on("blur",t)}))}))}else this._input.off("blur.autocomplete-forceselection"),this._valueInput&&(this._input.prop("name",this._valueInput.prop("name")),this._input.val(this._valueInput.val()),this._valueInput.remove(),this._valueInput=void 0)},_setInput:function(){this.options.multiple?this._input.on("keypress.autocomplete-preventsubmit",(function(t){if(13===t.which)return t.preventDefault(),!1})):this._input.off("keypress.autocomplete-preventsubmit"),this._input.attr("autocomplete","off"),this._lastSelected=this._input.val(),this._lastSelectedDisplay=this._input.val()},_setSelectlist:function(){0===this._selectlist.length?this._selectlist=t("<ul/>",{id:CUI.util.getNextId(),class:"coral-SelectList js-coral-Autocomplete-selectList"}).appendTo(this.$element):this._selectlist.attr("id")||this._selectlist.attr("id",CUI.util.getNextId()),this._selectlist.selectList(t.extend({relatedElement:this._selectListAnchor,autofocus:!1,autohide:!0},this.options.selectlistConfig||{})),this._selectListWidget=this._selectlist.data("selectList"),this._selectlist.on("selected.autocomplete",this._handleSelected.bind(this))},_setTags:function(){if(this.options.multiple&&!this._tagListWidget){0===this._tags.length&&(this._tags=t("<ul/>",{class:"coral-TagList js-coral-Autocomplete-tagList"}).appendTo(this.$element)),this._tags.tagList(this.options.tagConfig||{}),this._tagListWidget=this._tags.data("tagList"),this._input.on("keyup.autocomplete-addtag",this._addTag.bind(this));var e=this._triggerValueChange.bind(this);this._tags.on("itemremoved",e),this._tags.on("itemadded",e)}else!this.options.multiple&&this._tagListWidget&&(this._tags.off("itemadded"),this._tags.off("itemremoved"),this._tags.remove(),this._tags=null,this._tagListWidget=null,this._input.off("keyup.autocomplete-addtag"))},_initTypeahead:function(){var t,e=this,i=function(){e.showSuggestions(e._input.val(),!1,e._selectListWidget)},n=function(n){t&&clearTimeout(t),t=setTimeout(i,e.options.delay)};this._input.on("input.autocomplete",n),this._input.on("cut.autocomplete",n),this._input.on("keyup.autocomplete",(function(t){switch(t.which){case 8:case 46:n()}})),this._input.on("keypress.autocomplete",(function(t){t.stopPropagation()}))},_setSuggestions:function(){var t=this;this._suggestionsBtn.length&&(this._suggestionsBtn.attr({tabindex:-1,"aria-hidden":!0}),this._suggestionsBtn.on("click.autocomplete",(function(e){t._selectListWidget.get("visible")?t._input.trigger("focus"):(t.showSuggestions("",!0,t._selectListWidget),t._input.trigger("focus"),e.preventDefault(),e.stopPropagation())})),this._input.addClass("autocomplete-has-suggestion-btn"))},_makeAccessible:function(){var e,i=this;if(this._input.attr({id:this._input.attr("id")||CUI.util.getNextId(),role:"combobox","aria-autocomplete":this.options.typeahead?"list":null,"aria-controls":this._selectlist.attr("id")||null}),(e=t('label[for="'+this._input.attr("id")+'"]')).length>0){var n=[];e.each((function(t,e){e.id=e.id||CUI.util.getNextId(),n.push(e.id)})),this.$element.attr("aria-labelledby",n.join(" "))}else e=this._input.closest("label");0!==e.length&&0!==t.trim(e.text()).length||!this._input.attr("placeholder")||this._input.attr({"aria-label":this._input.attr("placeholder")}),this._selectListWidget._makeAccessible(),this._input.add(this._suggestionsBtn).on("keydown.cui-autocomplete",function(t){switch(t.which){case 40:i._selectListWidget.get("visible")?i._selectListWidget.$element.trigger("focus"):i._selectListWidget.show().resetCaret(),t.preventDefault(),t.stopPropagation()}}.bind(this))},_addTag:function(t){13!==t.which||this.options.forceselection||(this._tagListWidget.addItem(this._input.val()),this.clear(),this._selectListWidget.hide())},_handleSelected:function(t){this._selectListWidget.hide();var e=t.selectedValue,i=t.displayedValue;this.options.multiple?(this._tagListWidget.addItem({display:i,value:e}),this.clear()):(this._lastSelected=e||i,this._lastSelectedDisplay=i,this.options.forceselection?(this._input.val(i),this._valueInput.val(this._lastSelected)):this._input.val(this._lastSelected),this._triggerValueChange()),this._input.trigger("focus")},showSuggestions:function(e,i,n){this.$element.trigger(t.Event("query",{value:e}));var a=this._selectListWidget.get("type"),o=!0;0===e.length&&this._selectListWidget._hasFocus()?("static"===a&&(this._handleStaticFilter(e),o=this._selectlist.find('[role="option"]:not(.is-hidden)').length>0),o||this._selectListWidget.hide()):("static"===a?(this._handleStaticFilter(e),o=this._selectlist.find('[role="option"]:not(.is-hidden)').length>0):"dynamic"===a&&this._handleDynamicFilter(e),o?this._selectListWidget.show().resetCaret():this._selectListWidget.hide())},_handleStaticFilter:function(t){var e=this;t?this._selectListWidget.filter((function(i,n){return e.options.ignorecase&&(n=n.toLowerCase(),t=t.toLowerCase()),"starts"===e.options.mode?0===n.lastIndexOf(t,0):"contains"===e.options.mode&&-1!==n.search(t)})):this._selectListWidget.filter()},_handleDynamicFilter:function(e){var i=t.extend({},this._selectListWidget.get("dataadditional"),{query:e});this._selectListWidget.set("dataadditional",i),this._selectListWidget.triggerLoadData(!0)},_triggerValueChange:function(){this.$element.trigger(t.Event("change:value"),{value:this.getValue()})},_toggleDisabled:function(t){var e="boolean"==typeof t?t:this.options.disabled;this.$element.toggleClass("is-disabled",e),this.$element.attr("aria-disabled",e),this._input.prop("disabled",e),this._suggestionsBtn.prop("disabled",e),this.options.multiple&&this._tagListWidget.set("disabled",e)},clear:function(){this._input.val(""),this._lastSelected="",this._lastSelectedDisplay="",this._selectListWidget.filter(),this._valueInput&&this._valueInput.val("");var t=this._selectListWidget.get("dataadditional");t&&delete t.query},disable:function(){this._toggleDisabled(!0)},enable:function(){this._toggleDisabled(!1)},getOption:function(t){return this._selectListWidget.getOption(t)},removeOption:function(t){this.getOption(t).remove()},getGroup:function(t){return this._selectListWidget.getGroup(t)},removeGroup:function(t){return this.getGroup(t).remove()},addOption:function(t,e){this._selectListWidget.addOption(t,e)},addGroup:function(t,e){this._selectListWidget.addGroup(t,e)},getValue:function(){return this.options.multiple?this._tagListWidget.getValues():this.options.forceselection?this._lastSelected:this._input.val()},getItems:function(){return this._selectListWidget.getItems()}}),CUI.Widget.registry.register("autocomplete",CUI.Autocomplete),CUI.options.dataAPI&&t(document).on("cui-contentloaded.data-api",(function(e){CUI.Autocomplete.init(t("[data-init~=autocomplete]",e.target))}))}(jQuery),
/*!
 * jQuery Cookie Plugin v1.3
 * https://github.com/carhartl/jquery-cookie
 *
 * Copyright 2011, Klaus Hartl
 * Dual licensed under the MIT or GPL Version 2 licenses.
 * http://www.opensource.org/licenses/mit-license.php
 * http://www.opensource.org/licenses/GPL-2.0
 */
function(t,e,i){var n=/\+/g;function a(t){return t}function o(t){return decodeURIComponent(t.replace(n," "))}var r=t.cookie=function(i,n,s){if(void 0!==n){if(s=t.extend({},r.defaults,s),null===n&&(s.expires=-1),"number"==typeof s.expires){var l=s.expires,c=s.expires=new Date;c.setDate(c.getDate()+l)}return n=r.json?JSON.stringify(n):String(n),e.cookie=[encodeURIComponent(i),"=",r.raw?n:encodeURIComponent(n),s.expires?"; expires="+s.expires.toUTCString():"",s.path?"; path="+s.path:"",s.domain?"; domain="+s.domain:"",s.secure?"; secure":""].join("")}for(var u=r.raw?a:o,h=e.cookie.split("; "),d=0,p=h.length;d<p;d++){var m=h[d].split("=");if(u(m.shift())===i){var f=u(m.join("="));return r.json?JSON.parse(f):f}}return null};r.defaults={},t.removeCookie=function(e,i){return null!==t.cookie(e)&&(t.cookie(e,null,i),!0)}}(jQuery,document);
